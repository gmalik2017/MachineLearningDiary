issue_id,type,created_date,created_date_zoned,updated_date,updated_date_zoned,resolved_date,resolved_date_zoned,summary,description,priority,status,resolution,assignee,assignee_username,reporter,reporter_username
MRM-436,Bug,2007-07-29T23:57:05.783Z,2007-07-29T23:57:05.783Z,2007-08-17T02:02:40.205Z,2007-08-17T02:02:40.205Z,2007-08-17T02:02:40.208Z,2007-08-17T02:02:40.208Z,incorrect default cron expression for snapshots repository,it is '0 0' which is not a valid value - it should probably be the same as for releases,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-421,Bug,2007-06-22T08:43:41.005Z,2007-06-22T08:43:41.005Z,2007-06-22T23:07:57.626Z,2007-06-22T23:07:57.626Z,2007-06-22T23:07:57.631Z,2007-06-22T23:07:57.631Z,Default configuration does not proxy the central repo - Failed pre-download policies,"Testing the fix for MRM-370...

rm -rf $M2_REPO/org/apache/maven/plugins/maven-clean-plugin
cd /path/to/project
mvn clean

I get the usual ...could not be found or no valid version... message.  In the Archiva logs:

jvm 1    | 2007-06-22 06:25:29,796 [SocketListener0-1] INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Failed pre-download policies -C:\${appserver.home}\repositories\internal\org\apache\maven\plugins\maven-clean-plugin\maven-metadata.xml

There are no whitelist patterns for the internal -> central proxy connector.  We should ship with configuration that actually makes it proxy.  Adding a whitelist pattern of ""*"" seems to work.

Should an absence of whitelist patterns mean 'proxy everything'?",Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-415,Bug,2007-06-17T16:50:33.458Z,2007-06-17T16:50:33.458Z,2010-04-05T11:32:28.009Z,2010-04-05T11:32:28.009Z,2007-06-17T18:30:39.416Z,2007-06-17T18:30:39.416Z,[MySQL] Specified key was too long; max key length is 765 bytes,"When starting up archiva on a MySQL Database. the following error is seen.

{code}
Caused by: javax.jdo.JDODataStoreException: An exception was thrown while adding/validating class(es) : Specified key was too long; max key length is 765 bytes
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Specified key was too long; max key length is 765 bytes
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)
        at com.mysql.jdbc.Connection.execSQL(Connection.java:3170)
        at com.mysql.jdbc.Connection.execSQL(Connection.java:3099)
        at com.mysql.jdbc.Statement.execute(Statement.java:695)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
        at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
        at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3052)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3313)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2554)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2406)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:821)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:835)
        at org.jpox.AbstractPersistenceManager.newObjectIdInstance(AbstractPersistenceManager.java:2377)
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:428)
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:466)
        at org.apache.maven.archiva.database.jdo.JdoRepositoryDAO.getRepository(JdoRepositoryDAO.java:76)
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.synchConfiguration(ConfigurationSynchronization.java:94)
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.initialize(ConfigurationSynchronization.java:147)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.execute(InitializePhase.java:33)
{code}",Major,Closed,Fixed,,,Joakim Erdfelt,joakime
MRM-485,Bug,2007-08-27T14:06:54.3Z,2007-08-27T14:06:54.3Z,2007-08-28T01:11:57.595Z,2007-08-28T01:11:57.595Z,2007-08-28T01:11:57.6Z,2007-08-28T01:11:57.6Z,"Unable to create a ""snapshot only"" repository.","1- Create or edit any repository
2- Uncheck the ""Releases Included""
3- submit

=> The repository ""Releases Included"" always stays to true.",Major,Closed,Duplicate,,,Oscar Picasso,oscarpica
MRM-488,Bug,2007-08-29T04:57:08.063Z,2007-08-29T04:57:08.063Z,2007-12-04T08:08:26.218Z,2007-12-04T08:08:26.218Z,2007-09-28T18:27:35.517Z,2007-09-28T18:27:35.517Z,properties in pom are not resolved (at least while browsing),"I extensively use properties in pom.xml (see attached one).

But Archiva does not resolve pom configuration. When I browse my project I see not resolved values.

Attached mentioned project's pom.xml and screenshot of browse page.
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Libor Kramolis,libor.kramolis
MRM-431,Bug,2007-07-10T13:04:48.618Z,2007-07-10T13:04:48.618Z,2007-07-10T14:06:10.629Z,2007-07-10T14:06:10.629Z,2007-07-10T14:06:10.638Z,2007-07-10T14:06:10.638Z,Error with artifacts that do not have a pom.xml file,"When trying to download an artifact with no pom (for instance xml-security / xmlsec ) maven fails with an error. When not using Archiva, maven does not fail. (it only shows a warning).

here is the stack trace (with archiva). You will need to modify the pom.xml file to point to your archiva server / port for this to work.

{code}
+ Error stacktraces are turned on.
[INFO] Scanning for projects...
[INFO] -------------------------------------------------------------------------
---
[INFO] Building Aplicacion xxx
[INFO]    task-segment: [compile]
[INFO] -------------------------------------------------------------------------
---
[INFO] [resources:resources]
[INFO] Using default encoding to copy filtered resources.
Downloading: http://trn-esv1:8080/archiva/repository/internal/xml-security/xmlse
c/1.3.0/xmlsec-1.3.0.pom
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error building POM (may not be this project's POM).


Project ID: xml-security:xmlsec

Reason: Error getting POM for 'xml-security:xmlsec' from the repository: Error t
ransferring file
  xml-security:xmlsec:pom:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)



[INFO] ------------------------------------------------------------------------
[INFO] Trace
org.apache.maven.lifecycle.LifecycleExecutionException: Unable to get dependency
 information: Unable to read the metadata file for artifact 'xml-security:xmlsec
:jar': Error getting POM for 'xml-security:xmlsec' from the repository: Error tr
ansferring file
  xml-security:xmlsec:pom:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)

  xml-security:xmlsec:jar:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)
Path to dependency:
        1) com.foo.bar:bar-web:war:1.0.0-SNAPSHOT


        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(Defa
ultLifecycleExecutor.java:551)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLi
fecycle(DefaultLifecycleExecutor.java:475)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(Defau
ltLifecycleExecutor.java:454)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHan
dleFailures(DefaultLifecycleExecutor.java:306)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegmen
ts(DefaultLifecycleExecutor.java:273)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLi
fecycleExecutor.java:140)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:322)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:115)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:256)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
sorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)

        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: org.apache.maven.artifact.resolver.ArtifactResolutionException: Unabl
e to get dependency information: Unable to read the metadata file for artifact '
xml-security:xmlsec:jar': Error getting POM for 'xml-security:xmlsec' from the r
epository: Error transferring file
  xml-security:xmlsec:pom:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)

  xml-security:xmlsec:jar:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)
Path to dependency:
        1) com.foo.bar:bar-web:war:1.0.0-SNAPSHOT


        at org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurse(D
efaultArtifactCollector.java:297)
        at org.apache.maven.artifact.resolver.DefaultArtifactCollector.collect(D
efaultArtifactCollector.java:67)
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTra
nsitively(DefaultArtifactResolver.java:223)
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTra
nsitively(DefaultArtifactResolver.java:211)
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolveTra
nsitively(DefaultArtifactResolver.java:182)
        at org.apache.maven.plugin.DefaultPluginManager.resolveTransitiveDepende
ncies(DefaultPluginManager.java:1117)
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPlugi
nManager.java:366)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(Defa
ultLifecycleExecutor.java:534)
        ... 16 more
Caused by: org.apache.maven.artifact.metadata.ArtifactMetadataRetrievalException
: Unable to read the metadata file for artifact 'xml-security:xmlsec:jar': Error
 getting POM for 'xml-security:xmlsec' from the repository: Error transferring f
ile
  xml-security:xmlsec:pom:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)

        at org.apache.maven.project.artifact.MavenMetadataSource.retrieve(MavenM
etadataSource.java:131)
        at org.apache.maven.artifact.resolver.DefaultArtifactCollector.recurse(D
efaultArtifactCollector.java:275)
        ... 23 more
Caused by: org.apache.maven.project.ProjectBuildingException: Error getting POM
for 'xml-security:xmlsec' from the repository: Error transferring file
  xml-security:xmlsec:pom:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)

        at org.apache.maven.project.DefaultMavenProjectBuilder.findModelFromRepo
sitory(DefaultMavenProjectBuilder.java:501)
        at org.apache.maven.project.DefaultMavenProjectBuilder.buildFromReposito
ry(DefaultMavenProjectBuilder.java:225)
        at org.apache.maven.project.artifact.MavenMetadataSource.retrieve(MavenM
etadataSource.java:102)
        ... 24 more
Caused by: org.apache.maven.artifact.resolver.ArtifactResolutionException: Error
 transferring file
  xml-security:xmlsec:pom:1.3.0

from the specified remote repositories:
  central (http://trn-esv1:8080/archiva/repository/internal),
  internal-snapshot (http://trn-esv1:8080/archiva/repository/snapshots)

        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(De
faultArtifactResolver.java:140)
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(De
faultArtifactResolver.java:63)
        at org.apache.maven.project.DefaultMavenProjectBuilder.findModelFromRepo
sitory(DefaultMavenProjectBuilder.java:467)
        ... 26 more
Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring fi
le
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputD
ata(LightweightHttpWagon.java:99)
        at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:68)
        at org.apache.maven.artifact.manager.DefaultWagonManager.getRemoteFile(D
efaultWagonManager.java:369)
        at org.apache.maven.artifact.manager.DefaultWagonManager.getArtifact(Def
aultWagonManager.java:282)
        at org.apache.maven.artifact.manager.DefaultWagonManager.getArtifact(Def
aultWagonManager.java:244)
        at org.apache.maven.artifact.resolver.DefaultArtifactResolver.resolve(De
faultArtifactResolver.java:124)
        ... 28 more
Caused by: java.io.IOException: Server returned HTTP response code: 503 for URL:
 http://trn-esv1:8080/archiva/repository/internal/xml-security/xmlsec/1.3.0/xmls
ec-1.3.0.pom
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLCon
nection.java:1174)
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputD
ata(LightweightHttpWagon.java:85)
        ... 33 more
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Tue Jul 10 15:05:00 GMT-03:00 2007
[INFO] Final Memory: 2M/4M
[INFO] ------------------------------------------------------------------------
{code}

",Major,Closed,Cannot Reproduce,,,Andres Bernasconi,sotretus
MRM-402,Bug,2007-05-30T03:50:11.891Z,2007-05-30T03:50:11.891Z,2009-12-21T05:23:32.503Z,2009-12-21T05:23:32.503Z,2009-12-21T05:23:32.272Z,2009-12-21T05:23:32.272Z,javadoc jar is listed as just jar in the download box,"go to an artifact that has an attached javadoc jar - you will notice that it is described as ""Jar"", not ""Javadoc""",Minor,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-456,Bug,2007-08-06T19:50:54.437Z,2007-08-06T19:50:54.437Z,2007-08-09T03:24:38.075Z,2007-08-09T03:24:38.075Z,2007-08-09T03:24:38.081Z,2007-08-09T03:24:38.081Z,current configuration code is too likely to complain about multiple sources,"those with alpha-1 are likely to have config in ~/.m2/archiva.xml.

But the default is to distribute and work with ${appserver.base}/conf/archiva.xml

This will complain whenever saving by default. I need to review the best distribution situation.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-493,Bug,2007-09-12T08:00:19.208Z,2007-09-12T08:00:19.208Z,2007-10-10T19:33:35.769Z,2007-10-10T19:33:35.769Z,2007-10-10T19:33:35.773Z,2007-10-10T19:33:35.773Z,Downloaded artifacts are stored in incorrect archiva-managed repository,"I have added a new local directory as archiva-managed repository with id ""repo-trax"".
Although no proxy connector has been setup for this new archiva-managed repository, downloaded artifacts seem to be stored in this repository instead of the default ""internal"" repository.

The only proxy connector configuration is the one that comes by default (""internal"" connected to dev.java.net and repo1.maven.org).",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Jo Vandermeeren,jo.vandermeeren
MRM-452,Improvement,2007-08-05T00:38:44.998Z,2007-08-05T00:38:44.998Z,2007-10-09T10:51:05.489Z,2007-10-09T10:51:05.489Z,,,"repository purge consumer should check that it is running first, and if it consumes an artifact it should prevent other consumers from running",this is to prevent the index/database getting inconsistent if it scans an artifact for the first time and decides to delete it,Major,Open,,,,Brett Porter,brettporter
MRM-408,Bug,2007-05-31T09:29:21.54Z,2007-05-31T09:29:21.54Z,2009-07-30T06:22:31.953Z,2009-07-30T06:22:31.953Z,2007-08-10T03:34:15.656Z,2007-08-10T03:34:15.656Z,"The mvn deploy:deploy-file command gives ""Parent doesn't exist"" in a fresh install","I'm trying to follow the docs at this page.
   http://maven.apache.org/archiva/guides/getting-started/maven-configuration.html

I'm setting security credentials and issuing this command with a pom.xml to include wagon-webdav
    mvn deploy:deploy-file -DgroupId=com.orbeon -DartifactId=blah -Dversion=3.5.1 -Dpackaging=jar -Dfile=lib/blah.jar -DrepositoryId=3rdp-releases -Durl=http://jerboa.intsec.amnesty.org:8081/archiva/repository/3rdp-releases/

I get this error message
[INFO] Error deploying artifact: Failed to transfer file: http://jerboa.intsec.a
mnesty.org:8081/archiva/repository/3rdp-releases//com/orbeon/blah/3.5.1/blah-3.5
.1.jar. Return code is: 409

An ethereal trace shows this request
   PUT /archiva/repository/3rdp-releases/com/orbeon/blah/3.5.1/blah-3.5.1.jar HTTP/1.1

And this response..

<html>
<head><title>Error 409 Conflict</title></head>
<body>
<p><b>Error 409 Conflict</b></p>
<p>Resource in error: <a href=""http://jerboa.intsec.amnesty.org:8081/archiva/repository/com/orbeon/blah/3.5.1/blah-3.5.1.jar/com/orbeon/blah/3.5.1/blah-3.5.1.jar"">
http://jerboa.intsec.amnesty.org:8081/archiva/repository/com/orbeon/blah/3.5.1/blah-3.5.1.jar/com/orbeon/blah/3.5.1/blah-3.5.1.jar</a></p>
<hr /><p>Exception details:</p>
<pre>it.could.webdav.DAVException: Parent doesn't exist
	at it.could.webdav.DAVResource.write(DAVResource.java:465)
	at it.could.webdav.methods.PUT.process(PUT.java:59)
	at it.could.webdav.DAVProcessor.process(DAVProcessor.java:79)
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.process(SimpleDavServerComponent.java:142)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:156)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:111)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
</pre>
</body>
</html>

Note that request and response are very different..
  /archiva/repository/3rdp-releases/com/orbeon/blah/3.5.1/blah-3.5.1.jar
  /archiva/repository/com/orbeon/blah/3.5.1/blah-3.5.1.jar/com/orbeon/blah/3.5.1/blah-3.5.1.jar

Has anyone got this working? I can't imagine how it could work, at least in the release I have.

",Major,Closed,Fixed,Brett Porter,brettporter,Damon Rand,damonrand
MRM-416,Bug,2007-06-20T02:13:37.426Z,2007-06-20T02:13:37.426Z,2007-06-24T20:24:40.702Z,2007-06-24T20:24:40.702Z,2007-06-24T20:07:25.079Z,2007-06-24T20:07:25.079Z,Find artifact does not work.,Finding an artifact always shows the 'No results found' message even though the artifact that is being looked for is in the repository.,Major,Closed,Fixed,Maria Odea Ching,oching,Henry S. Isidro,hisidro
MRM-428,Bug,2007-07-03T08:18:38.814Z,2007-07-03T08:18:38.814Z,2007-10-01T17:29:23.137Z,2007-10-01T17:29:23.137Z,2007-10-01T17:29:23.142Z,2007-10-01T17:29:23.142Z,managed and remote repositories with same name causes problems,"I created both a managed and remote repository entry with the name central -- the intent was for one to proxy the other.  The administrative interfaces did not gripe about using duplicate names but the proxy did not seem to work.  In the logs I found the following information (which looked suspect):

328579 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Attempting connector: ProxyConnector[
  source:ArchivaRepository[central,file:/u01/home/proj/.repos/central/]
  target:ArchivaRepository[central,file:/u01/home/proj/.repos/central/]
  proxyId:mpare
  policy[releases]:once
  policy[checksum]:fix
  policy[snapshots]:disabled
  policy[cache-failures]:ignored
]

When I requested that the remote central repository be deleted, the managed repository entry was deleted instead.  After I removed all central repositories I created a managed repository named central and a remote repository named centralExt and the proxying seemed to work as expected.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Eli Miller,emiller@planalytics.com
MRM-441,Bug,2007-08-01T23:43:37.558Z,2007-08-01T23:43:37.558Z,2007-09-12T07:02:48.656Z,2007-09-12T07:02:48.656Z,2007-09-12T07:02:48.668Z,2007-09-12T07:02:48.668Z,"removing a ""remote repository"" should not present the page about handling content","eg. delete the default java.net repository when starting a new installation.

Expected result: a confirmation page (yes/no only) about whether to remove it
Actual result: the normal managed repository page about deleting the repository definition, contents, or going back",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-471,Wish,2007-08-13T05:40:25.607Z,2007-08-13T05:40:25.607Z,2007-08-20T09:15:36.389Z,2007-08-20T09:15:36.389Z,2007-08-14T06:30:06.226Z,2007-08-14T06:30:06.226Z,Create a sample project that demonstrates how a component can be plugged into Archiva.,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-433,Bug,2007-07-17T08:45:53.319Z,2007-07-17T08:45:53.319Z,2007-10-09T10:44:44.48Z,2007-10-09T10:44:44.48Z,2007-10-09T10:44:44.498Z,2007-10-09T10:44:44.498Z,Artifacts file types aren't take in account,,Major,Closed,Duplicate,Brett Porter,brettporter,Mathieu Godlewski,matgodle
MRM-453,Improvement,2007-08-06T03:43:45.931Z,2007-08-06T03:43:45.931Z,2007-08-27T07:30:03.085Z,2007-08-27T07:30:03.085Z,2007-08-27T07:30:03.088Z,2007-08-27T07:30:03.088Z,Create missing tests for repository purge,"Comments from MRM-294:

A general thought here too, for later: it might be worth reviewing the exceptions that can occur in *Purge and see if we can recover better from each rather than bubbling it

Tests:

    * I think you can remove many of the components from the test XML files where the default suffice (just keep the registry and jdo factory)
    * the tests have a lot of bolierplate that can probably be turned into methods that generate test data

Missing tests:

    * no tests for the consumer or the Released Snapshots purge
    * days old test is only testing by file age - it should also test the metadata-driven snapshots

A general thought for Archiva in the long term, too... setting up the database to test this was probably a pain. We should have stub implementations of the indexer and dao's to avoid it.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-420,Bug,2007-06-22T03:25:21.406Z,2007-06-22T03:25:21.406Z,2007-06-22T07:00:58.565Z,2007-06-22T07:00:58.565Z,2007-06-22T07:00:58.57Z,2007-06-22T07:00:58.57Z,Editing a network proxy creates a new network proxy when saving modifications,"1- Create a network proxy
2- Go and edit that proxy : after clicking on ""Save Network Proxy"", you'll see that a new network proxy has been created, with an empty identifier (which makes it impossible to delete afterwards)",Major,Closed,Fixed,Fabrice Bellingard,fabemn,Fabrice Bellingard,fabemn
MRM-442,Bug,2007-08-02T11:50:47.144Z,2007-08-02T11:50:47.144Z,2007-08-13T06:55:59.956Z,2007-08-13T06:55:59.956Z,2007-08-13T06:55:59.96Z,2007-08-13T06:55:59.96Z,Unable to disable Scannable on a Local Repository.,"As reported in archiva-users mailing list

Barrie Treloar wrote:
> I'm using Archiva 1.0 Alpha 2,
>
> When I edit a repository definition and disable ""Scannable"" and save
> my changes, the changes appear to be ignored on the Repositories
> screen.

",Major,Closed,Duplicate,,,Joakim Erdfelt,joakime
MRM-403,Bug,2007-05-30T03:52:14.248Z,2007-05-30T03:52:14.248Z,2007-06-21T13:23:27.946Z,2007-06-21T13:23:27.946Z,2007-06-21T13:23:27.948Z,2007-06-21T13:23:27.948Z,"when browsing, groups list incorrect sub-groups","eg. go to group ant, and see more groups are listed at the top (eg, ant again, but also ant-contrib, etc), even though you are inside a group that does not have sub groups.
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-424,Improvement,2007-06-22T09:08:59.022Z,2007-06-22T09:08:59.022Z,2007-06-22T19:29:22.533Z,2007-06-22T19:29:22.533Z,2007-06-22T19:29:09.135Z,2007-06-22T19:29:09.135Z,Distributions should have apache in the name and unpack to versioned directories,"The source distribution should be named archiva-1.0-alpha-2-src.zip and unpack to archiva-1.0-alpha-2-src.  

Based on other discussions both the binary and source distributions should be renamed (and unpack to) apache-archiva-*.",Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-469,Bug,2007-08-13T02:06:00.426Z,2007-08-13T02:06:00.426Z,2007-09-24T13:25:48.673Z,2007-09-24T13:25:48.673Z,2007-09-24T13:23:06.648Z,2007-09-24T13:23:06.648Z,Test failure in MavenProjectInfoReportsPluginDependencyGraphTest in archiva-dependency-graph,I commented the assert(...) in testResolvedDepsToNodes() to be able to release 1.0-beta-1.,Major,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-444,Bug,2007-08-03T02:28:08.164Z,2007-08-03T02:28:08.164Z,2007-10-02T13:20:04.067Z,2007-10-02T13:20:04.067Z,2007-10-02T13:20:04.072Z,2007-10-02T13:20:04.072Z,intermittent test failures on proxy,"testGetDefaultLayoutAlreadyPresentPolicyIgnored(org.apache.maven.archiva.proxy.ManagedDefaultTransferTest)  Time elapsed: 0.114 sec  <<< FAILURE!
junit.framework.AssertionFailedError: Check file timestamp is that of original managed file: expected within range lo:<1186125890450> hi:<1186125891550> but was:<1186125892000>
        at junit.framework.Assert.fail(Assert.java:47)
        at org.apache.maven.archiva.proxy.ManagedDefaultTransferTest.testGetDefaultLayoutAlreadyPresentPolicyIgnored(ManagedDefaultTransferTest.java:139)
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-417,Bug,2007-06-20T14:23:20.105Z,2007-06-20T14:23:20.105Z,2007-06-21T13:28:53.645Z,2007-06-21T13:28:53.645Z,2007-06-21T12:13:29.985Z,2007-06-21T12:13:29.985Z,Unable to view repository contents with IE6,"Attempting to visit a url such as http://repo.example.com/archiva/repository/releases/org/apache/struts results in a dialog box:

File Download - Security Warning
Do you want to save this file?
Name: examples 
Type: Unknown File Type 
From: repo.mycompany.com

The 'file' in question is a directory.  you can't see the repo contents.
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-497,Bug,2007-09-13T10:16:15.903Z,2007-09-13T10:16:15.903Z,2015-04-05T14:53:54.339Z,2015-04-05T14:53:54.339Z,2007-09-14T09:40:02.692Z,2007-09-14T09:40:02.692Z,Incomplete deployment descriptor,The web.xml deployment descriptor is missing resource reference entries.,Major,Closed,Fixed,Emmanuel Venisse,evenisse,Aleksandr Tarutin,atarutin
MRM-462,Bug,2007-08-09T00:26:30.046Z,2007-08-09T00:26:30.046Z,2007-09-12T04:29:00.153Z,2007-09-12T04:29:00.153Z,2007-09-12T04:29:00.156Z,2007-09-12T04:29:00.156Z,separate configuration of managed repositories from remote repositories,"the fancy footwork to make a managed repository use all the same configuration screens as a remote repository is causing both subtle bugs (particularly in the URL handling), and a confusing user experience (settings appearing that are irrelevant to remote repositories in the edit form).

1) separate the forms/actions (or at least exclude the fields that are not relevant when editing the remote repos)
2) treat the URL (remote) as a URL and the location (managed) as a path. Don't munge anything.
3) I think we should consider separating them into different lists in the configuration again.

",Critical,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-443,Improvement,2007-08-03T01:30:21.528Z,2007-08-03T01:30:21.528Z,2007-09-24T13:15:21.715Z,2007-09-24T13:15:21.715Z,,,it'd be nice to have a wizard interface to set up some common settings,for example - setting up guest access to all repositories could be a simple yes/no instead of having to go in and do configuration on a new set up.,Major,Open,,,,Brett Porter,brettporter
MRM-484,Bug,2007-08-27T13:57:14.962Z,2007-08-27T13:57:14.962Z,2007-08-28T01:34:19.295Z,2007-08-28T01:34:19.295Z,2007-08-28T01:34:19.3Z,2007-08-28T01:34:19.3Z,Cannot edit some managed repositories,"I have 6 managed repositories but cannot edit 2 of them.

I can click on their ""Edit Repository"" link but I come back directly to the ""Administration - Repositories"" page. 

Even if In the log I get 
INFO  com.opensymphony.xwork.Action:configureRepositoryAction  - .edit()

",Major,Closed,Duplicate,,,Oscar Picasso,oscarpica
MRM-437,Bug,2007-07-29T23:59:53.824Z,2007-07-29T23:59:53.824Z,2007-10-04T17:31:31.933Z,2007-10-04T17:31:31.933Z,2007-10-04T17:31:31.937Z,2007-10-04T17:31:31.937Z,admin editing of proxy connectors fails in multiple instances,"I've seen the following:
- edit first one and save (order changes)
- edit new first one and save (end up with the same connector for both, eg the blacklist is duplicated)
- in other circumstances, I'd seen editing the proxy connector produce a second one
- removing the corresponding remote repository doesn't remove the associated network proxy.

I believe this entire set of actions needs a review.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-407,Bug,2007-05-31T02:28:29.774Z,2007-05-31T02:28:29.774Z,2007-08-15T03:49:18.571Z,2007-08-15T03:49:18.571Z,2007-08-15T03:49:18.574Z,2007-08-15T03:49:18.574Z,"""Scanned"" is always set to true even if unchecked in the Edit Repository page","Steps:

1) Log in as admin.
2) In the left menu, under Administration, click Repositories.
3) Edit a repository.
4) Uncheck ""Scanned"".
5) Click Update Repository.

Notice that ""Scanned"" is still set to ""True"" after saving.

This is also true for ""Releases Included"" (see MRM-374).",Major,Closed,Fixed,Maria Odea Ching,oching,Dawn Angelito,dangelito
MRM-450,Improvement,2007-08-03T11:13:47.096Z,2007-08-03T11:13:47.096Z,2007-08-21T03:16:40.174Z,2007-08-21T03:16:40.174Z,2007-08-21T03:16:40.177Z,2007-08-21T03:16:40.177Z,"change default label for repository ID report search to ""All repositories"" instead of """"",,Major,Closed,Fixed,Teodoro Cue Jr.,tcue,Brett Porter,brettporter
MRM-460,Bug,2007-08-07T04:07:12.471Z,2007-08-07T04:07:12.471Z,2015-04-05T14:53:59.21Z,2015-04-05T14:53:59.21Z,2007-09-15T22:47:28.25Z,2007-09-15T22:47:28.25Z,invalid cache policy,"CachedFailuresPolicy has a log typo when the requested policy is not supported
""Unknown **checksum** policyCode""

attached Patch to be applied on archiva-policies.",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-483,Bug,2007-08-22T03:11:39.667Z,2007-08-22T03:11:39.667Z,2017-04-05T20:16:00.461Z,2017-04-05T20:16:00.461Z,,,verify thread safety of Configuration object,"Deng discovered a thread-safety bug in the re-initialisation of the Configuration object when saving and consequently re-initialising. While that has been fixed, and DefaultArchivaConfiguration is now thread safe, it does pass out the shared Configuration object. We need to audit places that the object may be modified in a way that is not thread safe (if it is being modified, it should not be used by another thread until the save() method has completed and those threads have called get() again - perhaps anything that intends to modify it should get back a copy of the configuration object instead).",Major,Open,,,,Brett Porter,brettporter
MRM-414,Improvement,2007-06-10T23:09:14.977Z,2007-06-10T23:09:14.977Z,2008-02-06T09:50:41.227Z,2008-02-06T09:50:41.227Z,2008-02-06T09:50:41.298Z,2008-02-06T09:50:41.298Z,Don't queue a request to scan a repository that is currently being scanned,"If a repository is currently being scanned when the 'Scan Repository Now' button is clicked, don't queue another request to scan it.

Example:

INFO   | jvm 1    | 2007/06/10 21:00:09 | 728900 [SocketListener0-1] INFO com.opensymphony.xwork.Action:schedulerAction - [ActionMessage] Your request to have repository [central] be indexed has been queued.
INFO   | jvm 1    | 2007/06/10 21:00:09 | 728902 [pool-2-thread-1] INFO org.codehaus.plexus.taskqueue.execution.TaskExecutor:repository-scanning - Executing task from queue with job name: repository-job:central
INFO   | jvm 1    | 2007/06/10 21:00:09 | 728928 [pool-2-thread-1] INFO org.apache.maven.archiva.repository.scanner.RepositoryScanner:default - Walk Started: [central] file:/opt/central-repository/

INFO   | jvm 1    | 2007/06/10 21:01:08 | 788035 [SocketListener0-1] INFO com.opensymphony.xwork.Action:schedulerAction - [ActionMessage] Your request to have repository [central] be indexed has been queued.",Minor,Closed,Fixed,,,Wendy Smoak,wsmoak
MRM-438,Bug,2007-07-30T00:01:05.958Z,2007-07-30T00:01:05.958Z,2007-09-13T01:45:15.886Z,2007-09-13T01:45:15.886Z,2007-09-13T01:45:15.89Z,2007-09-13T01:45:15.89Z,broken images in the download box on the artifact page,these don't appear to work at all in the latest version - it isn't noticeable in firefox but in ie you get the big white square with an X in it.,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-422,Bug,2007-06-22T08:51:00.613Z,2007-06-22T08:51:00.613Z,2007-06-22T22:42:42.856Z,2007-06-22T22:42:42.856Z,2007-06-22T22:42:42.861Z,2007-06-22T22:42:42.861Z,Wrong directory name for snapshots repo in default config,"The default configuration includes two repositories:  'internal' and 'snapshots'.

Both are configured to use a single directory named 'internal.'

Archiva Managed Snapshot Repository
Identifier 	snapshots
Name 	Archiva Managed Snapshot Repository
---------->  Directory 	/C:/${appserver.home}/repositories/internal/    <-------------
WebDAV URL 	http://localhost:8080/archiva/repository/snapshots/
Type 	Maven 2.x Repository

Instead, the snapshots repo should use a directory called 'snapshots'.",Minor,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-440,Bug,2007-08-01T23:41:07.864Z,2007-08-01T23:41:07.864Z,2007-11-08T10:00:19.847Z,2007-11-08T10:00:19.847Z,2007-11-08T10:00:19.851Z,2007-11-08T10:00:19.851Z,"If webdav URL lacks a trailing /, navigating to all links in the listing return 404.","If you go to:
http://localhost:8080/archiva/repository/releases

then click a link, you get 404.

But if you go to:
http://localhost:8080/archiva/repository/releases/

everything works as expected.",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-419,Bug,2007-06-21T13:23:55.324Z,2007-06-21T13:23:55.324Z,2010-02-28T22:51:47.785Z,2010-02-28T22:51:47.785Z,,,WebDAV functionality not working for Internet Explorer / Windows Network Places,"I am using archiva built from source (r548493). I set up a managed repository and several proxied repositories. 

Browsing the WebDAV url from Firefox works just fine, but it appears the IE doesn't recognize the url - it asks me if I want to ""save this file"", and its type is unknown. 

When I try to set up a Network Place using the url, it shows me the top level of the repository, but if I try to browse to any folder, I get the error: ""Documents in this folder are not available. The folder may have been moved or deleted, or network problems may be preventing a connection to the server. There is a problem with the web server. Please try again later or contact the server administrator."" 

I notice that the url it's trying to browse to is incorrect. The root URL of the repository is: 

http://[host]/archiva/repository/internal/

but when I double-click on, say, commons-collections, it tries to browse to:

http://repository.muze.com/archiva/repository/commons-collections",Minor,Reopened,,james.w.dumay,james.w.dumay,John Didion,jdidion
MRM-463,Bug,2007-08-09T19:54:20.278Z,2007-08-09T19:54:20.278Z,2008-04-08T05:25:59.281Z,2008-04-08T05:25:59.281Z,2007-09-09T22:23:01.687Z,2007-09-09T22:23:01.687Z,Metadata merging doesn't work.,"When dealing with metadata.xml files and proxying the merging of metadata is not performed correctly.
Often ending up with a metadata.xml file with no versions specified.

Tasks	
1) Re-enabled metadata tests in the archiva-proxy module.	
2) Fix the proxy code (and possibly the tests) to ensure metadata.xml files are merged correctly.	
3) Create tests for 1 managed to multiple remote repos all with metadata.xml for the same groupId:artifactId	
4) Create tests for versionless and versioned metadata.xml files.

Note: Consider using the VersionComparator to obtain a unique list of sorted (by version)",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-418,Task,2007-06-21T09:33:07.92Z,2007-06-21T09:33:07.92Z,2007-06-21T09:42:08.229Z,2007-06-21T09:42:08.229Z,2007-06-21T09:42:08.231Z,2007-06-21T09:42:08.231Z,Remove the network proxy example from default archiva.xml,See discussion on issue MRM-373.,Minor,Closed,Fixed,Fabrice Bellingard,fabemn,Fabrice Bellingard,fabemn
MRM-458,Improvement,2007-08-06T19:57:53.57Z,2007-08-06T19:57:53.57Z,2015-04-06T00:55:19.41Z,2015-04-06T00:55:19.41Z,2007-10-23T03:09:07.748Z,2007-10-23T03:09:07.748Z,the NOTICE file is overzealous in declaring dependencies,"we only need to say, for example, software developed by the ASF once, and all the unnamed ones don't need to be there.

This might require fixes in the remote reosurces plugin and an update.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Brett Porter,brettporter
MRM-459,Improvement,2007-08-06T20:09:17.384Z,2007-08-06T20:09:17.384Z,2007-11-08T09:44:00.288Z,2007-11-08T09:44:00.288Z,2007-11-08T09:44:00.293Z,2007-11-08T09:44:00.293Z,prune the distributed dependencies,"a large number of unneeded dependencies are distributed with Archiva (or if they are needed, we might want to review why).

For example: ant-optional (probably for jsp compiler), commons-logging impl + slf4j + log4j, xerces, jtidy, jdom, dom4j, commons-jxpath, jaxen, jta (we have geronimo-jat already), classworlds (we have plexus-classworlds already), backport (we require JDK 5, no need for this).

I'm also uncertain if all the maven libraries are still needed. ",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-491,Improvement,2007-09-12T05:59:15.074Z,2007-09-12T05:59:15.074Z,2012-09-25T16:25:24.941Z,2012-09-25T16:25:24.941Z,2012-09-25T16:25:24.456Z,2012-09-25T16:25:24.456Z,paginate report pages,"- artifact dependencies
- artifact used by",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-427,Bug,2007-06-28T00:54:40.687Z,2007-06-28T00:54:40.687Z,2008-09-13T21:46:56.659Z,2008-09-13T21:46:56.659Z,2008-09-13T21:46:56.666Z,2008-09-13T21:46:56.666Z,maven-upload-bundle doesn't generate metadata xml files,"(Putting in MRM for want of anywhere else to record this).

When handling Maven bundles, the maven metadata xml's are not generated nor updated.",Major,Closed,Won't Fix,,,Jira Report User,jirareport
MRM-432,Bug,2007-07-16T10:53:46.728Z,2007-07-16T10:53:46.728Z,2007-10-10T17:31:14.654Z,2007-10-10T17:31:14.654Z,2007-10-10T17:31:14.657Z,2007-10-10T17:31:14.657Z,Proxy Connectors are unable to download artifacts with alpha numerical version numbers,"Archiva is unable to download this artifact:

<dependency>
    <groupId>ch.ethz.ganymed</groupId>
    <artifactId>ganymed-ssh2</artifactId>
    <version>build210</version>
</dependency>

although it is in the central repository. I can download the artifact if a switch the central mirror of, just downloading the artifact directly over maven. I didn't had any problems with all the other artifacts from the central repository.

I assume that there is a problem with alpha numerical version numbers. But it's just a guess.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Mathias Arens,mathiasarens
MRM-405,Bug,2007-05-30T06:51:14.15Z,2007-05-30T06:51:14.15Z,2007-05-30T06:54:32.39Z,2007-05-30T06:54:32.39Z,2007-05-30T06:54:32.392Z,2007-05-30T06:54:32.392Z,Archiva can't connect to remote repositories if they are behind a network proxy,"- Define your network proxy with the valid credentials
- Update the proxy connector configuration [ internal , central ] to use this network proxy and not a direct connection
- Try to access a JAR or a POM that is on the central repository and not already on the internal one: the download fails

The problem comes from DefaultRepositoryProxyConnectors#initConnectorsAndNetworkProxies(), where the proxy id of the proxy config is not copied into the newly created ProxyConnector() object.",Major,Closed,Fixed,Fabrice Bellingard,fabemn,Fabrice Bellingard,fabemn
MRM-498,Bug,2007-09-13T19:20:51.427Z,2007-09-13T19:20:51.427Z,2007-09-14T08:47:19.56Z,2007-09-14T08:47:19.56Z,2007-09-14T08:47:19.564Z,2007-09-14T08:47:19.564Z,upgrade to last webwork/xwork,"Due to security hole http://wiki.opensymphony.com/display/WW/1.2.3+Press+Release.
This upgrade is really needed.",Blocker,Closed,Fixed,Emmanuel Venisse,evenisse,Olivier Lamy (*$^¨%`£),olamy
MRM-492,Improvement,2007-09-12T06:52:44.947Z,2007-09-12T06:52:44.947Z,2007-10-22T22:06:07.586Z,2007-10-22T22:06:07.586Z,2007-10-22T22:06:07.59Z,2007-10-22T22:06:07.59Z,repository failures can present as a 404 from proxy,"if multiple repositories are a proxy source and it is not found on some, and an error occurs on one or more - the end result is a ""not found"", where there should be some indication of error in case the artifact may exist on the repository with the error.",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-401,Bug,2007-05-30T03:38:31.352Z,2007-05-30T03:38:31.352Z,2007-06-02T07:11:16.863Z,2007-06-02T07:11:16.863Z,2007-05-30T04:07:49.209Z,2007-05-30T04:07:49.209Z,error 500 clicking serach result for commons-dbcp,"1) search for commons-dbcp
2) click on the first result which should be commons-dbcp 1.0 (URL http://localhost:9091/browse/commons-dbcp/commons-dbcp/1.0)

Error is:
org.apache.maven.archiva.database.ObjectNotFoundException: Unable to find Database Object [commons-dbcp:commons-dbcp:1.0] of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group
	at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:435)
	at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.getProjectModel(JdoProjectModelDAO.java:74)
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersion(DefaultRepositoryBrowsing.java:130)
	at org.apache.maven.archiva.web.action.ShowArtifactAction.artifact(ShowArtifactAction.java:96)

Nested:
Caused by: javax.jdo.JDOObjectNotFoundException: No such database row
FailedObject:commons-dbcp:commons-dbcp:1.0
	at org.jpox.store.rdbms.request.FetchRequest.execute(FetchRequest.java:194)
	at org.jpox.store.rdbms.table.ClassTable.fetch(ClassTable.java:2552)
	at org.jpox.store.StoreManager.fetch(StoreManager.java:941)
	at org.jpox.state.StateManagerImpl.loadFieldsInFetchPlan(StateManagerImpl.java:1820)
	at org.jpox.state.StateManagerImpl.validate(StateManagerImpl.java:4499)
	at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2710)
	at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2584)
	at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2564)
	at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:425)

Note that the initial scan was still in progress - up to walk step 17 in commons-jelly so I believe dbcp was done.

I'm using a mostly-complete copy of central.

",Major,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-423,Bug,2007-06-22T09:06:53.343Z,2007-06-22T09:06:53.343Z,2007-06-22T18:43:27.056Z,2007-06-22T18:43:27.056Z,2007-06-22T18:43:27.061Z,2007-06-22T18:43:27.061Z,Source distribution is missing license and notice files,The Archiva source distribution is missing license and notice files.  They must be included.,Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-445,Improvement,2007-08-03T02:52:32.371Z,2007-08-03T02:52:32.371Z,2008-10-25T02:13:31.735Z,2008-10-25T02:13:31.735Z,,,search functions should show a notification message if an initial scan is still in progress,"currently, on first run against a new repo, it might take some time for the relevant index or database to be up to date. Any functions that rely on them should be aware that the data is not yet complete and be able to show an appropriate warning instead of the misleading ""no results found"".",Minor,Open,,,,Brett Porter,brettporter
MRM-465,Bug,2007-08-09T20:02:53.881Z,2007-08-09T20:02:53.881Z,2007-08-20T09:13:06.848Z,2007-08-20T09:13:06.848Z,2007-08-13T14:45:59.252Z,2007-08-13T14:45:59.252Z,"[Load Testing] When asking for pages that require the effective-pom in high load, app becomes unresponsive.","When having a process/tool (such as siege) hit the artifact browsing pages on archiva in rapid succession, the archiva application becomes unresponsive.
Possible reason: when the first request hits to get the effective pom, the build of that effective pom starts, but before it has a chance to finish, another request arrives to do the same thing, and the process starts again, resources and such get eaten up fast in that scenario.
Possible solution:	
HTML2TextReader.listItemPrefixLock the effective pom resolution on a per groupId:artifactId:version level.	
HTML2TextReader.listItemPrefixCache the effective pom on disk.			
HTML2TextReader.listItemPrefix(option 1) save the effective pom to disk in the groupId:artifactId:version location using the extension "".effective.pom""		
HTML2TextReader.listItemPrefix(option 2) save the effective pom to a long lived e",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-482,Bug,2007-08-20T01:21:51.92Z,2007-08-20T01:21:51.92Z,2007-10-04T17:31:47.276Z,2007-10-04T17:31:47.276Z,2007-10-04T17:31:47.285Z,2007-10-04T17:31:47.285Z,Saving a proxy connector after adding a new property results to HTTP 500 error,"This was the stack trace:

HTTP ERROR: 500

[Ljava.lang.String; cannot be cast to java.lang.String

RequestURI=/admin/saveProxyConnector.action
Caused by:

java.lang.ClassCastException: [Ljava.lang.String; cannot be cast to java.lang.String
	at org.apache.maven.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeProxyConnectorConfiguration(ConfigurationRegistryWriter.java:326)
	at org.apache.maven.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeConfiguration(ConfigurationRegistryWriter.java:67)
	at org.apache.maven.archiva.configuration.io.registry.ConfigurationRegistryWriter.write(ConfigurationRegistryWriter.java:31)
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.save(DefaultArchivaConfiguration.java:183)
	at org.apache.maven.archiva.web.action.admin.connectors.proxy.ConfigureProxyConnectorAction.saveConfiguration(ConfigureProxyConnectorAction.java:600)
	at org.apache.maven.archiva.web.action.admin.connectors.proxy.ConfigureProxyConnectorAction.save(ConfigureProxyConnectorAction.java:480)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:364)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:216)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:168)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:81)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:103)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:159)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:122)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:168)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:171)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:147)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:122)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:63)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:113)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:225)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1065)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1065)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1065)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:365)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:185)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:689)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:391)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:146)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:285)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:457)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:765)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:628)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:209)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:357)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:329)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)

",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-499,Improvement,2007-09-14T03:34:59.132Z,2007-09-14T03:34:59.132Z,2007-09-14T08:53:31.318Z,2007-09-14T08:53:31.318Z,2007-09-14T08:53:28.354Z,2007-09-14T08:53:28.354Z,Webwork  Performance Tuning,"Based on thread http://www.nabble.com/Continuum-1.1.0-beta-2-UI-performance-tf4378485s177.html.

We must add some configuration parameters described here http://wiki.opensymphony.com/display/WW/Performance+Tuning.
adding : template_update_delay=60000 in freemarker.properties.
Copy the /template directory from the webwork jar in your WEB_APP root
",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Olivier Lamy (*$^¨%`£),olamy
MRM-481,Bug,2007-08-16T08:31:29.788Z,2007-08-16T08:31:29.788Z,2008-03-25T23:19:42.252Z,2008-03-25T23:19:42.252Z,2007-10-26T13:18:22.156Z,2007-10-26T13:18:22.156Z,Artifact requests with a .xml.zip extension fail with a 404 Error,"This issue might also apply to any multi dots extension request but I didn't check.

Regards,

Cédric
",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Cédric Vidal,cedricvidal
MRM-449,Improvement,2007-08-03T11:06:13.458Z,2007-08-03T11:06:13.458Z,2007-08-21T03:16:31.049Z,2007-08-21T03:16:31.049Z,2007-08-21T03:16:31.052Z,2007-08-21T03:16:31.052Z,improvement to the reports form group search,"if you search for org.apache, it should find org.apache.*",Major,Closed,Fixed,Teodoro Cue Jr.,tcue,Brett Porter,brettporter
MRM-455,Bug,2007-08-06T05:12:05.351Z,2007-08-06T05:12:05.351Z,2007-10-20T21:33:41.686Z,2007-10-20T21:33:41.686Z,2007-10-20T21:33:41.692Z,2007-10-20T21:33:41.692Z,Repository Browse not updated after repository purge although the database is updated during the purge,Please see comments on MRM-294 for more info,Major,Closed,Cannot Reproduce,,,Maria Odea Ching,oching
MRM-489,Bug,2007-09-07T11:48:14.134Z,2007-09-07T11:48:14.134Z,2007-09-24T11:50:44.725Z,2007-09-24T11:50:44.725Z,2007-09-24T11:50:44.767Z,2007-09-24T11:50:44.767Z,Repositories are read only even for repository managers,Both the OSX client and the litmus test suite report that the repositories are read only and cannot be deployed to.,Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Andrew Williams,handyande
MRM-448,Bug,2007-08-03T11:05:12.127Z,2007-08-03T11:05:12.127Z,2010-02-23T02:05:43.491Z,2010-02-23T02:05:43.491Z,2010-02-23T02:05:43.414Z,2010-02-23T02:05:43.414Z,validation for reports form,validation is missing - see MRM-329,Major,Closed,Cannot Reproduce,,,Brett Porter,brettporter
MRM-400,Bug,2007-05-30T03:33:30.862Z,2007-05-30T03:33:30.862Z,2007-10-20T22:46:03.986Z,2007-10-20T22:46:03.986Z,2007-10-20T22:46:03.997Z,2007-10-20T22:46:03.997Z,tab appearance on view artifact page looks incorrect,"I'm noticing extra horizontal bars around the selected tab, which causes all the tabs to shift position depending on which is selected",Minor,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-425,Bug,2007-06-25T15:46:20.223Z,2007-06-25T15:46:20.223Z,2007-07-25T05:24:57.87Z,2007-07-25T05:24:57.87Z,2007-07-23T12:07:02.78Z,2007-07-23T12:07:02.78Z,Search and Browse do not work for snapshots,"When I to browse or search an artifact with snapshots, I usually get an error when I try to go to the artifact info page. Looking at the logs, Archiva is complaining that the version (x.y.z-SNAPSHOT) does not match the pom file's version (x.y.z-timestamp-buildno).

Ideally, sequence for browse would be group->artifact->base version->snapshot version. In other words, I would first browse to the base version, under which would be listed all the snapshot versions. The pom snippet on the base version page would have <version>x.y.z-SNAPSHOT</version> and the pom snippet on the snapshot version page would have <version>x.y.z-timestamp-buildno</version>. I think this would be a lot more clear than how it currently works - mixing base versions and snapshot versions on the same page.",Major,Closed,Fixed,Maria Odea Ching,oching,John Didion,jdidion
MRM-486,Bug,2007-08-29T04:37:45.601Z,2007-08-29T04:37:45.601Z,2007-09-24T13:37:22.516Z,2007-09-24T13:37:22.516Z,2007-09-24T13:37:22.539Z,2007-09-24T13:37:22.539Z,Can not deploy artifact test.maven-arch:test-arch,"I have test artifact with groupId = test.maven-arch and artifactId = test-arch.

But Archiva does not work with this project - I can not browse thsi project. There is ""No Artifact Id detected."" in archiva.log.

Attached archiva.log, mentioned project's pom.xml and screenshot of browse page.
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Libor Kramolis,libor.kramolis
MRM-451,Bug,2007-08-03T11:17:23.237Z,2007-08-03T11:17:23.237Z,2007-08-04T05:11:16.929Z,2007-08-04T05:11:16.929Z,2007-08-04T05:11:16.933Z,2007-08-04T05:11:16.933Z,regression: editing a repository on first creation of ~/.m2/archiva.xml doesn't call change listeners,"steps to reproduce:
- ensure there is no ${appserver.base}/conf/archiva.xml or ~/.m2/archiva.xml
- start Archiva
- edit the internal repository to change the path
- scan the repository

Expected: the new path is scanned
Actual: the original (default) path is scanned.

I expect this is because the change listener is not called in the new code",Critical,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-496,Bug,2007-09-12T08:58:13.549Z,2007-09-12T08:58:13.549Z,2007-09-13T00:56:37.386Z,2007-09-13T00:56:37.386Z,2007-09-13T00:56:37.406Z,2007-09-13T00:56:37.406Z,adding a proxy connector action is not working after repository changes,"need to write tests also, and run through the related issues for proxy connector admin in JIRA",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-464,Bug,2007-08-09T19:56:01.481Z,2007-08-09T19:56:01.481Z,2008-04-08T05:25:59.083Z,2008-04-08T05:25:59.083Z,2007-08-09T20:03:39.403Z,2007-08-09T20:03:39.403Z,Metadata.xml files are not released from a filesystem lock in Win32,"When using archiva on windows, and then performing a deploy, the metadata.xml files that are deployed get locked by archiva and then cannot be updated/redeployed by a subsequent deploy request.",Critical,Closed,Duplicate,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-409,Bug,2007-05-31T21:32:13.813Z,2007-05-31T21:32:13.813Z,2007-08-27T07:48:46.183Z,2007-08-27T07:48:46.183Z,2007-08-27T07:48:46.186Z,2007-08-27T07:48:46.186Z,No checking of invalid poms or artifacts during repository scanning resulting to some objects not being found on the database,See MRM-376 for more details,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-410,Bug,2007-06-01T10:24:01.434Z,2007-06-01T10:24:01.434Z,2007-06-17T09:03:03.962Z,2007-06-17T09:03:03.962Z,2007-06-17T09:03:03.965Z,2007-06-17T09:03:03.965Z,Dependency Tree is not shown in artifact details screen.,"When browsing to an artifact, the artifact details screen is shown ok.
But when using the Dependency Tree tab, the information is always blank.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-490,Bug,2007-09-12T05:51:10.459Z,2007-09-12T05:51:10.459Z,2012-10-13T16:26:33.913Z,2012-10-13T16:26:33.913Z,2012-10-13T16:26:33.757Z,2012-10-13T16:26:33.757Z,add xwork exception handling pages for presentable error reporting,"if anyone gets a stack trace, they should have an easy way to report it as a bug (though this should also be configurable since in a production environment the admin would want to be contacted instead)",Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-475,Sub-task,2007-08-13T14:53:51.31Z,2007-08-13T14:53:51.31Z,2007-08-25T22:27:46.41Z,2007-08-25T22:27:46.41Z,2007-08-25T22:27:46.413Z,2007-08-25T22:27:46.413Z,Create tests for snapshot metadata merging,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-478,New Feature,2007-08-14T20:55:49.638Z,2007-08-14T20:55:49.638Z,2007-08-14T20:56:10.781Z,2007-08-14T20:56:10.781Z,,,Automatic Reassign of POM embedded repositories.,"This is discussed at: http://www.nabble.com/Re%3A-MRM-462%3A-configuring-different-types-of-repositories-differently-p12154720.html

Example:
1) Pull up a report of all remote repositories defined in the poms.
2) Select one of them, and a managed repository, hit 'reassign repo' button.
3) A remote repository is added to the archiva configuration.
4) A proxy connector is added between the selected managed repo and the new remote repository.
5) Then all embedded references to that remote repository now point to the managed archiva repository URL.
6) A reference is added to the auto-convert consumer that all new occurrences of this repository are converted. ",Major,Open,,,,Joakim Erdfelt,joakime
MRM-461,Bug,2007-08-07T22:31:02.51Z,2007-08-07T22:31:02.51Z,2007-10-10T18:25:25.715Z,2007-10-10T18:25:25.715Z,2007-10-10T18:25:25.718Z,2007-10-10T18:25:25.718Z,Warning message for non existent resources should include what resource it failed to locate.,"I've modified my logging to cut down on the debug spam.

This means that I get the following warning but no context:

{panel:title=log output}
08/08/2007 12:56:07 [SocketListener0-8] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Resource does not exist: Unable to locate resource in repository
{panel}

The warning message should also include what resource was unable to be located.",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Barrie Treloar,baerrach
MRM-435,Bug,2007-07-29T23:42:46.588Z,2007-07-29T23:42:46.588Z,2017-05-05T11:01:04.518Z,2017-05-05T11:01:04.518Z,2017-04-05T20:20:07.003Z,2017-04-05T20:20:07.003Z,need to review repository defaults,"we should review the use of the appserver path as the default location, as it is not particularly friendly to seting up as a standalone web application. I believe there is insufficient error handling to correct this situation if the user forgets to first set the variables during installation.",Major,Closed,Resolved,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-426,Bug,2007-06-26T04:15:49.949Z,2007-06-26T04:15:49.949Z,2007-07-25T05:24:47.297Z,2007-07-25T05:24:47.297Z,2007-07-23T12:01:51.752Z,2007-07-23T12:01:51.752Z,Search does not work for snapshots because of different version values in index and database when the snapshot version is unique,"When an artifact with unique snapshots is searched from Archiva, the search result would contain different hits for that artifact which has the same version but when you click the version to browse the artifact.. an ObjectNotFound error is returned. Below is an example of this behavior.

The artifact to be searched is castor-anttasks. Let's say it has 3 SNAPSHOT versions 1.1.2-20070427.065136-1, 1.1.2-20070506.163513-2 and 1.1.2-20070506.163513-3 in the repository, and the path to this artifact is [REPO]/org/codehaus/castor/castor-anttasks/1.1.2-SNAPSHOT.

The search results would then look like this:

Hits: 3 of 3
castor-anttasks
org / codehaus / castor / castor-anttasks | Version(s): 1.1.2-SNAPSHOT

castor-anttasks
org / codehaus / castor / castor-anttasks | Version(s): 1.1.2-SNAPSHOT

castor-anttasks
org / codehaus / castor / castor-anttasks | Version(s): 1.1.2-SNAPSHOT

When you click either of the versions to browse the artifact, what you would get is this error:
'Unable to find project model for [org.codehaus.castor:castor-anttasks:1.1.2-SNAPSHOT]'",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-406,Improvement,2007-05-30T11:46:39.391Z,2007-05-30T11:46:39.391Z,2007-06-01T10:37:04.736Z,2007-06-01T10:37:04.736Z,2007-06-01T10:37:04.739Z,2007-06-01T10:37:04.739Z,Replace the archiva.version propertry with project.version,There is no need for the archiva.version property in the pom because this can be represented by the project.version property. Furthermore this can cause problems when doing a release with continuum.,Major,Closed,Fixed,Joakim Erdfelt,joakime,Franz Allan Valencia See,franz_see
MRM-413,Task,2007-06-06T03:42:43.595Z,2007-06-06T03:42:43.595Z,2007-06-06T03:45:40.966Z,2007-06-06T03:45:40.966Z,2007-06-06T03:45:40.977Z,2007-06-06T03:45:40.977Z,maven2-repository.dev.java.net repository URL in not correct,"https://maven2-repository.dev.java.net/nonav/repository is not a valid URL.

Valid URLs are:
- Maven 1 repo: http://download.java.net/maven/1/
- Maven 2 repo: http://download.java.net/maven/2/

This needs to be fixed in the default archiva.xml.",Trivial,Closed,Fixed,Fabrice Bellingard,fabemn,Fabrice Bellingard,fabemn
MRM-474,Sub-task,2007-08-13T14:53:42.229Z,2007-08-13T14:53:42.229Z,2007-08-25T22:27:18.944Z,2007-08-25T22:27:18.944Z,2007-08-25T22:27:18.947Z,2007-08-25T22:27:18.947Z,Create tests for non-snapshot metadata merging,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-430,Bug,2007-07-10T10:13:37.364Z,2007-07-10T10:13:37.364Z,2007-09-14T10:37:30.304Z,2007-09-14T10:37:30.304Z,2007-08-03T09:48:31.093Z,2007-08-03T09:48:31.093Z,Archiva always writes to ~/.m2/archiva.xml,"From http://maven.apache.org/archiva/guides/configuration.html :

""When Archiva saves it's configuration, all configuration is stored to
a single file. The file chosen is by the following rules:

    * If ~/.m2/archiva.xml exists, it is saved there

    * Otherwise, it is saved to $ARCHIVA_BASE/conf/archiva.xml,
regardless of whether it previously existed. ""

The latest code (r553963) always writes to ~/.m2/archiva.xml, even if it did not exist, and completely ignores $ARCHIVA_BASE/conf/archiva.xml.

Related thread:  http://www.nabble.com/Archiva-now-always-writes-to-%7E-.m2-archiva.xml-t4053580.html",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-487,Bug,2007-08-29T04:43:54.567Z,2007-08-29T04:43:54.567Z,2008-08-25T02:53:25.181Z,2008-08-25T02:53:25.181Z,2007-09-28T18:27:53.173Z,2007-09-28T18:27:53.173Z,pom version is not resolved,"I compose pom.version from 4 properties:
--
	<version>${prj.ver.maj}.${prj.ver.min}.${prj.ver.inc}${prj.ver.suf}</version>
	<properties>
		<prj.ver.maj>2</prj.ver.maj>
		<prj.ver.min>0</prj.ver.min>
		<prj.ver.inc>5</prj.ver.inc>
		<prj.ver.suf>-SNAPSHOT</prj.ver.suf>
	</properties>
--

But it looks Archiva does not resolve pom.version and it is not possible to browse this artifact (see attached screenshot).

Attached archiva.log, mentioned project's pom.xml and screenshot of browse page.
",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Libor Kramolis,libor.kramolis
MRM-476,New Feature,2007-08-14T13:57:13.946Z,2007-08-14T13:57:13.946Z,2007-10-02T13:53:15.421Z,2007-10-02T13:53:15.421Z,2007-10-02T13:53:15.425Z,2007-10-02T13:53:15.425Z,ability to use file protocol using UNC path for Managed repository,"Currently, if I try to use a network share with a UNC path when creating a Managed Repository, the path is replaced with a newly created directory on the system root.  For example, using the path of file:/\\path_to_network_share gets changed to file:/C:/path_to_network share.  I have tried a combination of strings for the url but have not been able to connect to a network share.  ",Major,Closed,Fixed,Joakim Erdfelt,joakime,Patrick Gallagher,psg9999
MRM-429,Bug,2007-07-06T11:35:08.295Z,2007-07-06T11:35:08.295Z,2007-08-03T03:25:12.895Z,2007-08-03T03:25:12.895Z,2007-08-03T03:25:12.899Z,2007-08-03T03:25:12.899Z,Find Artifact does not work when the applet is disabled,"When the Find Artifact applet is disabled with the following config in archiva.xml, the feature does not work.

Providing a md5 checksum and clicking 'Go' does nothing. The page re-displays (without the checksum) and nothing appears in the logs.

  <webapp>
    <ui>
      <showFindArtifacts>true</showFindArtifacts>
      <appletFindEnabled>false</appletFindEnabled>
    </ui>
  </webapp>

See MRM-351 for the ability to disable the applet.",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-434,Bug,2007-07-17T08:47:05.507Z,2007-07-17T08:47:05.507Z,2007-07-17T08:47:41.701Z,2007-07-17T08:47:41.701Z,2007-07-17T08:47:41.705Z,2007-07-17T08:47:41.705Z,Artifacts file types aren't take in account,,Major,Closed,Duplicate,,,Mathieu Godlewski,matgodle
MRM-467,Bug,2007-08-09T23:21:23.054Z,2007-08-09T23:21:23.054Z,2007-08-20T09:13:58.896Z,2007-08-20T09:13:58.896Z,2007-08-13T12:43:40.133Z,2007-08-13T12:43:40.133Z,500 error when user requested the dependency tree for artifact,"User requested dependency for an artifact and got a 500 error.

archiva.log attached.",Major,Closed,Fixed,Joakim Erdfelt,joakime,James William Dumay,jameswdumay
MRM-447,Bug,2007-08-03T11:04:03.883Z,2007-08-03T11:04:03.883Z,2007-08-04T05:56:27.34Z,2007-08-04T05:56:27.34Z,2007-08-04T05:56:27.344Z,2007-08-04T05:56:27.344Z,resolve jasper licensing issue by separating into a profile,"- put it in a separate module (and profile) that isn't distributed with archiva, but can be built manually and installed
- provide a bland, default implementation of the reporting pages that doesn't use jasper (just a spit out a table of everything).
",Blocker,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-466,Bug,2007-08-09T20:06:15.114Z,2007-08-09T20:06:15.114Z,2007-09-24T13:28:25.795Z,2007-09-24T13:28:25.795Z,2007-09-24T13:28:25.821Z,2007-09-24T13:28:25.821Z,NPE on DatabaseJob.execute(),"From archiva.log
================
 
30778389 [defaultScheduler_Worker-13] ERROR org.quartz.core.JobRunShell  - Job database-group.database-job threw an unhandled Exception:

java.lang.NullPointerException
        at org.apache.maven.archiva.scheduled.DatabaseTaskJob.execute(DatabaseTaskJob.java:57)
        at org.quartz.core.JobRunShell.run(JobRunShell.java:191)
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:516)
30778390 [defaultScheduler_Worker-13] ERROR org.quartz.core.ErrorLogger  - Job (database-group.database-job threw an exception.
org.quartz.SchedulerException: Job threw an unhandled exception. [See nested exception: java.lang.NullPointerException]
        at org.quartz.core.JobRunShell.run(JobRunShell.java:202)
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:516)
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-470,Bug,2007-08-13T02:12:37.448Z,2007-08-13T02:12:37.448Z,2007-09-24T13:25:09.572Z,2007-09-24T13:25:09.572Z,2007-09-24T13:22:01.297Z,2007-09-24T13:22:01.297Z,Test failures in BytecodeIndexTest due to NPE in AbstractIndexCreationTestCase,"Commented out the following tests to be able to release 1.0-beta-1:
- testAddRecordNoIndex()
- testAddRecordExistingEmptyIndex()
- testAddRecordInIndex()
- testDeleteRecordInIndex()",Major,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-472,Sub-task,2007-08-13T14:52:59.038Z,2007-08-13T14:52:59.038Z,2007-09-09T22:22:31.675Z,2007-09-09T22:22:31.675Z,2007-09-09T22:22:31.678Z,2007-09-09T22:22:31.678Z,Re-enabled metadata tests in archiva-proxy,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-404,Bug,2007-05-30T03:54:50.577Z,2007-05-30T03:54:50.577Z,2011-03-29T09:59:33.626Z,2011-03-29T09:59:33.626Z,2010-02-23T01:23:59.047Z,2010-02-23T01:23:59.047Z,formatting in download box can sometimes be cramped,"go to the ""ant:ant:1.6.5"" artifact, and look at the download box - the ""Jar"" text butts up against the size.

In addition, the size should be displayed in KB instead of bytes (one dec. pl).",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-494,Bug,2007-09-12T08:34:47.105Z,2007-09-12T08:34:47.105Z,2007-09-25T19:05:36.645Z,2007-09-25T19:05:36.645Z,2007-09-24T21:17:07.524Z,2007-09-24T21:17:07.524Z,leaving repository ID blank on the add repository page goes to the edit page where ID cannot be edited,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-457,Improvement,2007-08-06T19:52:20.721Z,2007-08-06T19:52:20.721Z,2007-09-12T07:09:50.936Z,2007-09-12T07:09:50.936Z,2007-09-12T07:09:50.951Z,2007-09-12T07:09:50.951Z,don't display the snapshot removal options in the repository list page if snapshots are not included,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-412,Improvement,2007-06-05T04:16:09.953Z,2007-06-05T04:16:09.953Z,2015-04-05T14:53:56.219Z,2015-04-05T14:53:56.219Z,2007-08-03T01:54:42.225Z,2007-08-03T01:54:42.225Z,Add support for maven1 (legacy) request to access a maven2 (default layout) repo,"archiva 1.0-alpha-1 doesn't support converting legacy-layout request to default layout. This behaviour is usefull to allow maven1 to access a maven2 repository, and avoid having multiple managed repo as proxies to central.

The attached patch add this support :

- it adds to BidirectionalRepositoryLayout the new method boolean isValidPath( String path )
- it adds to BidirectionalRepositoryLayoutFactory the new method BidirectionalRepositoryLayout getLayoutForPath( String path )
- it use them to detect the layout used by incoming request and build the ArchivaArtifact object used to proxy the request. It aslo overrides the pathInfo to make the request point to the real-file path in the managed repository

BidirectionalRepositoryLayoutFactoryTest also updated

",Minor,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-477,Bug,2007-08-14T20:51:38.648Z,2007-08-14T20:51:38.648Z,2007-10-04T17:31:38.831Z,2007-10-04T17:31:38.831Z,2007-10-04T17:31:38.835Z,2007-10-04T17:31:38.835Z,Missing ability to manage proxy order.,"Dan Tran brought up a good point about Proxy Connectors and search order.
Reference: http://www.nabble.com/The-order-to-proxy-connectors-p12138354.html

--(snip)--
Hello, I would like to setup archiva to search for java.net first then
repo1.maven.org.  And archive user interface does not seem to support this
option.

Can some one confirm?

this is a work around for http://jira.codehaus.org/browse/MEV-498

Thanks
--(snip)--",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-495,Improvement,2007-09-12T08:38:59.699Z,2007-09-12T08:38:59.699Z,2014-04-16T21:07:03.535Z,2014-04-16T21:07:03.535Z,,,search fields should be weighted to improve search results,,Major,Reopened,,,,Brett Porter,brettporter
MRM-473,Sub-task,2007-08-13T14:53:26.378Z,2007-08-13T14:53:26.378Z,2007-09-09T22:22:23.384Z,2007-09-09T22:22:23.384Z,2007-09-09T22:22:23.443Z,2007-09-09T22:22:23.443Z,Fix the proxy code (and possibly the tests) to ensure proper merging of metadata.xml files.,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-454,Bug,2007-08-06T05:09:43.49Z,2007-08-06T05:09:43.49Z,2007-10-26T06:09:59.296Z,2007-10-26T06:09:59.296Z,2007-10-26T06:09:59.317Z,2007-10-26T06:09:59.317Z,Index not updated after repository purge,Please see comments MRM-294 for more info,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-479,Bug,2007-08-14T23:49:36.596Z,2007-08-14T23:49:36.596Z,2007-10-11T20:28:14.944Z,2007-10-11T20:28:14.944Z,2007-10-11T20:28:14.947Z,2007-10-11T20:28:14.947Z,metadata files in artifactId/version level are not updated during repository purge,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-446,Improvement,2007-08-03T03:07:17.788Z,2007-08-03T03:07:17.788Z,2007-08-03T03:10:51.229Z,2007-08-03T03:10:51.229Z,2007-08-03T03:10:51.235Z,2007-08-03T03:10:51.235Z,find artifact / search by checksum is not working,"I always get 0 results, even if the artifact being searched from comes directly from the repository that is already scanned completely.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1604,Task,2012-02-15T14:26:20.153Z,2012-02-15T14:26:20.153Z,2012-02-15T14:40:30.491Z,2012-02-15T14:40:30.491Z,2012-02-15T14:40:30.46Z,2012-02-15T14:40:30.46Z,Upgrade to maven-bundle-plugin 2.3.7,,Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1674,Bug,2012-09-20T22:33:38.544Z,2012-09-20T22:33:38.544Z,2012-09-24T22:20:47.18Z,2012-09-24T22:20:47.18Z,2012-09-24T17:20:33.313Z,2012-09-24T17:20:33.313Z,"While creating admin account, entering invalid password yields no error message","This bug applies to a fresh Archiva web app installation.

I tried creating an admin account with the following credentials:
U - admin
P - admin

Upon form submission, nothing happened.  I was pretty confused and thinking that there was something wrong with my users database in PostgreSQL.  Upon closer inspection, I noticed that there was a vertically compressed red/green (can't remember) frame, with missing error message inside of it, at the top of the screen.  I then tried a more complex password, which was accepted.  I was immediately logged in with no empty error message boxes at the top of the screen.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1654,Bug,2012-07-24T07:02:50.483Z,2012-07-24T07:02:50.483Z,2012-08-09T04:47:52.97Z,2012-08-09T04:47:52.97Z,2012-07-27T16:55:15.823Z,2012-07-27T16:55:15.823Z,Bad repository SVN in documentation,The URL about SVN repository of Redback in the documentation is wrong : http://svn.apache.org/repos/asf/archiva/redback/all.,Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Antoine ROUAZE,erouan
MRM-1660,Bug,2012-09-07T04:54:24.806Z,2012-09-07T04:54:24.806Z,2012-09-09T10:40:02.081Z,2012-09-09T10:40:02.081Z,2012-09-09T10:40:01.922Z,2012-09-09T10:40:01.922Z,use log4j 2.x,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1651,Task,2012-07-31T08:59:03.964Z,2012-07-31T08:59:03.964Z,2014-02-25T19:24:02.913Z,2014-02-25T19:24:02.913Z,,,Add OSGi support in redback,,Major,Open,,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1652,Bug,2012-08-02T15:24:13.495Z,2012-08-02T15:24:13.495Z,2015-04-05T14:53:52.888Z,2015-04-05T14:53:52.888Z,2012-09-05T09:31:58.322Z,2012-09-05T09:31:58.322Z,"Archiva should throw 405 (Method not allowed) when ""releases=false"" in archiva.xml","releases is configured to false which should tell archiva that uploading should be disabled for the repo.  But the setting doesn't work as seen from the code.  Please see the attached patch. Thanks.

		<managedRepository>
			<location>/home/y/var/yarchiva/data/repositories/public</location>
			<blockRedeployments>true</blockRedeployments>
			<daysOlder>30</daysOlder>
			<id>public</id>
			<name>Archiva Managed Public Repository</name>
			<releases>false</releases>
		</managedRepository>",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,charles kim,charlesk40
MRM-1678,Improvement,2012-09-24T17:28:02.624Z,2012-09-24T17:28:02.624Z,2017-04-05T19:30:45.919Z,2017-04-05T19:30:45.919Z,,,Merge repository to an external repository,we could merge repository to an external one (using wagons: scp/http(s) destination),Major,Open,,Maria Odea Ching,oching,Olivier Lamy (*$^¨%`£),olamy
MRM-1638,Task,2012-06-29T07:22:59.764Z,2012-06-29T07:22:59.764Z,2012-10-03T02:14:23.587Z,2012-10-03T02:14:23.587Z,2012-10-03T02:14:23.242Z,2012-10-03T02:14:23.242Z,Improve unit test for archiva build,"Due to change in jdk implementation in jdk7 test methods are executed in random order.

As some unit test in archiva depend on certain order they fail random.",Major,Closed,Fixed,Eric Barboni,skygolanur,Eric Barboni,skygolanur
MRM-1635,Bug,2012-06-08T03:24:11.074Z,2012-06-08T03:24:11.074Z,2012-06-18T09:11:40.714Z,2012-06-18T09:11:40.714Z,2012-06-18T09:11:40.535Z,2012-06-18T09:11:40.535Z,Archiva not working on 64 bit Linux - must remove linux-x86-32 wrapper files,"On every version, if you're running on a 64 bits linux OS, once you start archiva (standalone, haven't tested in a container), you get:

eval: 1: /path/to/archiva/bin/./wrapper-linux-x86-32: not found 

This has been happening at least since 1.2.2.

To solve the issue, you must delete the /lib/libwrapper-linux-x86-32.so and /bin/wrapper-linux-x86-32 files. 

I also suggest that, while this isn't fixed (and since it affects every user with a 64 bits Linux OS), the information is added to the FAQ's. I can give you a proposed text if you want to.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Miguel Almeida,wild_oscar
MRM-1690,Bug,2012-10-10T16:32:37.276Z,2012-10-10T16:32:37.276Z,2012-10-11T01:47:25.283Z,2012-10-11T01:47:25.283Z,2012-10-11T01:47:25.101Z,2012-10-11T01:47:25.101Z,User & password management broken,"1) Can't create new users.  Filling in the form and clicking save does nothing.  The dialog stays open.  (Attempted w/ Chrome&FF, couldn't get IE to open the home page)

2) I'm having problems setting the password for the admin user (possibly others, but I don't want to touch other accounts and I can't create new ones).  The reset password process didn't send me an e-mail.  

Initially after the upgrade from 1.4-M2, I had forgotten the 'admin' password and eventually got a prompt (not sure how) to change the password but it didn't seem to do anything.

I also tried clicking ""Forgot Password"" and it put a banner at the top of the page saying ""Password reset"", but it wasn't clear what that meant.  I think maybe it was supposed to send an email.  If so, maybe the message needs to say that.  

However, I never got an e-mail.

I ended up copying the derby database files to my local system and using SquirreL SQL client to open up and copy a known encrypted password value from another user.

After logging in using the copied password, I attempted to change the 'admin' password.  I click ""Edit Details"", entered my existing password and new password info.  When I click ""Ok"". It appears to do nothing.  The dialog stays open and no password is set.  
",Critical,Closed,Not A Problem,,,Jeff Vincent,predatorvi
MRM-1620,Sub-task,2012-04-03T15:09:43.101Z,2012-04-03T15:09:43.101Z,2012-09-06T07:38:07.493Z,2012-09-06T07:38:07.493Z,2012-05-22T17:17:12.689Z,2012-05-22T17:17:12.689Z,add a tab to browse artifact content in artifact detail view,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1699,Improvement,2012-10-18T06:40:53.192Z,2012-10-18T06:40:53.192Z,2012-10-19T11:56:14.832Z,2012-10-19T11:56:14.832Z,2012-10-19T11:56:13.287Z,2012-10-19T11:56:13.287Z,Re implement remember me in new UI,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1641,Bug,2012-07-10T05:37:57.841Z,2012-07-10T05:37:57.841Z,2012-07-11T10:45:59.639Z,2012-07-11T10:45:59.639Z,,,Test fail in Archiva Scheduler :: Indexing 1.4-M3-SNAPSHOT,"Test in class ArchivaIndexingTaskExecutorTest fail at tearDown method when the testPackagedIndex just finished. The error was occur when I launch this Maven command. It triggers when I run this command again: 
mvn clean install -pl :archiva-scheduler-indexing -am

But if I launch this before: 
mvn clean

It works perfectly.

When I debugged the test I saw that the indexer is not stopped when the files in target/test-classes/.indexer are deleted. So every time a file is deleted a new one is created, and the test fails.

I join the stack trace of the test error.

Best regards,

Antoine ROUAZE",Major,Open,,,,Antoine ROUAZE,erouan
MRM-1671,New Feature,2012-09-14T11:08:12.393Z,2012-09-14T11:08:12.393Z,2012-09-14T11:08:34.58Z,2012-09-14T11:08:34.58Z,,,add a P2 repository,create a p2 repository for deploying/download with proxy capability.,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1663,Improvement,2012-09-10T09:01:52.183Z,2012-09-10T09:01:52.183Z,2015-04-05T14:54:00.73Z,2015-04-05T14:54:00.73Z,2012-09-10T09:13:20.558Z,2012-09-10T09:13:20.558Z,Missing links on the carousel to force the image to display,The carousel should have links to be able to change the image to display. This enable to return the last image shown.,Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1633,New Feature,2012-06-07T04:09:50.436Z,2012-06-07T04:09:50.436Z,2016-05-30T23:59:42.438Z,2016-05-30T23:59:42.438Z,2016-05-30T23:59:42.398Z,2016-05-30T23:59:42.398Z,Show Job Status / Whats going on behind the scenes,"It would be nice to see whats going on in the background, without always looking into the log. Maybe a Log Viewer or such. 
When adding a new task like scanning a repo, it would be also nice to get a percentage display or at least to see ""ok, currently i am scanning repo X and have X mb downloaded"" or such.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,asdf asdf,olze
MRM-1661,Improvement,2012-09-10T04:45:47.693Z,2012-09-10T04:45:47.693Z,2015-04-05T14:53:43.708Z,2015-04-05T14:53:43.708Z,2012-09-10T05:22:52.471Z,2012-09-10T05:22:52.471Z,There is no image in the carousel for a couple of seconds,The carousel of screenshots doesn't display any image for a couple of second because there is no active image at first.,Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1621,Sub-task,2012-04-03T15:10:13.408Z,2012-04-03T15:10:13.408Z,2012-09-06T07:38:07.997Z,2012-09-06T07:38:07.997Z,2012-05-29T11:35:44.381Z,2012-05-29T11:35:44.381Z,add download box in artifact detail for new ui,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1608,Task,2012-02-27T07:14:44.245Z,2012-02-27T07:14:44.245Z,2012-02-27T07:18:50.381Z,2012-02-27T07:18:50.381Z,2012-02-27T07:18:50.255Z,2012-02-27T07:18:50.255Z,Upgrade to commons-pool 1.6,,Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1636,Bug,2012-06-08T03:39:01.148Z,2012-06-08T03:39:01.148Z,2012-06-08T03:39:01.148Z,2012-06-08T03:39:01.148Z,,,"Evil exception which blocks UI interaction, not sure what i did","I changed the Cronjob expression in a remote managed repository so i got 2 times it is invalid. Then i fixed it and clicked on save. Then i tried to delete the Repository which was not working anymore. I edited the cronjob again to the old expression and tried again deleting it. The UI is not working anymore.

Attached the exceptions from the log",Major,Open,,,,asdf asdf,olze
MRM-1692,Bug,2012-10-11T16:16:10.049Z,2012-10-11T16:16:10.049Z,2012-10-11T17:48:39.651Z,2012-10-11T17:48:39.651Z,2012-10-11T17:48:39.464Z,2012-10-11T17:48:39.464Z,Archiva should allow PropertyPlaceholderConfigurer in applicationContext.xml,"When PropertyPlaceholderConfigurer is configured in the applicationContext.xml, it results in unresolved property error during the context initialization due to another property-placeholder with unset location.  It should either set the right location or use  ignoreUnresolvablePlaceholders property to let other PropertyPlaceholderConfigurer wot work.

Please see attached patch.
Thanks",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,charles kim,charlesk40
MRM-1659,Bug,2012-09-06T13:22:39.023Z,2012-09-06T13:22:39.023Z,2012-09-21T09:55:29.322Z,2012-09-21T09:55:29.322Z,2012-09-21T02:26:33.383Z,2012-09-21T02:26:33.383Z,Cannot connect to PostgreSQL,"Archiva 1.4-M3 cannot start.  I'm getting this error
""java.sql.SQLFeatureNotSupportedException: Method org.postgresql.jdbc4.Jdbc4Statement.setQueryTimeout(int) is not yet implemented.""

I've tried archiva-webapp-js-1.4-M3-SNAPSHOT.war and archiva-webapp-1.4-M3-SNAPSHOT.war.  Archiva will start if I use apache-archiva-1.4-M2.war.  I have changed archiva.xml each time to point to the respective .war file.

I tried using postgresql-9.1-901.jdbc4.jar and postgresql-9.1-902.jdbc4.jar, but neither worked.  I get the same PostgreSQL-related error message.

I've attached the Tomcat 7 log and archiva.log.",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1679,Bug,2012-09-24T18:21:01.602Z,2012-09-24T18:21:01.602Z,2012-09-24T18:21:01.602Z,2012-09-24T18:21:01.602Z,,,"Changing admin password in Continuum using shared external ""users"" database causes Archiva security workspace to become stale","I'm sharing the ""users"" database between Archiva and Continuum.  I switched over to PostgreSQL v9.2 on my laptop to mirror the Archiva/Continuum/PostgreSQL setup I've installed on a server.  I wanted the same password for the admin account as the admin account that's set up on the server, so I changed the password to the admin account using Continuum.

I was able to then log out and log in with the new password in Continuum.  Upon verifying that I could log in as admin to Archiva with the new password, I discovered that I was not able to log in.

The remedy was to navigate to C:\apache\tomcat_base_archiva\data\jcr\workspaces and delete the 2 default workspaces ""security"" & ""default"".  I know that a workspace's workspace.xml can become stale if something with repository.xml is changed.  Deleting it will prompt Apache Jackrabbit to regenerate a new workspace.xml.  Whether I have to delete BOTH ""security"" and ""default""...I don't know.  Whatever the case may be, that's worked for me.",Major,Open,,,,Chris Harris,Chris Harris
MRM-1698,Bug,2012-10-16T16:18:09.454Z,2012-10-16T16:18:09.454Z,2012-10-16T17:06:05.181Z,2012-10-16T17:06:05.181Z,2012-10-16T17:06:04.425Z,2012-10-16T17:06:04.425Z,proxy connector update are not saved,,Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1668,New Feature,2012-09-11T11:50:51.34Z,2012-09-11T11:50:51.34Z,2012-09-13T17:11:10.171Z,2012-09-13T17:11:10.171Z,2012-09-13T17:11:10.083Z,2012-09-13T17:11:10.083Z,download artifacts when coming from search results ,"Search is based on maven index. Users can have results for artifact not here.
So going to artifact info display an empty result.
We must download artifacts.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1642,Bug,2012-07-11T09:31:27.919Z,2012-07-11T09:31:27.919Z,2012-07-11T09:42:47.694Z,2012-07-11T09:42:47.694Z,2012-07-11T09:42:47.365Z,2012-07-11T09:42:47.365Z,SNAPSHOT build failed ,"when checked out the latest svn version and tried to build from aggregator pom with: mvn -P with-redback clean install

the i got this one:
[ERROR] The build could not read 1 project -> [Help 1]
[ERROR]
[ERROR]   The project org.apache.archiva:archiva-test-utils:1.4-M3-SNAPSHOT (C:\archiva-all\archiva\archiva-modules\archiva-base\archiva-test-utils\pom.xml) has 1 error
[ERROR]     Non-resolvable parent POM: Could not find artifact org.apache.archiva:archiva:pom:1.4-M3-SNAPSHOT and 'parent.relativePath' points at wrong local POM @ line 22, column 11 -> [Help 2]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Michael Cramer,BigMichi1
MRM-1619,Bug,2012-03-23T12:13:10.921Z,2012-03-23T12:13:10.921Z,2012-09-06T07:38:07.104Z,2012-09-06T07:38:07.104Z,2012-04-02T14:29:34.395Z,2012-04-02T14:29:34.395Z,The modal box when creating a repository with a directory which already exists does not disappear when click ok,"When I create a repository with the new UI (JS), with a directory already existing (/home/adrien/.m2/repository) a modal box appear to notify that the dorectory already exists but does not disappear when I click on ""ok"" button. The repository is created anyway but if I click on ""ok"" again, a error message appear as the repository already exists.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1655,Improvement,2012-07-24T10:08:43.053Z,2012-07-24T10:08:43.053Z,2015-04-05T14:54:02.188Z,2015-04-05T14:54:02.188Z,2012-07-28T16:00:17.157Z,2012-07-28T16:00:17.157Z,"In interface Scheduler the method schedulJob takes an implementation, not a interface","The method schedulJob of the Scheduler Interface (org.apache.archiva.redback.components.scheduler.Scheduler) takes as first argument a JobDetailImpl. The patch submitted change it to a JobDetail, the interface implemented by JobDetailImpl. 
This is because the JobBuilder methods create JobDetail.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1685,Bug,2012-10-08T09:35:13.583Z,2012-10-08T09:35:13.583Z,2012-10-08T09:56:52.45Z,2012-10-08T09:56:52.45Z,2012-10-08T09:56:52.382Z,2012-10-08T09:56:52.382Z,The release date of 1.4-M3 on the Archiva site is wrong,"1.) Go http://archiva.apache.org/
2.) Look for Section 2 Download Archiva on this page
3.)  Latest preview release: Get Archiva 1.4-M3 07 October 2011

2011 should be 2012.

Great work, guys!",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1684,Bug,2012-10-04T10:09:02.453Z,2012-10-04T10:09:02.453Z,2012-12-20T06:29:34.103Z,2012-12-20T06:29:34.103Z,2012-12-20T06:29:33.628Z,2012-12-20T06:29:33.628Z,feeds link behaviour seems not coherent,"orange rss logo sometimes link to non existing url for feeds.
Take me sometime to investigate

Browse and not logged in
 user have rss logo for artifact
 user have rss logo for individual repository and ""all"" repository

Browse and logged in
 user have no rss logo for artifact
 user have rss logo for individual repository but not for ""all"" repository",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1694,Bug,2012-10-15T03:58:23.415Z,2012-10-15T03:58:23.415Z,2014-06-30T20:26:49.993Z,2014-06-30T20:26:49.993Z,2012-10-15T05:56:14.571Z,2012-10-15T05:56:14.571Z,StreamCorruptedException opening an artefact ,"When clicking on a version link of an artefact in order to view the related information, I'm facing (full log attached):
{code}
java.io.StreamCorruptedException: invalid stream header: BB656430
	java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:800)
	java.io.ObjectInputStream.<init>(ObjectInputStream.java:297)
	org.jpox.store.rdbms.datatype.BlobImpl.getObject(BlobImpl.java:114)
	org.jpox.store.rdbms.mapping.AbstractLargeBinaryRDBMSMapping.getObject(AbstractLargeBinaryRDBMSMapping.java:288)
	org.jpox.store.mapping.AbstractContainerMapping.getObject(AbstractContainerMapping.java:248)
	org.jpox.store.rdbms.fieldmanager.ResultSetGetter.fetchObjectField(ResultSetGetter.java:115)
	org.jpox.state.StateManagerImpl.replacingObjectField(StateManagerImpl.java:2951)
	org.apache.maven.archiva.model.Individual.jdoReplaceField(Individual.java)
{code}

Please note I'm already facing issue MRM-1643",Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Julien Béti,motofix
MRM-1657,Bug,2012-08-23T15:36:28.214Z,2012-08-23T15:36:28.214Z,2015-04-07T18:54:18.176Z,2015-04-07T18:54:18.176Z,2012-08-23T15:54:46.387Z,2012-08-23T15:54:46.387Z,Broke download links,"The download page [1] links to:

http://www.apache.org/dyn/closer.cgi/archiva/binaries/archiva/1.3.5/apache-archiva-1.3.5-bin.zip

However that returns 404. as the file is actually under

/archiva/1.3.5/binaries/

not

/archiva/binaries/archiva/1.3.5/



[1] http://archiva.apache.org/download.html

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sebb,sebb@apache.org
MRM-1617,Sub-task,2012-03-13T12:38:07.801Z,2012-03-13T12:38:07.801Z,2012-09-06T07:38:07.424Z,2012-09-06T07:38:07.424Z,2012-03-15T17:33:20.892Z,2012-03-15T17:33:20.892Z,reset password link,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1640,Bug,2012-07-05T08:50:42.104Z,2012-07-05T08:50:42.104Z,2015-04-05T14:54:12.728Z,2015-04-05T14:54:12.728Z,2012-07-05T08:55:44.409Z,2012-07-05T08:55:44.409Z,"With the new Fest Assert version, some imports/methods call have to be changed",The unit tests for ArtifactContentEntries and BrowseService didn't moved to the new version and artifact used since commit https://github.com/apache/archiva/commit/882a6dffa19dbc6993d2b6937dee747fe23dc37b,Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1609,Bug,2012-02-29T05:07:06.778Z,2012-02-29T05:07:06.778Z,2015-04-05T14:54:00.294Z,2015-04-05T14:54:00.294Z,2012-03-01T11:08:30.486Z,2012-03-01T11:08:30.486Z,MetadataToolsTest fail in testGatherSnapshotVersionsA,"MetadataToolsTest fails if testGatherSnapshotVersionsAWithProxies is tested before testGatherSnapshotVersionsA

ProxyConnector set in testGatherSnapshotVersionsAWithProxies stay for next test.

Patch to remove proxyConnector in testGatherSnapshotVersionsA

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1691,Bug,2012-10-11T01:56:14.776Z,2012-10-11T01:56:14.776Z,2012-10-11T01:56:14.776Z,2012-10-11T01:56:14.776Z,,,Unable to change user properties without password values,"I log in as my admin user and attempt to change 3 of my ""service account"" users to disable the ""Change password required"" option.  

If I click the red icon in the last column of the user record on the summary page to disable the ""Change password required"" option it says it succeeds and the icon changes to a little sun icon.  However, if I refresh the page, it reverts back to the red icon.

If I go into the edit user dialog and uncheck the box and click ""Save"", it highlights the password field stating that the password is required.

It doesn't seem feasible to require a password change if simply updating other user attributes.",Major,Open,,,,Jeff Vincent,predatorvi
MRM-1623,Bug,2012-04-12T16:35:29.708Z,2012-04-12T16:35:29.708Z,2012-04-12T17:05:42.094Z,2012-04-12T17:05:42.094Z,2012-04-12T17:05:41.905Z,2012-04-12T17:05:41.905Z,Archiva Consumers :: Consumers Archetype cannot run integration test,"Archiva is using 2.4-SNAPSHOT compiler plugin but during IT test of Consumers Archetype the pom use 2.3.2 version.

if artifact is not on your local repository it will not try to download. Same for other artifacts or plugin. Not sure of what a fix must be.

all\archiva\archiva-modules\archiva-base\archiva-consumers\archiva-consumer-archetype\src\main\resources\archetype-resources\pom.xml",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1662,Improvement,2012-09-10T05:01:05.447Z,2012-09-10T05:01:05.447Z,2015-04-05T14:53:49.126Z,2015-04-05T14:53:49.126Z,2012-09-10T05:24:38.673Z,2012-09-10T05:24:38.673Z,Add a link to all screenshots page in the caption of the carousel,The captions of the carousel should include a lin to the features page (aka screenshots page) for an easy access.,Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1618,New Feature,2012-03-20T11:20:41.684Z,2012-03-20T11:20:41.684Z,2012-03-21T00:18:48.568Z,2012-03-21T00:18:48.568Z,,,Karaf obr feature 'addurl' command not accepting archiva repository URL,"Hi,
I have successfully hosted a repository in one of my local folders on C:
The repository was created through the archiva web admin portal running on localhost

What I would like to know is,

1. can I somehow supply the url of my new repository to the obr feature's addurl command in karaf? Right now I get a 401 error
2. can i supply an http://user:password@localhost/archiva... to karaf obr? It doesn't seem to work
3. Is it possible to do a bundle:install using archiva ? from karaf
4. Where does archiva store the repository.xml we have come to associate with obr repositories? as we see in c:\users\user\.m2\repository
5. Can someone please point me to any documentation where I can learn how I can publish a package from maven build into an archiva managed repository?

Thanks",Minor,Open,,Jean-Baptiste Onofré,jbonofre,Rohit Nijhawan,nijhawan
MRM-1643,Bug,2012-07-14T08:00:52.496Z,2012-07-14T08:00:52.496Z,2012-08-01T15:50:41.79Z,2012-08-01T15:50:41.79Z,2012-07-14T17:12:58.524Z,2012-07-14T17:12:58.524Z,Error 500 when browsing artifact group,"When I try to browse a repository from the web UI and open an artifact group, I get a HTTP 500 error with the following message:

{noformat}
javax.servlet.ServletException: javax.jdo.JDODataStoreException: Error executing JDOQL query ""SELECT ""THIS"".""GROUP_ID"" FROM ""ARCHIVA_ARTIFACT"" ""THIS"" WHERE ((""THIS"".""REPOSITORY_ID"" = ? OR ""THIS"".""REPOSITORY_ID"" = ?)) AND ""THIS"".""GROUP_ID"" LIKE ? ESCAPE '\\'  GROUP BY ""THIS"".""GROUP_ID"" ORDER BY ""THIS"".""GROUP_ID"""" : ERROR: invalid escape string
  Rada: Escape string must be empty or one character..
NestedThrowables:
org.postgresql.util.PSQLException: ERROR: invalid escape string
  Rada: Escape string must be empty or one character.{noformat}",Major,Closed,Won't Fix,,,Vojtech Sigler,vsigler
MRM-1626,Improvement,2012-04-17T17:32:06.805Z,2012-04-17T17:32:06.805Z,2015-04-05T14:54:03.908Z,2015-04-05T14:54:03.908Z,2012-04-19T04:24:21.961Z,2012-04-19T04:24:21.961Z,Use MavenXpp3Reader as a static variable,"2012/4/17 Charles Kim <charlesk@yahoo-inc.com>:
> Hi,
> It seems that MavenXpp3Reader is threadsafe.  If so, can this be used 
> as static variable instead of creating it for every request? (Although underlying XmlPullParser does the heavy lifting) Thanks.
>

I think too it's thread safe (good catch !).
Do you want to submit a patch for this fix ?

--
Olivier Lamy
Talend: http://coders.talend.com
http://twitter.com/olamy | http://linkedin.com/in/olamy
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Charles King,charlesk
MRM-1697,Bug,2012-10-15T15:13:57.332Z,2012-10-15T15:13:57.332Z,2012-10-16T03:41:56.674Z,2012-10-16T03:41:56.674Z,2012-10-16T03:41:56.629Z,2012-10-16T03:41:56.629Z,Confusing behavior when session is lost,"When the session is lost, clicking on a menu item that requires r=prviliges trigger the display of the following error message:

bq.You need to be authenticated for this action or have more privileges.

But the displayed button is ""logout""

!Selection_003.png!

Maybe when a session is lost, the UI should be reloaded as displayed for a fresh access to the application, e.g. with ""Login"" button and only the menu items that are accessible to guests.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Julien Béti,motofix
MRM-1673,Bug,2012-09-14T14:25:06.109Z,2012-09-14T14:25:06.109Z,2012-09-24T22:20:00.224Z,2012-09-24T22:20:00.224Z,,,Cannot manually upload certain artifacts or Archiva says you can't but you can,"Unfortunately, I'm stuck having to make Production deployments to WebSphere 6.1 until Winter (in NA).  A particular JSF 1.2 project I'm maintaining uses RichFaces 3.3.3.Final.  To resolve a horrendous memory leak problem involving capping the number of logical views it can generate and another problem involving IE9 and also adding a tooltip feature to the RichFaces calendar, I downloaded the source, modified it, and generated my own custom artifacts.

I now need to upload them to Archiva so they can be included in the next Production release, or my head will roll when the WAS 6.1 cluster goes down due to logical views getting created out the wazoo.

Three artifacts are produced when building RichFaces 3.3.3.Final's source using Maven 2 and -P jsf2:
richfaces-api-3.3.3.Final.jar (has no .pom)
richfaces-impl-jsf2-3.3.3.Final.jar (has a .pom)
richfaces-ui-3.3.3.Final.jar (has a .pom)

Archiva seems to upload the ui .jar just fine.  However, two oddball things happened for the other two .jars.

First:
I accidentally had selected the Snapshots repository when I tried to upload the api .jar.  I received the error message that I can't overwrite artifacts to that repository.  So, I selected a managed repository that I created.  I still received the same error message.  Upon inspection of the repo via ""Browse"", I was able to verify that the artifact had indeed been uploaded successfully.

Second:
I tried uploading the impl .jar but was promptly denied by the same error message as before.  Once again, it was successfully uploaded to the repo.

I find that, to get this section to actually work, I have to do a lot postbacks (navigate to another section in Archiva do a refresh, shift + refresh, or even log out and refresh and then log back in - argh).

Additionally, I can't upload these release artifacts to the default ""internal"" repo?  Why?  I'd like to simply upload them there and set it to where they're never updated by the artifacts present Central.  Please advise.
",Critical,Open,,,,Chris Harris,Chris Harris
MRM-1605,Bug,2012-02-16T03:00:04.607Z,2012-02-16T03:00:04.607Z,2012-09-08T06:34:51.083Z,2012-09-08T06:34:51.083Z,,,deletion of artifacts doesn't delete correctly maven metadata,,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1630,Improvement,2012-05-28T09:58:54.695Z,2012-05-28T09:58:54.695Z,2012-10-13T16:31:37.197Z,2012-10-13T16:31:37.197Z,2012-10-13T16:31:37.141Z,2012-10-13T16:31:37.141Z,manual artifact upload should determine artifact id and group id from uploaded pom,The artifact upload web interface should be able to parse the uploaded pom to populate artifact id and group id.,Trivial,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Olivier Bourgain,olivier.bourgain
MRM-1612,Bug,2012-03-01T07:13:27.784Z,2012-03-01T07:13:27.784Z,2012-03-01T07:16:22.894Z,2012-03-01T07:16:22.894Z,2012-03-01T07:16:14.589Z,2012-03-01T07:16:14.589Z,configuration changes spawn an unreasonable number of checks on repository permission templates,"After adding 128 repositories, then attempting to make a configuration change, I found that requests no longer completed in a reasonable amount of time. I found that when the configuration was saved, every field in every managed repository caused a resync of all managed repositories role templates.

Instead, it should do this only when changing an ID.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1615,Sub-task,2012-03-08T07:30:20.121Z,2012-03-08T07:30:20.121Z,2012-09-06T07:38:08.184Z,2012-09-06T07:38:08.184Z,2012-03-26T06:00:25.216Z,2012-03-26T06:00:25.216Z,Artifact detail view,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1656,Sub-task,2012-07-30T07:41:53.771Z,2012-07-30T07:41:53.771Z,2012-09-05T14:26:33.309Z,2012-09-05T14:26:33.309Z,2012-09-05T14:26:33.067Z,2012-09-05T14:26:33.067Z,Failed tests: testAddUser(org.apache.archiva.redback.users.cached.CachedUserManagerTest),"[INFO] ------------------------------------------------------------------------
[INFO] Building Redback :: Users Provider :: Cached 2.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
[INFO] --- maven-enforcer-plugin:1.0:enforce (default) @ redback-users-cached ---
[INFO]
[INFO] --- maven-remote-resources-plugin:1.3:process (default) @ redback-users-cached ---
[INFO]
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ redback-users-cached ---
[debug] execute contextualize
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.5.1:compile (default-compile) @ redback-users-cached ---
[INFO] Compiling 1 source file to C:\archiva-all\redback-core\redback-users\redback-users-providers\redback-users-cached\target\classes
[INFO]
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ redback-users-cached ---
[debug] execute contextualize
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-compiler-plugin:2.5.1:testCompile (default-testCompile) @ redback-users-cached ---
[INFO] Compiling 1 source file to C:\archiva-all\redback-core\redback-users\redback-users-providers\redback-users-cached\target\test-classes
[INFO]
[INFO] --- maven-surefire-plugin:2.12:test (default-test) @ redback-users-cached ---
[INFO] Surefire report directory: C:\archiva-all\redback-core\redback-users\redback-users-providers\redback-users-cached\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.archiva.redback.users.cached.CachedUserManagerTest
Jul 30, 2012 2:33:29 PM org.springframework.test.context.TestContextManager retrieveTestExecutionListeners
INFO: @TestExecutionListeners is not present for class [class org.apache.archiva.redback.users.cached.CachedUserManagerTest]: using defaults.
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [file:/C:/archiva-all/redback-core/redback-users/redback-users-providers/redback-users-cached/target/classes/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-core/redback-policy/target/redback-policy-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-core/redback-configuration/target/redback-configuration-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-components/spring-registry/spring-registry-commons/target/spring-registry-commons-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-components/spring-cache/spring-cache-api/target/spring-cache-api-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-components/spring-cache/spring-cache-providers/spring-cache-ehcache/target/spring-cache-ehcache-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-core/redback-users/redback-users-providers/redback-users-jdo/target/redback-users-jdo-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-core/redback-common/redback-common-jdo/target/redback-common-jdo-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-components/spring-jdo2/target/spring-jdo2-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/C:/archiva-all/redback-core/redback-users/redback-users-providers/redback-users-memory/target/redback-users-memory-2.0-SNAPSHOT.jar!/META-INF/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider registerDefaultFilters
INFO: JSR-330 'javax.inject.Named' annotation found and supported for component scanning
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [file:/C:/archiva-all/redback-core/redback-users/redback-users-providers/redback-users-cached/target/test-classes/spring-context.xml]
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'userManager#cached': replacing [Generic bean: class [org.apache.archiva.redback.users.cached.CachedUserManager]; scope=singleton; abstract=false; lazyInit=true; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; in
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'cache#users': replacing [Generic bean: class [org.apache.archiva.redback.components.cache.ehcache.EhcacheCache]; scope=; abstract=false; lazyInit=true; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodN
Jul 30, 2012 2:33:29 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.context.support.GenericApplicationContext@141e00a: startup date [Mon Jul 30 14:33:29 CEST 2012]; root of context hierarchy
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor <init>
INFO: JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
Jul 30, 2012 2:33:29 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@a33d2c: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.
31 [main] INFO org.apache.archiva.redback.components.cache.builder.DefaultCacheBuilder - Cache with role-hint default doesn't exists, default will be no cache
Jul 30, 2012 2:33:30 PM org.jpox.util.JDK14Logger warn
WARNING: Property org.jpox.validateSchema unknown - will be ignored
Jul 30, 2012 2:33:30 PM org.jpox.util.JDK14Logger info
INFO: PersistenceManagerFactory - Vendor: JPOX  Version: 1.1.9
Jul 30, 2012 2:33:30 PM org.jpox.util.JDK14Logger info
INFO: PersistenceManagerFactory initialised for datastore URL=jdbc:hsqldb:mem:redback-test driver=org.hsqldb.jdbcDriver userName=sa
546 [main] WARN net.sf.ehcache.config.ConfigurationFactory - No configuration found. Configuring ehcache from ehcache-failsafe.xml  found in the classpath: jar:file:/S:/m2/repo/net/sf/ehcache/ehcache-core/2.5.2/ehcache-core-2.5.2.jar!/ehcache-failsafe.xml
Tests run: 13, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.719 sec <<< FAILURE!
Jul 30, 2012 2:33:30 PM org.springframework.context.support.AbstractApplicationContext doClose
INFO: Closing org.springframework.context.support.GenericApplicationContext@141e00a: startup date [Mon Jul 30 14:33:29 CEST 2012]; root of context hierarchy

Results :

Failed tests:   testAddUser(org.apache.archiva.redback.users.cached.CachedUserManagerTest): expected:<1> but was:<2>

Tests run: 13, Failures: 1, Errors: 0, Skipped: 0",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Michael Cramer,BigMichi1
MRM-1603,New Feature,2012-02-14T04:57:16.303Z,2012-02-14T04:57:16.303Z,2014-02-25T19:24:15.495Z,2014-02-25T19:24:15.495Z,,,add consumer to consume hpi (jenkins plugin) and generate/update an update center file,,Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1610,Improvement,2012-02-29T17:26:41.688Z,2012-02-29T17:26:41.688Z,2012-03-01T08:27:17.442Z,2012-03-01T08:27:17.442Z,2012-03-01T08:27:17.153Z,2012-03-01T08:27:17.153Z,Use Jackson as jaxrs provider for cxf for performance reasons,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1666,Bug,2012-09-11T03:37:14.875Z,2012-09-11T03:37:14.875Z,2012-09-11T03:37:14.875Z,2012-09-11T03:37:14.875Z,,,Potential issue in reordering,"I cannot reproduce in a regular manner but seems that reordering repository and saving is not always working.

5 remote for one managed repository

Moving second to last place:

* I experience duplicate repo name in the list, but saving was not working.
* Sometime working with some red in line to save modification.

",Minor,Open,,,,Eric Barboni,skygolanur
MRM-1687,Bug,2012-10-09T11:42:24.943Z,2012-10-09T11:42:24.943Z,2012-10-10T15:23:48.325Z,2012-10-10T15:23:48.325Z,2012-10-10T15:12:26.461Z,2012-10-10T15:12:26.461Z,artifact browser isn't sorting all items correctly.,"In the browser, some of the packages are not in order.  Not a huge deal, but makes it confusing a bit when searching for an artifact via the drill down.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jeff Vincent,predatorvi
MRM-1653,Bug,2012-08-06T17:12:27.734Z,2012-08-06T17:12:27.734Z,2012-08-07T09:28:46.076Z,2012-08-07T09:28:46.076Z,2012-08-07T09:28:42.617Z,2012-08-07T09:28:42.617Z,Bad mod on file in the bundle,"When building the bundle of Archiva, some files have incorrect mod:

{code}
$ tree apache-archiva-js-1.4-M3-SNAPSHOT
apache-archiva-js-1.4-M3-SNAPSHOT
â??â??â?? LICENSE
â??â??â?? NOTICE
â??â??â?? apps
â??Â Â  â??â??â?? archiva
â??Â Â      â??â??â?? META-INF [error opening dir]
â??Â Â      â??â??â?? WEB-INF [error opening dir]
â??Â Â      â??â??â?? css [error opening dir]
â??Â Â      â??â??â?? favicon.ico
â??Â Â      â??â??â?? images [error opening dir]
â??Â Â      â??â??â?? img [error opening dir]
â??Â Â      â??â??â?? index.html
â??Â Â      â??â??â?? js [error opening dir]
â?¦
{code}

with more details:

{code}
$ ls -al apache-archiva-js-1.4-M3-SNAPSHOT/apps/archiva/
total 24
drwxr-xr-x  10 adrien  staff   340B  6 aoÃ» 23:48 ./
drwxr-xr-x   3 adrien  staff   102B  6 aoÃ» 23:48 ../
d---------   4 adrien  staff   136B  6 aoÃ» 22:01 META-INF/
d---------   6 adrien  staff   204B  6 aoÃ» 22:01 WEB-INF/
d---------  11 adrien  staff   374B  6 aoÃ» 22:01 css/
-rwxr-xr-x   1 adrien  staff   3,6K  5 aoÃ» 00:50 favicon.ico*
d---------  32 adrien  staff   1,1K  6 aoÃ» 22:01 images/
d---------   6 adrien  staff   204B  6 aoÃ» 22:01 img/
-rwxr-xr-x   1 adrien  staff   6,9K  5 aoÃ» 13:33 index.html*
d---------  30 adrien  staff   1,0K  6 aoÃ» 22:01 js/
{code}",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1611,Bug,2012-03-01T02:21:52.27Z,2012-03-01T02:21:52.27Z,2012-03-01T04:29:37.087Z,2012-03-01T04:29:37.087Z,2012-03-01T04:29:36.832Z,2012-03-01T04:29:36.832Z,Uploading fail on window server.,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1634,Bug,2012-06-07T04:15:22.986Z,2012-06-07T04:15:22.986Z,2012-06-07T04:15:22.986Z,2012-06-07T04:15:22.986Z,,,wrapper script broken - it cannot find the java executable,"When i try to start archiva as documented in the docu (.\bin\archiva.bat console) i get an error from the wrapper script:

E:\archiva-snapshot>.\bin\archiva console
wrapper  | --> Wrapper Started as Console
wrapper  | Launching a JVM...
wrapper  | Unable to execute Java command.  The system cannot find the file specified. (0x2)
wrapper  |     ""java"" -Dappserver.home=. -Dappserver.base=. -Djetty.logs=./logs -Djava.io.tmpdir=./temp -Darchiva.tmp.group.index.ttl=30 -XX:MaxPermSize=128m -Xms512m -Xmx512m -Djava.library.path=""lib"" -classpath ""lib/wrapper.jar;lib/archiva-jetty-js-1.4-M3-SNAPSHOT.pom;lib/jetty-server-7.4.5.v20110725.jar;lib/servlet-api-2.5.jar;lib/jetty-continuation-7.4.5.v20110725.jar;lib/jetty-http-7.4.5.v20110725.jar;lib/jetty-io-7.4.5.v20110725.jar;lib/jetty-jndi-7.4.5.v20110725.jar;lib/jetty-start-7.4.5.
v20110725.jar;lib/jetty-plus-7.4.5.v20110725.jar;lib/geronimo-jta_1.1_spec-1.1.1.jar;lib/jetty-webapp-7.4.5.v20110725.jar;lib/jetty-servlet-7.4.5.v20110725.jar;lib/jetty-security-7.4.5.v20110725.jar;lib/jetty-deploy-7.4.5.v20110725.jar;lib/jetty-xml-7.4.5.v20110725.jar;lib/jetty-util-7.4.5.v20110725.jar;lib/derby-10.8.2.2.jar;lib/mail-1.4.jar;lib/activation-1.1.jar;lib/ant-1.8.3.jar;lib/ant-launcher-1.8.3.jar;lib/commons-dbcp-1.4.jar;lib/commons-pool-1.6.jar"" -Dwrapper.key=""dy4iBSHrKipw5C5P"" -Dw
rapper.port=32001 -Dwrapper.jvm.port.min=31000 -Dwrapper.jvm.port.max=31999 -Dwrapper.pid=2668 -Dwrapper.version=""3.2.3"" -Dwrapper.native_library=""wrapper"" -Dwrapper.cpu.timeout=""10"" -Dwrapper.jvmid=1 org.tanukisoftware.wrapper.WrapperSimpleApp org.eclipse.jetty.start.Main ./conf/jetty.xml
wrapper  | Critical error: wait for JVM process failed
Press any key to continue . . .

When i change the line in the wrapper.conf from:
wrapper.java.command=java
to
wrapper.java.command=E:\Java\jre\bin\java.exe

it works

java is in %PATH%, when i execute java in a fresh cmd.exe, i get the regular output from java. JAVA_HOME JDK_HOME and JRE_HOME is also set. ",Major,Open,,,,asdf asdf,olze
MRM-1682,Bug,2012-10-02T10:17:03.566Z,2012-10-02T10:17:03.566Z,2012-10-02T11:37:27.498Z,2012-10-02T11:37:27.498Z,2012-10-02T11:37:27.036Z,2012-10-02T11:37:27.036Z,archiva server has no option to configure the registration mail,"Today I did register at https://archiva-repository.apache.org/archiva/ and got a registration mail with a wrong link:

http://archiva-vm.apache.org//index.html?validateMe=.....

This link is wrong as it doesn't honour the reverse-proxy settings.
It seems that this link cannot be changed via the configuration UI.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Mark Struberg,struberg
MRM-1646,Bug,2012-07-25T03:58:21.851Z,2012-07-25T03:58:21.851Z,2012-07-31T23:11:16.875Z,2012-07-31T23:11:16.875Z,,,Edit Proxy Connector form problem with removing Patterns,"When I added a pattern to Black List in double quotes (""""com/dodax/**"""") by accident I am not able to delete it, even though the same pattern can be deleted from the White List",Major,Open,,,,Dmytro Yurchenko,dymka
MRM-1667,Bug,2012-09-11T04:01:23.079Z,2012-09-11T04:01:23.079Z,2015-04-05T14:53:45.71Z,2015-04-05T14:53:45.71Z,2012-09-11T04:11:57.855Z,2012-09-11T04:11:57.855Z,The role management is not shown on role edit tab,"In the user edit page, the tab to edit the roles of the user display the message ""roles edit"" whereas it should display the roles edit form. 

The issue comes form the .bind() function of jQuery that doesn't recognize ""change"" event. ",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Adrien Lecharpentier,alecharp
MRM-1614,Sub-task,2012-03-02T17:02:13.834Z,2012-03-02T17:02:13.834Z,2015-04-05T14:54:02.488Z,2015-04-05T14:54:02.488Z,2012-05-15T10:45:07.316Z,2012-05-15T10:45:07.316Z,html js transversal review,"This task is to share potential html/js bad code. (Mainly taken from netbeans editor hinter )

#1 ending body misplaced in index.html and index_dev.html
  
#2 potential affectation in condition


#3 ;;",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1683,Bug,2012-10-04T04:37:13.303Z,2012-10-04T04:37:13.303Z,2012-10-05T15:45:24.111Z,2012-10-05T15:45:24.111Z,2012-10-05T15:45:24.033Z,2012-10-05T15:45:24.033Z,Automatic generation of REST Api documentation,"We must find to auto generate documentation on REST api
Enunciate looks to need some code changes on method names 
Other solutions (swagger) are not open source.
So maybe write our own stuff !
Maybe NIH syndrom :-)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1622,Improvement,2012-04-05T18:21:38.778Z,2012-04-05T18:21:38.778Z,2014-04-24T04:16:53.6Z,2014-04-24T04:16:53.6Z,2014-04-24T04:16:53.299Z,2014-04-24T04:16:53.299Z,Repository purge only purges one file extension per classifier,"In case a classifier gets deployed two times with a differnt file extension (e.g. -javadoc.jar and -javadoc.zip), repository purge only deletes one and leaves the other one. In case of lots of snapshot builds the directory fills up and slows down the repository scanning until it is stuck.",Minor,Closed,Fixed,,,Sascha Vogt,saschavogt
MRM-1689,Improvement,2012-10-10T15:32:27.201Z,2012-10-10T15:32:27.201Z,2012-10-11T14:27:58.956Z,2012-10-11T14:27:58.956Z,2012-10-11T14:27:58.624Z,2012-10-11T14:27:58.624Z,Ability to delete a specific version of an an artifact from the artifact screen,"The ability to delete artifacts in context while browsing is AWESOME, but there is one more place it would be handy.  When drilling down to the artifact root where it shows all available versions, it would be nice to be able to remove the entire version (see Capture1.png).  

Currently I must drill into the version, click the ""Artifacts"" tab and removed each artifact individually (see Capture2.png).  This isn't a big deal with Release versions but for SNAPSHOT versions, there may be MANY artifacts.  ",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jeff Vincent,predatorvi
MRM-1670,Bug,2012-09-12T23:18:00.06Z,2012-09-12T23:18:00.06Z,2012-09-13T11:26:10.057Z,2012-09-13T11:26:10.057Z,2012-09-13T11:26:10.023Z,2012-09-13T11:26:10.023Z,"non-default Repositories, Repository Groups, and Proxy Connectors disappear when switching Archiva to Windows service","When I set up Archiva on Tomcat, I was launching Tomcat manually via the command prompt.  During this time, I set up 2 repositories (1 with a Stage repository), many remote repositories, a repository group, and a proxy connector. Once I was satisfied with my setup, I set the Tomcat instance as a Windows service.

I was surprised to find that the repositories, repository group, and proxy connector I created were missing.  Only the default internal and snapshots repositories remained.  The default central remote repository remained. The default proxy connector was still present (the one connecting internal to central).  No repository groups remained.

I located ${appserver.base} and found data/repositories.  Within that subdirectory path, I found my 2 repositories (+ the stage repository for a total of 3 repos).

Suspecting buggery, I created a new managed repository named test.  Sure enough, test appeared in the same subdirectory as the 3 repos I created when Archiva was not launched via Tomcat as a Windows service.  Archiva could see test, but it could not see the other 3 repos.

I've attached screenshots showing the Archiva ui and Windows Explorer after I created ""test"".",Minor,Closed,Won't Fix,,,Chris Harris,Chris Harris
MRM-1645,Bug,2012-07-20T12:47:33.753Z,2012-07-20T12:47:33.753Z,2015-04-05T14:54:00.854Z,2015-04-05T14:54:00.854Z,2012-07-30T09:40:47.477Z,2012-07-30T09:40:47.477Z,mvn archetype:generate -DarchetypeCatalog (archetype-catalog.xml) failing with Not a valid artifact path ,"""mvn archetype:generate -DarchetypeCatalog=http://host:9999/repository/public/foo/maven_archetypes"" will append the archetype-catalog.xml and it should fetch the list of archetypes.  However, this is failing on Archiva where an exception is thrown with ""java.lang.IllegalArgumentException: Not a valid artifact path in a Maven 2 repository, filename 'archetype-catalog.xml' doesn't start with artifact ID"" since Archiva is treating this as an artifact.

I think there needs to be a check for such case similar to metadata file for an archetype catalog so that it doesn't try to check for valid artifact format.  I can create a ticket and submit a patch for this.
Thanks.
-Charlie

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,charles kim,charlesk40
MRM-1658,Test,2012-08-28T16:52:57.71Z,2012-08-28T16:52:57.71Z,2012-09-13T16:44:41.367Z,2012-09-13T16:44:41.367Z,,,Archiva not honoring managed configuration to get meta or others artifacts,"Well, was looking for lots of log because I find archiva a bit slow.

2 managed (internal and company-internal) only release (3 remotes)
2 managed (snap and company-internal) only snap (12-remotes)

Trying to compile archiva, looking for apache9-pom 
it fails on the 12 remotes only snap.

I attach a test case copy pasted from Maven2RepositoryMetadataResolverTestand expecting an exception.

Don't want to disturb build before having feedback it's a bug.
",Major,Open,,,,Eric Barboni,skygolanur
MRM-1629,Bug,2012-05-24T11:27:06.091Z,2012-05-24T11:27:06.091Z,2012-05-25T16:51:07.226Z,2012-05-25T16:51:07.226Z,2012-05-25T16:51:07.093Z,2012-05-25T16:51:07.093Z,Add a configuration field for the application url,"For people using dns entry with an http in front, emails, download url doesn't contains this dns entry.
We can add a new configuration for configuring the dns entry (i.e. archiva-repository.apache.org )",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1602,Bug,2012-02-10T11:11:36.001Z,2012-02-10T11:11:36.001Z,2012-04-04T03:24:08.827Z,2012-04-04T03:24:08.827Z,,,Purge task problem : Not enough parts to the path,"I keep on having these logs :
I'm using archiva 1.3.1.
I thought this was fixed in MRM-1151, but I still get this :


2010-07-20 14:00:36,868 [pool-2-thread-1] INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Executing task from queue with job name: RepositoryTask [repositoryId=sofaxis-snapshot, resourceFile=null, scanAll=false, updateRelatedArtifacts=false]
2010-07-20 14:00:36,868 [pool-2-thread-1] INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Started: [sofaxis-snapshot] D:\maven_archiva_data\data\repositories\sofaxis-snapshot
2010-07-20 14:00:36,868 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer [repository-purge] had an error when processing file [D:\maven_archiva_data\data\repositories\sofaxis-snapshot\.index\nexus-maven-repository-index.zip]: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
org.apache.maven.archiva.consumers.ConsumerException: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:174)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:50)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:137)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:117)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:61)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:144)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.process(CleanupReleasedSnapshotsRepositoryPurge.java:194)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:167)
	... 17 more
Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:65)
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:54)
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:340)
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.process(CleanupReleasedSnapshotsRepositoryPurge.java:103)
	... 18 more
",Major,Open,,,,J.D. Montgomery,jdm@powercosts.com
MRM-1613,Bug,2012-03-01T14:50:04.975Z,2012-03-01T14:50:04.975Z,2012-03-01T15:26:34.871Z,2012-03-01T15:26:34.871Z,2012-03-01T15:26:34.711Z,2012-03-01T15:26:34.711Z,Password reset emails contain the wrong url for a reverse proxy setup,"we are running archiva with a reverse proxy setup using apache like this

ProxyPass /archiva/ http://localhost:8081/archiva/
ProxyPassReverse /archiva/ http://localhost:8081/archiva/

when requesting a password reset, the url used in the email is

http://localhost:8081/archiva/security/login...

i.e. it uses the url name derived from the tomcat server configuration or from the current request.

It would be better if the base url could be configured to a specific value.

",Minor,Closed,Not A Problem,,,Alexander Lehmann,alexlehm
MRM-1669,Bug,2012-09-12T09:12:07.372Z,2012-09-12T09:12:07.372Z,2012-09-13T15:03:06.246Z,2012-09-13T15:03:06.246Z,2012-09-13T15:03:06.063Z,2012-09-13T15:03:06.063Z,Archiva consumer archetype cannot complete integration-test on windows,"Building archiva as mention in 
http://archiva.apache.org/developers/building.html fail on windows during verify goal in goal.txt of archiva-consumer-archetype

{code}
Error: Unable to access jarfile ..... \archiva\archiva-modules\archiva-base\archiva-consumers\archiva-consumer-archetype\target\test-classes\projects\compile\project\simple-consumer-compile\target\surefire\surefirebooter4054397212744405300.jar
{code}",Blocker,Closed,Won't Fix,,,Eric Barboni,skygolanur
MRM-1675,Bug,2012-09-20T22:45:57.851Z,2012-09-20T22:45:57.851Z,2012-09-24T17:22:51.01Z,2012-09-24T17:22:51.01Z,2012-09-24T17:22:50.986Z,2012-09-24T17:22:50.986Z,"When resetting admin account's password, using invalid new password yields no error message","I tried resetting the admin account's password to ""admin"".  It failed.  I could see a vertically compressed red error message box appear at the top of the screen.  No error message was present within it.  The 'X' to close the message box was present.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1681,Bug,2012-09-29T18:04:04.116Z,2012-09-29T18:04:04.116Z,2012-10-03T01:43:32.43Z,2012-10-03T01:43:32.43Z,2012-10-03T01:43:32.057Z,2012-10-03T01:43:32.057Z,addProxy Connectors Rules screen,This screen will configure excludes/includes for collection of proxy connectors.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1664,Bug,2012-09-10T13:35:05.427Z,2012-09-10T13:35:05.427Z,2012-09-14T12:00:07.469Z,2012-09-14T12:00:07.469Z,2012-09-14T11:25:50.384Z,2012-09-14T11:25:50.384Z,Validation error message not visible to user when adding Remote Repository,"I was setting up remote repositories and noticed that one of the remote repositories wasn't getting saved.  No error messages were displayed.

Luckily, I had access to the Archiva logs.  I found this error:
2012-09-10 13:21:18,811 [ajp-bio-8011-exec-2] ERROR org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver  - Error occurred during error handling, give up!
org.apache.cxf.interceptor.Fault: Invalid repository name. Repository Name must only contain alphanumeric characters, white-spaces(' '), forward-slashes(/), open-parenthesis('('), close-parenthesis(')'),  underscores(_), dots(.), and dashes(-).
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:128)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:167)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:94)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:94)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:262)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:122)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:211)
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:213)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:154)
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:129)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:187)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:110)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:166)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)
	at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
	at org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:200)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)
	at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	at java.lang.Thread.run(Thread.java:722)
Caused by: org.apache.archiva.admin.model.RepositoryAdminException: Invalid repository name. Repository Name must only contain alphanumeric characters, white-spaces(' '), forward-slashes(/), open-parenthesis('('), close-parenthesis(')'),  underscores(_), dots(.), and dashes(-).
	at org.apache.archiva.admin.repository.DefaultRepositoryCommonValidator.basicValidation(DefaultRepositoryCommonValidator.java:108)
	at org.apache.archiva.admin.repository.remote.DefaultRemoteRepositoryAdmin.addRemoteRepository(DefaultRemoteRepositoryAdmin.java:158)
	at org.apache.archiva.rest.services.DefaultRemoteRepositoriesService.addRemoteRepository(DefaultRemoteRepositoriesService.java:83)
	at sun.reflect.GeneratedMethodAccessor67.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)

The remote repo's name had an apostrophe in it.  Ex. - Google's open source releases.

I removed the apostrophe.  I was able to then Save the remote repository.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1607,Bug,2012-02-26T02:48:17.141Z,2012-02-26T02:48:17.141Z,2012-02-26T03:07:55.384Z,2012-02-26T03:07:55.384Z,2012-02-26T03:07:55.084Z,2012-02-26T03:07:55.084Z,maven model build failed when model have jdk profile activation,"sample with maven-archiver 2.4.1
{code}
[ERROR] Failed to determine Java version for profile jre-1.5+ @ org.apache.maven.shared:maven-shared-components:15
{code}",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1676,Bug,2012-09-24T11:07:41.108Z,2012-09-24T11:07:41.108Z,2012-09-24T11:16:30.91Z,2012-09-24T11:16:30.91Z,2012-09-24T11:16:30.659Z,2012-09-24T11:16:30.659Z,use tomcat-jdbc for connection pooling in embeded distrib.,See http://www.tomcatexpert.com/blog/2010/03/22/understanding-jdbc-pool-performance-improvements,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1686,Task,2012-10-08T14:31:13.606Z,2012-10-08T14:31:13.606Z,2012-10-09T03:31:05.03Z,2012-10-09T03:31:05.03Z,2012-10-09T03:31:04.864Z,2012-10-09T03:31:04.864Z,stop support of struts2 webapp,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1649,Bug,2012-07-30T08:33:55.801Z,2012-07-30T08:33:55.801Z,2012-07-30T09:23:39.48Z,2012-07-30T09:23:39.48Z,2012-07-30T09:23:39.37Z,2012-07-30T09:23:39.37Z,Delete artifact in the console doesn't really delete the artifact,"When we use the delete artifact button on the WebConsole, the artifacts are deleted from the filesystem but the metadata are still present (and the artifacts are still present in the WebConsole).",Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1606,Improvement,2012-02-17T05:07:32.088Z,2012-02-17T05:07:32.088Z,2012-02-17T05:36:51.562Z,2012-02-17T05:36:51.562Z,2012-02-17T05:36:51.264Z,2012-02-17T05:36:51.264Z,Upgrade to wagon 2.2,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1695,Bug,2012-10-15T07:43:12.623Z,2012-10-15T07:43:12.623Z,2012-11-23T03:45:53.024Z,2012-11-23T03:45:53.024Z,2012-11-23T03:45:52.793Z,2012-11-23T03:45:52.793Z,Users from LDAP does not appear in User List,"We've installed Archiva 1.3.5, connected to the LDAP and everything concerning user management was fine:
* Users was able to login using their LDAP account
* Administrator saw the list of users in Archiva interface, and was able to change their privileges

We've moved to Archiva 1.4-M3, and:
* LDAP users still able to authenticate
* Privileges that were assigned to users in Archiva 1.3.5 are still active
* LDAP users does not appear in user list anymore, preventing their archiva-related administration
* When a new user, that never logged in, authenticates, it works (the user is logged in) but the following message appear: 
{code}
[Unable to find RBAC Object 'myuser' of type org.apache.archiva.redback.rbac.jdo.JdoUserAssignment using fetch-group 'null']
{/code}
* LDAP users does not appear in user list anymore, preventing their archiva-related administration


See the screenshot as an exemple: I'm logged-in using 'jbeti' user, I'm admin of Archiva, but I do not appear in user list",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Julien Béti,motofix
MRM-1647,Bug,2012-07-26T11:01:31.429Z,2012-07-26T11:01:31.429Z,2012-08-01T14:43:12.768Z,2012-08-01T14:43:12.768Z,2012-08-01T14:43:12.712Z,2012-08-01T14:43:12.712Z,Cannot upload artifact from Web UI,"Whenever I fill out the upload form and submit, it always returns a form error
""Please add a file to upload."". It doesn't matter if I upload just a jar or also the pom file. There is the same result for both.

All that was in the logs about the
upload was that the ""struts.multipart.saveDir"" was missing and that it
would use the default. I tried setting this and added a line to
struts.properties, but I'm still getting the ""Please add a file to
upload."" message.

When the ""struts.multipart.saveDir"" is set, there is nothing in the log whatsoever.

The uploading feature worked fine using 1.3.5 in the same environment.

I tried downloading and building latest trunk of 1.4-M3, but got the same behavior.",Major,Closed,Not A Problem,,,Vojtech Sigler,vsigler
MRM-1600,Bug,2012-02-03T14:01:37.105Z,2012-02-03T14:01:37.105Z,2012-02-03T14:26:32.465Z,2012-02-03T14:26:32.465Z,2012-02-03T14:26:32.299Z,2012-02-03T14:26:32.299Z,Artifact metadata is incomplete: Error in resolving artifact's parent POM file,"Below error message is shown in the Web interface when browsing artifact's details.

{code}
Artifact metadata is incomplete: Error in resolving artifact's parent POM file. <path-to-parent-pom-in-REPO2> (No such file or directory)
{code}

Steps to reproduce:

# create a parent POM (version = 1) and deploy to releases repository (REPO1)
# create a project POM (version = SNAPSHOT-1.0) that inherits from parent, build and deploy it to snapshots repository ({color:red}REPO2{color})
# browse the Web interface to locate the project artifact

From the above error message it appears that Archiva tries to locate the parent POM in the same repository where the artifact is located, which is not always the case. This problem is not observed in Archiva 1.3.5.
",Major,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Lukasz Szelag,lukasz74nj
MRM-1628,Wish,2012-05-04T11:56:44.177Z,2012-05-04T11:56:44.177Z,2015-04-05T14:53:50.163Z,2015-04-05T14:53:50.163Z,2012-05-04T14:20:07.722Z,2012-05-04T14:20:07.722Z,Silently ignore request to delete artifacts that does not exist on disk anymore,"I have a snapshot repository that grew very large with a huge number of artifacts due to a misconfiguration on the repository purger. As a quick fix I removed the artifacts directly on the filesystem of the the snapshot repository.

After correcting the repository purge config I got ERROR level log messages that stated:

 Unable to delete non-existing project directory:

And the error seems to reoccur every time the snapshot purge was executed (some kind of rollback?).

The attached patch removes the throw clause (it mostly seems to add verbosity to the system?) Maybe the exception should be caught instead, somewhere further up the food chain. It wasn't obvious to me where it would be apropriate though. Thus the quick fix of not throwing the Exception at all.

Here's the stacktrace:

2012-05-04 18:38:01,787 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer [repository-purge
] had an error when processing file [/home/archiva/archiva-base/data/repository/foo-snapshot/com/example/foo/1.6.4-SNAPSHOT/foo-1.6.4-20100826.134549-1.pom]: Unable to delete non-existing project directory.
org.apache.maven.archiva.consumers.ConsumerException: Unable to delete non-existing project directory.
        at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:180)
        at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:187)
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:61)
        at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:161)
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:125)
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:67)
        at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:141)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
        ...

",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Fredrik Jonson,fredrikj
MRM-1637,Bug,2012-06-18T05:22:12.863Z,2012-06-18T05:22:12.863Z,2012-06-18T05:22:25.432Z,2012-06-18T05:22:25.432Z,2012-06-18T05:22:25.395Z,2012-06-18T05:22:25.395Z,End of java 1.5 support,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1688,Improvement,2012-10-10T12:20:10.348Z,2012-10-10T12:20:10.348Z,2012-10-10T12:37:09.545Z,2012-10-10T12:37:09.545Z,2012-10-10T12:37:09.04Z,2012-10-10T12:37:09.04Z,Webdav upload sometimes not working,"My problem is really not with the WebDAV component of the WAGON, but my internet connection is unreliable sometimes. mvn release:perform needs to upload huge number of file and frequently I am getting ""java.net.SocketException: Connection reset"" in the middle of the process.
Besides <timeout> I would like to have <retrycount> adjustable for WebDAV. This would help life much less miserable.

Maybe it is already possible some how to setRetryCount, and I am just not informed. Can someone help me with this?",Major,Closed,Not A Problem,,,Albert Kurucz,ali65
MRM-1616,Improvement,2012-03-12T07:23:05.122Z,2012-03-12T07:23:05.122Z,2012-06-18T09:13:49.011Z,2012-06-18T09:13:49.011Z,2012-06-18T09:13:48.96Z,2012-06-18T09:13:48.96Z,Rewrite of archiva site ,"I try since a pair of days to help in the rewrite of archiva UI. 
But I think that it's a bit hard to work in parallel on very few file (also having network issue so..).

I read somewhere that archiva site should be rewrite to match more the site http://continuum.apache.org/.
Is this correct?

Is there a plan at a ""apache"" level to have a consistent appearance of continuum archiva web site. (Not webapp)

I guess O.Lamy is trying to have some web toolbar for the archiva site.

Can it be possible to have that on maven, continuum, archiva with all this 3 sites having links to them.


Let me know if there is some interest.

Eric",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1650,Improvement,2012-07-30T08:35:50.692Z,2012-07-30T08:35:50.692Z,2012-07-30T09:05:43.455Z,2012-07-30T09:05:43.455Z,2012-07-30T09:05:43.429Z,2012-07-30T09:05:43.429Z,Easier artifacts deletion,"Currently, to be able to delete an artifact, the user has to provide groupId, artifactId, version, etc.

It could be helpful to be able to delete a whole groupId and provide a delete button directly in the browsing view.",Major,Closed,Duplicate,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1624,Improvement,2012-04-13T21:21:10.613Z,2012-04-13T21:21:10.613Z,2015-04-05T14:54:04.148Z,2015-04-05T14:54:04.148Z,2012-08-17T08:03:19.065Z,2012-08-17T08:03:19.065Z,Apache project branding requirements: DOAP file [PATCH],"Attached.  Re: http://www.apache.org/foundation/marks/pmcs
See Also: http://projects.apache.org/create.html",Major,Closed,Fixed,Maria Odea Ching,oching,Shane Curcuru,curcuru
MRM-1632,Bug,2012-06-07T03:45:05.355Z,2012-06-07T03:45:05.355Z,2012-06-11T10:25:42.875Z,2012-06-11T10:25:42.875Z,2012-06-11T09:57:01.479Z,2012-06-11T09:57:01.479Z,Invalid Cron in a job leads jetty to not work anymore,"When entering an invalid cron expression and restarting archiva, it wont start anymore 

jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1197)
jvm 1    |      at java.security.AccessController.doPrivileged(Native Method)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1120)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)
jvm 1    |      at org.eclipse.jetty.start.Main.start(Main.java:612)
jvm 1    |      at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)
jvm 1    |      at org.eclipse.jetty.start.Main.main(Main.java:79)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
jvm 1    |      at java.lang.Thread.run(Unknown Source)
jvm 1    | Caused by:
jvm 1    | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repositoriesService#rest': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.scheduler.indexing.DownloadRemoteIndexScheduler org.apache.archiva.rest.services.DefaultRepositoriesService.downloadRemoteIndexScheduler; nested exception is org.springframework.beans.factory.BeanCrea
tionException: Error creating bean with name 'downloadRemoteIndexScheduler#default': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: cron expression must consist of 6 fields (found 5 in */5   *   *   *  *)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:288)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1074)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)
jvm 1    |      at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)
jvm 1    |      at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)
jvm 1    |      at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:640)
jvm 1    |      at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:229)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1208)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:449)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDeployer.scan(WebAppDeployer.java:306)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDeployer.doStart(WebAppDeployer.java:186)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:41)
jvm 1    |      at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:50)
jvm 1    |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)
jvm 1    |      at org.eclipse.jetty.server.Server.doStart(Server.java:258)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1197)
jvm 1    |      at java.security.AccessController.doPrivileged(Native Method)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1120)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)
jvm 1    |      at org.eclipse.jetty.start.Main.start(Main.java:612)
jvm 1    |      at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)
jvm 1    |      at org.eclipse.jetty.start.Main.main(Main.java:79)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
jvm 1    |      at java.lang.Thread.run(Unknown Source)
jvm 1    | Caused by:
jvm 1    | org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.scheduler.indexing.DownloadRemoteIndexScheduler org.apache.archiva.rest.services.DefaultRepositoriesService.downloadRemoteIndexScheduler; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'downloadRemoteIndexScheduler#default': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: cron
 expression must consist of 6 fields (found 5 in */5   *   *   *  *)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:508)
jvm 1    |      at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:84)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:285)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1074)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)
jvm 1    |      at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)
jvm 1    |      at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)
jvm 1    |      at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:640)
jvm 1    |      at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:229)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1208)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:449)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDeployer.scan(WebAppDeployer.java:306)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDeployer.doStart(WebAppDeployer.java:186)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:41)
jvm 1    |      at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:50)
jvm 1    |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)
jvm 1    |      at org.eclipse.jetty.server.Server.doStart(Server.java:258)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1197)
jvm 1    |      at java.security.AccessController.doPrivileged(Native Method)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1120)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)
jvm 1    |      at org.eclipse.jetty.start.Main.start(Main.java:612)
jvm 1    |      at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)
jvm 1    |      at org.eclipse.jetty.start.Main.main(Main.java:79)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
jvm 1    |      at java.lang.Thread.run(Unknown Source)
jvm 1    | Caused by:
jvm 1    | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'downloadRemoteIndexScheduler#default': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: cron expression must consist of 6 fields (found 5 in */5   *   *   *  *)
jvm 1    |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:394)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1413)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)
jvm 1    |      at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:84)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:285)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1074)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)
jvm 1    |      at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)
jvm 1    |      at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)
jvm 1    |      at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:640)
jvm 1    |      at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:229)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1208)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:449)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDeployer.scan(WebAppDeployer.java:306)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDeployer.doStart(WebAppDeployer.java:186)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.util.component.AggregateLifeCycle.doStart(AggregateLifeCycle.java:41)
jvm 1    |      at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:50)
jvm 1    |      at org.eclipse.jetty.server.handler.HandlerWrapper.doStart(HandlerWrapper.java:90)
jvm 1    |      at org.eclipse.jetty.server.Server.doStart(Server.java:258)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration$1.run(XmlConfiguration.java:1197)
jvm 1    |      at java.security.AccessController.doPrivileged(Native Method)
jvm 1    |      at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1120)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.eclipse.jetty.start.Main.invokeMain(Main.java:469)
jvm 1    |      at org.eclipse.jetty.start.Main.start(Main.java:612)
jvm 1    |      at org.eclipse.jetty.start.Main.parseCommandLine(Main.java:265)
jvm 1    |      at org.eclipse.jetty.start.Main.main(Main.java:79)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
jvm 1    |      at java.lang.Thread.run(Unknown Source)
jvm 1    | Caused by:
jvm 1    | java.lang.IllegalArgumentException: cron expression must consist of 6 fields (found 5 in */5   *   *   *  *)
jvm 1    |      at org.springframework.scheduling.support.CronSequenceGenerator.parse(CronSequenceGenerator.java:233)
jvm 1    |      at org.springframework.scheduling.support.CronSequenceGenerator.<init>(CronSequenceGenerator.java:81)
jvm 1    |      at org.springframework.scheduling.support.CronTrigger.<init>(CronTrigger.java:54)
jvm 1    |      at org.springframework.scheduling.support.CronTrigger.<init>(CronTrigger.java:44)
jvm 1    |      at org.apache.archiva.scheduler.indexing.DefaultDownloadRemoteIndexScheduler.scheduleDownloadRemote(DefaultDownloadRemoteIndexScheduler.java:193)
jvm 1    |      at org.apache.archiva.scheduler.indexing.DefaultDownloadRemoteIndexScheduler.startup(DefaultDownloadRemoteIndexScheduler.java:124)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
jvm 1    |      at java.lang.reflect.Method.invoke(Unknown Source)
jvm 1    |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:340)
jvm 1    |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:293)
jvm 1    |      at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:394)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1413)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:480)
jvm 1    |      at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:84)
jvm 1    |      at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:285)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1074)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:322)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:106)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:353)
jvm 1    |      at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:153)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1325)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1086)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)
jvm 1    |      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:293)
jvm 1    |      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:290)
jvm 1    |      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:192)
jvm 1    |      at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)
jvm 1    |      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)
jvm 1    |      at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:282)
jvm 1    |      at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:204)
jvm 1    |      at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.startContext(ContextHandler.java:640)
jvm 1    |      at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:229)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1208)
jvm 1    |      at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:586)
jvm 1    |      at org.eclipse.jetty.webapp.WebAppContext.doStart(WebAppContext.java:449)
jvm 1    |      at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:58)
jvm 1    |      at org.eclipse.jetty.deploy.WebAppDe",Critical,Closed,Fixed,Brett Porter,brettporter,asdf asdf,olze
MRM-1696,Improvement,2012-10-15T11:28:25.599Z,2012-10-15T11:28:25.599Z,2015-04-05T14:54:01.093Z,2015-04-05T14:54:01.093Z,,,Import metadata for artifact in batch mode,"For the moment, it's not possible to import metadata in batch mode. There isone rest service to add metadata one by one. The patch included add the possibility to add multiple metadatas. 
",Major,Open,,,,Adrien Lecharpentier,alecharp
MRM-1627,Task,2012-05-01T12:42:47.499Z,2012-05-01T12:42:47.499Z,2012-12-20T05:05:10.975Z,2012-12-20T05:05:10.975Z,2012-12-20T05:05:10.918Z,2012-12-20T05:05:10.918Z,Add documentation for Setup archiva with ldap,,Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,mark john magallanes,mmagallanes
MRM-1665,Bug,2012-09-10T17:39:50.765Z,2012-09-10T17:39:50.765Z,2012-09-11T13:51:22.033Z,2012-09-11T13:51:22.033Z,2012-09-11T02:58:44.391Z,2012-09-11T02:58:44.391Z,Adding a Snapshot Managed Repository results in Releases being checked too.,"Every time I add a new snapshot managed repository, save it and return to the ""Repositories"" page, and then refresh the page, I see that my snapshot repository has a sun symbol listed under Releases.

I was able to repeat this process 3 times.

Afterward, I was able to edit the snapshot managed repository and disable Releases.  This could potentially confuse someone if he or she navigates to another page thinking that everything went as expected.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1639,Sub-task,2012-07-03T12:46:27.174Z,2012-07-03T12:46:27.174Z,2012-07-10T05:39:35.277Z,2012-07-10T05:39:35.277Z,2012-07-10T05:39:35.19Z,2012-07-10T05:39:35.19Z,History navigation,"To be more user friendly archiva web ui rewrite must allow a history navigation. 

Current behavior of back button is going to the previous web site event after lots of actions done inside archiva ui.

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1601,New Feature,2012-02-07T02:30:21.842Z,2012-02-07T02:30:21.842Z,2014-04-16T23:05:44.589Z,2014-04-16T23:05:44.589Z,,,Add a consumer which can push informations to a ci server,"The goal is to say to the ci server a new SNAPSHOT of those artifacts is available.
will be an Artifact list in json or xml (must an option).
Per repo ?
Other configurations options:
* ci url to post json/xml
* username/password for BASIC authz to use.",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1644,Bug,2012-07-20T12:12:58.465Z,2012-07-20T12:12:58.465Z,2015-04-05T14:53:45.137Z,2015-04-05T14:53:45.137Z,2012-07-20T16:36:09.878Z,2012-07-20T16:36:09.878Z,Archiva should set cache control headers instead of adding for maven-metadata.xml,"Looks like there might be an issue with how cache control header is added. This should use setHeader instead of an addHeader to protect against adding duplicate headers.

  private void setHeaders( DavServletResponse response, DavResourceLocator locator, DavResource resource )
    {
        // [MRM-503] - Metadata file need Pragma:no-cache response
        // header.
        if ( locator.getResourcePath().endsWith( ""/maven-metadata.xml"" ) )
        {
            response.addHeader( ""Pragma"", ""no-cache"" );
            response.addHeader( ""Cache-Control"", ""no-cache"" );
        }

        // We need to specify this so connecting wagons can work correctly
        response.addDateHeader( ""last-modified"", resource.getModificationTime() );

        // TODO: [MRM-524] determine http caching options for other types of files (artifacts, sha1, md5, snapshots)
    }

See below for a sample result with duplicate header.  Cache control header with public was added through servlet filter but then another cache control header got added.  Expected result should be that it should overwrite the exiting header:

< HTTP/1.1 200 OK
< Cache-Control: public, max-age=600, s-maxage=600 < Pragma: no-cache < Cache-Control: no-cache < Last-Modified: Thu, 19 Jul 2012 22:09:53 GMT < Content-Length: 3376 < Vary: Accept-Encoding < Connection: close < Content-Type: application/xml;charset=UTF-8
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,charles kim,charlesk40
MRM-1625,Bug,2012-04-17T17:12:22.076Z,2012-04-17T17:12:22.076Z,2015-04-05T14:54:10.197Z,2015-04-05T14:54:10.197Z,2012-04-19T04:18:17.615Z,2012-04-19T04:18:17.615Z,java.lang.ArrayIndexOutOfBoundsException from parsing maven-metadata.xml,"ArrayIndexOutOfBoundsException is thrown when parsing some maven-metadata.xml files.  Please see the attached sample maven-metadata.xml and the proposed patch to fix the problem.


2012-04-17 00:04:43,098 WARN 
[org.apache.archiva.repository.metadata.MetadataTools] Unable to read metadata:
/home/y/var/yarchiva/data/repositories/public/yahoo/yinst/listings_reconciliation_framework
/listings-reconciliation-framework/maven-metadata-dist.xml
org.apache.archiva.repository.metadata.RepositoryMetadataException: Unable to
parse metadata xml
file:/home/y/var/yarchiva/data/repositories/public/yahoo/yinst/listings_reconciliation_framework/listing
s-reconciliation-framework/maven-metadata-dist.xml: null Nested exception: null
        at
org.apache.archiva.repository.metadata.RepositoryMetadataReader.read(RepositoryMetadataReader.java:95)
        at
org.apache.archiva.repository.metadata.MetadataTools.readProxyMetadata(MetadataTools.java:394)
        at
org.apache.archiva.repository.metadata.MetadataTools.getMetadatasForManagedRepository(MetadataTools.java:527)
        at
org.apache.archiva.repository.metadata.MetadataTools.updateMetadata(MetadataTools.java:437)
        at


Caused by: org.apache.archiva.xml.XMLException: Unable to parse metadata xml
file:/home/y/var/yarchiva/data/repositories/public/yahoo/yinst/listings_reconciliation_framework/listings-reconciliation-framework/maven-metadata-dist.xml:
null Nested exception: null
        at org.apache.archiva.xml.XMLReader.init(XMLReader.java:113)
        at org.apache.archiva.xml.XMLReader.<init>(XMLReader.java:81)
        at
org.apache.archiva.repository.metadata.RepositoryMetadataReader.read(RepositoryMetadataReader.java:52)
        ... 55 more
Caused by: org.dom4j.DocumentException: null Nested exception: null
        at org.dom4j.io.SAXReader.read(SAXReader.java:484)
        at org.dom4j.io.SAXReader.read(SAXReader.java:365)
        at org.apache.archiva.xml.XMLReader.init(XMLReader.java:109)
        ... 57 more

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Charles King,charlesk
MRM-1672,Bug,2012-09-14T14:00:01.558Z,2012-09-14T14:00:01.558Z,2012-09-24T18:37:08.292Z,2012-09-24T18:37:08.292Z,2012-09-24T09:15:36.305Z,2012-09-24T09:15:36.305Z,Upload Artifact section doesn't clear uploaded artifacts,"1.) Log in as Admin
2.) Click on Upload Artifact over on the left-hand navigation section.
3.) Select a repository to where you wish to upload an artifact.
4.) Enter in the specifics, Choose an artifact to upload, check ""pomFile"" if you have one, and then click on ""Start Upload"".
Pausing here, I have a quick complaint, what are the check boxes next to ""Delete Upload"" for?  I assume it's for doing a mass delete or some other action on multiple uploaded artifacts, but the interface isn't intuitive enough at this point.
5.) Click on ""Save Files"".  Your artifact will get uploaded.
6.) Repeat steps 3 - 5.

Since the first uploaded artifact is still listed, you'll get an error message stating ""Overwriting released artifacts in repository 'snapshots' is not allowed.""  I also got this message for the 'internal' repository as well.  Anyway, I tried checking the check box next to the ""Delete Upload"" button to apply the save command explicitly to the 2nd artifact.  Same error message again.  Then, I tried checking the check box next to the ""Delete Upload"" button underneath ""Generate Maven POM"".  Same error message again.

In order for the 1st artifact to get cleared from the page, I have to navigate to another page or refresh the page.  Once that occurs, I can upload my 2nd artifact.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1631,Sub-task,2012-05-30T11:17:49.972Z,2012-05-30T11:17:49.972Z,2012-05-30T11:18:08.879Z,2012-05-30T11:18:08.879Z,,,add buttons to sort versions in search result pages,,Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1677,Improvement,2012-09-24T16:10:23.841Z,2012-09-24T16:10:23.841Z,2012-09-24T16:15:01.002Z,2012-09-24T16:15:01.002Z,2012-09-24T16:15:00.899Z,2012-09-24T16:15:00.899Z,upgrade jetty 8,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1680,Improvement,2012-09-28T20:14:02.07Z,2012-09-28T20:14:02.07Z,2012-09-29T02:42:23.166Z,2012-09-29T02:42:23.166Z,2012-09-29T02:42:23.116Z,2012-09-29T02:42:23.116Z,Delete artifact by groupId/artifactId/versionId in context when authenticated w/ Admin privileges...,"I've consistently wished that as I'm managing my process, restructuring projects, releasing artifacts, and/or making our artifact naming more consistent, that I could just browse to the artifact that is obsolete and delete the desired artifact at the any level in the browsing structure including by groupId, artifactId or versionId, or even at the SNAPSHOT level without having to switch to a blank form that is out of context.

It would greatly simplify the management of the repository.  ",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jeff Vincent,predatorvi
MRM-1693,Improvement,2012-10-13T08:51:04.972Z,2012-10-13T08:51:04.972Z,2012-10-15T07:23:38.033Z,2012-10-15T07:23:38.033Z,2012-10-15T07:23:37.896Z,2012-10-15T07:23:37.896Z,exposing index downloaded from remote repositories,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1506,Sub-task,2011-08-30T12:23:53.668Z,2011-08-30T12:23:53.668Z,2011-09-09T04:17:17.893Z,2011-09-09T04:17:17.893Z,2011-09-05T15:20:47.327Z,2011-09-05T15:20:47.327Z,api to configure RemoteRepository,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1527,Task,2011-09-30T05:11:47.029Z,2011-09-30T05:11:47.029Z,2011-09-30T06:10:34.53Z,2011-09-30T06:10:34.53Z,2011-09-30T06:10:34.516Z,2011-09-30T06:10:34.516Z,remove http://download.java.net/maven/2/  from default remote repositories (now sync with central),,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1541,Bug,2011-10-21T08:49:13.109Z,2011-10-21T08:49:13.109Z,2011-11-08T14:53:09.059Z,2011-11-08T14:53:09.059Z,2011-11-08T14:53:09.029Z,2011-11-08T14:53:09.029Z,Remove a managed repository does not remove it from groups,"I created a managed repo, then I created a group in which I included the managed repo.
Then I decided to remove the repository.
When I switch back to the Administration of Repository Group, I still see the managed repo as part of the group.

 ",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Sébastien Gandon,sgandon
MRM-1545,Improvement,2011-10-26T09:28:20.274Z,2011-10-26T09:28:20.274Z,2011-10-26T09:29:44.493Z,2011-10-26T09:29:44.493Z,2011-10-26T09:29:44.434Z,2011-10-26T09:29:44.434Z,upgrade derby version to 10.8.2.2,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1584,Sub-task,2012-01-12T09:59:52.429Z,2012-01-12T09:59:52.429Z,2014-08-07T23:31:26.422Z,2014-08-07T23:31:26.422Z,,,rewrite audit log page,,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1563,Bug,2011-11-30T06:12:55.38Z,2011-11-30T06:12:55.38Z,2012-09-06T17:28:18.045Z,2012-09-06T17:28:18.045Z,2012-09-06T17:28:17.797Z,2012-09-06T17:28:17.797Z,Project-level metadata not deleted after artifact removal,"I'm using the default configuration of Archiva for the repositories (internal and snapshots).
When I delete a release artifact using the web interface, I can still browse to it but the download box is empty.
When I delete a snapshot artifact using the web interface, I can still browse to it but the download box is still here with the download links. (If I click the one of the link, I get an ""unavailable resource"" error.)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Marrache,miko95
MRM-1558,Improvement,2011-11-14T12:47:15.422Z,2011-11-14T12:47:15.422Z,2014-05-19T01:03:35.221Z,2014-05-19T01:03:35.221Z,2014-05-19T01:03:34.84Z,2014-05-19T01:03:34.84Z,Please provide some UI element which shows degraded and/or badly connected remote repository,It would be helpful to users to be able to see from the admin/repositories.action if a particular remote repository is in a bad state.,Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1501,New Feature,2011-08-13T15:50:03.499Z,2011-08-13T15:50:03.499Z,2015-04-05T23:58:20.535Z,2015-04-05T23:58:20.535Z,2011-09-26T11:02:45.704Z,2011-09-26T11:02:45.704Z,search on artifacts with OSGI Metadatas fields,"Ability to search on some OSGI metadatas symbolic-name, version, export-packages.
See improvmenents in maven-indexer [MINDEXER-36]
Need an update of maven-indexer .",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1529,Bug,2011-10-01T02:25:01.997Z,2011-10-01T02:25:01.997Z,2011-10-03T06:05:20.071Z,2011-10-03T06:05:20.071Z,2011-10-03T06:05:20.049Z,2011-10-03T06:05:20.049Z,CSRF checks are not working properly and cause operations to fail,"It seems the upgrade of Struts caused a problem with the token check.

I tried to grant the guest user ""manager"" permission on a repository, and it always fails a CSRF check, where it does not on 1.3.5.

I also tried to remove a permission from a repository and had the same problem. I had not visited other Archiva pages in the mean time.

All pages using token may need to be reviewed.",Blocker,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1500,Bug,2011-08-11T04:03:30.737Z,2011-08-11T04:03:30.737Z,2011-09-28T04:59:14.084Z,2011-09-28T04:59:14.084Z,2011-09-28T04:59:14.047Z,2011-09-28T04:59:14.047Z,Fix sample on how to use ldap in applicationContext.xml,"applicationContext.xml file in webapp module is not anymore correct regarding sample on how to use ldap.
it's a reminder as since removing of plexus it has not been updated.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1573,Sub-task,2012-01-05T16:31:00.708Z,2012-01-05T16:31:00.708Z,2012-09-06T07:38:07.17Z,2012-09-06T07:38:07.17Z,2012-03-16T11:14:43.331Z,2012-03-16T11:14:43.331Z,rewrite browse page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1552,Bug,2011-11-07T11:19:10.205Z,2011-11-07T11:19:10.205Z,2011-11-08T10:49:35.676Z,2011-11-08T10:49:35.676Z,2011-11-08T10:49:35.654Z,2011-11-08T10:49:35.654Z,Perm-Gen space exception on MAC using the wrapper,"When I launch archiva using the wrapper on my Mac I get a perm gen space exception very quickly.
And of course the server does not respond anymore.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sébastien Gandon,sgandon
MRM-1535,Improvement,2011-10-18T10:19:45.559Z,2011-10-18T10:19:45.559Z,2011-10-25T16:35:10.159Z,2011-10-25T16:35:10.159Z,2011-10-25T16:35:10.13Z,2011-10-25T16:35:10.13Z,Invalid reference (result HTTP 404) for css/no-theme/jquery-ui-1.8.14.theme.css,"Some pages reference 404 resource {code}css/no-theme/jquery-ui-1.8.14.theme.css{code} for example http://localhost:8080/archiva/browse/junit/junit/3.8.1 -- I verify that apps/archiva/css/no-theme/jquery.ui-1.8.14.theme.css does exist though, so this appears to be a $baseurl kind of thing.",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1511,Sub-task,2011-09-08T04:41:12.233Z,2011-09-08T04:41:12.233Z,2011-09-09T04:18:22.464Z,2011-09-09T04:18:22.464Z,2011-09-08T15:18:01.947Z,2011-09-08T15:18:01.947Z,api to configure LegacyArtifactPath,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1513,Sub-task,2011-09-08T04:41:55.595Z,2011-09-08T04:41:55.595Z,2011-09-09T04:18:36.004Z,2011-09-09T04:18:36.004Z,2011-09-08T10:14:26.147Z,2011-09-08T10:14:26.147Z,Remove DatabaseScanningConfiguration fields,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1593,Bug,2012-01-23T01:09:19.77Z,2012-01-23T01:09:19.77Z,2016-09-15T23:27:52.898Z,2016-09-15T23:27:52.898Z,2016-09-15T23:27:51.32Z,2016-09-15T23:27:51.32Z,Not able to run Archiva in AIX,"Hello,
I am unable to run Archiva on AIX box. I am getting the following error.

bash-4.0# ./bin/archiva console
Unable to locate any of the following binaries:
  /usr/apache-archiva-1.3.5/bin/./wrapper-aix-ppc-32
  /usr/apache-archiva-1.3.5/bin/./wrapper-aix-ppc-64
  /usr/apache-archiva-1.3.5/bin/./wrapper

System info is given below:
$ uname -a
AIX MSCAIX 1 6 000B0C4AD400

$ getconf -a | grep KERN
KERNEL_BITMODE:   64

Related issue i found is http://jira.codehaus.org/browse/MRM-880?focusedCommentId=289120#comment-289120. That was for Solaris.

regards
krishna",Blocker,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Krishna Kumar C,kkumarc@gmail.com
MRM-1570,Sub-task,2012-01-05T16:28:31.328Z,2012-01-05T16:28:31.328Z,2012-09-06T07:38:08.053Z,2012-09-06T07:38:08.053Z,2012-01-12T08:57:30.153Z,2012-01-12T08:57:30.153Z,rewrite user management page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1595,Task,2012-01-30T02:58:29.697Z,2012-01-30T02:58:29.697Z,2012-01-30T03:38:22.068Z,2012-01-30T03:38:22.068Z,2012-01-30T03:38:21.924Z,2012-01-30T03:38:21.924Z,Upgrade to Guava 11.0.1,,Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1536,Bug,2011-10-18T10:24:33.104Z,2011-10-18T10:24:33.104Z,2012-07-30T09:43:53.657Z,2012-07-30T09:43:53.657Z,2012-07-30T09:43:53.463Z,2012-07-30T09:43:53.463Z,Error 500 when naughtily exploring webapp directory hierarchy,"While trying to diagnose MRM-1535 I started exploring the directory structure of the archiva webapp, from the browser, and triggered:

{code}jvm 1    | 2011-10-18 11:21:33.579::WARN:  /archiva/css/no-theme/
jvm 1    | java.lang.RuntimeException: org.apache.jasper.JasperException: Method public java.util.List org.apache.struts2.components.Form.getValidators(java.lang.String) threw an exception when invoked on org.apache.struts2.components.Form@4a2b4a2b - Class: freemarker.ext.beans.SimpleMethodModel
jvm 1    | File: SimpleMethodModel.java
jvm 1    | Method: exec
jvm 1    | Line: 130 - freemarker/ext/beans/SimpleMethodModel.java:130:-1
jvm 1    |      at com.opensymphony.sitemesh.webapp.decorator.BaseWebAppDecorator.render(BaseWebAppDecorator.java:39)
jvm 1    |      at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:84)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:102)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
jvm 1    |      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
jvm 1    |      at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
jvm 1    |      at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
jvm 1    |      at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
jvm 1    |      at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
jvm 1    |      at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
jvm 1    |      at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
jvm 1    |      at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
jvm 1    |      at org.mortbay.jetty.Server.handle(Server.java:326)
jvm 1    |      at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
jvm 1    |      at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
jvm 1    |      at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
jvm 1    |      at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
jvm 1    |      at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
jvm 1    |      at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
jvm 1    |      at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
{code}",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1564,Improvement,2011-12-13T15:33:30.501Z,2011-12-13T15:33:30.501Z,2011-12-13T15:54:17.872Z,2011-12-13T15:54:17.872Z,2011-12-13T15:54:17.709Z,2011-12-13T15:54:17.709Z,spring 3.1.0 upgrade,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1526,Improvement,2011-09-23T12:55:21.809Z,2011-09-23T12:55:21.809Z,2011-10-04T03:57:38.513Z,2011-10-04T03:57:38.513Z,2011-10-04T03:57:38.473Z,2011-10-04T03:57:38.473Z,configure http connection pool values for wagon http,"to setup resources : maxTotal maxPerroute.

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1555,Improvement,2011-11-08T02:55:47.683Z,2011-11-08T02:55:47.683Z,2011-11-08T03:22:47.673Z,2011-11-08T03:22:47.673Z,2011-11-08T03:22:46.827Z,2011-11-08T03:22:46.827Z,upgrade derby version to 10.8.2.2,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1594,Task,2012-01-30T01:27:06.939Z,2012-01-30T01:27:06.939Z,2012-01-30T02:41:23.573Z,2012-01-30T02:41:23.573Z,2012-01-30T02:37:19.423Z,2012-01-30T02:37:19.423Z,Upgrade to commons-codec 1.6,,Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1577,Sub-task,2012-01-12T09:56:44.584Z,2012-01-12T09:56:44.584Z,2012-09-06T07:38:07.94Z,2012-09-06T07:38:07.94Z,2012-03-06T12:33:55.264Z,2012-03-06T12:33:55.264Z,rewrite legacy path admin page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1523,Test,2011-09-22T08:11:35.554Z,2011-09-22T08:11:35.554Z,2011-09-22T23:26:51.312Z,2011-09-22T23:26:51.312Z,2011-09-22T23:26:51.245Z,2011-09-22T23:26:51.245Z,Steps to Install Archva 1.3.5 (with default database)on tomcat 6.0.33 ,"Hello,

Coudl you please let me know the steps to install Archva 1.3.5 (with default database) on tomcat 6.0.33. since i am new to archiva.
i followed the below links but its not clear and not working properly.
http://archiva.apache.org/docs/1.3.5/adminguide/webapp.html 
https://cwiki.apache.org/confluence/display/ARCHIVA/Archiva+on+Tomcat

Regards,
Chandru.
",Major,Closed,Won't Fix,,,chandrasekaran,chandrasekaran.g
MRM-1553,Improvement,2011-11-07T11:22:09.441Z,2011-11-07T11:22:09.441Z,2011-11-07T11:22:09.441Z,2011-11-07T11:22:09.441Z,,,web browser does not display different classifiers,the browse item in the Archiva web GUI does not show me the different classifiers for a given artifact. So I cannot see nor download a given _group:articfact:classifier:type_.,Major,Open,,,,Sébastien Gandon,sgandon
MRM-1542,Bug,2011-10-21T09:41:03.879Z,2011-10-21T09:41:03.879Z,2011-10-24T14:38:53.457Z,2011-10-24T14:38:53.457Z,2011-10-24T14:38:53.427Z,2011-10-24T14:38:53.427Z,missing classifier field in the delete artifact web page,"We add artifacts with the same group:id:version and different classifier.
The web GUI for deleting artifact does not propose to enter the qualifier, or I would like to remove one artifact for a given qualifier not all the artifacts with any qualifiers.
Can you add an extra field for the qualifier, that may be optional if you do not want to break current use case.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sébastien Gandon,sgandon
MRM-1538,Improvement,2011-10-20T14:41:26.384Z,2011-10-20T14:41:26.384Z,2011-10-25T16:23:47.112Z,2011-10-25T16:23:47.112Z,2011-10-25T16:23:47.017Z,2011-10-25T16:23:47.017Z,Managed Repositories > Show Snippet ought to include a pluginRepositories section,"With Maven 3 laying down the law w/r/t repositories vs pluginRepositories, it would be nice if the example snippet would also include a section for pluginRepositories as well as repositories.",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1522,Task,2011-09-22T07:05:35.633Z,2011-09-22T07:05:35.633Z,2011-09-22T23:33:11.456Z,2011-09-22T23:33:11.456Z,,,Archiva on windows 2008 server,"unable downloading from some remote repositories
Ex:  http://localhost:8080/archiva/repository/internal/junit/junit/3.8.1/junit-3.8.1.jar
 and getting below error
------------
Transfer error from repository ""central"" for artifact junit:junit:3.8.1::pom, 
continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom]:
Error transferring file: Server returned HTTP response code: 502 for URL: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom 
(cause: java.io.IOException: Server returned HTTP response code: 502 for URL: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom)
2011-09-22 13:47:27,480 [btpool0-2] ERROR org.apache.maven.archiva.webdav.ArchivaDavResourceFactory  - 
Failures occurred downloading from some remote repositories:	central: Download failure on resource [http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom]:
Error transferring file: Server returned HTTP response code: 502 for URL: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom (cause: java.io.IOException: Server returned HTTP response code: 502 for URL: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom)
org.apache.maven.archiva.policies.ProxyDownloadException: Failures occurred downloading from some remote repositories:
	central: Download failure on resource [http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom]:Error transferring file: Server returned HTTP response code: 502 for URL: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom (cause: java.io.IOException: Server returned HTTP response code: 502 for URL: http://repo1.maven.org/maven2/junit/junit/3.8.1/junit-3.8.1.pom)
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:195)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.applyServerSideRelocation(ArchivaDavResourceFactory.java:670)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:621)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepository(ArchivaDavResourceFactory.java:456)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:246)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:416)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
------------------",Major,Open,,,,chandrasekaran,chandrasekaran.g
MRM-1549,Improvement,2011-11-07T02:10:42.24Z,2011-11-07T02:10:42.24Z,2011-11-07T02:30:46.232Z,2011-11-07T02:30:46.232Z,2011-11-07T02:30:46.182Z,2011-11-07T02:30:46.182Z,add some initial memory setup in wrapper.conf,"the current generated wrapper.conf doesn't have initial memory settings.
mx and ms to 512m",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1540,Improvement,2011-10-21T06:20:43.206Z,2011-10-21T06:20:43.206Z,2012-10-13T16:30:38.926Z,2012-10-13T16:30:38.926Z,2012-10-13T16:30:38.833Z,2012-10-13T16:30:38.833Z,Make version number in delete artifact accept a regexp,"In the web interface you have the possibility to delete an artifact by entering 'Group Id', 'Artifact Id', 'Version' and 'Repository Id'.
In several occasions I have had the need to delete several versions of an artifact due to continuous building.

It would have been easier to accept a regexp for the version number to delete several versions.
Also if several version is to bee deleted, a list of versions found and an approval to perform the delete should come up. 	
",Minor,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Per Arnold Blaasmo,pablaasmo
MRM-1567,Bug,2011-12-20T07:26:45.893Z,2011-12-20T07:26:45.893Z,2012-03-11T18:58:18.837Z,2012-03-11T18:58:18.837Z,2012-03-11T18:58:18.622Z,2012-03-11T18:58:18.622Z,Artifact data incomplete,"Hi folks,

I have a strange error (using the 1.4-M1 or 1.4-M2 ) when browsing an artifact using a parent with snapshot version.

Artifact metadata is incomplete: Error in resolving artifact's parent POM file.
/complex/path/parent-1.1-SNAPSHOT.pom (No such file or directory)

This folder exists but contains only timestamped pom and the metadata. The metadata show a valid build number.

Is it fine to have snapshot parent ? should I use a non-snapshot one?

I try to post first to users archiva mailing list before registration (sorry).

Best regards
Eric
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1528,Improvement,2011-09-30T21:09:57.005Z,2011-09-30T21:09:57.005Z,2011-09-30T21:10:45.717Z,2011-09-30T21:10:45.717Z,,,Provide DEB installation packages,"Please provide RPM and DEB installation packages. This would increase installation rates, and make it generally easier for our users to deploy.",Major,Open,,,,jieryn,jieryn
MRM-1517,Bug,2011-09-14T10:46:41.891Z,2011-09-14T10:46:41.891Z,2011-09-15T21:00:13.743Z,2011-09-15T21:00:13.743Z,2011-09-15T21:00:13.692Z,2011-09-15T21:00:13.692Z,Longer descriptions of artefacts overlap the Downloads box,Multiline descriptions inside an artifact pom.xml are displayed in the browser at the same height as the Downloads box. The lines are wrapped in the middle of the Downloads box. This makes it very hard to read and to click on the download links inside the Downloads box.,Minor,Closed,Fixed,Brett Porter,brettporter,Stefan Roeper,sroeper
MRM-1560,New Feature,2011-11-17T03:30:18.496Z,2011-11-17T03:30:18.496Z,2011-11-17T16:51:55.139Z,2011-11-17T16:51:55.139Z,2011-11-17T16:51:55.117Z,2011-11-17T16:51:55.117Z,Add the possibility to schedule retrieve remote indexes when application startup,"When Starting Archiva, it would be nice to retreive all remote indexes that are checked to be used for remote repository before activating the automatic retreive actions.
Idealy a parameter would be nice to all download on startup.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sébastien Gandon,sgandon
MRM-1597,Task,2012-01-30T05:24:43.574Z,2012-01-30T05:24:43.574Z,2012-01-30T05:25:51.031Z,2012-01-30T05:25:51.031Z,2012-01-30T05:25:50.816Z,2012-01-30T05:25:50.816Z,Upgrade to commons-io 2.1,,Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1572,Sub-task,2012-01-05T16:30:51.6Z,2012-01-05T16:30:51.6Z,2012-09-06T07:38:06.705Z,2012-09-06T07:38:06.705Z,2012-03-16T11:14:58.808Z,2012-03-16T11:14:58.808Z,rewrite search page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1508,Sub-task,2011-08-30T12:26:54.233Z,2011-08-30T12:26:54.233Z,2011-09-09T04:17:55.478Z,2011-09-09T04:17:55.478Z,2011-09-06T16:29:34.703Z,2011-09-06T16:29:34.703Z,api to configure RepositoryGroups,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1571,Sub-task,2012-01-05T16:29:01.097Z,2012-01-05T16:29:01.097Z,2012-09-06T07:38:07.29Z,2012-09-06T07:38:07.29Z,2012-01-12T08:57:40.953Z,2012-01-12T08:57:40.953Z,rewrite role management page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1568,Bug,2012-01-05T12:09:48.233Z,2012-01-05T12:09:48.233Z,2012-03-11T18:58:31.826Z,2012-03-11T18:58:31.826Z,2012-03-11T18:58:31.776Z,2012-03-11T18:58:31.776Z,"Artifact metadata is incomplete, opposite case to MRM-1567","I am experiencing the opposite situation compare to MRM-1567:

2 repos:
release_repo
sansphot_repo

while browsing the SNAPSHOT version of the artifact that is uploaded to the sanpshot_repo where its parent pom is a release version that located at the release_repo

I got the following error on the GUI

Artifact metadata is incomplete: Error in resolving artifact's parent POM file. /apps/maven2/snapshot_repo/org/kp/wpp/utils/parentpom/2.5.3/parentpom-2.5.3.pom (No such file or directory)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,apache maillist,apache.maillist
MRM-1507,Sub-task,2011-08-30T12:25:18.679Z,2011-08-30T12:25:18.679Z,2011-09-09T04:17:32.282Z,2011-09-09T04:17:32.282Z,2011-09-07T16:55:10.316Z,2011-09-07T16:55:10.316Z,api to configure ProxyConnector,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1587,Sub-task,2012-01-12T10:00:50.937Z,2012-01-12T10:00:50.937Z,2012-09-06T07:33:06.963Z,2012-09-06T07:33:06.963Z,2012-09-06T07:33:05.456Z,2012-09-06T07:33:05.456Z,rewrite delete artifact page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1521,Wish,2011-09-19T02:37:21.989Z,2011-09-19T02:37:21.989Z,2014-08-07T23:40:39.361Z,2014-08-07T23:40:39.361Z,,,I would like to customize the images and the date of the 19Sep feature of the application...,"Special thanks to B.P. The quest of the revision: 1043948 makes me happy on this rainy monday.

",Trivial,Open,,,,leahpar,leahpar
MRM-1509,Sub-task,2011-08-30T12:27:57.43Z,2011-08-30T12:27:57.43Z,2016-03-15T05:55:23.322Z,2016-03-15T05:55:23.322Z,2011-09-15T09:01:21.642Z,2011-09-15T09:01:21.642Z,change xmlrpc to use new repository administration management api,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1551,Improvement,2011-11-07T10:34:02.288Z,2011-11-07T10:34:02.288Z,2011-11-09T10:22:54.315Z,2011-11-09T10:22:54.315Z,2011-11-09T10:22:54.269Z,2011-11-09T10:22:54.269Z,add rest method to delete artifact.,a rest call to delete an artifact in a repository.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1512,Sub-task,2011-09-08T04:41:40.755Z,2011-09-08T04:41:40.755Z,2011-09-09T04:16:55.906Z,2011-09-09T04:16:55.906Z,2011-09-09T04:16:55.874Z,2011-09-09T04:16:55.874Z,api to configure RepositoryScanningConfiguration,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1575,Sub-task,2012-01-12T09:55:25.353Z,2012-01-12T09:55:25.353Z,2012-09-06T07:38:07.23Z,2012-09-06T07:38:07.23Z,2012-02-14T17:34:54.614Z,2012-02-14T17:34:54.614Z,rewrite repositories group page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1580,Sub-task,2012-01-12T09:57:38.823Z,2012-01-12T09:57:38.823Z,2012-09-06T07:38:06.777Z,2012-09-06T07:38:06.777Z,2012-03-12T17:24:55.234Z,2012-03-12T17:24:55.234Z,rewrite system status page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1503,Improvement,2011-08-23T07:47:29.384Z,2011-08-23T07:47:29.384Z,2011-08-25T01:50:02.612Z,2011-08-25T01:50:02.612Z,2011-08-23T15:45:29.432Z,2011-08-23T15:45:29.432Z,use wagon-http instead of wagon-http-lightweight (as it change proxy network system properties),"wagon-http-lightweight modify System properties regarding using proxy. 
So it causes thread concurrency issue when parallel request using proxy connector without proxy.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1585,Sub-task,2012-01-12T10:00:12.014Z,2012-01-12T10:00:12.014Z,2012-09-06T07:38:08.246Z,2012-09-06T07:38:08.246Z,2012-03-20T10:58:08.195Z,2012-03-20T10:58:08.195Z,rewrite appareance page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1565,Bug,2011-12-15T04:19:00.53Z,2011-12-15T04:19:00.53Z,2012-03-29T14:45:45.721Z,2012-03-29T14:45:45.721Z,2012-03-29T14:45:45.354Z,2012-03-29T14:45:45.354Z,Error 500 when uploading an artifact in web interface,"Unable to upload an artifact in windows. Getting

Error in web

HTTP ERROR 500

Problem accessing /archiva/upload!doUpload.action. Reason:

    String index out of range: -1
Caused by:

java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(Unknown Source)
	at org.apache.archiva.web.action.UploadAction.doUpload(UploadAction.java:311)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:452)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:291)

Error in UT..


Tests in error:
  downloadWithRemoteRedirect(org.apache.archiva.DownloadArtifactsTest): File: http://localhost:4667//repository/internal/junit/junit/4.9/junit-4.9.jar, ReasonPhrase:Not a
 valid request path layout, too short..
  testArtifactUploadWithPomSuccessful(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testArtifactUploadWithClassifier(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testArtifactUploadGeneratePomSuccessful(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testArtifactUploadNoPomSuccessful(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testArtifactUploadSnapshots(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testChecksumIsCorrectWhenArtifactIsReUploaded(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testUploadArtifactAlreadyExistingRedeploymentsBlocked(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1
  testUploadArtifactAlreadyExistingRedeploymentsAllowed(org.apache.archiva.web.action.UploadActionTest): String index out of range: -1

Tests run: 201, Failures: 1, Errors: 9, Skipped: 0",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Gwen Harold Autencio,gautencio
MRM-1596,Task,2012-01-30T03:59:05.035Z,2012-01-30T03:59:05.035Z,2012-01-30T04:29:47.688Z,2012-01-30T04:29:47.688Z,2012-01-30T04:29:47.453Z,2012-01-30T04:29:47.453Z,Upgrade to commons-collections 3.2.1,,Major,Closed,Fixed,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1515,Task,2011-09-12T09:51:20.355Z,2011-09-12T09:51:20.355Z,2012-09-24T16:23:58.394Z,2012-09-24T16:23:58.394Z,2012-09-24T16:23:58.304Z,2012-09-24T16:23:58.304Z,see how to reduce dependencies number,cleanup started for M1. To finish for final 1.4 release.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1534,Improvement,2011-10-18T10:11:14.054Z,2011-10-18T10:11:14.054Z,2011-10-27T15:12:33.927Z,2011-10-27T15:12:33.927Z,2011-10-27T15:12:33.854Z,2011-10-27T15:12:33.854Z,deprecated configuration warning for default install,"Default 1.4-M1 package, no customization, bin/archiva wrapper yields:
 
jvm 1    | 2011-10-18 10:43:04.995::WARN:  Deprecated configuration used for ./apps
",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1530,New Feature,2011-10-07T08:24:31.412Z,2011-10-07T08:24:31.412Z,2011-10-07T08:53:35.043Z,2011-10-07T08:53:35.043Z,,,Clustering of Archiva instances,"We must think about a way to clustering Archiva instances:
* artifacts replication between nodes for managed repos
* jcr repository distribution
* maybe etc... :-)",Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1550,Improvement,2011-11-07T04:14:51.61Z,2011-11-07T04:14:51.61Z,2012-12-18T10:18:34.369Z,2012-12-18T10:18:34.369Z,2012-12-18T10:18:31.039Z,2012-12-18T10:18:31.039Z,scanner failed with trying to scan maven indexes,"Logs 
{code}
valid artifact path in a Maven 2 repository, not enough directories: .indexer\nexus-maven-repository-index.zip
java.lang.IllegalArgumentException: Not a valid artifact path in a Maven 2 repository, not enough directories: .indexer\nexus-maven-repository-index.zip
	at org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryPathTranslator.getArtifactForPath(Maven2RepositoryPathTranslator.java:162)
	at org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryStorage.readArtifactMetadataFromPath(Maven2RepositoryStorage.java:534)
	at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFile(ArchivaMetadataCreationConsumer.java:154)
	at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFile(ArchivaMetadataCreationConsumer.java:217)
	at org.apache.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:60)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:160)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
	at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:136)
	at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:71)
	at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:163)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:124)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
{code}",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1556,Bug,2011-11-08T17:17:31.339Z,2011-11-08T17:17:31.339Z,2013-11-24T23:18:01.775Z,2013-11-24T23:18:01.775Z,,,validation doesn't work for Windows users on path of add managed repository page,"Windows paths typically have ':' in them for the drive letter, but this is no longer accepted as valid in the location field of the repository.

This applies to other settings such as "" "" as well, we should only exclude those that are a problem for XSS.",Major,Open,,,,Brett Porter,brettporter
MRM-1586,Sub-task,2012-01-12T10:00:31.075Z,2012-01-12T10:00:31.075Z,2012-09-05T09:13:03.909Z,2012-09-05T09:13:03.909Z,2012-09-05T09:13:03.864Z,2012-09-05T09:13:03.864Z,rewrite upload artifact page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1598,Sub-task,2012-02-01T09:11:32.686Z,2012-02-01T09:11:32.686Z,2012-09-06T07:38:07.874Z,2012-09-06T07:38:07.874Z,2012-02-03T04:13:21.502Z,2012-02-03T04:13:21.502Z,use bootstrap css 2.x,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1588,Bug,2012-01-15T17:32:54.964Z,2012-01-15T17:32:54.964Z,2012-01-15T17:33:03.369Z,2012-01-15T17:33:03.369Z,,,repository statistics time has blown out again,"This may be the cause of the failures / hangs I've been seeing. In my local environment:

{code}
2012-01-16 10:02:18,487 [pool-2-thread-1] INFO  org.apache.archiva.metadata.repository.stats.DefaultRepositoryStatisticsManager  - Gathering statistics executed in 3366961ms
{code}

For repo:

{code}
.\ Scan of internal \.__________________________________________
  Repository Dir    : /Users/brett/Library/Application Support/Archiva/data/repositories/internal
  Repository Name   : Archiva Managed Internal Repository
  Repository Layout : default
  Known Consumers   : (7 configured)
                      create-missing-checksums
                      auto-remove
                      auto-rename
                      repository-purge (Total: 263501ms; Avg.: 17; Count: 14904)
                      index-content (Total: 0ms; Avg.: 0; Count: 1)
                      create-archiva-metadata
                      duplicate-artifacts (Total: 2339ms; Avg.: 2339; Count: 1)
  Invalid Consumers : <none>
  Duration          : 13 Minutes 5 Seconds 169 Milliseconds
  When Gathered     : 1/16/12 9:06 AM
  Total File Count  : 72758
  Avg Time Per File : 10 Milliseconds
______________________________________________________________
{code}

This was a longer scan than usual, typically <1 - 2 minutes, but the statistics scans have been ~30mins then too.

Also worth noting that the purge seems to be triggering each time but not affecting those files.

I'll look into both.",Major,Open,,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1510,Sub-task,2011-09-06T03:20:08.254Z,2011-09-06T03:20:08.254Z,2011-09-09T04:18:09.007Z,2011-09-09T04:18:09.007Z,2011-09-08T04:28:06.406Z,2011-09-08T04:28:06.406Z,api to configure NetworkProxy,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1539,Improvement,2011-10-21T02:13:35.647Z,2011-10-21T02:13:35.647Z,2011-10-27T13:12:49.374Z,2011-10-27T13:12:49.374Z,2011-10-27T13:12:49.345Z,2011-10-27T13:12:49.345Z,Upgrade to Jetty 7,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1557,Test,2011-11-13T08:34:15.334Z,2011-11-13T08:34:15.334Z,2011-11-13T11:45:59.32Z,2011-11-13T11:45:59.32Z,2011-11-13T11:45:59.163Z,2011-11-13T11:45:59.163Z,archive-rest-services unit tests broken,"The CopyArtifactTest is broken:

Tests in error: 
  copyNonExistingArtifact(org.apache.archiva.rest.services.CopyArtifactTest): Unexpected exception, expected<org.apache.cxf.jaxrs.client.ServerWebApplicationException> but was<junit.framework.AssertionFailedError>


The complete stack trace is:

-------------------------------------------------------------------------------
Test set: org.apache.archiva.rest.services.CopyArtifactTest
-------------------------------------------------------------------------------
Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 7.711 sec <<< FAILURE!
copyNonExistingArtifact(org.apache.archiva.rest.services.CopyArtifactTest)  Time elapsed: 3.801 sec  <<< ERROR!
java.lang.Exception: Unexpected exception, expected<org.apache.cxf.jaxrs.client.ServerWebApplicationException> but was<junit.framework.AssertionFailedError>
        at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:28)
        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)
        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)
        at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)
        at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)
        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
        at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)
        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)
        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)
        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)
        at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)
        at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)
Caused by: junit.framework.AssertionFailedError: null
        at junit.framework.Assert.fail(Assert.java:47)
        at junit.framework.Assert.assertTrue(Assert.java:20)
        at junit.framework.Assert.assertTrue(Assert.java:27)
        at org.apache.archiva.rest.services.CopyArtifactTest.copyNonExistingArtifact(CopyArtifactTest.java:102)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
        at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
        at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
        at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:21)
        ... 23 more
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jean-Baptiste Onofré,jbonofre
MRM-1582,Sub-task,2012-01-12T09:58:50.4Z,2012-01-12T09:58:50.4Z,2012-12-18T10:14:55.123Z,2012-12-18T10:14:55.123Z,,,rewrite find artifact page,not sure we still need it.,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1579,Sub-task,2012-01-12T09:57:19.716Z,2012-01-12T09:57:19.716Z,2012-09-06T07:38:08.116Z,2012-09-06T07:38:08.116Z,2012-03-08T03:36:47.893Z,2012-03-08T03:36:47.893Z,rewrite repositories scanning admin page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1578,Sub-task,2012-01-12T09:57:00.99Z,2012-01-12T09:57:00.99Z,2012-09-06T07:38:07.04Z,2012-09-06T07:38:07.04Z,2012-01-26T17:08:23.216Z,2012-01-26T17:08:23.216Z,rewrite network proxies admin page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1591,Task,2012-01-19T14:36:19.181Z,2012-01-19T14:36:19.181Z,2016-03-15T05:55:23.008Z,2016-03-15T05:55:23.008Z,2012-01-19T15:38:56.946Z,2012-01-19T15:38:56.946Z,XML/RCP API - current situation and future,"Hello,
I'd like to ask you for few informations about Archiva API possibilities.
Previously (I think with Archiva 1.2.x) , we have been using our own patch for extending XML/RPC Api, because our need is to handling user management in Archiva with external tool.
Now we are working on Archiva upgrade (probably to 1.3.x, but it depends on API situation in Archiva). The problem is, that situation is little bit unclear for us. We have found this one nice patch (http://jira.codehaus.org/browse/MRM-1481) which exposes Redback XML/RPC API, we have tried it, with Archiva 1.4-M2, but it doesn't work for us. What is the correct syntax for calling these Redback API methods thru xmlrpc?

Anyway, this issue here - [remove xml rpc services|http://jira.codehaus.org/browse/MRM-1566] sounds little bit disturbing for me :) So, what is the plan for future? Get rid of XML/RPC and continue with REST?",Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,Martin Stiborský,stibi
MRM-1524,New Feature,2011-09-23T08:57:09.077Z,2011-09-23T08:57:09.077Z,2011-09-26T11:05:05.318Z,2011-09-26T11:05:05.318Z,2011-09-26T11:05:05.306Z,2011-09-26T11:05:05.306Z,downloading (optionnaly) remote index to display remote artifacts in search results,"if a managed repo has remote repos, artifacts are available but not display in a search result.
* configure an optionnel remote index url
* running this download in a configurable schedule",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1574,Sub-task,2012-01-12T09:51:16.095Z,2012-01-12T09:51:16.095Z,2012-09-06T07:38:07.345Z,2012-09-06T07:38:07.345Z,2012-03-08T06:45:49.318Z,2012-03-08T06:45:49.318Z,rewrite managed/remote repositories admin page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1525,Improvement,2011-09-23T11:44:28.946Z,2011-09-23T11:44:28.946Z,2014-12-19T05:30:29.628Z,2014-12-19T05:30:29.628Z,,,Please provide RPM installation packages,"Please provide RPM and DEB installation packages. This would increase installation rates, and make it generally easier for our users to deploy.",Major,Open,,Brett Porter,brettporter,jieryn,jieryn
MRM-1546,Bug,2011-10-27T01:11:18.381Z,2011-10-27T01:11:18.381Z,2011-10-27T08:09:51.879Z,2011-10-27T08:09:51.879Z,2011-10-27T04:38:26.363Z,2011-10-27T04:38:26.363Z,Deploy failed in Glassfish3.1 and Tomcat6,"I got this error during my first deployment of archiva
Application deployed with name archiva. WARNING: Command _deploy did not complete successfully on server instance st_demo: remote failure: Failed to load the application on instance st_demo. The application will not run properly. Please fix your application and redeploy. Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'jcr-config' defined in URL [file:/home/yhjhoo/zip/archiva/apps/archiva/WEB-INF/classes/META-INF/spring-context.xml]: Could not resolve placeholder 'appserver.base'. Please see server.log for more details.",Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,Yang Hua Jie,yhjhoo
MRM-1583,Sub-task,2012-01-12T09:59:31.502Z,2012-01-12T09:59:31.502Z,2012-09-06T07:38:06.834Z,2012-09-06T07:38:06.834Z,2012-07-05T15:46:19.964Z,2012-07-05T15:46:19.964Z,rewrite reports page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1519,Sub-task,2011-09-15T07:02:21.856Z,2011-09-15T07:02:21.856Z,2011-09-26T11:03:13.244Z,2011-09-26T11:03:13.244Z,2011-09-26T11:03:13.226Z,2011-09-26T11:03:13.226Z,api to configure WebappConfiguration,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1544,New Feature,2011-10-25T16:45:36.264Z,2011-10-25T16:45:36.264Z,2012-04-03T10:59:27.471Z,2012-04-03T10:59:27.471Z,2012-04-03T10:59:27.389Z,2012-04-03T10:59:27.389Z,move to a struts2 theme based on bootstrap css and jquery,so the name of this new struts2 theme will be jqboot (jquery/bootstrap :-) ),Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1504,Improvement,2011-08-26T11:14:39.214Z,2011-08-26T11:14:39.214Z,2011-09-26T11:03:39.21Z,2011-09-26T11:03:39.21Z,2011-09-26T11:03:39.19Z,2011-09-26T11:03:39.19Z,Add a new module for repository administration management,"Currently most part of the logic regarding repositories administration is done in webapp part and duplicate in xmlrpc.
As we are adding some rest services, in order to avoid an other duplication, the logic will be moved in a new module archiva-repository-admin",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1561,Bug,2011-11-21T09:37:13.099Z,2011-11-21T09:37:13.099Z,2011-11-21T09:37:13.099Z,2011-11-21T09:37:13.099Z,,,Cannot authentify myself when in search page,"When accessing the search page from the following URL.
http://localhost:8082/archiva//archiva/filteredSearch.action?searchField=version&fromFilterSearch=true&repositoryId=talend-update-user&groupId=org.talend&version=5.0.0

I have the following exception when clicking on the top-right hyperlink to identify myself.

{code} 
HTTP ERROR 500

Problem accessing /archiva/security/login.action. Reason:

    Failed referrer security check: Request did not come from the same server. Detected HTTP Referer header is 'http://localhost:8082/archiva//archiva/filteredSearch.action?searchField=version&fromFilterSearch=true&repositoryId=talend-update-user&groupId=org.talend&version=5.0.0'.
Caused by:

java.lang.RuntimeException: Failed referrer security check: Request did not come from the same server. Detected HTTP Referer header is 'http://localhost:8082/archiva//archiva/filteredSearch.action?searchField=version&fromFilterSearch=true&repositoryId=talend-update-user&groupId=org.talend&version=5.0.0'.
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.executeReferrerSecurityCheck(SecureActionInterceptor.java:235)
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:101)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:121)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:173)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:114)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at org.codehaus.plexus.redback.struts2.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:263)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:207)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:248)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:207)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
{code}",Major,Open,,,,Sébastien Gandon,sgandon
MRM-1576,Sub-task,2012-01-12T09:56:20.08Z,2012-01-12T09:56:20.08Z,2012-09-06T07:38:08.302Z,2012-09-06T07:38:08.302Z,2012-02-13T09:58:34.472Z,2012-02-13T09:58:34.472Z,rewrite proxies connector page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1592,Improvement,2012-01-20T16:52:28.37Z,2012-01-20T16:52:28.37Z,2012-01-23T08:11:37.825Z,2012-01-23T08:11:37.825Z,,,Add a getArtifactLastVersion method to the SearchService REST service,"A useful method that is missing in the SearchService is a method which returns the last version of an artifact and which would have this signature :
{code}
Artifact getArtifactLastVersion(String groupId, String artifactId, String packaging);
{code}
A workaround can be done but it's not clean since the last version information is managed by Archiva in the maven-metadata.xml files.",Major,Open,,,,Romain Moreau,romainmoreau
MRM-1518,New Feature,2011-09-15T04:15:10.866Z,2011-09-15T04:15:10.866Z,2012-09-05T09:27:25.868Z,2012-09-05T09:27:25.868Z,,,Can we provide a util lib which can be use to upload the jar file easily?,,Major,Open,,Olivier Lamy (*$^¨%`£),olamy,gliu,gliu
MRM-1502,Improvement,2011-08-23T07:41:23.66Z,2011-08-23T07:41:23.66Z,2011-09-30T04:48:02.91Z,2011-09-30T04:48:02.91Z,2011-09-30T04:48:02.877Z,2011-09-30T04:48:02.877Z,download artifacts from remote repository create http(s) connection for every artifacts,"as we use maven wagon to download artifacts from remote repos, http(s) connection are not reused.
maybe improvment with WAGON-348",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1516,Bug,2011-09-12T10:24:27.784Z,2011-09-12T10:24:27.784Z,2011-09-27T07:20:28.056Z,2011-09-27T07:20:28.056Z,2011-09-26T17:50:44.14Z,2011-09-26T17:50:44.14Z,missing dependency on velocity - ClassNotFoundException org.apache.velocity.tools.view.ToolboxManager,"Testing out https://builds.apache.org/view/A-F/view/Archiva/job/archiva-all-maven-3.x-jdk-1.6/254/org.apache.archiva$archiva-jetty/ to rule out MRM-1412 (validated, yaay!) and hit a problem with CNFE for org.apache.velocity.tools.view.ToolboxManager.",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1569,Sub-task,2012-01-05T16:28:04.115Z,2012-01-05T16:28:04.115Z,2012-09-06T07:38:07.797Z,2012-09-06T07:38:07.797Z,2012-03-26T18:06:36.633Z,2012-03-26T18:06:36.633Z,rewrite login page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1514,Sub-task,2011-09-08T04:42:23.246Z,2011-09-08T04:42:23.246Z,2011-09-10T03:25:09.122Z,2011-09-10T03:25:09.122Z,2011-09-10T03:25:09.037Z,2011-09-10T03:25:09.037Z,api to configure OrganisationInformation,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1531,Bug,2011-10-12T03:08:18.063Z,2011-10-12T03:08:18.063Z,2011-10-17T19:23:22.334Z,2011-10-17T19:23:22.334Z,2011-10-17T19:23:22.245Z,2011-10-17T19:23:22.245Z,version sort order in search page is not working fine,"Searching for artifacts using the default-search will sort them using a dictionary sort order, 
e.g. 0.1, 0.10, 0.7, 0.8, 0.9
In this case 0.10 will not be the newest entry. 

Maybe a different sort-algorithm than a plain dictionary sort order could be used? But the problem is, that version-numbers can also contain characters. 

This bug was found in Archiva 1.3.1, but i couldn't find any hint in this jira and the changelog. ",Trivial,Closed,Fixed,Brett Porter,brettporter,Martin Backhaus,martin_b
MRM-1590,Bug,2012-01-18T16:19:11.228Z,2012-01-18T16:19:11.228Z,2012-01-19T04:11:52.134Z,2012-01-19T04:11:52.134Z,2012-01-19T04:11:51.736Z,2012-01-19T04:11:51.736Z,Wrong URL returned by SearchService.getArtifactVersions,"{code:title=ArchivaRestTest.java|borderStyle=solid}
import java.util.List;

import org.apache.archiva.rest.api.model.Artifact;
import org.apache.archiva.rest.api.services.SearchService;
import org.apache.cxf.jaxrs.client.JAXRSClientFactory;
import org.apache.cxf.jaxrs.client.WebClient;
import org.apache.log4j.BasicConfigurator;
import org.apache.log4j.Logger;
import org.junit.Test;

public class ArchivaRestTest
{
	private final Logger logger = Logger.getLogger(ArchivaRestTest.class);
	
	@Test
	public void test() throws Exception
	{
		BasicConfigurator.configure();
		
		logger.debug(""test"");
		
		String authzHeader = ""Basic "" + org.apache.cxf.common.util.Base64Utility.encode(""admin:admin123"".getBytes());
		SearchService searchService = JAXRSClientFactory.create(""http://localhost:8082/archiva/restServices/archivaServices/"",SearchService.class);
		WebClient.client(searchService).header(""Authorization"",authzHeader);
		WebClient.getConfig(searchService).getHttpConduit().getClient().setReceiveTimeout(100000000);
		
		List<Artifact> artifacts = searchService.getArtifactVersions(""org.apache.maven.reporting"",""maven-reporting-api"",""jar"");
		
		if(artifacts != null)
		{
			logger.debug(""artifacts != null"");
			
			for(Artifact artifact : artifacts)
			{
				logger.debug(""artifact[]=""+artifact);
			}
		}
		else
		{
			logger.debug(""artifacts == null"");
		}
	}
}
{code}

produces the following output :

{noformat} 
0 [main] DEBUG ArchivaRestTest  - test
585 [main] DEBUG ArchivaRestTest  - artifacts != null
585 [main] DEBUG ArchivaRestTest  - artifact[]=Artifact{context='internal', url='http://localhost:8082/archiva/repository/internal/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar', groupId='org.apache.maven.reporting', artifactId='maven-reporting-api', repositoryId='internal', version='3', prefix='null', goals=null, bundleVersion='null', bundleSymbolicName='null', bundleExportPackage='null', bundleExportService='null', bundleDescription='null', bundleName='null', bundleLicense='null', bundleDocUrl='null', bundleImportPackage='null', bundleRequireBundle='null', classifier='null', packaging='jar', fileExtension='jar'}
585 [main] DEBUG ArchivaRestTest  - artifact[]=Artifact{context='internal', url='http://localhost:8082/archiva/repository/internal/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar', groupId='org.apache.maven.reporting', artifactId='maven-reporting-api', repositoryId='internal', version='2.0.9', prefix='null', goals=null, bundleVersion='null', bundleSymbolicName='null', bundleExportPackage='null', bundleExportService='null', bundleDescription='null', bundleName='null', bundleLicense='null', bundleDocUrl='null', bundleImportPackage='null', bundleRequireBundle='null', classifier='null', packaging='jar', fileExtension='jar'}
586 [main] DEBUG ArchivaRestTest  - artifact[]=Artifact{context='internal', url='http://localhost:8082/archiva/repository/internal/org/apache/maven/reporting/maven-reporting-api/3.0/maven-reporting-api-3.0.jar', groupId='org.apache.maven.reporting', artifactId='maven-reporting-api', repositoryId='internal', version='2.0.6', prefix='null', goals=null, bundleVersion='null', bundleSymbolicName='null', bundleExportPackage='null', bundleExportService='null', bundleDescription='null', bundleName='null', bundleLicense='null', bundleDocUrl='null', bundleImportPackage='null', bundleRequireBundle='null', classifier='null', packaging='jar', fileExtension='jar'}
{noformat}

If you look at the last two artifacts, the URL doesn't match the version, the URL seems to be the same for all artifacts in the returned list.",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Romain Moreau,romainmoreau
MRM-1581,Sub-task,2012-01-12T09:57:58.682Z,2012-01-12T09:57:58.682Z,2012-09-06T07:38:07.571Z,2012-09-06T07:38:07.571Z,2012-03-08T14:29:25.657Z,2012-03-08T14:29:25.657Z,rewrite network configuration page,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1520,Sub-task,2011-09-15T10:48:07Z,2011-09-15T10:48:07Z,2011-09-15T14:59:18.391Z,2011-09-15T14:59:18.391Z,2011-09-15T14:59:18.285Z,2011-09-15T14:59:18.285Z,current first implementation duplicates too much beans so remove beans in rest-api,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1559,Improvement,2011-11-15T00:58:21.377Z,2011-11-15T00:58:21.377Z,2011-11-15T02:19:57.727Z,2011-11-15T02:19:57.727Z,2011-11-15T02:19:57.523Z,2011-11-15T02:19:57.523Z,Unit tests derby.log file should be located in the target folder,"In order to be removed by a mvn clean, the derby.log files generated during unit tests should be located in the target folder.",Major,Closed,Cannot Reproduce,,,Jean-Baptiste Onofré,jbonofre
MRM-1548,Improvement,2011-11-06T02:54:18.029Z,2011-11-06T02:54:18.029Z,2011-11-06T03:02:24.931Z,2011-11-06T03:02:24.931Z,2011-11-06T03:02:24.888Z,2011-11-06T03:02:24.888Z,configure a java.io.tmpdir in ./temp for jetty distrib,"the current distrib write files in java.io.tmpdir (ehcache files), on unix this directory is shared for all uid.
So currently you cannot start 2 archiva instances with different uid in the same unix instance.
create a ./temp directory in the jetty distrib and configure java.io.tmpdir to use it.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1533,Bug,2011-10-17T05:56:37.956Z,2011-10-17T05:56:37.956Z,2012-07-30T09:17:23.38Z,2012-07-30T09:17:23.38Z,2012-07-30T09:17:23.246Z,2012-07-30T09:17:23.246Z,"Left Nav links are disabled on ""User Management"", ""User Roles"", and ""Appearance"" pages with Internet Explorer","Steps to replicate:
1. Login as an Administrator.
2. Click on the User Management link on the left nav. 
3. After the page loads, click on any of the left nav links.

Actual Result in IE7:
* all links are disabled

Actual Result in IE8:
* User Management, User Roles and Appearance links are disabled

Expected Result:
* Links should not be disabled and should work when clicked.

Tested this in IE9 and it works fine.",Major,Closed,Won't Fix,,,mbaclay,mbaclay
MRM-1543,Improvement,2011-10-25T12:35:14.49Z,2011-10-25T12:35:14.49Z,2012-06-26T17:18:47.838Z,2012-06-26T17:18:47.838Z,2012-06-26T17:18:47.693Z,2012-06-26T17:18:47.693Z,artifact display doesn't show eventual classifiers,"Using the artifact display info ui : http://localhost:9091/archiva/browse/org.foo/bar-foo/1.1
If there are some artifacts with classifier there are not displayed in the UI.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1599,Bug,2012-02-03T13:16:59.077Z,2012-02-03T13:16:59.077Z,2012-04-13T02:07:29.391Z,2012-04-13T02:07:29.391Z,2012-02-04T16:25:54.763Z,2012-02-04T16:25:54.763Z,NTLM proxy no longer works,"After upgrading Archiva from 1.3.5 to 1.4-M2 NTLM proxy no longer works. This is most likely caused by switching to wagon http.

2012-02-02 10:46:48,582 [qtp1120643297-21] DEBUG org.apache.archiva.proxy.common.DebugTransferListener  - transferInitiated for resource org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.pom on repository url http://repo1.maven.org/maven2/
2012-02-02 10:46:48,834 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""GET http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.pom HTTP/1.1[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Cache-control: no-cache[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Cache-store: no-store[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Pragma: no-cache[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Expires: 0[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Accept-Encoding: gzip[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Host: repo1.maven.org[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Proxy-Connection: Keep-Alive[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""[\r][\n]""
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> GET http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.pom HTTP/1.1
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Cache-control: no-cache
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Cache-store: no-store
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Pragma: no-cache
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Expires: 0
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Accept-Encoding: gzip
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Host: repo1.maven.org
2012-02-02 10:46:48,835 [qtp1120643297-21] DEBUG org.apache.http.headers  - >> Proxy-Connection: Keep-Alive
2012-02-02 10:46:49,116 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""HTTP/1.1 407 Proxy Authentication Required[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Proxy-Authenticate: NTLM[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Proxy-Authenticate: BASIC realm=""Auth_Seq_NTLM_to_ldap""[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Cache-Control: no-cache[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Pragma: no-cache[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Content-Type: text/html; charset=utf-8[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Proxy-Connection: close[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Set-Cookie: BCSI-CS-41D6D8BAA7362CE4=2; Path=/[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Connection: close[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""Content-Length: 895[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.wire  - << ""[\r][\n]""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << HTTP/1.1 407 Proxy Authentication Required
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Proxy-Authenticate: NTLM
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Proxy-Authenticate: BASIC realm=""Auth_Seq_NTLM_to_ldap""
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Cache-Control: no-cache
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Pragma: no-cache
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Content-Type: text/html; charset=utf-8
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Proxy-Connection: close
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Set-Cookie: BCSI-CS-41D6D8BAA7362CE4=2; Path=/
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Connection: close
2012-02-02 10:46:49,118 [qtp1120643297-21] DEBUG org.apache.http.headers  - << Content-Length: 895
2012-02-02 10:46:49,157 [qtp1120643297-21] ERROR org.apache.http.client.protocol.RequestProxyAuthentication  - Proxy authentication error: Credentials cannot be used for NTLM authentication: org.apache.http.auth.UsernamePasswordCredentials
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""GET http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.pom HTTP/1.1[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Cache-control: no-cache[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Cache-store: no-store[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Pragma: no-cache[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Expires: 0[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Accept-Encoding: gzip[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Host: repo1.maven.org[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Proxy-Connection: Keep-Alive[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""Cookie: BCSI-CS-41D6D8BAA7362CE4=2[\r][\n]""
2012-02-02 10:46:49,157 [qtp1120643297-21] DEBUG org.apache.http.wire  - >> ""[\r][\n]""
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Lukasz Szelag,lukasz74nj
MRM-1547,New Feature,2011-10-29T18:10:42.557Z,2011-10-29T18:10:42.557Z,2011-10-29T18:17:21.492Z,2011-10-29T18:17:21.492Z,2011-10-29T18:17:21.432Z,2011-10-29T18:17:21.432Z,release an archetype to create consumer,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1505,Sub-task,2011-08-30T12:23:21.767Z,2011-08-30T12:23:21.767Z,2011-09-02T09:56:32.784Z,2011-09-02T09:56:32.784Z,2011-09-02T09:56:32.682Z,2011-09-02T09:56:32.682Z,api to configure ManagedRepository,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1562,Improvement,2011-11-22T07:29:20.274Z,2011-11-22T07:29:20.274Z,2014-05-02T04:00:48.278Z,2014-05-02T04:00:48.278Z,,,Update to Archiva as OSGi compliant application,"In addition of the OBR support, Archiva itself should be OSGi compliant.
It means that most of Archiva modules should be OSGi bundles.",Major,Open,,Jean-Baptiste Onofré,jbonofre,Jean-Baptiste Onofré,jbonofre
MRM-1537,Improvement,2011-10-18T10:38:10.721Z,2011-10-18T10:38:10.721Z,2011-10-18T10:50:59.349Z,2011-10-18T10:50:59.349Z,,,add administrator guide for migrating from Sonatype Nexus to Apache Archiva,"It would be nice to have some documentation about how an administrator can migrate from an existing Sonatype Nexus installation to Apache Archiva. This may be very easy, I have no idea - I just have about 40 Gb of artifacts already managed by Nexus that I would like to move into Archiva ...

Combine this with MRM-1525 and MRM-1528 and I think we will have a dramatic improvement in installation and switch over rates.",Major,Open,,,,jieryn,jieryn
MRM-1532,New Feature,2011-10-12T08:38:51.097Z,2011-10-12T08:38:51.097Z,2017-04-05T19:29:56.893Z,2017-04-05T19:29:56.893Z,,,integrated  Feed Item Query Language(FIQL) to search rest services ,"CXF propose a nice feature http://cxf.apache.org/docs/jax-rs-advanced-features.html#JAX-RSAdvancedFeatures-FIQLsearchqueries .
So could be nice to integrate that in REST Search Service.",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1566,Task,2011-12-16T08:44:47.019Z,2011-12-16T08:44:47.019Z,2016-03-15T05:55:23.17Z,2016-03-15T05:55:23.17Z,2011-12-16T09:43:44.022Z,2011-12-16T09:43:44.022Z,remove xml rpc services,"As now we have some REST services, we can remove xml rpc services.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1589,Sub-task,2012-01-16T04:23:31.641Z,2012-01-16T04:23:31.641Z,2012-09-10T14:59:55.18Z,2012-09-10T14:59:55.18Z,2012-09-10T14:59:55.08Z,2012-09-10T14:59:55.08Z,review ajax call to have sure we have error callback implemented,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-104,Improvement,2006-03-13T21:15:22.416Z,2006-03-13T21:15:22.416Z,2007-05-25T14:20:44.061Z,2007-05-25T14:20:44.061Z,2006-03-14T01:57:27.07Z,2006-03-14T01:57:27.07Z,ProxyConfiguration enhancements,"According to brett, these are the need improvements:
 - make repoCache a member of the ProxyManager, which will remove ArtifactRepositoryFactory
 - browsable should be a configuration of the webapp
 - remove field storage for the layout and use plexus to lookup valid values
 - loadMavenProxyConfiguration should be in a separate reader class
",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-171,Improvement,2006-09-12T20:29:47.65Z,2006-09-12T20:29:47.65Z,2007-06-02T07:11:13.8Z,2007-06-02T07:11:13.8Z,2006-09-14T20:35:07.437Z,2006-09-14T20:35:07.437Z,Make the registerUser and registerAdminUser pages share the same form,"The  pages look different, but have the same elements. Use <%@include %> for the form elements.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-134,Improvement,2006-08-02T00:15:39.727Z,2006-08-02T00:15:39.727Z,2007-05-25T14:20:42.624Z,2007-05-25T14:20:42.624Z,2006-09-04T00:31:03.251Z,2006-09-04T00:31:03.251Z,ability to update an existing index without relying on timestamp,"due to the possibility that timestamps can get out of sync, it should be possible to update an index without relying on these in a performant way (ie, not rebuilding from scratch).

for example, compare the artifact timestamp to the target location before deciding if an addition/update is needed and reading the JAR (possibly the slowest part of indexing - should confirm what % it takes)

this will also need to process deletions (which may not be handled in the normal indexing, depending on how that is implemented for discovery)
",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-193,Bug,2006-09-26T09:23:18.853Z,2006-09-26T09:23:18.853Z,2007-06-02T07:11:17.552Z,2007-06-02T07:11:17.552Z,2006-09-28T08:56:08.525Z,2006-09-28T08:56:08.525Z,broken extensions on security pages causes some servlet containers to freak out,"I think these are all incorrect - please change c:import to <%@include and the xwork results to jsp. jspf is just a convention for fragments of a JSP used in <%@include.

src/main/webapp/WEB-INF/classes/xwork-security.xml:     These configurations point to the overlaid jspf files.
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result>/WEB-INF/jsp/security/admin/systemInformation.jspf</result>
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result>/WEB-INF/jsp/security/admin/console.jspf</result>
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result name=""input"">/WEB-INF/jsp/pss/include/assignments.jspf</result>
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result name=""error"">/WEB-INF/jsp/pss/include/error.jspf</result>
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result name=""success"">/WEB-INF/jsp/pss/include/assignments.jspf</result>
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result name=""success"">/WEB-INF/jsp/pss/include/grantRoles.jspf</result>
src/main/webapp/WEB-INF/classes/xwork-security.xml:      <result name=""success"">/WEB-INF/jsp/pss/include/removeRoles.jspf</result>
src/main/webapp/WEB-INF/jsp/admin/createAdmin.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/admin/createAdmin.jsp:  <c:import url=""/WEB-INF/jsp/pss/include/userCredentials.jspf"" />
src/main/webapp/WEB-INF/jsp/decorators/default.jsp:    <c:import url=""/WEB-INF/jsp/pss/include/securityLinks.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/account.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/account.jsp:  <c:import url=""/WEB-INF/jsp/pss/include/userCredentials.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/operationList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/rbacListNavigation.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/operationList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/permissionList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/rbacListNavigation.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/permissionList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/resourceList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/rbacListNavigation.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/resourceList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/roleCreate.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/roleList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/rbacListNavigation.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/roleList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/userCreate.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/userCreate.jsp:  <c:import url=""/WEB-INF/jsp/pss/include/userCredentials.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/userEdit.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/userEdit.jsp:  <c:import url=""/WEB-INF/jsp/pss/include/userCredentials.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/admin/userList.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/login.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/register.jsp:<c:import url=""/WEB-INF/jsp/pss/include/formValidationResults.jspf"" />
src/main/webapp/WEB-INF/jsp/pss/register.jsp:  <c:import url=""/WEB-INF/jsp/pss/include/userCredentials.jspf"" />
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-148,New Feature,2006-08-11T02:06:20.536Z,2006-08-11T02:06:20.536Z,2015-04-05T14:27:43.013Z,2015-04-05T14:27:43.013Z,2009-09-08T19:03:13.165Z,2009-09-08T19:03:13.165Z,provide way of zipping the repository index for remote distribution,"for use in the IDEs, it would be nice to have the index for the remote repository readily available for download. the attached path solves that by always creating a zip file after the index is updated and placing it into the repository in .index folder. That way the IDE can easily check the location only with the knowledge of the repository url.
",Major,Closed,Won't Fix,Brett Porter,brettporter,Milos Kleint,mkleint
MRM-162,Task,2006-09-04T21:14:28.219Z,2006-09-04T21:14:28.219Z,2007-08-10T03:33:50.702Z,2007-08-10T03:33:50.702Z,,,"implement ""quick fix"" capabilities in reports","see the white site - checksums need to be generated/corrected, duplicate files might be removed or relocated, etc.",Major,Open,,,,Brett Porter,brettporter
MRM-135,New Feature,2006-08-02T00:16:56.113Z,2006-08-02T00:16:56.113Z,2016-03-15T05:59:26.548Z,2016-03-15T05:59:26.548Z,2016-03-15T05:59:26.515Z,2016-03-15T05:59:26.515Z,integrate repository sync and conversion in the main application,,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-108,Wish,2006-03-23T15:13:26.325Z,2006-03-23T15:13:26.325Z,2007-05-25T14:20:29.842Z,2007-05-25T14:20:29.842Z,2006-05-31T20:17:58.408Z,2006-05-31T20:17:58.408Z,Add a MRM Goals WIki page,"Hi,

Could you please add a page to the wiki which would explain what the goals of MRM are.

- Will it be ibiblio.org's new repository back office ?
- Will it be a better maven-proxy targetting corporate intranets/extranets ?

Thanx a lot
",Major,Closed,Fixed,Brett Porter,brettporter,Cédric Vidal,cedricvidal
MRM-143,Improvement,2006-08-02T00:30:32.062Z,2006-08-02T00:30:32.062Z,2007-08-03T11:02:07.306Z,2007-08-03T11:02:07.306Z,2007-08-03T11:02:07.311Z,2007-08-03T11:02:07.311Z,"improve error reporting on corrupt jars, poms, etc","currently, many failures can be detected during indexing but none are reported anywhere other than the logs. Either these need to be sent through the regular reporting mechanism, or the regular reporting mechanism needs to be able to come back later and pick up the same issues.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-165,Improvement,2006-09-07T07:45:47.839Z,2006-09-07T07:45:47.839Z,2007-05-25T14:20:26.988Z,2007-05-25T14:20:26.988Z,2006-09-30T08:51:34.301Z,2006-09-30T08:51:34.301Z,add Last-Modified header in proxy response,"When used as a maven1 proxy, Archiva doesn't send Last-modified header. This cause maven 1.1-beta3 to fail due to a bug in Wagon. The wagon bug is corrected in SVN but there is no corrected maven 1.1 distribution available yet. 
Setting a Last-Modifier header in proxy response can solve this issue. I don't know webwork enough to add support for this.",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-156,New Feature,2006-08-24T23:54:00.648Z,2006-08-24T23:54:00.648Z,2007-07-31T03:06:54.581Z,2007-07-31T03:06:54.581Z,,,track repositry manager base url in the metadata of a managed repository,"repository.manager.url = http://localhost:8080/ (for requesting the index)
repository.manager.id = releases

This is needed in the metadata at the root of the repo, so that when a pom configures a repository http://localhost:8080/releases/, the tools can recognise where it comes from",Major,Open,,,,Brett Porter,brettporter
MRM-103,Improvement,2006-03-13T20:12:52.953Z,2006-03-13T20:12:52.953Z,2007-05-25T14:20:29.728Z,2007-05-25T14:20:29.728Z,2006-03-13T20:36:07.399Z,2006-03-13T20:36:07.399Z,Make the artifact discoverers use the artifact utils,The parsing of an artifact path (both for m1 and m2) have been extracted into the MRM-utils module and the discovery should use this instead.,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-197,Task,2006-10-01T00:27:11.745Z,2006-10-01T00:27:11.745Z,2007-07-31T04:16:49.525Z,2007-07-31T04:16:49.525Z,2007-07-31T04:16:49.531Z,2007-07-31T04:16:49.531Z,need to track successful metadata in reports,"to avoid rescanning and processing all metadata on every run, we need to track the successful ones and their times",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-118,Bug,2006-06-07T02:32:29.686Z,2006-06-07T02:32:29.686Z,2007-05-25T14:20:26.882Z,2007-05-25T14:20:26.882Z,2006-06-08T00:00:02.203Z,2006-06-08T00:00:02.203Z,code review and clean up,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-190,Task,2006-09-25T03:06:27.92Z,2006-09-25T03:06:27.92Z,2007-05-22T14:40:32.038Z,2007-05-22T14:40:32.038Z,2007-05-22T14:40:32.043Z,2007-05-22T14:40:32.043Z,implement security configuration on proxy,,Major,Closed,Won't Fix,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-150,Task,2006-08-15T05:45:00.912Z,2006-08-15T05:45:00.912Z,2007-05-25T14:20:25.574Z,2007-05-25T14:20:25.574Z,2006-09-14T22:15:55.135Z,2006-09-14T22:15:55.135Z,add field validations for forms,these are documented in the validation files by todos,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-163,Improvement,2006-09-05T03:31:10.812Z,2006-09-05T03:31:10.812Z,2007-05-25T14:20:27.513Z,2007-05-25T14:20:27.513Z,2006-09-13T00:21:10.829Z,2006-09-13T00:21:10.829Z,add support for javadoc bundles and maven1 plugins in LegacyDiscoverer,"path for ""maven/plugins/maven-test-plugin-1.8.jar"" or ""javax.sql/javadoc.jars/jdbc-2.0-javadoc.jar"" are not converted to Artifact by LegacyArtifactDiscoverer.

The attached patch includes testcase for such path and some enhancements to LegacyArtifactDiscoverer to parse them as expected.",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-145,Improvement,2006-08-07T07:30:28.673Z,2006-08-07T07:30:28.673Z,2007-05-25T14:20:34.76Z,2007-05-25T14:20:34.76Z,2006-08-26T06:27:32.619Z,2006-08-26T06:27:32.619Z,identify skins and adjust type in index accordingly,"like we identify archetypes, attempt to identify skins and index them accordingly.

It may be beneficial to introduce a proper packaging type for this in Maven itself.

While it is not entirely deterministic (as a skin is simply a set of files laid onto the site), the existence of one of css/maven-base.css and site.vm would be a reliable predictor.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-102,Improvement,2006-03-13T03:29:03.898Z,2006-03-13T03:29:03.898Z,2007-05-25T14:20:28.124Z,2007-05-25T14:20:28.124Z,2006-03-13T04:44:15.304Z,2006-03-13T04:44:15.304Z,ProxyManager enhancements,"As brett pointed out, the DefaultProxyManager needs some refactoring especially on these points:

- remove cache period
- get() ignores the return of getRemoteFile()
- make the proxy check for the checksum and metadata files first, before parsing the path for an artifact
- getArtifactFile should use artifact.setFile() and not return the file anymore.
- temp should be setup to deleteOnExit()
- rename copyTempToTarget to moveTempToTarget
- rename prepare/release checksums to prepare/release ChecksumListeners
- use FileUtils.read when applicable",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-176,Improvement,2006-09-15T09:47:12.888Z,2006-09-15T09:47:12.888Z,2009-03-21T21:01:01.457Z,2009-03-21T21:01:01.457Z,2009-02-15T20:15:53.252Z,2009-02-15T20:15:53.252Z,prevent potential out of memory problems in large search results,"currently, it is possible to search and return all the records, which would probably cause a problem.

We should limit the number of results returned beyond what is useful, or at least lazily initialise those after the first few pages.ß",Major,Closed,Won't Fix,james.w.dumay,james.w.dumay,Brett Porter,brettporter
MRM-125,Bug,2006-07-23T19:49:07.187Z,2006-07-23T19:49:07.187Z,2007-05-25T14:20:38.669Z,2007-05-25T14:20:38.669Z,2006-07-24T07:40:19.849Z,2006-07-24T07:40:19.849Z,make discovery only discover new artifacts,"currently every artifact is discovered every time. A technique that facilitates only finding new artifacts is needed.

Note gotchas:
- different operations will run at different times, so there can't be a single repository discovery timestamp. For example, indexing might check based on the last time the index was updated
- some operations are not atomic (eg indexing may not complete, but the index is newer than some artifacts created afterwards, and artifacts created between discovery and indexing will fall through the cracks)

I'd suggest narrowing down the times to some atomic operations (eg, updating index for all new artifacts, where index is only written at the end), and tracking the timestamp based on the conclusion of discovery, not the operation, then recording those timestamps in a metadata file in the root of the repository.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-112,Bug,2006-05-19T17:09:56.948Z,2006-05-19T17:09:56.948Z,2007-05-25T14:20:35.734Z,2007-05-25T14:20:35.734Z,2006-05-31T22:45:01.057Z,2006-05-31T22:45:01.057Z,"Creation of MetadataReposiotryIndex fails if provided index directory exists, but works if the directory does not exists","Here is  the stacktrace:

org.apache.maven.repository.indexing.RepositoryIndexException: C:\dev\index is not a valid index directory.
	at org.apache.maven.repository.indexing.AbstractRepositoryIndex.indexExists(AbstractRepositoryIndex.java:257)
	at org.apache.maven.repository.indexing.MetadataRepositoryIndex.deleteIfIndexed(MetadataRepositoryIndex.java:195)
	at org.apache.maven.repository.indexing.MetadataRepositoryIndex.indexMetadata(MetadataRepositoryIndex.java:173)
	at org.apache.maven.repository.indexing.MetadataRepositoryIndex.index(MetadataRepositoryIndex.java:67)
 ...

the directory exists, if you will pass the path that does not exists, all works fine.",Major,Closed,Fixed,Maria Odea Ching,oching,Alexander Smirnoff,alexsmr
MRM-124,New Feature,2006-07-23T19:46:27.833Z,2006-07-23T19:46:27.833Z,2008-11-07T07:58:32.137Z,2008-11-07T07:58:32.137Z,2008-10-23T20:30:17.264Z,2008-10-23T20:30:17.264Z,web service interface,"this needs a new jira component.

We need a comprehensive web services interface to the application. Like RSS, it should be a new view on the same actions. The more we can derive that from the repository-core interfaces, the better.
This should include administration and security.

",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-107,Improvement,2006-03-14T07:12:58.956Z,2006-03-14T07:12:58.956Z,2007-05-25T14:20:43.157Z,2007-05-25T14:20:43.157Z,2006-03-15T04:28:31.71Z,2006-03-15T04:28:31.71Z,Remove unnecessary maven-proxy classes from the remote-proxy,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-154,Bug,2006-08-24T08:10:26.232Z,2006-08-24T08:10:26.232Z,2007-05-25T14:20:27.379Z,2007-05-25T14:20:27.379Z,2006-08-31T23:28:51.672Z,2006-08-31T23:28:51.672Z,DigestUtils fails to verify checksum from ibiblio,"Downloading servletapi-24.pom fails.

DigestUtils.cleanChecksum check for filename in remote checksum file to be same as local, but tets is inverted :

                String filename = m.group( 2 );
                if ( !path.endsWith( filename ) )
                {
                    throw new DigesterException( ""Supplied checksum does not match checksum pattern"" );
                }

filename = ""/home/projects/maven/repository-staging/to-ibiblio/maven2/servletapi/servletapi/2.4/servletapi-2.4.pom""
path = ""servletapi-2.4.pom"".


Patch provided to test if ( !path.endsWith( filename ) )",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-175,Improvement,2006-09-15T09:28:28.143Z,2006-09-15T09:28:28.143Z,2010-02-23T08:24:34.844Z,2010-02-23T08:24:34.844Z,2007-11-08T16:33:02.531Z,2007-11-08T16:33:02.531Z,parralellise index creation,"for a large index creation - first time on a large repo, it could be much more efficient by having multiple processing threads for different sections of the repository",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-106,Improvement,2006-03-14T05:52:41.422Z,2006-03-14T05:52:41.422Z,2007-05-25T14:20:33.079Z,2007-05-25T14:20:33.079Z,2006-03-14T07:10:04.34Z,2006-03-14T07:10:04.34Z,Keep only one http proxy configuration and have each repository whether to use it or not,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-105,New Feature,2006-03-14T03:30:47.638Z,2006-03-14T03:30:47.638Z,2007-05-25T14:20:43.856Z,2007-05-25T14:20:43.856Z,2006-03-15T20:58:10.358Z,2006-03-15T20:58:10.358Z,Use cacheFailure configuration in remote repositories,Currently a todo in the source code,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-142,Bug,2006-08-02T00:28:54.677Z,2006-08-02T00:28:54.677Z,2015-04-05T21:46:11.831Z,2015-04-05T21:46:11.831Z,2007-10-23T11:13:26.053Z,2007-10-23T11:13:26.053Z,project builder cache needs to be configurable to prevent memory leaking,"need to investigate if there is a memory leak, since the server received an OOME some time after successfully completing a full index with 1Gb heap with just some browsing/searching. It is most likely in the indexing itself, but there may be some in the browse/search interface too",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-152,Improvement,2006-08-23T05:42:43.971Z,2006-08-23T05:42:43.971Z,2007-06-02T07:11:15.624Z,2007-06-02T07:11:15.624Z,2006-09-05T03:36:35.369Z,2006-09-05T03:36:35.369Z,"LegacyArtifactDiscoverer doesn""t handle ""javadoc.jars"" type","""javadoc.jars"" type is used in maven1 repo for javadoc bundles. It is not commonly used, but support for it has recently be added to eclipse plugin, and it can be usefull for non-redistribuable artifacts that have private sources.

",Major,Closed,Fixed,,,nicolas de loof,ndeloof
MRM-186,Improvement,2006-09-25T02:44:44.011Z,2006-09-25T02:44:44.011Z,2015-04-05T14:27:44.21Z,2015-04-05T14:27:44.21Z,2006-12-26T20:21:32.707Z,2006-12-26T20:21:32.707Z,"rename ""depended on by"" to ""used by""",,Major,Closed,Fixed,Henri Yandell,bayard,Brett Porter,brettporter
MRM-185,Improvement,2006-09-25T02:43:54.035Z,2006-09-25T02:43:54.035Z,2007-11-08T09:34:30.14Z,2007-11-08T09:34:30.14Z,2007-11-08T09:34:30.143Z,2007-11-08T09:34:30.143Z,revise logging granularity,"in particular, check that JPOX logging is at the correct level, but generally turn the noise down.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-180,Bug,2006-09-15T10:25:16.886Z,2006-09-15T10:25:16.886Z,2016-03-15T06:00:58.639Z,2016-03-15T06:00:58.639Z,2016-03-15T06:00:58.618Z,2016-03-15T06:00:58.618Z,metadata reports will not detect missing metaadata files,,Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-159,Bug,2006-08-25T23:05:07.01Z,2006-08-25T23:05:07.01Z,2008-04-03T07:02:49.712Z,2008-04-03T07:02:49.712Z,2008-04-03T07:02:49.719Z,2008-04-03T07:02:49.719Z,should not respond with a 404 if proxying a file results in a remote error,"if any repository returns success, return success
otherwise, if any repository returns in error, return a generic error (500), saying to check the logs.
",Critical,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-170,Bug,2006-09-12T20:18:27.282Z,2006-09-12T20:18:27.282Z,2007-06-02T07:11:13.886Z,2007-06-02T07:11:13.886Z,2006-09-13T14:39:28.02Z,2006-09-13T14:39:28.02Z,login fails,I am unable to successfully log in with the users created either by standard registration or the admin user created.,Major,Closed,Fixed,Jesse McConnell,jesse,Brett Porter,brettporter
MRM-199,Improvement,2006-10-01T01:14:17.608Z,2006-10-01T01:14:17.608Z,2007-05-25T14:20:28.386Z,2007-05-25T14:20:28.386Z,2006-10-05T16:14:01.204Z,2006-10-05T16:14:01.204Z,Indenting the artifact information on the dependencies/dependend-on-by pages,Attached is a CSS/HTML patch to improve the look of the dependency pages.,Minor,Closed,Fixed,Emmanuel Venisse,evenisse,Jira Report User,jirareport
MRM-151,Improvement,2006-08-20T20:49:07.748Z,2006-08-20T20:49:07.748Z,2007-05-25T14:20:26.557Z,2007-05-25T14:20:26.557Z,2006-08-26T08:46:41.8Z,2006-08-26T08:46:41.8Z,re-introduce index of developers and dependencies,"it will be useful to identify which projects a developer are associated with, and the dependency index will be needed to do the depended-on page on the browse artifact page",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-117,New Feature,2006-06-06T03:27:57.151Z,2006-06-06T03:27:57.151Z,2007-05-25T14:20:33.911Z,2007-05-25T14:20:33.911Z,2006-07-06T06:43:21.781Z,2006-07-06T06:43:21.781Z,support multiple repository proxy and artifact cache,  expose the ProxyManager as an action for requesting artifacts,Major,Closed,Fixed,Marvin King,pmking,Marvin King,pmking
MRM-169,Bug,2006-09-12T20:15:32.762Z,2006-09-12T20:15:32.762Z,2007-05-25T14:20:24.986Z,2007-05-25T14:20:24.986Z,2006-09-29T20:20:33.52Z,2006-09-29T20:20:33.52Z,incorrect validation on register page,"I noticed the following problems:
- validation is not done with javascript
- only username & full name validation work.
- if I omit email, I get a successful registration, *and* and error that email is required
- if I omit confirm password, I get a successful registration
- if I use an incorrect confirm password, I get a successful registration
- if I reuse an email already in the system, I think I should get a failed registration
",Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-127,Bug,2006-07-24T20:44:30.177Z,2006-07-24T20:44:30.177Z,2007-05-25T14:20:36.11Z,2007-05-25T14:20:36.11Z,2006-07-31T01:51:37.065Z,2006-07-31T01:51:37.065Z,refactor and review indexing and search,"the indexing that is currently in place doesn't seem to be working well.
- creating the metadata index erases all artifacts
- the ms count for the initial index seems shorter than it takes
- design improvements needed

for search:
- general search simply iterates all fields looking for keywords, which probably doesn't rank optimally
- search fails on ""maven"" as it tries to load a metadata file that contains it incorrectly. It shouldn't need to read the metadata files of the search results.
- general search doesn't appear to search metadata
- design improvements needed
",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-140,Bug,2006-08-02T00:26:02.786Z,2006-08-02T00:26:02.786Z,2007-05-25T14:20:42.065Z,2007-05-25T14:20:42.065Z,2006-08-25T00:34:34.723Z,2006-08-25T00:34:34.723Z,logging misconfiguration,"it seems since switching to the new plexus-xwork integration that the logging is not correct or complete (perhaps just that it is initialised later than some things need to log), going by the warning that appears on startup.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-100,Improvement,2006-03-12T23:50:32.916Z,2006-03-12T23:50:32.916Z,2007-06-02T07:11:15.163Z,2007-06-02T07:11:15.163Z,2006-08-25T01:11:35.057Z,2006-08-25T01:11:35.057Z,Make ProxyConfiguration into a plexus configuration object,,Major,Closed,Won't Fix,Brett Porter,brettporter,Edwin Punzalan,elpunzalan
MRM-181,Bug,2006-09-21T14:01:11.525Z,2006-09-21T14:01:11.525Z,2007-06-02T07:11:17.351Z,2007-06-02T07:11:17.351Z,2006-09-22T22:22:03.224Z,2006-09-22T22:22:03.224Z,Codehaus Snapshots Repository missing in POM,"The Codehaus Snapshots Repository is missing from the root POM. As a result, the build fails to locate certain Plexus artifacts. 
",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Wilfred Springer,wilfred
MRM-158,Improvement,2006-08-25T22:15:33.714Z,2006-08-25T22:15:33.714Z,2007-09-26T22:23:58.317Z,2007-09-26T22:23:58.317Z,2007-09-26T22:23:46.379Z,2007-09-26T22:23:46.379Z,automatically index proxied artifacts,"currently the proxied artifacts will only be indexed when the indexer is next run.

We should automatically index them, but some care needs to be taken:
- make sure the indexer is thread safe and won't regularly fail with a failed lock
- find the best way to hook this up by design (need to separate proxied artifacts from proxied files as this is internal to the proxy code, and don't want the indexer into the proxy code but rather in the core).",Critical,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-139,Bug,2006-08-02T00:23:30.106Z,2006-08-02T00:23:30.106Z,2007-05-25T14:20:39.911Z,2007-05-25T14:20:39.911Z,2006-10-25T01:36:53.172Z,2006-10-25T01:36:53.172Z,scheduler issues,"the current scheduler has some issues:
- it allows a task already in progress to run again (the ability to allow/prevent this should be configurable on a task by task basis - it should be either execute (double up anyway), wait (execute when the last finished), or skip (just wait until next scheduled))
- it appears that the task scheduler is swallowing runtime exceptions
- shutdown often throws exceptions because of the way the tasks seem to be shutdown/destroyed after the scheduler itself",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-133,Bug,2006-08-02T00:11:14.724Z,2006-08-02T00:11:14.724Z,2007-06-02T07:11:17.861Z,2007-06-02T07:11:17.861Z,2006-09-04T00:36:17.557Z,2006-09-04T00:36:17.557Z,discovery might not find artifacts added as a result of rsync,"currently, the ""last discovered"" timestamp for an operation is set to the current time. There are two problems with that:
- artifacts added in the last minute are not discovered, and because of this setting never will be
- artifacts added with timestamps in the past (eg, using rsync) will never be discovered.

For the first, the time recorded can simply be set in the past.

However, for the second another alternative needs to be found (whether it be querying the target to check if it already exists or not rather than a single timestamp, or some other solution)",Major,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-146,Improvement,2006-08-08T15:23:32.541Z,2006-08-08T15:23:32.541Z,2007-05-25T14:20:37.311Z,2007-05-25T14:20:37.311Z,2006-08-10T07:49:51.592Z,2006-08-10T07:49:51.592Z,Updates to MRM-Util's Digester to support incremental hashcodes/checksums,"In order to support a more robust checksum routine needed for automatic jar discovery operations in MRM and MPIR, a set of new functions to allow for incremental digester calculations have been created.

These routines are in use by MNG-2489 to produce a bytecode checksum needed for a more accurate way to identify unknown artifacts.

",Major,Closed,Fixed,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-192,Improvement,2006-09-25T23:40:40.692Z,2006-09-25T23:40:40.692Z,2007-11-08T16:40:15.264Z,2007-11-08T16:40:15.264Z,,,detect jars/artifacts that contain only pom.xml and pom.properties and consider them as empty,these should be treated as invalid uploads,Major,Open,,,,Brett Porter,brettporter
MRM-161,Task,2006-09-04T21:13:01.656Z,2006-09-04T21:13:01.656Z,2007-05-25T14:20:42.438Z,2007-05-25T14:20:42.438Z,2006-09-08T02:52:30.264Z,2006-09-08T02:52:30.264Z,implement a reporting manager,we need a central place to log issues that go into the report interface,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-196,Improvement,2006-09-30T07:06:23.36Z,2006-09-30T07:06:23.36Z,2008-09-13T21:35:45.792Z,2008-09-13T21:35:45.792Z,2008-09-13T21:35:45.799Z,2008-09-13T21:35:45.799Z,paginate results,"reports page, search results, dependencies",Major,Closed,Not A Problem,,,Brett Porter,brettporter
MRM-188,Task,2006-09-25T03:02:37.263Z,2006-09-25T03:02:37.263Z,2007-05-25T14:20:36.239Z,2007-05-25T14:20:36.239Z,2006-09-28T21:32:55.115Z,2006-09-28T21:32:55.115Z,clean up security implementation,"some files got left around (eg, plexus-security.properties)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-191,Improvement,2006-09-25T03:07:22.473Z,2006-09-25T03:07:22.473Z,2007-05-25T14:20:38.394Z,2007-05-25T14:20:38.394Z,2006-09-30T09:09:22.487Z,2006-09-30T09:09:22.487Z,"when no proxy repositories are configured, disable the /proxy/ access URL",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-189,Bug,2006-09-25T03:04:19.708Z,2006-09-25T03:04:19.708Z,2007-05-29T13:39:58.669Z,2007-05-29T13:39:58.669Z,2007-05-29T13:39:58.675Z,2007-05-29T13:39:58.675Z,archiva hangs on repository.maven.org,"after running for some time, Archiva hangs.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-137,New Feature,2006-08-02T00:20:03.893Z,2006-08-02T00:20:03.893Z,2007-05-25T14:20:30.654Z,2007-05-25T14:20:30.654Z,2006-09-29T22:38:38.997Z,2006-09-29T22:38:38.997Z,add user management and basic security,"this issue just needs the ability to create and manage users and groups, log in, and restrict access to the administration interface. Further operations may add the need for more security later on.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-123,New Feature,2006-07-23T19:37:44.177Z,2006-07-23T19:37:44.177Z,2008-04-08T05:39:53.167Z,2008-04-08T05:39:53.167Z,2008-04-08T05:39:53.171Z,2008-04-08T05:39:53.171Z,add RSS view to repository manager,"possibly needs a new component in JIRA. Items that could have RSS:
- a particular search
- preset for ""latest added"" artifacts
- preset for ""new versions"" of artifacts
- preset for ""new artifacts from a given sync partner""",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-138,New Feature,2006-08-02T00:20:48.364Z,2006-08-02T00:20:48.364Z,2007-05-25T14:20:33.793Z,2007-05-25T14:20:33.793Z,2006-08-26T05:51:54.834Z,2006-08-26T05:51:54.834Z,complete the proxy interface,the current proxy interface is not well integrated and the tests are failing. Complete this integration.,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-160,Bug,2006-08-29T01:46:55.646Z,2006-08-29T01:46:55.646Z,2007-07-31T02:40:27.741Z,2007-07-31T02:40:27.741Z,2007-07-31T02:40:27.759Z,2007-07-31T02:40:27.759Z,Lucene test sometime fail on Windows,"When building archiva, I sometime get Failures on some Lucene tests :
   java.io.IOException: Directory D:\opensources\archiva\archiva-indexer\target\test-index unable to be deleted.

This exception is throwed by commons-io FileUtils.deleteDirectory.

According to http://www.gossamer-threads.com/lists/lucene/java-user/39116, some file handler opened by Lucene may stay opened and must wait for GC to be closed. Maybe this is an Lucene issue (handler may be closed explicitly, not just waiting for GC to do the job) ?",Minor,Closed,Fixed,,,nicolas de loof,ndeloof
MRM-182,Bug,2006-09-21T14:48:36.084Z,2006-09-21T14:48:36.084Z,2007-06-02T07:11:12.753Z,2007-06-02T07:11:12.753Z,2006-09-22T02:56:04.183Z,2006-09-22T02:56:04.183Z,Archiva-plexus-runtime doesn't run,"Without changing any of the configuration files, I get the log included belog. Fiddling with the database configuration doesn't really help at all. Running jetty:run in archiva-webapp gives a java.lang.NoSuchMethodError: org.codehaus.plexus.DefaultPlexusContainer.<init>(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/io/Reader;Ljava/util/Map;)V

Using PLEXUS_HOME:   /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva
Using PLEXUS_CONF:   /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/conf
Using PLEXUS_TMPDIR: /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/temp
Using JAVA_HOME:     /usr/java/jdk1.5.0_06
[INFO] Services will be deployed in: '/home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/services'.
[INFO] Applications will be deployed in: '/home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps'.
[INFO] Service Supervisor is deploying plexus-appserver-service-jetty-2.0-alpha-3-SNAPSHOT.
[INFO] Loading on start [role,roleHint]: [org.codehaus.plexus.appserver.service.PlexusService,jetty]
Sep 21, 2006 9:44:37 PM org.mortbay.http.HttpServer doStart
INFO: Version Jetty/5.1.10
Sep 21, 2006 9:44:37 PM org.mortbay.util.Container start
INFO: Started org.mortbay.jetty.Server@80d1ff
[INFO] Application Supervisor is deploying archiva-plexus-application-1.0-SNAPSHOT.
[INFO] Extracting /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps/archiva-plexus-application-1.0-SNAPSHOT.jar to '/home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps/archiva'.
[INFO] Deploying application 'archiva' at '/home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps/archiva'.
[INFO] Using application configurator file /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps/archiva/conf/application.xml.
[INFO] Using appDir = /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps/archiva
[INFO] Deploying /home/wilfred/workspace/maven-repository-manager/archiva-plexus-runtime/target/archiva/apps/archiva/webapp with context path of /
[INFO] Using standard webapp classloader for webapp.
[INFO] Deploying appserver 'archiva'.
[INFO] Adding HTTP listener on *:8080
Sep 21, 2006 9:44:40 PM org.mortbay.http.SocketListener start
INFO: Started SocketListener on 0.0.0.0:8080
[INFO] Starting Jetty Context /
Sep 21, 2006 9:44:41 PM org.mortbay.util.FileResource <clinit>
INFO: Checking Resource aliases
Sep 21, 2006 9:44:41 PM org.mortbay.util.Container start
INFO: Started org.mortbay.jetty.servlet.WebApplicationHandler@15f7107
Sep 21, 2006 9:44:41 PM org.mortbay.jetty.servlet.ServletHandler$Context log
INFO: Loading plexus context properties from: '/WEB-INF/plexus.properties'
Sep 21, 2006 9:44:42 PM org.mortbay.jetty.servlet.ServletHandler$Context log
INFO: Could not load plexus context properties from: '/WEB-INF/plexus.properties'
2006-09-21 21:44:42,447 [main] INFO  PlexusContainer                - Loading on start [role]: [org.apache.maven.archiva.scheduler.RepositoryTaskScheduler]
2006-09-21 21:44:42,633 [main] INFO  RAMJobStore                    - RAMJobStore initialized.
2006-09-21 21:44:42,634 [main] INFO  StdSchedulerFactory            - Quartz scheduler 'defaultScheduler' initialized from an externally provided properties instance.
2006-09-21 21:44:42,634 [main] INFO  StdSchedulerFactory            - Quartz scheduler version: 1.4.5
2006-09-21 21:44:42,634 [main] INFO  QuartzScheduler                - Scheduler defaultScheduler_$_NON_CLUSTERED started.
2006-09-21 21:44:43,085 [main] WARN  ConfigurationStore             - Configuration file: /home/wilfred/.m2/archiva.xml not found. Using defaults.
2006-09-21 21:44:43,086 [main] INFO  RepositoryTaskScheduler        - Not scheduling indexer - index path is not configured
2006-09-21 21:44:43,086 [main] INFO  PlexusContainer                - Loading on start [role]: [org.apache.maven.archiva.web.ArchivaSecurityDefaults]
Sep 21, 2006 9:44:43 PM org.mortbay.jetty.servlet.ServletHandler$Context log
INFO: ********** FATAL ERROR STARTING UP PLEXUS-WEBWORK INTEGRATION **********
Looks like the Plexus listener was not configured for your web app!
You need to add the following to web.xml:

    <listener>
        <listener-class>org.codehaus.plexus.xwork.PlexusLifecycleListener</listener-class>
    </listener>
[ERROR] Error while deploying appserver archiva-plexus-application-1.0-SNAPSHOT.jar.
org.codehaus.plexus.appserver.ApplicationServerException: Error in the app server lifecycle post-app-container-init-service-call phase.
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJar(DefaultApplicationDeployer.java:110)
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deploy(DefaultApplicationDeployer.java:83)
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase$1.onJarDiscovered(ApplicationDeploymentPhase.java:39)
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDirectory(DefaultSupervisor.java:100)
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scan(DefaultSupervisor.java:73)
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase.execute(ApplicationDeploymentPhase.java:48)
        at org.codehaus.plexus.appserver.DefaultApplicationServer.start(DefaultApplicationServer.java:164)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.execute(StartPhase.java:16)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:102)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:110)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:100)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:92)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:77)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:247)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.start(PlexusApplicationHost.java:127)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.main(PlexusApplicationHost.java:262)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
Caused by: org.codehaus.plexus.appserver.application.deploy.lifecycle.AppDeploymentException: Error calling service in pre-app init phase.
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.execute(AfterAppStartServiceSetupPhase.java:32)
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJar(DefaultApplicationDeployer.java:101)
        ... 23 more
Caused by: org.codehaus.plexus.jetty.ServletContainerException: Error while starting the context /
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplication(AbstractJettyServletContainer.java:162)
        at org.codehaus.plexus.service.jetty.JettyPlexusService.afterApplicationStart(JettyPlexusService.java:185)
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.execute(AfterAppStartServiceSetupPhase.java:28)
        ... 24 more
Caused by: org.jpox.exceptions.ConnectionFactoryNotFoundException: Connection Factory ""java:comp/env/jdbc/users"" not found
NestedThrowables:
javax.naming.NameNotFoundException
        at org.jpox.AbstractPersistenceManagerFactory.lookupDataSource(AbstractPersistenceManagerFactory.java:175)
        at org.jpox.AbstractPersistenceManagerFactory.freezeConfiguration(AbstractPersistenceManagerFactory.java:212)
        at org.jpox.PersistenceManagerFactoryImpl.getPersistenceManagerFactory(PersistenceManagerFactoryImpl.java:99)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:534)
        at javax.jdo.JDOHelper.getPersistenceManagerFactory(JDOHelper.java:478)
        at org.codehaus.plexus.jdo.AbstractConfigurableJdoFactory.doConfigure(AbstractConfigurableJdoFactory.java:108)
        at org.codehaus.plexus.jdo.AbstractConfigurableJdoFactory.configure(AbstractConfigurableJdoFactory.java:75)
        at org.codehaus.plexus.jdo.AbstractConfigurableJdoFactory.getPersistenceManagerFactory(AbstractConfigurableJdoFactory.java:43)
        at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.initialize(JdoTool.java:72)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.execute(InitializePhase.java:16)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:102)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:110)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:100)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:92)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:77)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:247)
        at org.codehaus.plexus.component.composition.CompositionUtils.findRequirement(CompositionUtils.java:87)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:70)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:61)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:103)
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:70)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:31)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:102)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:110)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:100)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:92)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:77)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:247)
        at org.codehaus.plexus.component.composition.CompositionUtils.findRequirement(CompositionUtils.java:87)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:70)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:61)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:103)
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:70)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:31)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:102)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:110)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:100)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:92)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:77)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:247)
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.execute(StartLoadOnStartComponentsPhase.java:38)
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhases(DefaultPlexusContainer.java:610)
        at org.codehaus.plexus.DefaultPlexusContainer.initialize(DefaultPlexusContainer.java:564)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:235)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:197)
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitialized(PlexusLifecycleListener.java:59)
        at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:495)
        at org.mortbay.util.Container.start(Container.java:72)
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplication(AbstractJettyServletContainer.java:158)
        ... 26 more
Caused by: javax.naming.NameNotFoundException
        at org.mortbay.jndi.NamingContext.lookup(NamingContext.java:614)
        at org.mortbay.jndi.NamingContext.lookup(NamingContext.java:657)
        at org.mortbay.jndi.local.localContext.lookup(localContext.java:159)
        at javax.naming.InitialContext.lookup(InitialContext.java:351)
        at org.jpox.AbstractPersistenceManagerFactory.lookupDataSource(AbstractPersistenceManagerFactory.java:171)
        ... 78 more
[INFO] The appserver server has been initialized.
[INFO] The appserver server has started.
",Critical,Closed,Fixed,Brett Porter,brettporter,Wilfred Springer,wilfred
MRM-121,Bug,2006-07-18T12:21:49.455Z,2006-07-18T12:21:49.455Z,2007-06-02T07:11:15.349Z,2007-06-02T07:11:15.349Z,2006-07-31T01:51:45.895Z,2006-07-31T01:51:45.895Z,wrong (incomplete) models returned from search,"I've started using the trunk of maven repository indexer in the maven support for netbeans.
my usecases involve querying what groupIds/artifactId are available for a given prefix (for code completion in pom.xml)

 consider this usecase:
1. need to get the list of plugin groupIds. artifact repository is not enough as it's not able to query for packaging correctly. -> use pom repository index.
2. feed the repository index with pom models. Need to load the models with MavenProjectBuilder because otherwise the groupId is not declared for most poms unfortunately (as it's declared in the parent pom usually)
3. ERROR. when retrieving the hits based on a query that checks the groupIds, the actual result hit's model is created using only Model reader. thus mostly returning null in groupId field.

patch involves creating a super class for defaultindexsearcher and providing 2 implementations based on what approach was chosen when populating the repository index.
",Critical,Closed,Duplicate,Brett Porter,brettporter,Milos Kleint,mkleint
MRM-174,Improvement,2006-09-15T08:30:33.028Z,2006-09-15T08:30:33.028Z,2007-11-08T16:44:23.92Z,2007-11-08T16:44:23.92Z,2007-11-08T16:44:23.926Z,2007-11-08T16:44:23.926Z,investigate using compass for the indexing api,http://www.opensymphony.com/compass/,Minor,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-109,New Feature,2006-04-17T07:37:53.203Z,2006-04-17T07:37:53.203Z,2015-04-07T18:28:13.31Z,2015-04-07T18:28:13.31Z,,,Create a report on available plugins,"The report for plugins should include:

- description
- download location
- last release date
- developers
- contributors
- issues outstanding

The are not all things that can be taken from the repository but is a report that would be useful to see what the actual state of a particular plugin is.",Major,Open,,,,Jason van Zyl,jvanzyl
MRM-115,Bug,2006-05-31T21:39:55.409Z,2006-05-31T21:39:55.409Z,2007-05-25T14:20:25.794Z,2007-05-25T14:20:25.794Z,2006-06-01T01:06:01.324Z,2006-06-01T01:06:01.324Z,[ERROR] Nonexistent component: org.apache.maven.repository.discovery.ArtifactDiscovererdefault logged in webapp server when the repository webapp is accessed in browser,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-110,New Feature,2006-04-17T07:38:38.859Z,2006-04-17T07:38:38.859Z,2015-04-07T18:28:09.611Z,2015-04-07T18:28:09.611Z,,,Create a report on available Archetypes,"The report for archetypesshould include:

- description
- download location
- last release date
- developers
- contributors
- issues outstanding

The are not all things that can be taken from the repository but is a report that would be useful to see what the actual state of a particular archetype is.",Major,Open,,,,Jason van Zyl,jvanzyl
MRM-187,Improvement,2006-09-25T02:46:58.031Z,2006-09-25T02:46:58.031Z,2007-05-25T14:20:30.881Z,2007-05-25T14:20:30.881Z,2006-09-30T07:42:23.521Z,2006-09-30T07:42:23.521Z,improve proxy logging,currently it doesn't give a good indication of progress or what the results are,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-167,Improvement,2006-09-09T09:46:05.737Z,2006-09-09T09:46:05.737Z,2007-05-25T14:20:34.036Z,2007-05-25T14:20:34.036Z,2006-09-09T10:26:23.789Z,2006-09-09T10:26:23.789Z,add last run time/execution time to report,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-179,Bug,2006-09-15T10:19:32.471Z,2006-09-15T10:19:32.471Z,2007-06-02T07:11:16.962Z,2007-06-02T07:11:16.962Z,2006-09-30T06:12:01.556Z,2006-09-30T06:12:01.556Z,"if there are multiple proxy repos, and no default, or an incorrect id is given, 0 length results are returned","if you request /proxy/path/to/artifact with not default, or /proxy/invalid_repo/path/to/artifact, you get a 0 length result",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-136,Improvement,2006-08-02T00:17:54.8Z,2006-08-02T00:17:54.8Z,2007-05-25T14:20:33.441Z,2007-05-25T14:20:33.441Z,2006-09-04T02:33:10.872Z,2006-09-04T02:33:10.872Z,improve performance of the browse interface,"currently the browser reads the entire index to be able to present some pages. It should be able to just read the terms, and some of this information should be cached",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-178,Bug,2006-09-15T10:16:47.633Z,2006-09-15T10:16:47.633Z,2007-05-25T14:20:36.612Z,2007-05-25T14:20:36.612Z,2006-09-30T08:14:32.216Z,2006-09-30T08:14:32.216Z,"urls in navigation, etc, from ww:url, are having unnecessary parameters from the current request appended",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-157,New Feature,2006-08-25T01:08:43.273Z,2006-08-25T01:08:43.273Z,2008-01-17T21:25:29.266Z,2008-01-17T21:25:29.266Z,,,add a report on artifacts that have external repositories/plugin repositories in them,"this may have certain constraints - eg, we report on release repo if it has any snapshot repos, etc.",Major,Open,,,,Brett Porter,brettporter
MRM-111,Improvement,2006-04-25T07:42:00.531Z,2006-04-25T07:42:00.531Z,2016-03-15T05:58:45.78Z,2016-03-15T05:58:45.78Z,2016-03-15T05:58:45.712Z,2016-03-15T05:58:45.712Z,Add support for serving JARDiff-ed Maven artifacts,"It would save bandwith, accelerate artifact downloading and enhance the maven 2 experience to use the same JARDiff algorithm as the one used in the JnlpDownloadServlet which is fully documented here:
http://java.sun.com/j2se/1.5.0/docs/guide/javaws/developersguide/downloadservletguide.html

The idea is to download (or upload) the incremental updates to a JAR instead of the full JAR.

There is already support for this algorithm in the maven community in the JNLP related Maven Webstart Plugin:
http://mojo.codehaus.org/webstart-maven-plugin-parent/webstart-maven-plugin/

For this to work, JARDiff support must be added at least to the MRM Server and to the MRM Wagon, but the best would be to add JARDiff support to all maven wagons as a standard way of downloading and uploading artifacts.

Cheers
",Major,Closed,Won't Fix,,,Cédric Vidal,cedricvidal
MRM-198,Improvement,2006-10-01T00:44:12.731Z,2006-10-01T00:44:12.731Z,2007-05-25T14:20:32.626Z,2007-05-25T14:20:32.626Z,2006-10-05T15:24:16.722Z,2006-10-05T15:24:16.722Z,Getting Started page for the site,"Attached is a patch to provide a Getting Started page for Archiva. It covers building from SVN, using the Plexus runtime and deploying to Tomcat. ",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Jira Report User,jirareport
MRM-155,Bug,2006-08-24T09:01:56.874Z,2006-08-24T09:01:56.874Z,2007-05-25T14:20:32.503Z,2007-05-25T14:20:32.503Z,2006-08-31T21:40:42.494Z,2006-08-31T21:40:42.494Z,When proxy is used by maven1artifact are stored in managed repo using legacy layout.,"When Archiva downloads a maven1 artifact, (let's say servletapi-2.3) the artifact is stored using legacy layout (maven1 path). When a maven2 client asks for it, the artifact is downloaded a second time and stored using maven2 layout.
This may produce lot's of duplicates in the managed repo.

request for ""/proxy/xxx/servletapi\jars\servletapi-2.3.jar""
-> servletapi\servletapi\2.3\servletapi-2.3.jar.sha1
-> servletapi\jars\servletapi-2.3.jar

request for ""/proxy/xxx/servletapi\servletapi\2.3\servletapi-2.3.jar ""
-> servletapi\servletapi\2.3\servletapi-2.3.jar 

",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-141,Task,2006-08-02T00:27:11.603Z,2006-08-02T00:27:11.603Z,2007-11-05T05:05:45.063Z,2007-11-05T05:05:45.063Z,2007-11-05T05:05:45.07Z,2007-11-05T05:05:45.07Z,clean up design documentation,"- the indexing design docs don't indicate how to use the indexer from an API perspective
- there needs to be a more general ""this is the architecture"" design document",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-129,Improvement,2006-08-02T00:00:11.406Z,2006-08-02T00:00:11.406Z,2007-06-02T07:11:16.462Z,2007-06-02T07:11:16.462Z,2006-09-04T00:28:58.596Z,2006-09-04T00:28:58.596Z,flush the index periodically during rebuild,"currently, the indexing can take some time when it is done from scratch on a large repository, and requires a large amount of memory. It would be good to periodically checkpoint the index with a set of artifacts already completed.

How this affects the timestamp used needs to be interpreted, as if the indexing is stopped it may want to avoid reindexing those already done. Perhaps an alternative is to sort the discovered artifacts by timestamp, and setting it to the most recent one done - this can be considered in conjunction with the current issue that synced artifacts sometimes are new but have a timestamp older than the last indexing time and so are not indexed.",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-128,Bug,2006-07-31T08:46:23.901Z,2006-07-31T08:46:23.901Z,2015-04-05T22:17:42.927Z,2015-04-05T22:17:42.927Z,2007-10-02T13:21:47.844Z,2007-10-02T13:21:47.844Z,better handling of jar artifacts without a pom,"when indexing jar artifacts, the name and description (plus other fields) are read from the artifact's pom file. When indexing local repository I figured that some artifacts don't have pom files. Specifically the archetype artifacts (see ARCHETYPE-48), there might be otehr cases.

So it would be nice to consult the pom file in the actual artifact if pom not present. (it's stored at META-INF/maven if I recall correctly)
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Milos Kleint,mkleint
MRM-113,New Feature,2006-05-30T16:41:13.107Z,2006-05-30T16:41:13.107Z,2016-03-15T05:59:09.47Z,2016-03-15T05:59:09.47Z,2016-03-15T05:59:09.438Z,2016-03-15T05:59:09.438Z,Create a group relocator tool,Migrating old group names to new ones is painful. We need a tool that copies the artifacts and poms (renaming the group) from the old one to the new one and then adds relocation info to the old pom,Major,Closed,Won't Fix,,,Carlos Sanchez,carlos
MRM-130,Improvement,2006-08-02T00:03:29.584Z,2006-08-02T00:03:29.584Z,2012-09-25T15:57:50.571Z,2012-09-25T15:57:50.571Z,2012-09-25T15:57:49.099Z,2012-09-25T15:57:49.099Z,improve search results page,"currently, the search results are very plain. We should:
- provide more information about the artifact
- provide more information about the relevance of the result
- provide information about how the search hit occurred (what field)
- paginate the results",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-116,Task,2006-06-01T01:52:41.408Z,2006-06-01T01:52:41.408Z,2007-05-25T14:20:41.037Z,2007-05-25T14:20:41.037Z,2006-06-05T21:12:05.935Z,2006-06-05T21:12:05.935Z,Execute discoverer and indexing (if no index exists yet) when the repository webapp is accessed. ,"The discoverer and indexer are only executed when the scheduler is triggered on a certain time (default: everyday at 8AM). So when the repository webapp is deployed and a search is performed, the index cannot be found resulting to an exception being thrown since the index does not exist yet.

To prevent this, when the repository webapp is accessed in the browser, it should be checked if an index already exists. If there is no index yet, then the discoverer and indexer should be executed. Otherwise, it should skip this and wait for the scheduled discovery and indexing.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-184,Improvement,2006-09-25T02:40:24.96Z,2006-09-25T02:40:24.96Z,2007-07-31T04:12:50.612Z,2007-07-31T04:12:50.612Z,2007-07-31T04:12:50.618Z,2007-07-31T04:12:50.618Z,cache dependencies to improve performance of dependency closure reports,,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-153,Improvement,2006-08-24T02:37:24.154Z,2006-08-24T02:37:24.154Z,2015-04-05T14:53:52.024Z,2015-04-05T14:53:52.024Z,2007-09-16T00:19:12.128Z,2007-09-16T00:19:12.128Z,"when used as a maven1 proxy, Archiva should handle relocation from maven2 poms","When a maven1 client asks for /servletapi/jars/servletapi-2.4.jar, Archiva converts path to the maven2 location of this artifact. As maven1 has no relocation support, the jar is required in the repo. 
Archiva can be more that a proxy : download the artifact POM, read relocation infos, and return the relocated jar.

attached Patch add a new ""applyRelocation"" to DefaultProxyManager.
I've tried this code with the servletapi example, but it may be bad designed as I just discovered maven / archiva APIs.",Minor,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-194,Bug,2006-09-28T07:12:37.08Z,2006-09-28T07:12:37.08Z,2007-05-25T14:20:34.998Z,2007-05-25T14:20:34.998Z,2006-10-05T21:05:28.519Z,2006-10-05T21:05:28.519Z,adjustments to role granting pages,"- roles already assigned appear in grant area, they should be omitted
- likewise, roles that are children of assigned roles should be omitted from grant (and assigned)
- when role addition/removal is complete, return to the user page, not the user list page",Major,Closed,Fixed,Jesse McConnell,jesse,Brett Porter,brettporter
MRM-122,Task,2006-07-21T14:22:21.137Z,2006-07-21T14:22:21.137Z,2015-04-07T18:29:50.374Z,2015-04-07T18:29:50.374Z,2006-07-21T14:32:52.897Z,2006-07-21T14:32:52.897Z,Deploy the site,"Would be good to have something there, even if only the introductory page as there were many questions about the repository manager in Maven sessions, and tutorials.",Major,Closed,Fixed,Jason van Zyl,jvanzyl,Jason van Zyl,jvanzyl
MRM-101,Improvement,2006-03-12T23:53:54.339Z,2006-03-12T23:53:54.339Z,2007-05-25T14:20:35.988Z,2007-05-25T14:20:35.988Z,2006-03-13T20:40:06.097Z,2006-03-13T20:40:06.097Z,ProxyManagerFactory is not needed,"""It shouldn't be modifying the configuration from a parameter when the configuration is also a parameter - just set it in the original configuration. The caller can lookup the proxy manager directly and configure it."" - brett",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-195,Improvement,2006-09-29T09:47:03.798Z,2006-09-29T09:47:03.798Z,2007-11-08T16:40:59.685Z,2007-11-08T16:40:59.685Z,,,improve appearance of schedule entry fields,would be nice not to have to enter cron expressions (or at least provide an alternative),Major,Open,,,,Brett Porter,brettporter
MRM-147,Improvement,2006-08-10T07:51:33.666Z,2006-08-10T07:51:33.666Z,2007-05-22T14:50:29.383Z,2007-05-22T14:50:29.383Z,2007-05-22T14:50:29.391Z,2007-05-22T14:50:29.391Z,additional index fields,"this patch from MRM-146 includes additional fields in the index records. However, it is not completely wired up yet, and it is debatable whether these belong in the minimal index at all. Filing here for further follow up. Submitted by Joakim Erdfelt.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-166,New Feature,2006-09-09T07:47:27.081Z,2006-09-09T07:47:27.081Z,2007-05-25T14:20:42.159Z,2007-05-25T14:20:42.159Z,2006-09-10T21:13:10.375Z,2006-09-10T21:13:10.375Z,ability to have multiple reports,"currently the reports are all aggregated into one representation and execution. It should be possible to have separate groups, with just the health ones tied to the indexing and the others run on demand.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-132,Improvement,2006-08-02T00:07:26.22Z,2006-08-02T00:07:26.22Z,2007-05-25T14:20:43.556Z,2007-05-25T14:20:43.556Z,2006-08-03T01:21:39.186Z,2006-08-03T01:21:39.186Z,browse interface should accept URL paths,"currently browsing the repository uses inconvenient URLs:
- browse.action
- browseGroup.action?groupId=...
- browseArtifact.action?artifactId=...&groupId=....
- showArtifact.action?artifactId=...&groupId=...&version=...

Instead, the following paths should be used:
/browse/[groupId[/artifactId[/version]]]",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-173,Improvement,2006-09-15T08:22:42.741Z,2006-09-15T08:22:42.741Z,2012-09-25T16:21:39.026Z,2012-09-25T16:21:39.026Z,2012-09-25T16:21:36.498Z,2012-09-25T16:21:36.498Z,optimize lucene indexing parameters,"we shuld review the merge sizes to make them work most effectively, using different settings depending on whether it is an incremental or large set.",Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-119,New Feature,2006-06-08T00:06:09.625Z,2006-06-08T00:06:09.625Z,2011-09-12T08:17:09.254Z,2011-09-12T08:17:09.254Z,2011-09-12T08:17:09.211Z,2011-09-12T08:17:09.211Z,Downloadable incremental repository indexes and common embedder API,"Index I build for ibiblio is nearly 12Mb (with class names) and it is not really good idea to download whole index on every update.

We discussed this with jason and agreed on the following structure.

-- since lucene index is actually a folder it would make sense to have zip it
-- we need some metadata in a common repository place. That metadata will enumerate all existing index zips, their type (full or incremental) and also specify date interval for incremental indexes
-- full index for those who don't have anything yet
-- incremental indexes for last N months, M last weeks and K last days.

We also need this stuff exposed trough Embedder API,  e.g. get index updates for given repository and put them into given location (or perhaps somewhere under local repository) and probably merge incremental chunks into the local index copy

This is quite critical since there is no direct access to centrl repository and local indexer can't be used...",Critical,Closed,Incomplete,,,Eugene Kuleshov,eu
MRM-177,New Feature,2006-09-15T10:13:15.262Z,2006-09-15T10:13:15.262Z,2016-03-15T06:00:31.82Z,2016-03-15T06:00:31.82Z,2016-03-15T06:00:31.798Z,2016-03-15T06:00:31.798Z,add a general job scheduler to the interface,"it would be useful to put all jobs through a central interface, and for the scheduling of that to be managed by the web console, rather than being on a case by case basis as it is now.",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-164,Improvement,2006-09-07T03:46:47.521Z,2006-09-07T03:46:47.521Z,2007-05-25T14:20:31.809Z,2007-05-25T14:20:31.809Z,2006-09-28T21:31:17.723Z,2006-09-28T21:31:17.723Z,add a friendly cron editor for repository manager,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-114,Bug,2006-05-31T05:12:18.412Z,2006-05-31T05:12:18.412Z,2007-05-25T14:20:41.129Z,2007-05-25T14:20:41.129Z,2006-05-31T21:30:45.595Z,2006-05-31T21:30:45.595Z,NPE when the scheduler executes the discoverer job for indexing,,Major,Closed,Fixed,Marvin King,pmking,Maria Odea Ching,oching
MRM-172,Bug,2006-09-13T17:47:16.133Z,2006-09-13T17:47:16.133Z,2007-06-02T07:11:17.662Z,2007-06-02T07:11:17.662Z,2006-09-15T13:52:13.907Z,2006-09-15T13:52:13.907Z,Archiva needs to enable WebDav access into the repositories.,"The repositories that are configured in Archiva need to be accessible via WebDav.
There also needs to be security (at least for the upload process) for those files added.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-183,Bug,2006-09-22T09:30:58.802Z,2006-09-22T09:30:58.802Z,2007-05-25T14:20:40.052Z,2007-05-25T14:20:40.052Z,2006-11-24T07:33:22.189Z,2006-11-24T07:33:22.189Z,Archiva Plexus Runtime works only when copying tools.jar to the core directory,"Archiva Plexus Runtime works only when copying tools.jar to the core directory. Othwerwise it will complain about the fact that is unable to find the compiler classes from the JDK, and suggests to set JAVA_HOME.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Wilfred Springer,wilfred
MRM-120,Task,2006-07-17T04:15:37.443Z,2006-07-17T04:15:37.443Z,2007-05-25T14:20:38.26Z,2007-05-25T14:20:38.26Z,2006-08-02T07:09:43.99Z,2006-08-02T07:09:43.99Z,change default skin to match Continuum,"look into the WW templates being used, as well as updating the sitemesh template.

Try to drive as much as possible by the sitemesh template and CSS - however if the WW theme needs to be changed, try to have it in a reusable JAR instead of copying the files from Continuum",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-149,Task,2006-08-15T05:13:28.611Z,2006-08-15T05:13:28.611Z,2009-07-02T02:10:18.792Z,2009-07-02T02:10:18.792Z,,,create an access log for the proxy,"currently we just log some information to the standard logger, however the granularity should be improved, and we possibly should track more information such as which repositories it failed from. This could be done with a custom plexus logger, or perhaps a separate interface that stores information by field to be able to search and analyse it without processing the log file.

We may also want to track traditional user fields such as user agent, ip, etc like a normal access log.",Major,Open,,,,Brett Porter,brettporter
MRM-144,Task,2006-08-03T02:26:56.964Z,2006-08-03T02:26:56.964Z,2007-09-12T06:57:27.354Z,2007-09-12T06:57:27.354Z,2007-09-12T06:57:27.367Z,2007-09-12T06:57:27.367Z,fix miscellaneous tasks listed in important TODO items,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-131,Improvement,2006-08-02T00:05:13.954Z,2006-08-02T00:05:13.954Z,2007-05-25T14:20:38.129Z,2007-05-25T14:20:38.129Z,2006-12-23T01:17:23.51Z,2006-12-23T01:17:23.51Z,complete artifact browsing,"currently some features of the artifact display page are not implemented (links to dependencies, displaying other information from the pom, and so on)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-395,Bug,2007-05-29T23:43:09.097Z,2007-05-29T23:43:09.097Z,2007-06-02T07:11:15.896Z,2007-06-02T07:11:15.896Z,2007-05-30T00:30:41.44Z,2007-05-30T00:30:41.44Z,appears to be no way to add a remote repository,there is no link on the repository page to add a remote repository,Major,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-364,Bug,2007-05-24T09:45:04.167Z,2007-05-24T09:45:04.167Z,2007-06-02T07:11:16.09Z,2007-06-02T07:11:16.09Z,2007-05-24T11:42:39.008Z,2007-05-24T11:42:39.008Z,[Admin / Users] the colors of the user admin screen needs correcting.,"When the change from plexus-security to redback occured, the colors of the user admin screen changed from the desired orange, back to the default blue.",Major,Closed,Fixed,Jesse McConnell,jesse,Joakim Erdfelt,joakime
MRM-379,Bug,2007-05-29T03:53:42.891Z,2007-05-29T03:53:42.891Z,2007-05-29T13:38:29.36Z,2007-05-29T13:38:29.36Z,2007-05-29T13:38:29.364Z,2007-05-29T13:38:29.364Z,Limit in description size causes problems with Apache parent POM,"When running from jetty:run and trying to look at the Apache parent pom you end up with a problem with the max length of the description - see http://localhost:9091/browse/org.apache/apache/3

javax.jdo.JDOFatalUserException: Attempt to store value ""The Apache Software Foundation provides support for the Apache community of open-source software projects. The Apache projects are characterized by a collaborative, consensus based development process, an open and pragmatic software license, and a desire to create high quality software that leads the way in its field. We consider ourselves not simply a group of projects sharing a server, but rather a community of developers and users."" in column ""DESCRIPTION"" that has maximum length of 256. Please correct your data!
	at org.jpox.store.rdbms.mapping.CharRDBMSMapping.setString(CharRDBMSMapping.java:214)
	at org.jpox.store.mapping.SingleFieldMapping.setString(SingleFieldMapping.java:203)
	at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:122)
	at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideField(ArchivaProjectModel.java)
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFields(ArchivaProjectModel.java)
	at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3115)

I would imagine we would want to store descriptions to allow them to hold far more data.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Philip Dodds,pdodds
MRM-374,Bug,2007-05-27T22:16:59.013Z,2007-05-27T22:16:59.013Z,2008-05-15T08:20:32.412Z,2008-05-15T08:20:32.412Z,2007-08-15T03:48:47.21Z,2007-08-15T03:48:47.21Z,Changes aren't saved when updating Archiva Managed Snapshot Repository,"Steps:

1) Log in as admin.
2) In the left menu, under Administration, click Repositories.
3) Edit Archiva Managed Snapshot Repository.
4) Since this is a snapshot repository, uncheck Releases Included.
5) Click Update Repository.

Notice that ""Releases Included"" is still set to ""True"" for Archiva Managed Snapshot Repository.",Major,Closed,Fixed,Maria Odea Ching,oching,Dawn Angelito,dangelito
MRM-308,Bug,2007-03-22T06:39:54.021Z,2007-03-22T06:39:54.021Z,2007-09-15T22:32:45.607Z,2007-09-15T22:32:45.607Z,2007-09-15T22:32:45.615Z,2007-09-15T22:32:45.615Z,Maven1 requests are not served,"I got one managed repository with two proxied repositories, one for our locally built artifacts and the central repository.

When I try to retreive an artifact with maven2 path layout (e.g. ant/ant/1.6.5/ant-1.6.5.jar) everything works fine.
When I try to retreive the same artifact with maven1 path layout (ant/jars/ant-1.6.5.jar) the jar gets downloaded from the proxied repository but is not delivered to the client. Client response is a 404 (s. below). In the local directory it is stored with the maven2 path layout

-- log output:
2007-03-22 12:20:51,278 4594195 [http-9080-Processor24] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact requested is: ant:ant:jar:1.6.5:runtime
2007-03-22 12:20:51,279 4594196 [http-9080-Processor24] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving ant/ant/1.6.5/ant-1.6.5.pom from ComBOTS Maven2 Repository
2007-03-22 12:20:51,279 4594196 [http-9080-Processor24] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact not found in repository: ComBOTS Maven2 Repository: File: /data/maven-repo/combots-maven2-repo/ant/ant/1.6.5/ant-1.6.5.pom does not exist
2007-03-22 12:20:51,281 4594198 [http-9080-Processor24] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving ant/ant/1.6.5/ant-1.6.5.pom from Maven2 Central Repository
2007-03-22 12:20:51,728 4594645 [http-9080-Processor24] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Successfully downloaded

-- http response:
Error 404 Not Found

Resource in error: http://mavenproxy:9080/archiva/repository/ant/jars/ant-1.6.5.jar/ant/jars/ant-1.6.5.jar

Exception details:

it.could.webdav.DAVException: Not found
	at it.could.webdav.methods.HEAD.process(HEAD.java:52)
	at it.could.webdav.methods.GET.process(GET.java:58)
	at it.could.webdav.DAVProcessor.process(DAVProcessor.java:79)
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.process(SimpleDavServerComponent.java:142)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:147)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:111)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:595)

",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Joerg Vater,jova
MRM-358,Bug,2007-05-24T01:48:19.95Z,2007-05-24T01:48:19.95Z,2007-06-19T13:47:43.368Z,2007-06-19T13:47:43.368Z,2007-06-19T13:47:43.37Z,2007-06-19T13:47:43.37Z,Update Consumers button in Database - Artifact Scanning doesn't work,"1) Log in as admin.
2) Click the Database button in the left menu under Administration.
3) In Database - Unprocessed Artifacts Scanning, uncheck ""validate-repository-metadata"" to disable it.
4) Click the Update Consumers button.

Once the page is refreshed, notice that ""validate-repository-metadata"" is still enabled.

Note: Try the same procedure in Database - Artifact Cleanup Scanning. The changes made will not be saved.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Dawn Angelito,dangelito
MRM-351,Improvement,2007-05-22T10:36:52.169Z,2007-05-22T10:36:52.169Z,2007-07-06T11:37:34.325Z,2007-07-06T11:37:34.325Z,2007-05-24T10:49:22.727Z,2007-05-24T10:49:22.727Z,Ability to disable the checksum applet used in Find Artifact,"Applets that access the local filesystem are forbidden in some corporate environments.  We need a way to disable the Find Artifact applet without breaking the web UI.  

The ability to find an artifact by providing the md5 checksum should be preserved.",Major,Closed,Fixed,Jesse McConnell,jesse,Wendy Smoak,wsmoak
MRM-354,Bug,2007-05-23T21:36:02.217Z,2007-05-23T21:36:02.217Z,2016-03-15T06:04:41.82Z,2016-03-15T06:04:41.82Z,2016-03-15T06:04:41.8Z,2016-03-15T06:04:41.8Z,reimplement Show Artifact Reports tab,"Clicking the Reports tab of an artifact will result to:

HTTP ERROR: 500

Internal Server Error

RequestURI=/archiva/showArtifactReports.action",Major,Closed,Won't Fix,,,Dawn Angelito,dangelito
MRM-319,Test,2007-04-20T03:14:10.389Z,2007-04-20T03:14:10.389Z,2007-06-02T07:11:13.111Z,2007-06-02T07:11:13.111Z,2007-04-20T22:51:34.171Z,2007-04-20T22:51:34.171Z,Web UI Tests for Archiva Search Function,,Major,Closed,Fixed,Maria Odea Ching,oching,Henry S. Isidro,hisidro
MRM-342,Bug,2007-05-15T07:23:46.632Z,2007-05-15T07:23:46.632Z,2007-06-02T07:11:13.625Z,2007-06-02T07:11:13.625Z,2007-05-15T07:28:26.216Z,2007-05-15T07:28:26.216Z,Incorrect cron expressions in default-archiva.xml,"This results in a ""ParseException"" when the application starts, which disables the repository scanning.

I attached a patch with valid cron expressions.",Minor,Closed,Duplicate,,,Fabrice Bellingard,fabemn
MRM-370,Bug,2007-05-26T01:08:56.942Z,2007-05-26T01:08:56.942Z,2007-06-15T04:34:52.448Z,2007-06-15T04:34:52.448Z,2007-06-15T04:34:52.451Z,2007-06-15T04:34:52.451Z,NPE when trying to proxy a request for a plugin,"My first test for Archiva 1.0 was to delete maven-clean-plugin from my local repository, then try 'mvn clean' on the Struts 2 build.

I noted that it is pre-configured to proxy the central repo through 'internal' and deleted the pre-configured network proxy.

$ cd /path/to/project
$ rm -rf $M2_REPO/org/apache/maven/plugins/maven-clean-plugin
$ mvn clean
[INFO] Scanning for projects...
[INFO] Reactor build order:
[INFO]   Struts 2
[INFO]   Struts Annotations
[INFO]   Struts 2 Core
[INFO]   Struts 2 API
[INFO] -------------------------------------------------------------------------
---
[INFO] Building Struts 2
[INFO]    task-segment: [clean]
[INFO] -------------------------------------------------------------------------
---
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] The plugin 'org.apache.maven.plugins:maven-clean-plugin' does not exist or no valid version could be found
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1 second
[INFO] Finished at: Fri May 25 23:04:07 MST 2007
[INFO] Final Memory: 1M/3M
[INFO] ------------------------------------------------------------------------

In the Archiva log/console:

INFO   | jvm 1    | 2007/05/25 23:02:05 | May 25, 2007 11:02:05 PM org.mortbay.jetty.servlet.ServletHandler handle
INFO   | jvm 1    | 2007/05/25 23:02:05 | WARNING: /archiva/repository/internal/org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml: 
INFO   | jvm 1    | 2007/05/25 23:02:05 | java.lang.NullPointerException
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at java.util.regex.Matcher.getTextLength(Matcher.java:1127)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at java.util.regex.Matcher.reset(Matcher.java:284)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at java.util.regex.Matcher.<init>(Matcher.java:205)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at java.util.regex.Pattern.matcher(Pattern.java:879)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.apache.maven.archiva.common.utils.VersionUtil.getBaseVersion(VersionUtil.java:144)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.apache.maven.archiva.repository.layout.DefaultBidirectionalRepositoryLayout.toPath(DefaultBidirectionalRepositoryLayout.java:137)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:181)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxies(ProxiedDavServer.java:177)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:134)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
INFO   | jvm 1    | 2007/05/25 23:02:05 | 	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)",Major,Closed,Fixed,Fabrice Bellingard,fabemn,Wendy Smoak,wsmoak
MRM-338,Task,2007-05-13T16:22:20.761Z,2007-05-13T16:22:20.761Z,2007-05-13T18:00:10.11Z,2007-05-13T18:00:10.11Z,2007-05-13T18:00:10.115Z,2007-05-13T18:00:10.115Z,Fix dependencies convergence between archiva projects,"commons-logging:commons-logging
1.0.4	
org.apache.maven.archiva:archiva-webapp
1.1	
org.apache.maven.archiva:archiva-database

hsqldb:hsqldb
1.7.3.3	
org.apache.maven.archiva:archiva-converter
1.8.0.7	
org.apache.maven.archiva:archiva-artifact-reports
org.apache.maven.archiva:archiva-database
org.apache.maven.archiva:archiva-scheduled

org.apache.derby:derby
10.1.3.1	
org.apache.maven.archiva:archiva-plexus-runtime
org.apache.maven.archiva:archiva-security
org.apache.maven.archiva:archiva-webapp
10.2.1.6	
org.apache.maven.archiva:archiva-database

org.codehaus.plexus:plexus-component-api
1.0-alpha-20	
org.apache.maven.archiva:archiva-common
org.apache.maven.archiva:archiva-configuration
org.apache.maven.archiva:archiva-converter
org.apache.maven.archiva:archiva-plexus-runtime
org.apache.maven.archiva:archiva-proxy
org.apache.maven.archiva:archiva-repository-layer
org.apache.maven.archiva:archiva-scheduled
org.apache.maven.archiva:archiva-webapp
1.0-alpha-22	
org.apache.maven.archiva:archiva-cli

org.codehaus.plexus:plexus-container-default
1.0-alpha-20	
org.apache.maven.archiva:archiva-artifact-reports
org.apache.maven.archiva:archiva-common
org.apache.maven.archiva:archiva-configuration
org.apache.maven.archiva:archiva-converter
org.apache.maven.archiva:archiva-database
org.apache.maven.archiva:archiva-indexer
org.apache.maven.archiva:archiva-metadata-reports
org.apache.maven.archiva:archiva-model
org.apache.maven.archiva:archiva-plexus-runtime
org.apache.maven.archiva:archiva-project-reports
org.apache.maven.archiva:archiva-proxy
org.apache.maven.archiva:archiva-report-manager
org.apache.maven.archiva:archiva-repository-layer
org.apache.maven.archiva:archiva-scheduled
org.apache.maven.archiva:archiva-webapp
1.0-alpha-22	
org.apache.maven.archiva:archiva-cli

It should be fixed by setting all versions in the parent pom using the dependencyManagement.",Minor,Closed,Fixed,Arnaud HERITIER,aheritier,Arnaud HERITIER,aheritier
MRM-325,Task,2007-05-02T21:41:08.61Z,2007-05-02T21:41:08.61Z,2010-02-23T02:02:28.997Z,2010-02-23T02:02:28.997Z,2010-02-23T02:02:28.894Z,2010-02-23T02:02:28.894Z,Create web UI tests for Archiva - Maven connection to Archiva,"Test:
1. Using a bad dependency 
2. Using a dependency that is in the snapshot repository 
3. Using a dependency that is in the central (ibiblio) proxied  repository but not yet in the managed repository ",Major,Closed,Fixed,,,Maria Odea Ching,oching
MRM-372,Bug,2007-05-26T01:21:49.589Z,2007-05-26T01:21:49.589Z,2007-05-29T21:58:21.547Z,2007-05-29T21:58:21.547Z,2007-05-29T21:58:21.549Z,2007-05-29T21:58:21.549Z,"Rename ""Local Repositories"" in the web ui","The label ""Local Repositories"" is confusing.

In Maven terminology, your local repository is the one in ~/.m2/repository.

This needs to be changed back to ""Managed Repositories"".",Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-348,Task,2007-05-18T14:10:55.153Z,2007-05-18T14:10:55.153Z,2007-05-22T11:00:59.504Z,2007-05-22T11:00:59.504Z,2007-05-22T11:00:59.509Z,2007-05-22T11:00:59.509Z,Create a buildable source distribution,"Archiva should have a source distribution.  Use the assembly plugin to construct the equivalent of zipping up a svn export.

Also, LICENSE and NOTICE need to be in svn at the top.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-381,Bug,2007-05-29T04:09:25.351Z,2007-05-29T04:09:25.351Z,2007-05-31T05:45:30.155Z,2007-05-31T05:45:30.155Z,2007-05-31T05:45:30.157Z,2007-05-31T05:45:30.157Z,Find artifact always displays error message even with a valid file input.,"Steps:

1. Click on the ""Find Artifact"" on the left menu.
2. On the search field, click on browse and select a valid jar (for example, ant-1.5.jar)
3. Hit the ""Go!"" button.

Notice that even though you selected a valid jar, it always prompts the error message saying "" You must select a file, or enter the checksum. If the file was given and you receive this message, there may have been an error generating the checksum.""",Blocker,Closed,Fixed,Maria Odea Ching,oching,Maria Cristina Malonzo,mmalonzo
MRM-343,Bug,2007-05-15T17:20:03.498Z,2007-05-15T17:20:03.498Z,2007-05-22T13:50:40.234Z,2007-05-22T13:50:40.234Z,2007-05-22T13:50:40.238Z,2007-05-22T13:50:40.238Z,configurationInterceptor intercepts /admin/addRepository so one cannot add repository,"Fresh installation started from plexus (fresh build archiva-1.0-alpha-1-SNAPSHOT-bin.tar.gz) creates new admin user, but when he logs in, browser informs, that circular  redirect occurs. The only way to solve this problem is to restart archiva. This way you can see repositories, but there is no ArchivaRoleConstants.OPERATION_REPOSITORY_ACCESS permission created for internal and snapshot repositories, so no one (even admin) can access repository by WebDAV.",Blocker,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Roman Kalukiewicz,romkal
MRM-315,Bug,2007-04-19T03:18:18.914Z,2007-04-19T03:18:18.914Z,2007-06-02T07:11:15.532Z,2007-06-02T07:11:15.532Z,2007-04-19T04:02:27.006Z,2007-04-19T04:02:27.006Z,Selenium test cases fail due to an HTTP 500,The selenium tests fail because an HTTP 500 is encountered.  This is caused by the missing archiva.xml in the ${appserver-base} directory.,Major,Closed,Fixed,Maria Odea Ching,oching,Nap Ramirez,nramirez
MRM-337,Bug,2007-05-11T21:02:37.377Z,2007-05-11T21:02:37.377Z,2007-05-12T19:57:07.124Z,2007-05-12T19:57:07.124Z,2007-05-12T19:57:07.131Z,2007-05-12T19:57:07.131Z,Release artifacts are missing license and notice files,"All released artifacts must contain license and notice files.  The files are missing from the 0.9-alpha-1 build.

Probably needs to be fixed on trunk also.",Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-383,Bug,2007-05-29T06:33:53.326Z,2007-05-29T06:33:53.326Z,2007-08-20T04:23:44.999Z,2007-08-20T04:23:44.999Z,2007-08-20T04:23:45.003Z,2007-08-20T04:23:45.003Z,Unable to add new file types for Repository Scanning,"In the Repository Scanning page, unable to add new file types in auto-remove, ignored and indexable-content sections. Always displays the message: Unable to process blank pattern.",Major,Closed,Fixed,Maria Odea Ching,oching,Dawn Angelito,dangelito
MRM-305,New Feature,2007-03-19T19:44:16.234Z,2007-03-19T19:44:16.234Z,2007-06-02T07:11:17.064Z,2007-06-02T07:11:17.064Z,2007-03-19T22:16:09.182Z,2007-03-19T22:16:09.182Z,Web application to add new artifacts to the repository,"A web application to add new artifacts to the repository might be a good feature. If an organization have existing non-Maven 2 builds and would like to migrate, it would be easier for them to use a form to do so instead of a command line deploy.",Minor,Closed,Duplicate,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-312,Bug,2007-04-05T01:58:45.419Z,2007-04-05T01:58:45.419Z,2015-04-06T01:53:59.012Z,2015-04-06T01:53:59.012Z,2008-04-26T14:26:41.589Z,2008-04-26T14:26:41.589Z,ConcurrentModificationException,"Archiva is deployed as maven repository proxy for my company

I get ConcurrentModificationExceptions in logs, that looks from maven-side as HTTP 500.
This is related to WAGON-79. 

Solving this issue requires to upgrade dependency to Wagon-2.0-SNAPSHOT. The 2.0 branch introduces some new methods on Wagon interface that requires some simple changes in archiva code, like adding delegates methods in org.apache.maven.archiva.proxy.WagonDelegate
",Critical,Closed,Fixed,,,nicolas de loof,ndeloof
MRM-366,Bug,2007-05-24T09:53:16.674Z,2007-05-24T09:53:16.674Z,2016-03-15T06:04:58.133Z,2016-03-15T06:04:58.133Z,2016-03-15T06:04:58.111Z,2016-03-15T06:04:58.111Z,[Admin / Repository Scanning] Need informational messages describing purpose of sections,"The repository scanning screen is a bit sparse, and could use some descriptive text explaining the purpose of the various sections.",Major,Closed,Won't Fix,,,Joakim Erdfelt,joakime
MRM-317,Test,2007-04-19T15:24:32.457Z,2007-04-19T15:24:32.457Z,2007-06-02T07:11:12.188Z,2007-06-02T07:11:12.188Z,2007-04-20T22:29:10.85Z,2007-04-20T22:29:10.85Z,Web UI tests for Archiva - Browse,,Major,Closed,Fixed,Maria Odea Ching,oching,Nap Ramirez,nramirez
MRM-321,Test,2007-04-20T22:54:31.542Z,2007-04-20T22:54:31.542Z,2007-06-02T07:11:17.158Z,2007-06-02T07:11:17.158Z,2007-04-20T23:48:34.377Z,2007-04-20T23:48:34.377Z,Web UI tests for Archiva - Managed Repositories Configuration,,Major,Closed,Fixed,Maria Odea Ching,oching,Nap Ramirez,nramirez
MRM-371,Bug,2007-05-26T01:19:21.356Z,2007-05-26T01:19:21.356Z,2007-06-20T04:16:15.247Z,2007-06-20T04:16:15.247Z,2007-06-06T04:03:18.486Z,2007-06-06T04:03:18.486Z,Unable to add a remote repository,"There is no ""Add Repository"" link to the right of ""Remote Repositories"".

Assuming that the 'Add Repository' link at the top (to the right of ""Local Repositories"") is intended to also add remote repositories, if I supply a URL rather than a directory, the new repo does not appear in the list.  There is no error in the log, it just doesn't happen.



",Major,Closed,Fixed,Fabrice Bellingard,fabemn,Wendy Smoak,wsmoak
MRM-332,Bug,2007-05-08T08:18:53.049Z,2007-05-08T08:18:53.049Z,2007-05-11T13:07:08.586Z,2007-05-11T13:07:08.586Z,2007-05-11T13:07:08.591Z,2007-05-11T13:07:08.591Z,Adding a Proxy Connector displays a blank page,"To replicate:

1. Click the Proxy Connectors link in the left navigation menu
2. Click the Add Proxy Connector link in the upper right part of the page

Result: A blank archiva page",Major,Closed,Fixed,Joakim Erdfelt,joakime,Nap Ramirez,nramirez
MRM-313,Improvement,2007-04-05T07:48:15.079Z,2007-04-05T07:48:15.079Z,2007-10-22T19:24:10.985Z,2007-10-22T19:24:10.985Z,2007-10-22T19:24:11Z,2007-10-22T19:24:11Z,archiva fails to serve maven2 plugin from legacy repository,"Archiva is configured to proxy http://dist.codehaus.org/  (legacy layout)

the xdoclet2 maven2 plugin is deployed under /xdoclet/maven-plugins. This looks right as the type is set to ""maven-plugin"".

trying to download http://archiva/repository/maven/xdoclet/maven2-xdoclet2-plugin/2.0.5/maven2-xdoclet2-plugin-2.0.5.jar fails
archiva has no info from the specified URL about trying to get a maven-plugin !
http://archiva/repository/maven/xdoclet/maven2-xdoclet2-plugin/2.0.5/maven2-xdoclet2-plugin-2.0.5.maven-plugin works as expected.

2 options (suggestions are wecome) :

  - use a ""-plugin"" pattern that a plugin is required (just a hack, and requires all plugin to follow this convention)
  - read the requested artifact POM to get the artifact type.",Minor,Closed,Fixed,Joakim Erdfelt,joakime,nicolas de loof,ndeloof
MRM-388,Bug,2007-05-29T22:57:58.885Z,2007-05-29T22:57:58.885Z,2007-06-17T19:54:30.18Z,2007-06-17T19:54:30.18Z,2007-06-17T19:54:30.183Z,2007-06-17T19:54:30.183Z,Unable to configure archiva if configuration file did not already exist,"- remove archiva configuration and database (first install scenario)
- fill in admin details on startup
- log in

EXPECTED: go to configuration page for repositories
ACTUAL: Archiva goes into an infinite redirect loop trying to access addRepository!input.action",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-360,Bug,2007-05-24T09:34:25.032Z,2007-05-24T09:34:25.032Z,2007-05-25T08:47:36.936Z,2007-05-25T08:47:36.936Z,2007-05-25T08:47:36.939Z,2007-05-25T08:47:36.939Z,[Admin] Cron Defaults are wrong (Repositories & Database),"The defaults for cron/scheduling are wrong.

* Repository Scanning should be hourly.
* Database Updates should be every 2 hours.",Major,Closed,Fixed,Jesse McConnell,jesse,Joakim Erdfelt,joakime
MRM-382,Bug,2007-05-29T04:36:29.387Z,2007-05-29T04:36:29.387Z,2007-09-25T19:29:21.037Z,2007-09-25T19:29:21.037Z,2007-08-15T08:52:46.874Z,2007-08-15T08:52:46.874Z,Remove index from artifacts of deleted managed repositories,"Steps to Reproduce:
1. Run archiva
2. Add managed repositories
3. Scan repositories
4. Browse
\*.a Verify that you can see the artifacts of the added repositories
5. Deleted managed repositories
6. Browse
\*.b Verify that you can no longer see the artifacts of the deleted repositories
7. Add a managed repository which is empty
8. Scan that empty managed repository
9. Browse
\*.c Verify that you can no longer see the artifacts of the deleted repositories

Results
\*.a Correct
\*.b Incorrect, you can still the artifacts of the deleted repositories
\*.c Incorrect, you can still the artifacts of the deleted repositories",Major,Closed,Duplicate,,,Franz Allan Valencia See,franz_see
MRM-336,Bug,2007-05-11T13:25:09.064Z,2007-05-11T13:25:09.064Z,2007-05-16T09:59:58.025Z,2007-05-16T09:59:58.025Z,2007-05-16T09:59:58.028Z,2007-05-16T09:59:58.028Z,"Repository Admin - ""Index Repository"" appears to not do anything.","The link for ""Index Repository"" appears to not do anything.

# Provide feedback.  ""Indexing has started.""
# Change link to state ""Index pending (or in progress)""
# Change ""Never Indexed"" to say ""Never scanned.""
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-355,Bug,2007-05-23T21:49:35.206Z,2007-05-23T21:49:35.206Z,2007-06-02T07:11:14.773Z,2007-06-02T07:11:14.773Z,2007-05-24T02:04:06.24Z,2007-05-24T02:04:06.24Z,Unable to sort users by Tasks,"In the List of Users page, the Tasks column header is not clickable. Therefore, sorting of users by tasks is impossible.",Major,Closed,Won't Fix,,,Dawn Angelito,dangelito
MRM-359,Bug,2007-05-24T09:30:46.575Z,2007-05-24T09:30:46.575Z,2011-09-12T09:05:18.719Z,2011-09-12T09:05:18.719Z,2011-09-12T09:05:18.697Z,2011-09-12T09:05:18.697Z,[Admin / Repositories] long urls and/or directory names cause the screen to be too large.,"If you have a large directory configured for your repository the width of the admin/repositories screen is too large.

Consider one of the following solutions.

# Use the CSS overflow-* attributes to specify a max width of those fields.
# Use a server side shortening technique ""/usr/local/apps ... /internal""
# Use a javascript client side shortening of the string based on browser width.
# Break the text up at the slashes with a space to allow the browser to auto-wrap the text.
",Major,Closed,Cannot Reproduce,,,Joakim Erdfelt,joakime
MRM-365,Bug,2007-05-24T09:52:11.277Z,2007-05-24T09:52:11.277Z,2007-05-25T13:46:13.926Z,2007-05-25T13:46:13.926Z,2007-05-25T13:46:13.929Z,2007-05-25T13:46:13.929Z,"[Admin / Proxy Connectors] Add/Edit screen doesn't display red ""X"" for removing a (whitelist/blacklist) pattern.","The add/edit screen is missing the red ""X"" for removing of patterns.

Looking at the browser side ""view source"" you can see <img src=""""> which is an empty image.

What needs to occur.
* The <img src=""""> needs to be corrected to actually include the URL to the image/icon.
* The <img> tag needs to include an alt=""[X]"" tag.

This bug exists for blacklists, whitelists, and patterns.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-303,Bug,2007-03-15T09:41:22.031Z,2007-03-15T09:41:22.031Z,2007-05-25T14:20:27.12Z,2007-05-25T14:20:27.12Z,2007-03-15T17:04:41.749Z,2007-03-15T17:04:41.749Z,404 Error when trying to access archiva after install,"I pulled down the latest version of archiva from the svn and built it with ""mvn install"". If I run it with the integrated Jetty (mvn jetty:run) I get the following page as soon as I point my browser to http://host:9091/:

""HTTP ERROR: 404
Caught Exception while registering Interceptor class pssEnvironmentCheckInterceptor""

(... - see attachment)

A similar thing happens, if I try to run it via integrated Plexus (this does not show an exception in the browser but on the console).",Critical,Closed,Fixed,Emmanuel Venisse,evenisse,David Bilge,dbilge
MRM-300,Bug,2007-03-07T13:51:21.752Z,2007-03-07T13:51:21.752Z,2007-05-25T14:20:30.988Z,2007-05-25T14:20:30.988Z,2007-03-07T17:11:52.837Z,2007-03-07T17:11:52.837Z,"when a proxied repository is remove, it re-appears when Archiva is restarted","Deleted proxied repositories reappear when Archiva is restarted.

To reproduce:
1. Log in as admin
2. Artifact Rpository -> Proxied Repositories
3. Delete the default 'central' proxied repo
4. Restart
5. Repeat steps 1-2

Result:
The previously deleted proxied repo appears in the list.

Expected Result:
The deleted repo should not appear.

Workaround:
Edit conf/archiva.xml and remove the <proxiedRepository> element.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-307,Improvement,2007-03-20T19:29:03.119Z,2007-03-20T19:29:03.119Z,2007-05-25T14:20:26.442Z,2007-05-25T14:20:26.442Z,2007-03-20T19:31:23.547Z,2007-03-20T19:31:23.547Z,CSS declarations don't support Reverse-proxy,"I'm using a reverse proxy to see archiva like http://repositories.myserver instead of http://myserver:8080/archiva

Actually to load CSS we have the following syntax :
  <style type=""text/css"" media=""all"">
    @import url( ""<c:url value=""/css/maven-base.css"" />"" );
    @import url( ""<c:url value=""/css/maven-theme.css"" />"" );
    @import url( ""<c:url value=""/css/pss/table.css"" />"" );
    @import url( ""<c:url value=""/css/site.css"" />"" );
  </style>

But these urls aren't rewritten (because it's not in a href)",Major,Closed,Fixed,Arnaud HERITIER,aheritier,Arnaud HERITIER,aheritier
MRM-341,Task,2007-05-15T03:21:07.13Z,2007-05-15T03:21:07.13Z,2007-05-16T09:05:53.88Z,2007-05-16T09:05:53.88Z,2007-05-16T09:03:54.407Z,2007-05-16T09:03:54.407Z,"Add the ""delete proxy connector"" page and action","The JSP that ask for confirmation before deletion needs to be created and the delete method of ConfigureProxyConnectorAction needs to be implemented. 

I attached the patch.",Major,Closed,Fixed,Fabrice Bellingard,fabemn,Fabrice Bellingard,fabemn
MRM-378,Bug,2007-05-29T02:25:43.906Z,2007-05-29T02:25:43.906Z,2007-06-01T10:25:43.277Z,2007-06-01T10:25:43.277Z,2007-06-01T10:25:43.279Z,2007-06-01T10:25:43.279Z,Clicking on the tabs in the artifact detail page doesn't change the view,"Steps:

1) Search for an artifact.
2) In the search results page, click on the artifact to view its details.
3) Click the other tabs (Dependencies, Dependency Tree, etc.).

Notice that the view doesn't change.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Dawn Angelito,dangelito
MRM-396,Bug,2007-05-29T23:45:06.372Z,2007-05-29T23:45:06.372Z,2007-10-22T08:57:58.76Z,2007-10-22T08:57:58.76Z,2007-10-22T08:57:58.773Z,2007-10-22T08:57:58.773Z,remove 'true' and 'false' from the descriptions on the repository admin page,the (/) and (x) are sufficient,Trivial,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-363,Bug,2007-05-24T09:43:18.815Z,2007-05-24T09:43:18.815Z,2007-05-24T16:16:42.294Z,2007-05-24T16:16:42.294Z,2007-05-24T16:16:42.299Z,2007-05-24T16:16:42.299Z,[Admin / Repositories] The 'Name' field and value is missing from the displayed repositories.,"Add the ""Name"" field and value back to the display of local and remote repositories.",Major,Closed,Fixed,Jesse McConnell,jesse,Joakim Erdfelt,joakime
MRM-398,Bug,2007-05-30T00:19:47.423Z,2007-05-30T00:19:47.423Z,2007-10-19T16:46:42.549Z,2007-10-19T16:46:42.549Z,2007-10-19T16:46:42.551Z,2007-10-19T16:46:42.551Z,configure guest access by default for pre-configured repositories,I think it makes sense for repositories to be readable by guests by default for a good OOTB experience.,Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-344,Bug,2007-05-15T17:35:25.417Z,2007-05-15T17:35:25.417Z,2007-05-25T14:09:19.416Z,2007-05-25T14:09:19.416Z,2007-05-25T14:09:19.418Z,2007-05-25T14:09:19.418Z,no /WEB-INF/jsp/admin/deleteProxyConnector.jsp required by action deleteProxyConnector,there is nothing to add - this function simply doesn't work now :(,Critical,Closed,Fixed,Joakim Erdfelt,joakime,Roman Kalukiewicz,romkal
MRM-356,Improvement,2007-05-24T00:55:51.345Z,2007-05-24T00:55:51.345Z,2008-05-07T09:26:24.409Z,2008-05-07T09:26:24.409Z,2007-07-31T04:22:44.914Z,2007-07-31T04:22:44.914Z,Remove '*' in Password and Confirm Password fields,It would be better if we remove the '*' in the Password and Confirm Password fields in the Create User page since both fields are not required. It might just cause confusion to the user.,Trivial,Closed,Cannot Reproduce,,,Dawn Angelito,dangelito
MRM-369,Bug,2007-05-24T11:36:33.061Z,2007-05-24T11:36:33.061Z,2007-06-17T16:45:50.284Z,2007-06-17T16:45:50.284Z,2007-06-17T16:45:50.287Z,2007-06-17T16:45:50.287Z,[Repository Scanning] Exception on update to pre-existing artifact.,"When scanning a repository that has an artifact that has been updated on disk, and exists in the database already, the following exception occurs.

{code}
com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Duplicate entry 'commons-httpclient--commons-httpclient-jar-2.0.2' for key 1
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:931)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)
        at com.mysql.jdbc.ServerPreparedStatement.serverExecute(ServerPreparedStatement.java:1169)
        at com.mysql.jdbc.ServerPreparedStatement.executeInternal(ServerPreparedStatement.java:693)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1404)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1318)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1303)
        at org.jpox.store.rdbms.RDBMSManager.executeStatementUpdate(RDBMSManager.java:572)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:328)
        at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
        at org.jpox.store.StoreManager.insert(StoreManager.java:920)
        at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3667)
        at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3646)
        at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1198)
        at org.jpox.AbstractPersistenceManager.makePersistent(AbstractPersistenceManager.java:1261)
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:196)
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:169)
        at org.apache.maven.archiva.database.jdo.JdoArtifactDAO.saveArtifact(JdoArtifactDAO.java:110)
        at org.apache.maven.archiva.consumers.database.ArtifactUpdateDatabaseConsumer.processFile(ArtifactUpdateDatabaseConsumer.java:195)
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
        at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:127)
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:126)
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:65)
        at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:105)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
        at java.lang.Thread.run(Thread.java:595)
{code}

Need logic to prevent the Table constraint violation.
To update the table entry if it exists.",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-335,Bug,2007-05-11T13:18:14.802Z,2007-05-11T13:18:14.802Z,2007-05-16T11:23:45.97Z,2007-05-16T11:23:45.97Z,2007-05-16T11:23:45.972Z,2007-05-16T11:23:45.972Z,Unscanned Repositories do not auto-scan themselves on startup.,"On startup of the webapp, if a repository has never had its contents scanned or indexed, those repositories are supposed to be added to the task list for immediate scanning.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-309,Bug,2007-03-22T07:37:30.17Z,2007-03-22T07:37:30.17Z,2007-10-02T13:59:51.401Z,2007-10-02T13:59:51.401Z,2007-10-02T13:59:51.413Z,2007-10-02T13:59:51.413Z,relocated artifacts are not delivered,"One managed repository with two proxied repositories.
When I request an artifact that is relocated in the proxied repository, the relocaated artifact is downloaded to the local repository but not delivered to the requestor.

-- log messages:
2007-03-22 13:32:05,478 8868395 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact requested is: easymock:easymock:jar:2.0:runtime
2007-03-22 13:32:05,478 8868395 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving easymock/easymock/2.0/easymock-2.0.pom from ComBOTS Maven2 Repository
2007-03-22 13:32:05,478 8868395 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact not found in repository: ComBOTS Maven2 Repository: File: /data/maven-repo/combots-maven2-repo/easymock/easymock/2.0/easymock-2.0.pom does not exist
2007-03-22 13:32:05,478 8868395 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving easymock/easymock/2.0/easymock-2.0.pom from Maven2 Central Repository
2007-03-22 13:32:05,877 8868794 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Successfully downloaded
2007-03-22 13:32:05,889 8868806 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact easymock:easymock:2.0 has been relocated to org.easymock:easymock:2.0
2007-03-22 13:32:05,890 8868807 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving org/easymock/easymock/2.0/easymock-2.0.pom from ComBOTS Maven2 Repository
2007-03-22 13:32:05,890 8868807 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact not found in repository: ComBOTS Maven2 Repository: File: /data/maven-repo/combots-maven2-repo/org/easymock/easymock/2.0/easymock-2.0.pom does not exist
2007-03-22 13:32:05,890 8868807 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving org/easymock/easymock/2.0/easymock-2.0.pom from Maven2 Central Repository
2007-03-22 13:32:06,157 8869074 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Successfully downloaded
2007-03-22 13:32:06,158 8869075 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving org/easymock/easymock/2.0/easymock-2.0.jar from ComBOTS Maven2 Repository
2007-03-22 13:32:06,158 8869075 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Artifact not found in repository: ComBOTS Maven2 Repository: File: /data/maven-repo/combots-maven2-repo/org/easymock/easymock/2.0/easymock-2.0.jar does not exist
2007-03-22 13:32:06,159 8869076 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Retrieving org/easymock/easymock/2.0/easymock-2.0.jar from Maven2 Central Repository
2007-03-22 13:32:07,017 8869934 [http-9080-Processor25] DEBUG org.apache.maven.archiva.proxy.ProxyRequestHandler:default  - Successfully downloaded

-- html response:
Error 404 Not Found

Resource in error: http://mavenproxy:9080/archiva/repository/easymock/easymock/2.0/easymock-2.0.jar/easymock/easymock/2.0/easymock-2.0.jar

Exception details:

it.could.webdav.DAVException: Not found
	at it.could.webdav.methods.HEAD.process(HEAD.java:52)
	at it.could.webdav.methods.GET.process(GET.java:58)
	at it.could.webdav.DAVProcessor.process(DAVProcessor.java:79)
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.process(SimpleDavServerComponent.java:142)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:147)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:111)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:595)
",Major,Closed,Duplicate,Joakim Erdfelt,joakime,Joerg Vater,jova
MRM-399,Bug,2007-05-30T00:32:20.405Z,2007-05-30T00:32:20.405Z,2007-06-24T20:19:26.639Z,2007-06-24T20:19:26.639Z,2007-06-24T20:19:26.645Z,2007-06-24T20:19:26.645Z,NPE trying to access an artifact that should be proxied,"I have just the default repository configuration, with no existing content. I have enabled guest access through the global observer role.

RequestURI=/repository/internal/org/apache/maven/maven-core/2.0.6/maven-core-2.0.6.jar
Caused by:

java.lang.NullPointerException
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:143)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxies(ProxiedDavServer.java:163)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:134)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)",Critical,Closed,Fixed,Wendy Smoak,wsmoak,Brett Porter,brettporter
MRM-311,Bug,2007-04-03T10:38:08.435Z,2007-04-03T10:38:08.435Z,2007-06-17T19:49:45.424Z,2007-06-17T19:49:45.424Z,2007-06-17T19:49:45.426Z,2007-06-17T19:49:45.426Z,incorrectly displayed groupId for dependencies,"the list in the ""Dependencies"" tab contains correct artifacts, but with groupId taken from the library being explored, not from the dependency itself.
Example:
library {{org.hibernate:hibernate:3.2.1.ga}} depends on
- {{*net.sf.ehcache*:ehcache:1.2.3}}
- {{*javax.transaction*:jta:1.0.1B}}
- etc

but the page displays this information:
- {{{color:red}org.hibernate{color}:ehcache:1.2.3}}
- {{{color:red}org.hibernate{color}:jta:1.0.1B}}
- etc

The same bug appears on tabs ""*Dependency tree*"" and ""*Used by*"".
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Petr Kozelka,pkozelka
MRM-320,Bug,2007-04-20T04:10:23.389Z,2007-04-20T04:10:23.389Z,2007-09-21T18:16:21.728Z,2007-09-21T18:16:21.728Z,2007-09-21T18:16:21.731Z,2007-09-21T18:16:21.731Z,ProxiedDavServer breaks update policy,"The ProxiedDavServer use hasResource() to bypass proxyRequestHandler if requested resource is allready in the managed repo.

This sounds a good optimization, but breaks any update capability of archiva.

When I deploy a new snapshot, developper never get an updated one...
",Minor,Closed,Fixed,Joakim Erdfelt,joakime,nicolas de loof,ndeloof
MRM-306,Bug,2007-03-20T18:11:33.149Z,2007-03-20T18:11:33.149Z,2007-05-15T07:48:42.718Z,2007-05-15T07:48:42.718Z,2007-05-15T07:48:42.721Z,2007-05-15T07:48:42.721Z,The default Cron expression is invalid,The default cron expression is invalid when when you setup archiva. You have to add the * in the year field.,Major,Closed,Fixed,Fabrice Bellingard,fabemn,Arnaud HERITIER,aheritier
MRM-310,Test,2007-03-30T00:45:25.044Z,2007-03-30T00:45:25.044Z,2007-06-02T07:11:13.452Z,2007-06-02T07:11:13.452Z,2007-04-17T04:53:28.158Z,2007-04-17T04:53:28.158Z,Selenium test cases do not run,"Selenium test cases located at the project ${maven}/archiva/archiva-webapp-test do not run due to an undeployed archiva-webapp.  Stacktrace follows.

[INFO] [antrun:run {execution: check-archiva-loaded}]
[INFO] Executing tasks
      [get] Getting: http://localhost:9696/archiva/
      [get] To: /home/nramirez/src/maven/archiva/archiva-webapp-test/target/index.html
      [get] Error opening connection java.io.IOException: Server returned HTTP response code: 500 for URL: http://localhost:9696/archiva/index.action
      [get] Error opening connection java.io.IOException: Server returned HTTP response code: 500 for URL: http://localhost:9696/archiva/index.action
      [get] Error opening connection java.io.IOException: Server returned HTTP response code: 500 for URL: http://localhost:9696/archiva/index.action
      [get] Can't get http://localhost:9696/archiva/ to /home/nramirez/src/maven/archiva/archiva-webapp-test/target/index.html
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error executing ant tasks

Embedded error: Can't get http://localhost:9696/archiva/ to /home/nramirez/src/maven/archiva/archiva-webapp-test/target/index.html",Major,Closed,Fixed,Maria Odea Ching,oching,Nap Ramirez,nramirez
MRM-304,Bug,2007-03-19T19:33:33.162Z,2007-03-19T19:33:33.162Z,2007-05-25T14:20:43.259Z,2007-05-25T14:20:43.259Z,2007-03-19T19:51:57.648Z,2007-03-19T19:51:57.648Z,Reference to derby.jar but the artifact isn't in the folder specified,Need to update the docs to point to either ~/.m2/org/apache/derby or to the remote repository.,Minor,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-391,Bug,2007-05-29T23:10:19.822Z,2007-05-29T23:10:19.822Z,2008-02-15T01:41:49.732Z,2008-02-15T01:41:49.732Z,,,Browse repository should display a suitable message when empty,"When the configured repositories are empty, the browse page simply lists nothing.

A suitable message indicating that no repositories are configured, or are not indexed, or whatever is necessary should be displayed instead.",Minor,Open,,,,Brett Porter,brettporter
MRM-375,Bug,2007-05-28T00:14:22.283Z,2007-05-28T00:14:22.283Z,2007-06-06T04:06:59.487Z,2007-06-06T04:06:59.487Z,2007-06-06T04:06:59.489Z,2007-06-06T04:06:59.489Z,Editing a Remote Repository will delete this repository,"Steps:

1) Log in as admin.
2) On the left menu, under Administation, click Repositories.
3) Edit a pre-configured remote repository.
4) Click Update Repository.

Notice that the repository is no longer in the list.",Critical,Closed,Fixed,Fabrice Bellingard,fabemn,Dawn Angelito,dangelito
MRM-368,New Feature,2007-05-24T11:25:12.471Z,2007-05-24T11:25:12.471Z,2011-09-12T08:55:47.23Z,2011-09-12T08:55:47.23Z,2011-09-12T08:55:47.204Z,2011-09-12T08:55:47.204Z,[Admin] Add UI to see and adjust Scheduled Tasks / Task Queues.,Create an admin screen to see / edit / manage the Scheduled Tasks and Queued Jobs,Major,Closed,Duplicate,,,Joakim Erdfelt,joakime
MRM-362,Bug,2007-05-24T09:41:44.162Z,2007-05-24T09:41:44.162Z,2007-06-17T20:15:28.779Z,2007-06-17T20:15:28.779Z,2007-06-17T20:15:28.781Z,2007-06-17T20:15:28.781Z,"[Admin / Repositories] Fix ""Index Repository"" link.","Tasks to do about ""Index Repository"" link on repositories page.

* Move Link to left hand side. - done
* Make into button. - done
* Rename to ""Scan Repository Now"" - done

Remaining is new functionality, perhaps add status field to repositories to allow different actions to set statuses on a particular repository for conditionally wrapping the Scan Repository Now button.

* Add verbiage to repository screen to show if a scan is in progress.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-377,Bug,2007-05-28T04:46:08.296Z,2007-05-28T04:46:08.296Z,2007-06-02T07:11:15.713Z,2007-06-02T07:11:15.713Z,2007-05-29T07:00:08.227Z,2007-05-29T07:00:08.227Z,Previous repository configuration doesn't reflect in the Edit Repository page,"Steps:

1) Log in as admin.
2) On the left menu, under Administration, click Repositories.

Please take note of the default values for Archiva Managed Internal Repository:
     Releases Included - true
     Snapshots Included - false
     Scanned - true

3) Edit this repository.

Notice that in the Edit Repository page of Archiva Managed Internal Repository, Releases Included, Snapshots Included and Scanned were all unchecked. 

Note: Same goes with Archiva Managed Snapshot Repository. The previous repository configuration doesn't reflect in the Edit Repository page.",Major,Closed,Fixed,Maria Odea Ching,oching,Dawn Angelito,dangelito
MRM-350,Bug,2007-05-22T02:41:56.954Z,2007-05-22T02:41:56.954Z,2007-05-22T08:26:39.171Z,2007-05-22T08:26:39.171Z,2007-05-22T08:26:39.175Z,2007-05-22T08:26:39.175Z,header still shows the current user even if the application has timed-out,"After the application has timed-out, the header still shows the current user (see attached screenshot) and the login page is also displayed. The Manage and Administration sections in the left menu are also shown. When I tried to click one of the links in the left menu, it will just show the login page. This means that no user is currently logged in. Therefore, it shouldn't show the current user in the header and the Manage and Administration sections in the left menu.",Major,Closed,Fixed,Jesse McConnell,jesse,Dawn Angelito,dangelito
MRM-376,Bug,2007-05-28T01:31:13.149Z,2007-05-28T01:31:13.149Z,2007-06-14T05:50:02.629Z,2007-06-14T05:50:02.629Z,2007-06-14T05:50:02.632Z,2007-06-14T05:50:02.632Z,Clicking an artifact in the Search Results page results to HTTP ERROR: 500,"Steps:
1) On the left menu, under Find, click Search.
2) Enter a keyword that you want to search. (e.g. ant)
3) Click Submit. The search results will be displayed.
4) Click an artifact from the list. (In my case, I clicked ""ant"".)

Resulted to:

HTTP ERROR: 500

Unable to find Database Object [ant:ant:1.6::pom] of type org.apache.maven.archiva.model.ArchivaArtifactModel using no fetch-group

RequestURI=/archiva/browse/ant/ant/1.6
",Blocker,Closed,Fixed,Maria Odea Ching,oching,Dawn Angelito,dangelito
MRM-339,Bug,2007-05-13T16:36:34.098Z,2007-05-13T16:36:34.098Z,2007-05-23T15:48:27.317Z,2007-05-23T15:48:27.317Z,2007-05-23T15:47:54.063Z,2007-05-23T15:47:54.063Z,Roles aren't created if the repository isn't created within the web UI,"If we create some repositories directly in the archiva.xml config file, we don't have the roles to observe or manage these repositories.",Major,Closed,Fixed,Jesse McConnell,jesse,Arnaud HERITIER,aheritier
MRM-333,Bug,2007-05-10T12:36:50.29Z,2007-05-10T12:36:50.29Z,2008-04-08T05:25:59.554Z,2008-04-08T05:25:59.554Z,2007-09-21T18:12:09.575Z,2007-09-21T18:12:09.575Z,Tomcat deployment of archiva results in unstable instance.,"When deploying archiva to a tomcat instance, the resulting instance is unstable and causes many other problems.

We need to identify, and document a tomcat installation.

Wiki docs: http://docs.codehaus.org/display/MAVENUSER/Archiva+on+Tomcat

If a specific tomcat topic arises, please link it to this issue.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-331,Bug,2007-05-08T08:07:12.797Z,2007-05-08T08:07:12.797Z,2007-05-25T13:34:18.955Z,2007-05-25T13:34:18.955Z,2007-05-25T13:34:18.958Z,2007-05-25T13:34:18.958Z,Finding an Artifact gives an HTTP 500,"To replicate: 
A. Using any existing file
1. Click the Find Artifact link in the left navigation menu
2. Enter a valid input in Search for text area, existing file
3. Click the Go! button 
B. Using any checksum
1. Click the Find Artifact link in the left navigation menu
2. Enter valid/invalid input in Checksum text area
3. Click the Go! button 
Result (snipped): 
HTTP ERROR: 500
RequestURI=/checksumSearch.action
java.lang.NullPointerException
at org.apache.maven.archiva.web.action.SearchAction.findArtifact(SearchAction.java:103)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Nap Ramirez,nramirez
MRM-380,Bug,2007-05-29T04:03:50.169Z,2007-05-29T04:03:50.169Z,2007-05-29T13:10:24.94Z,2007-05-29T13:10:24.94Z,2007-05-29T13:10:24.942Z,2007-05-29T13:10:24.942Z,When trying to look at project with empty groupId,"When going to look at a project which has an empty groupId - see maven-rar-plugin as an example.

Therefore if you goto - http://localhost:9091/browse/org.apache.maven.plugins/maven-rar-plugin/2.2

You end up with :

HTTP ERROR: 500

Field org.apache.maven.archiva.model.ArchivaProjectModel.groupId is null, but is mandatory as its described in the jdo metadata

RequestURI=/browse/org.apache.maven.plugins/maven-rar-plugin/2.2
Caused by:

javax.jdo.JDOUserException: Field org.apache.maven.archiva.model.ArchivaProjectModel.groupId is null, but is mandatory as its described in the jdo metadata
	at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:120)
	at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideField(ArchivaProjectModel.java)
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFields(ArchivaProjectModel.java)
	at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3115)
	at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:221)
	at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Philip Dodds,pdodds
MRM-385,Improvement,2007-05-29T12:23:48.894Z,2007-05-29T12:23:48.894Z,2007-09-15T19:59:50.726Z,2007-09-15T19:59:50.726Z,2007-09-15T19:59:50.741Z,2007-09-15T19:59:50.741Z,Maven config docs refer to /proxy urls,"The Maven Configuration page still refers to urls containing ""/proxy"".  These no longer exist.

http://maven.apache.org/archiva/guides/maven-configuration.html

Also incorporate info from: http://docs.codehaus.org/display/MAVENUSER/Archiva+as+a+Proxy",Critical,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-318,Task,2007-04-20T00:57:51.61Z,2007-04-20T00:57:51.61Z,2007-06-02T07:11:12.939Z,2007-06-02T07:11:12.939Z,2007-04-20T08:07:39.219Z,2007-04-20T08:07:39.219Z,Web UI test for Archiva webapp 'Proxied Repositories',,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-352,Bug,2007-05-23T04:36:49.175Z,2007-05-23T04:36:49.175Z,2007-06-21T08:46:01.873Z,2007-06-21T08:46:01.873Z,2007-06-21T08:46:01.877Z,2007-06-21T08:46:01.877Z,"When logging for the very first time as admin, the ""add repository"" page fails","_[ To reproduce the bug, clean your file system like it would be the first time you run Archiva (basically, delete the database and the archiva files in .m2) ]_

When you start Archiva for the first time, you have to create an admin user first, and then you are redirected to the repository configuration page, which fails with the following stack trace:

{code}
2007-05-23 11:20:32,137 [http-8080-Processor25] INFO  com.opensymphony.xwork.interceptor.Interceptor:configurationInterceptor  - No repositories exist - forwarding to repository configuration page
2007-05-23 11:21:22,200 [http-8080-Processor24] ERROR com.opensymphony.xwork.util.CompoundRootAccessor  - No object in the CompoundRoot has a publicly accessible property named 'externalResult' (no setter could be found).
2007-05-23 11:21:22,263 [http-8080-Processor24] ERROR com.opensymphony.xwork.util.OgnlValueStack  - Error setting expr 'externalResult' with value '[Ljava.lang.String;@160088f'
No object in the CompoundRoot has a publicly accessible property named 'externalResult' (no setter could be found). - [unknown location]
	at com.opensymphony.xwork.util.CompoundRootAccessor.setProperty(CompoundRootAccessor.java:69)
	at ognl.OgnlRuntime.setProperty(OgnlRuntime.java:1629)
	at ognl.ASTProperty.setValueBody(ASTProperty.java:105)
	at ognl.SimpleNode.evaluateSetValueBody(SimpleNode.java:177)
	at ognl.SimpleNode.setValue(SimpleNode.java:246)
	at ognl.Ognl.setValue(Ognl.java:476)
	at com.opensymphony.xwork.util.OgnlUtil.setValue(OgnlUtil.java:186)
	at com.opensymphony.xwork.util.OgnlValueStack.setValue(OgnlValueStack.java:154)
	at com.opensymphony.xwork.util.OgnlValueStack.setValue(OgnlValueStack.java:137)
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.setParameters(ParametersInterceptor.java:139)
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.before(ParametersInterceptor.java:114)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:30)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:113)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:225)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:210)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:870)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)
	at java.lang.Thread.run(Thread.java:595)
2007-05-23 11:21:22,403 [http-8080-Processor24] ERROR com.opensymphony.xwork.interceptor.ParametersInterceptor  - Developer Notification (set webwork.devMode to false to disable this message):
No object in the CompoundRoot has a publicly accessible property named 'externalResult' (no setter could be found). 
2007-05-23 11:21:22,403 [http-8080-Processor24] ERROR com.opensymphony.xwork.util.CompoundRootAccessor  - No object in the CompoundRoot has a publicly accessible property named 'externalResult' (no setter could be found).
2007-05-23 11:21:22,403 [http-8080-Processor24] ERROR com.opensymphony.xwork.util.OgnlValueStack  - Error setting expr 'externalResult' with value '[Ljava.lang.String;@160088f'
No object in the CompoundRoot has a publicly accessible property named 'externalResult' (no setter could be found). - [unknown location]
	at com.opensymphony.xwork.util.CompoundRootAccessor.setProperty(CompoundRootAccessor.java:69)
	at ognl.OgnlRuntime.setProperty(OgnlRuntime.java:1629)
	at ognl.ASTProperty.setValueBody(ASTProperty.java:105)
	at ognl.SimpleNode.evaluateSetValueBody(SimpleNode.java:177)
	at ognl.SimpleNode.setValue(SimpleNode.java:246)
	at ognl.Ognl.setValue(Ognl.java:476)
	at com.opensymphony.xwork.util.OgnlUtil.setValue(OgnlUtil.java:186)
	at com.opensymphony.xwork.util.OgnlValueStack.setValue(OgnlValueStack.java:154)
	at com.opensymphony.xwork.util.OgnlValueStack.setValue(OgnlValueStack.java:137)
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.setParameters(ParametersInterceptor.java:139)
	at com.opensymphony.xwork.interceptor.ParametersInterceptor.before(ParametersInterceptor.java:114)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:30)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:171)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:147)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:63)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:113)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:225)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:210)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:870)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)
	at java.lang.Thread.run(Thread.java:595)
2007-05-23 11:21:22,403 [http-8080-Processor24] ERROR com.opensymphony.xwork.interceptor.ParametersInterceptor  - Developer Notification (set webwork.devMode to false to disable this message):
No object in the CompoundRoot has a publicly accessible property named 'externalResult' (no setter could be found). 
{code}",Critical,Closed,Fixed,,,Fabrice Bellingard,fabemn
MRM-349,Bug,2007-05-19T22:49:56.187Z,2007-05-19T22:49:56.187Z,2007-05-23T15:47:22.174Z,2007-05-23T15:47:22.174Z,2007-05-23T15:47:22.176Z,2007-05-23T15:47:22.176Z,No access to repositories with guest as a global repo observer,"After granting the Global Repository Observer role to the guest user, I am prompted for an id and password when accessing the url for a managed repository such as the preconfigured 'internal' repo.

MRM-323 seems to be the same thing, but on Tomcat.

",Blocker,Closed,Fixed,Jesse McConnell,jesse,Wendy Smoak,wsmoak
MRM-347,Bug,2007-05-18T10:26:10.146Z,2007-05-18T10:26:10.146Z,2007-08-03T02:37:25.242Z,2007-08-03T02:37:25.242Z,2007-08-03T02:37:25.246Z,2007-08-03T02:37:25.246Z,Undefined ${appserver.home} and ${appserver.base},"When I run: 
mvn jetty:run 
from trunk at r538691, the ""appserver.base"" property is undefined, resulting in the creation of this directory: 
Directory of C:\dev\apache-maven\archiva\archiva-web\archiva-webapp
05/17/2007 02:24 PM <DIR> ${appserver.base}
05/16/2007 11:40 AM 14,681 pom.xml
05/16/2007 11:40 AM <DIR> src
05/17/2007 11:06 AM <DIR> target",Major,Closed,Fixed,Brett Porter,brettporter,Jan Nielsen,jan.sture.nielsen@gmail.com
MRM-373,Bug,2007-05-26T02:05:06.252Z,2007-05-26T02:05:06.252Z,2007-08-01T07:07:49.656Z,2007-08-01T07:07:49.656Z,2007-08-01T07:07:49.659Z,2007-08-01T07:07:49.659Z,Unable to delete the pre-configured example network proxy,"Archiva comes pre-configured with a network proxy.

When I delete it in the web UI, it comes back the next time I start Archiva.  It does not get removed from ~/.m2/archiva.xml.

Workaround:  stop Archiva and edit ~/.m2/archiva.xml, then restart",Critical,Closed,Fixed,Fabrice Bellingard,fabemn,Wendy Smoak,wsmoak
MRM-387,Improvement,2007-05-29T22:55:59.633Z,2007-05-29T22:55:59.633Z,2007-07-31T04:18:30.823Z,2007-07-31T04:18:30.823Z,2007-07-31T04:18:30.832Z,2007-07-31T04:18:30.832Z,Archiva startup on first run is very slow,Something in creating the application database after adding the admin account is very slow (~1 minute),Minor,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-330,Bug,2007-05-08T07:56:59.647Z,2007-05-08T07:56:59.647Z,2007-05-25T12:12:29.58Z,2007-05-25T12:12:29.58Z,2007-05-25T12:12:29.582Z,2007-05-25T12:12:29.582Z,Searching gives an HTTP 500,"To replicate: 
1. Click the Search link in the left navigation menu
2. Enter any input valid or invalid
3. Click the Submit button 
Result (snipped): 
HTTP ERROR: 500
RequestURI=/quickSearch.action
java.lang.IllegalArgumentException: Only supports managed repositories.
at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndexFactory.toIndexDir(LuceneRepositoryContentIndexFactory.java:77)
at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndexFactory.createBytecodeIndex(LuceneRepositoryContentIndexFactory.java:50)
at org.apache.maven.archiva.indexer.search.DefaultCrossRepositorySearch.getBytecodeIndexes(DefaultCrossRepositorySearch.java:173)
at org.apache.maven.archiva.indexer.search.DefaultCrossRepositorySearch.searchForTerm(DefaultCrossRepositorySearch.java:91)
at org.apache.maven.archiva.web.action.SearchAction.quickSearch(SearchAction.java:74)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Nap Ramirez,nramirez
MRM-353,Bug,2007-05-23T06:37:42.943Z,2007-05-23T06:37:42.943Z,2007-06-02T07:11:18.379Z,2007-06-02T07:11:18.379Z,2007-05-23T17:53:31.406Z,2007-05-23T17:53:31.406Z,java.lang.ArithmeticException: / by zero - when scanning repository.,"Stack trace ...

{code}
INFO   | jvm 1    | 2007/05/23 07:39:42 | 571013 [Thread-6] ERROR org.codehaus.plexus.taskqueue.execution.TaskQueueExecutor:repository-scanning - Error executing task
INFO   | jvm 1    | 2007/05/23 07:39:42 | edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.lang.ArithmeticException: / by zero
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResult(FutureTask.java:299)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.get(FutureTask.java:118)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTask(ThreadedTaskQueueExecutor.java:159)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:127)
INFO   | jvm 1    | 2007/05/23 07:39:42 | Caused by: java.lang.ArithmeticException: / by zero
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at org.apache.maven.archiva.model.RepositoryContentStatistics.toDump(RepositoryContentStatistics.java:275)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:107)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)
INFO   | jvm 1    | 2007/05/23 07:39:42 |       at java.lang.Thread.run(Thread.java:595)

{code}",Major,Closed,Fixed,Jesse McConnell,jesse,Joakim Erdfelt,joakime
MRM-327,Bug,2007-05-08T07:25:11.11Z,2007-05-08T07:25:11.11Z,2007-09-18T04:59:25.124Z,2007-09-18T04:59:25.124Z,2007-05-10T18:44:40.85Z,2007-05-10T18:44:40.85Z,Adding/Editing network proxies doesn't have validation,"To replicate:

A. Adding a network proxy
1. Click the Network Proxies link in the left navigation menu
2. Click the Add Network Proxy link in the upper right part of the page
3. Enter invalid values in Identifier, Protocol, Hostname and Port, empty Strings
4. Click the Add Network Proxy button

Result: Network Proxies Administration page displayed, network proxy (identifier="""", protocol="""", hostname="""", port=8080) added
Expected Result: Validation errors

B. Editing a network proxy
1. Click the Network Proxies link in the left navigation menu
2. Click the Edit Network Proxy link in the same row as the network proxy's header
3. Enter invalid values in Protocol, Hostname and Port, empty Strings
4. Click the Save Network Proxy button

Result: Network Proxies Administration page displayed, network proxy updated into (protocol="""", hostname="""", port=8080)
Expected Result: Validation errors
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Nap Ramirez,nramirez
MRM-323,Bug,2007-04-26T06:14:02.178Z,2007-04-26T06:14:02.178Z,2007-09-21T17:30:47.808Z,2007-09-21T17:30:47.808Z,2007-09-21T17:30:47.829Z,2007-09-21T17:30:47.829Z,Managed repo in archiva cannot be accessed thru direct webdav url even with valid credentials (Archiva deployed in Tomcat),"Steps to re-create issue:
- Deploy Archiva in Tomcat, then start tomcat
- Access Archiva in browser and set the required configurations
- Add A Managed Repository with the following configuration:
  - id: snapshots
  - name: snapshots
  - url: snapshots (it would have the value http://localhost:[PORT]/archiva/repository/snapshots)
  - directory: snapshots
- Go to User Management and add the Repository Observer role for the 'snapshots' repo to the current user
- Open a new tab in your browser then type the webdav URL: http://localhost:[PORT]/archiva/repository/snapshots
- Supply the user credentials for the 'snapshots' repository. You still wouldn't be able to access it even if you supply the correct credentials. 


Also, the following error shows up in the Archiva logs when you try to build a Maven project with your settings.xml file configured to use the repositories in archiva:

102476 [http-9696-Processor23] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/archiva].[RepositoryServlet]  - Servlet.service() for servlet RepositoryServlet threw exception
javax.servlet.ServletException: Unable to service DAV request due to unconfigured DavServerComponent for prefix [snapshots].
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:93)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:619)

",Major,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-384,Bug,2007-05-29T10:12:12.954Z,2007-05-29T10:12:12.954Z,2007-05-29T10:22:27.558Z,2007-05-29T10:22:27.558Z,2007-05-29T10:22:27.562Z,2007-05-29T10:22:27.562Z,Move maven-artifact-converter and maven-transaction to archiva.,"Move the following modules out of maven shared and into archiva.

* maven-artifact-converter
** Becomes archiva-artifact-converter
* maven-transaction
** Becoms archiva-transaction

Be sure to change the package names to fit within the org.apache.maven.archiva namespace.
For the sake of expediency, keep them as seperate modules.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-324,Bug,2007-05-01T08:31:39.769Z,2007-05-01T08:31:39.769Z,2007-05-23T17:40:11.275Z,2007-05-23T17:40:11.275Z,2007-05-23T17:40:11.277Z,2007-05-23T17:40:11.277Z,Global Repository Manager privililege do not grant deployment privilege ,"Archiva sends status 401/Unauthorized when deploying  a snapshot 
release to Archiva with a user holding the ""Global Repository Manager""
role.

Deployment works when the user is granted individual repository 
manager roles.
",Major,Closed,Cannot Reproduce,Jesse McConnell,jesse,Lennart Jorelid,lj@jguru.se
MRM-322,Improvement,2007-04-26T02:47:30.874Z,2007-04-26T02:47:30.874Z,2015-04-05T14:27:42.974Z,2015-04-05T14:27:42.974Z,2007-05-11T13:12:24.469Z,2007-05-11T13:12:24.469Z,Add proxied repository page lacks '*' on identifier field.,The Identifier field is required so '*' should be put beside it just like the other required fields in the application.,Minor,Closed,Fixed,Joakim Erdfelt,joakime,Teodoro Cue Jr.,tcue
MRM-357,Bug,2007-05-24T01:41:01.013Z,2007-05-24T01:41:01.013Z,2007-06-21T12:41:43.596Z,2007-06-21T12:41:43.596Z,2007-06-21T12:41:43.598Z,2007-06-21T12:41:43.598Z,Update Consumers button in Repository Scanning doesn't work,"1) Log in as admin.
2) Click the Repository Scanning button in the left menu under Administration.
3) In Repository Scanning - Consumers of Known Content, check ""validate-checksums"" to enable it.
4) Click the Update Consumers button.

Once the page is refreshed, notice that ""validate-checksums"" is still disabled.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Dawn Angelito,dangelito
MRM-302,Improvement,2007-03-07T23:40:13.333Z,2007-03-07T23:40:13.333Z,2007-06-02T07:11:13.712Z,2007-06-02T07:11:13.712Z,2007-05-11T09:13:50.187Z,2007-05-11T09:13:50.187Z,Inconsistent button text and page headers,"For configuration, the button label is 'Settings' but the page header is  'Administration' with a sub-section named 'Configuration'. 

(In Continuum, the button is 'Configuration' and the page header is 'General Configuration'.)",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-361,Bug,2007-05-24T09:38:06.641Z,2007-05-24T09:38:06.641Z,2007-06-02T07:11:14.679Z,2007-06-02T07:11:14.679Z,2007-05-24T17:21:36.856Z,2007-05-24T17:21:36.856Z,"[Admin / Repositories] Change ""Index"", ""Indexed"" to refer to ""Scanning"", and ""Scanned""","The text for ""Index"" and ""Indexing"" is misleading.  Change them to ""Scanning"" to better reflect their nature.",Major,Closed,Fixed,Jesse McConnell,jesse,Joakim Erdfelt,joakime
MRM-394,Bug,2007-05-29T23:39:26.702Z,2007-05-29T23:39:26.702Z,2007-06-01T05:14:22.043Z,2007-06-01T05:14:22.043Z,2007-06-01T05:14:22.045Z,2007-06-01T05:14:22.045Z,"default remote repositories central, java.net are not available in remote repositories list","- without having added any configuration, add a new proxy connector
- note that remote repositories list is empty

Not sure if this is deliberate - is it valid to have two connectors to the same remote repository?

Two potential solutions:
a) if they are allowed, repositories should be in the list
b) if duplicates are not allowed (not sure why this would be the case), then the add form should present an error message saying there are no available remote repositories",Major,Closed,Fixed,Fabrice Bellingard,fabemn,Brett Porter,brettporter
MRM-392,Bug,2007-05-29T23:35:47.192Z,2007-05-29T23:35:47.192Z,2007-08-31T06:06:39.918Z,2007-08-31T06:06:39.918Z,2007-08-31T06:06:39.922Z,2007-08-31T06:06:39.922Z,"pressing 'return' in the blacklist/whitelist form field submits whole form and validates, not pressing associated button","- add a proxy connector
- don't fill in any fields
- type ""foo"" into blacklist field
- press return

EXPECTED: add foo to blacklist
ACTUAL: submits form, gives validation errors",Critical,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-346,Bug,2007-05-16T14:22:09.764Z,2007-05-16T14:22:09.764Z,2007-05-22T10:49:18.854Z,2007-05-22T10:49:18.854Z,2007-05-22T10:49:18.859Z,2007-05-22T10:49:18.859Z,Show Artifact results in error 500.,"When browsing into an artifact's details, an error 500 is the result.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-340,Bug,2007-05-13T18:26:26.146Z,2007-05-13T18:26:26.146Z,2007-06-17T20:20:54.486Z,2007-06-17T20:20:54.486Z,2007-06-17T20:20:54.488Z,2007-06-17T20:20:54.488Z,release:prepare fails due to missing archiva-applet,"During release:prepare, the build fails with:

    [INFO] Building Archiva Web Application
    [INFO]    task-segment: [clean, integration-test]
...
    [ERROR] BUILD ERROR
    [INFO] ------------------------------------------------------------------------
    [INFO] Failed to resolve artifact.

    GroupId: org.apache.maven.archiva
    ArtifactId: archiva-applet
    Version: 0.9-alpha-2

    Reason: Unable to download the artifact from any repository

    Try downloading the file manually from the project website.

    Then, install it using the command:
        mvn install:install-file -DgroupId=org.apache.maven.archiva -DartifactId=archiva-applet              
        -Dversion=0.9-alpha-2 -Dpackaging=jar -Dfile=/path/to/file


      org.apache.maven.archiva:archiva-applet:jar:0.9-alpha-2
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-367,Bug,2007-05-24T09:54:26.796Z,2007-05-24T09:54:26.796Z,2014-10-10T14:37:06.292Z,2014-10-10T14:37:06.292Z,2014-10-10T05:53:08.118Z,2014-10-10T05:53:08.118Z,[Admin / Repositories] the consumers need to identify and highlight Permanent / Mandatory consumers better.,"Some consumers are flagged (on the compile time side) as permanent (aka mandatory) and cannot be disabled.
The UI screens need to show this concept to the users.",Major,Closed,Won't Fix,,,Joakim Erdfelt,joakime
MRM-328,Bug,2007-05-08T07:32:50.626Z,2007-05-08T07:32:50.626Z,2007-05-10T18:45:36.867Z,2007-05-10T18:45:36.867Z,2007-05-10T18:45:36.872Z,2007-05-10T18:45:36.872Z,Unable to delete network proxies,"To replicate:

1. Click the Network Proxies link in the left navigation menu
2. Click on the Delete Network Proxy link in the same row as the repository's header
3. Click the Delete button

Result: Nothing happens, user stays at the same page.
Expected Result: Network Proxies Administration page displayed, network proxy deleted
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Nap Ramirez,nramirez
MRM-334,Bug,2007-05-11T08:17:31.345Z,2007-05-11T08:17:31.345Z,2007-05-16T08:53:48.204Z,2007-05-16T08:53:48.204Z,2007-05-16T08:53:48.206Z,2007-05-16T08:53:48.206Z,"If ~/.m2 does not exist when running the webapp for the first time, a folder ""~.m2"" is created","A path separator is just missing in the AbstractAppearanceAction#createLocalRepository() method.

I attached the patch. If you want, I can commit it (IIRC, the maven permission groups have been collapsed to allow this).",Minor,Closed,Fixed,Fabrice Bellingard,fabemn,Fabrice Bellingard,fabemn
MRM-345,Bug,2007-05-16T10:03:11.74Z,2007-05-16T10:03:11.74Z,2007-05-16T11:22:23.615Z,2007-05-16T11:22:23.615Z,2007-05-16T11:22:23.619Z,2007-05-16T11:22:23.619Z,Browsing shows no information.,"When browsing, there is no information shown.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-397,Bug,2007-05-30T00:11:35.481Z,2007-05-30T00:11:35.481Z,2015-04-05T14:53:48.848Z,2015-04-05T14:53:48.848Z,2008-10-06T03:15:53.809Z,2008-10-06T03:15:53.809Z,background of the archiva logo is not transparent in repositories page,"- the grey shading seems to indicate some special property of a given repository when there are just two (I presume it alternates). I don't think any alternate shading is needed in boxes of this size
- the background of the archiva logo is not transparent",Trivial,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-316,Task,2007-04-19T05:44:56.545Z,2007-04-19T05:44:56.545Z,2007-06-02T07:11:14.3Z,2007-06-02T07:11:14.3Z,2007-04-19T05:51:54.967Z,2007-04-19T05:51:54.967Z,Web UI test for Archiva webapp 'Settings',,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-329,Bug,2007-05-08T07:47:41.791Z,2007-05-08T07:47:41.791Z,2007-08-03T11:00:46.574Z,2007-08-03T11:00:46.574Z,2007-08-03T11:00:46.578Z,2007-08-03T11:00:46.578Z,The Reports link gives an HTTP 500,"Clicking the Reports link in the side navigation menu displays the following (edited/snipped stacktrace): 
HTTP ERROR: 500
RequestURI=/admin/reports.action
Caused by: javax.el.PropertyNotFoundException: The class 'org.apache.maven.archiva.reporting.artifact.OldArtifactReport' does not have the property 'groupId'.
at javax.el.BeanELResolver.getBeanProperty(BeanELResolver.java:574)
at javax.el.BeanELResolver.getValue(BeanELResolver.java:280)
at javax.el.CompositeELResolver.getValue(CompositeELResolver.java:143)
at com.sun.el.parser.AstValue.getValue(AstValue.java:118)
at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:192)
at org.apache.jasper.runtime.PageContextImpl.evaluateExpression(PageContextImpl.java:974)
at org.apache.jsp.WEB_002dINF.jsp.reports.reports_jsp._jspx_meth_c_forEach_0(org.apache.jsp.WEB_002dINF.jsp.reports.reports_jsp:143)
at org.apache.jsp.WEB_002dINF.jsp.reports.reports_jsp._jspService(org.apache.jsp.WEB_002dINF.jsp.reports.reports_jsp:85)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:373)",Blocker,Closed,Fixed,Teodoro Cue Jr.,tcue,Nap Ramirez,nramirez
MRM-314,Bug,2007-04-16T05:00:54.441Z,2007-04-16T05:00:54.441Z,2007-06-02T07:11:13.197Z,2007-06-02T07:11:13.197Z,2007-04-17T02:24:07.227Z,2007-04-17T02:24:07.227Z,Webapp tests are not working because of missing derby dependency,,Major,Closed,Duplicate,,,Maria Odea Ching,oching
MRM-393,Bug,2007-05-29T23:36:48.049Z,2007-05-29T23:36:48.049Z,2007-08-20T01:39:24.012Z,2007-08-20T01:39:24.012Z,2007-08-20T01:39:24.015Z,2007-08-20T01:39:24.015Z,Can't delete blacklist/whitelist pattern,"not sure if this only occurs when the form isn't complete - haven't tested other scenarios

1) add a proxy connector
2) don't fill in fields
3) add a blacklist pattern ""foo""
4) attempt to delete ""foo"" from blacklist pattern

EXPECTED: delete the blacklist pattern
ACTUAL: nothing happens

Same applies to whitelist",Critical,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-326,Bug,2007-05-08T07:13:29.669Z,2007-05-08T07:13:29.669Z,2007-07-25T05:25:12.487Z,2007-07-25T05:25:12.487Z,2007-07-23T20:08:02.52Z,2007-07-23T20:08:02.52Z,Adding/Editing repositories doesn't have validation,"To replicate:

A. Adding a repository
1. Click the Repositories link in the left navigation menu
2. Click the Add Repository link in the upper right part of the page
3. Enter invalid values in Identifier, Name, Directory or URL, empty Strings
4. Click the Add Repository button

Result: Repositories Administration page is displayed, no repository is added
Expected Result: Validation errors

B. Editing a repository
1. Click the Repositories link in the left navigation menu
2. Click the Edit Repository link in the same row as the repository's header
3. Enter invalid values in Name, Directory or URL, empty Strings and using default values for Type and Cron
4. Click the Update Repository button

Result: Repositories Administration page displayed, repository is updated
Expected Result: Validation errors
",Major,Closed,Fixed,Maria Odea Ching,oching,Nap Ramirez,nramirez
MRM-301,Improvement,2007-03-07T23:37:55.054Z,2007-03-07T23:37:55.054Z,2007-06-02T07:11:16.366Z,2007-06-02T07:11:16.366Z,2007-05-11T13:13:14.595Z,2007-05-11T13:13:14.595Z,Configuration page should display http proxy settings ,"When adding a proxied repository, there is a checkbox for 'Use HTTP Proxy'.  It's not obvious where to go to set up the proxy.

The Configuration -> Settings page only displays information about the index, it should also display the http proxy settings.

",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-1486,Bug,2011-08-02T20:56:37.181Z,2011-08-02T20:56:37.181Z,2014-12-22T18:40:48.229Z,2014-12-22T18:40:48.229Z,2014-12-22T18:40:48.127Z,2014-12-22T18:40:48.127Z,ldap.config.mapper.attribute.user.filter using ldap not working correctly with commas.,"Redback (i guess) security system replace in a wrong way the key user id in ldap.config.mapper.attribute.user.filter property.

Using ldap.config.mapper.attribute.user.filter=ismemberof=cn=apps.archiva,ou=group,dc=example,dc=com

Cases ldap query be like this:
(&(objectClass=<SOME_STRUCTURAL_OC>)(ismemberof=cn=apps.archiva(uid=admin))

The correct query, IMO, should be like this:
(&(objectClass=<SOME_STRUCTURAL_OC>)(ismemberof=cn=apps.archiva,ou=group,dc=example,dc=com)(uid=admin))',

as I specified before.

<SOME_STRUCTURA_OC> may be something like this: (objectClass=posixAccount), assembled using ldap.config.mapper.attribute.user.object.class property.
 
To solve (workarounding) the problem I had to hardcode all my ldap user mapping settings, in application.xml, like this:

<component>
  <role>org.codehaus.plexus.redback.common.ldap.UserMapper</role>
  <role-hint>ldap</role-hint>
  <implementation>org.codehaus.plexus.redback.common.ldap.LdapUserMapper</implementation>
  <configuration>
    <email-attribute>email</email-attribute>
    <full-name-attribute>cn</full-name-attribute>
    <password-attribute>userPassword</password-attribute>
    <user-id-attribute>uid</user-id-attribute>
    <user-base-dn>ou=people,dc=ampliato,dc=com,dc=br</user-base-dn>
    <user-object-class>posixAccount</user-object-class>
    <user-filter>(ismemberof=cn=apps.archiva,ou=group,dc=ampliato,dc=com,dc=br)</user-filter>
  </configuration>
  <requirements>
    <requirement>
      <role>org.codehaus.plexus.redback.configuration.UserConfiguration</role>
    </requirement>
  </requirements>
</component>

Thats another related link around the same problem:
http://jira.codehaus.org/browse/REDBACK-168

Solved, but It just doesn't fix the problem.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Bruno Simioni,brunosimioni
MRM-1451,Bug,2011-01-27T04:45:06.609Z,2011-01-27T04:45:06.609Z,2016-03-15T05:55:23.482Z,2016-03-15T05:55:23.482Z,2011-01-27T05:26:25.404Z,2011-01-27T05:26:25.404Z,NPE when merging through XMLRPC,"In line 532 and 537 of AdministrationServiceImpl, we're passing a null value for the metadataRepository which is why we're getting an NPE when merging.",Major,Closed,Fixed,jzurbano,jzurbano,Maria Catherine Tan,ctan
MRM-1474,Improvement,2011-05-19T06:42:26.36Z,2011-05-19T06:42:26.36Z,2011-05-19T06:43:33.316Z,2011-05-19T06:43:33.316Z,2011-05-19T06:43:33.298Z,2011-05-19T06:43:33.298Z,Paths in JavaScript on repository scanning page get remapped incorrectly in CollabNet's Lab Manager,"Though this is not a bug in Archiva, it is easily worked around without any negative effects.

When pages are rendered in Lab Manager, paths are rewritten (http://stage.help.collab.net/index.jsp?topic=/faq/cubit_siteadmin.html). However, this doesn't work (even in the aggressive setting) if the path is in JavaScript, which is the case in the Repository Scanning page.

The page could do with other improvements, however a quick workaround is to move the path into the function call (in <a onclick>) instead of the script.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1408,Bug,2010-07-27T02:50:12.946Z,2010-07-27T02:50:12.946Z,2011-03-29T09:59:38.263Z,2011-03-29T09:59:38.263Z,2010-08-08T02:57:53.516Z,2010-08-08T02:57:53.516Z,Message for successful merging should be shown as an info message instead of as a section heading,See attached screen shot.,Minor,Closed,Fixed,,,Maria Odea Ching,oching
MRM-1441,New Feature,2010-12-06T07:27:13.092Z,2010-12-06T07:27:13.092Z,2010-12-06T07:27:53.637Z,2010-12-06T07:27:53.637Z,2010-12-06T07:27:53.58Z,2010-12-06T07:27:53.58Z,monitor repository scanning progress,"currently it's hard to tell where a repository scanning task is up to. Even though the percentage completion may not be easy to estimate, we can assess how many files have already been processed.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1414,Bug,2010-08-03T19:43:36.595Z,2010-08-03T19:43:36.595Z,2011-10-27T15:27:42.322Z,2011-10-27T15:27:42.322Z,2011-10-27T15:27:42.252Z,2011-10-27T15:27:42.252Z,Archiva http proxy connector does not seem to work when authentication required by proxy,"The proxy connector I've setup does not grant me access to the outside world even though it should.

Steps to reproduce:
1.) Make sure you are behind a firewall that requires you to use a proxy server and make sure the proxy server requires authentication.
2.) Install Archiva 1.3.1
3.) Enter proxy credentials in the Network Proxies section of archiva admin interface.  E.G.
 Identifier  	schwabproxy
 Protocol 	http
 Host 	        someproxyserver.schwab.com
 Port 	        8080
 Username 	nicholas.grabowski@schwab.com
 Password 	????????
4.) Configure a proxy connector to use your Network Proxies configuration;
 Network Proxy:  schwabproxy
 Policies: 	
 releases 	once
 checksum 	fix
 snapshots 	never
 cache-failures 	yes
 White List: 	""**/*""
5.) Attempt to download an artifact hosted in the maven repo:
  http://localhost:8080/archiva/repository/internal/abbot/abbot/0.12.3/abbot-0.12.3.jar

Outcomes:
Archiva UI:
    HTTP ERROR 500

    Problem accessing /archiva/repository/internal/abbot/abbot/0.12.3/abbot-0.12.3.jar. Reason:

        Unable to fetch artifact resource.

archiva.log (with debug on):
2010-08-03 20:38:49,235 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [releases] policy with [once]
2010-08-03 20:38:49,235 [btpool0-3] DEBUG org.apache.maven.archiva.policies.AbstractUpdatePolicy  - OK to update releases, local file does not exist.
2010-08-03 20:38:49,235 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [snapshots] policy with [never]
2010-08-03 20:38:49,235 [btpool0-3] DEBUG org.apache.maven.archiva.policies.AbstractUpdatePolicy  - OK to update, snapshot policy does not apply for non-snapshot versions.
2010-08-03 20:38:49,235 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [cache-failures] policy with [yes]
2010-08-03 20:38:49,235 [btpool0-3] DEBUG org.apache.maven.archiva.policies.CachedFailuresPolicy  - OK to fetch, check-failures detected no issues.
2010-08-03 20:38:49,251 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Using network proxy myproxy.mycompany.com:8080 to connect to remote repository http://repo1.maven.org/maven2; as user: someusername@schwab.com
2010-08-03 20:38:49,254 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving abbot/abbot/0.12.3/abbot-0.12.3.pom from Central Repository
2010-08-03 20:38:50,469 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [propagate-errors] policy with [queue error]
2010-08-03 20:38:50,469 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [propagate-errors-on-update] policy with [artifact not already present]
2010-08-03 20:38:50,470 [btpool0-3] WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""central"" for artifact abbot:abbot:0.12.3::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/abbot/abbot/0.12.3/abbot-0.12.3.pom]:Error transferring file: Server redirected too many  times (20) (cause: java.net.ProtocolException: Server redirected too many  times (20))
2010-08-03 20:38:50,471 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Full stack trace
org.apache.maven.archiva.proxy.ProxyException: Download failure on resource [http://repo1.maven.org/maven2/abbot/abbot/0.12.3/abbot-0.12.3.pom]:Error transferring file: Server redirected too many  times (20) (cause: java.net.ProtocolException: Server redirected too many  times (20))
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:734)
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:502)
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:166)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.applyServerSideRelocation(ArchivaDavResourceFactory.java:670)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:621)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepository(ArchivaDavResourceFactory.java:456)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:246)
    at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:416)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
    at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
    at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
    at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Server redirected too many  times (20)
    at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)
    at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)
    at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)
    at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:696)
    ... 35 more
Caused by: java.net.ProtocolException: Server redirected too many  times (20)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
    at sun.net.www.protocol.http.HttpURLConnection$6.run(HttpURLConnection.java:1368)
    at java.security.AccessController.doPrivileged(Native Method)
    at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1362)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1016)
    at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:122)
    ... 39 more
Caused by: java.net.ProtocolException: Server redirected too many  times (20)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1323)
    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:373)
    at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)
    ... 39 more
2010-08-03 20:38:50,472 [btpool0-3] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Path [abbot/abbot/0.12.3/abbot-0.12.3.pom] is not part of defined whitelist (skipping transfer from repository [Java.net Repository for Maven 2]).
2010-08-03 20:38:50,472 [btpool0-3] ERROR org.apache.maven.archiva.webdav.ArchivaDavResourceFactory  - Failures occurred downloading from some remote repositories:
    central: Download failure on resource [http://repo1.maven.org/maven2/abbot/abbot/0.12.3/abbot-0.12.3.pom]:Error transferring file: Server redirected too many  times (20) (cause: java.net.ProtocolException: Server redirected too many  times (20))
org.apache.maven.archiva.policies.ProxyDownloadException: Failures occurred downloading from some remote repositories:
    central: Download failure on resource [http://repo1.maven.org/maven2/abbot/abbot/0.12.3/abbot-0.12.3.pom]:Error transferring file: Server redirected too many  times (20) (cause: java.net.ProtocolException: Server redirected too many  times (20))
    at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:195)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.applyServerSideRelocation(ArchivaDavResourceFactory.java:670)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:621)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepository(ArchivaDavResourceFactory.java:456)
    at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:246)
    at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:416)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
    at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
    at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
    at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Nicholas Grabowski,nicholas.grabowski@schwab.com
MRM-1409,New Feature,2010-07-27T03:14:46.831Z,2010-07-27T03:14:46.831Z,2016-03-15T05:55:23.634Z,2016-03-15T05:55:23.634Z,2010-09-30T22:50:54.918Z,2010-09-30T22:50:54.918Z,Web services for repository merging or artifact promotion,I think CRUD for managed repositories should be a pre-requisite of this.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1434,Bug,2010-11-26T19:09:46.446Z,2010-11-26T19:09:46.446Z,2014-08-07T23:42:25.061Z,2014-08-07T23:42:25.061Z,,,Suspicious  RepositoryMetadataMerge.clonePlugins,"The method RepositoryMetadataMerge.clonePlugins seems oddly wrong to me, it clones a plugin, but then doesn't use the clone, but uses the original

private static List<Plugin> clonePlugins(List<Plugin> plugins)
    {
        if (plugins == null)
        {
            return null;
        }
        
        List<Plugin> result = new ArrayList<Plugin>();
        
        for (Plugin plugin : plugins)
        {
            Plugin clonedPlugin = new Plugin();
            clonedPlugin.setArtifactId(plugin.getArtifactId());
            clonedPlugin.setName(plugin.getName());
            clonedPlugin.setPrefix(plugin.getPrefix());
            result.add(plugin);                                                                                     <======= should this be clonedPlugin ?
        }
        
        return result;
    }",Minor,Open,,Maria Odea Ching,oching,Dave Brosius,dbrosius
MRM-1460,Task,2011-03-11T22:59:50.918Z,2011-03-11T22:59:50.918Z,2011-05-11T23:44:53.146Z,2011-05-11T23:44:53.146Z,2011-05-11T23:44:52.966Z,2011-05-11T23:44:52.966Z,Upgrade Archiva to Redback 1.2.8,Related Redback issues: REDBACK-274 and REDBACK-276,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1482,New Feature,2011-07-22T16:36:23.28Z,2011-07-22T16:36:23.28Z,2011-08-22T11:30:04.066Z,2011-08-22T11:30:04.066Z,,,Exsiting Network Location Access for JAR files,"Hi,

I have one quick Question for you guys. 

I am having one issue to adopt Archiva and Maven. My company needs following features available with Archiva. I am trying to force my company to choose Archiva but they have one critical question for you guys. 


My company is looking for a tool, Which can provide existing network path location as Maven Local Repository. Example is as followed. 

Existing network Path : 

C:\networkfolder\ErrorLogging\1.0\Java\ErrorLogClient.jar

And my MAVEN repository should show-up path something like this. 

http://localhost:8080/archiva/browse/ErrorLogClient/ErrorLogClient/1.0/ErrorClient-1.0.jar

Is there any work around for this, That Archiva can provide me ? 

The company has more then 100 products which is using something like this so we have to start with only 1 project for now. And for that there are so many dependency with each projects so we can't create a new network location and where we point as a MAVEN repository so i am looking for something which can provide me to use existing network path which actually has different kind of directory structure which is archiva is expecting at this moment. 

Can you please reply me as soon as possible. AS i need to figure it out can i choose Archiva for this or not ? 

Let me know if you are confused or not clear with my requirement. 

Thanks,
Daivish. 





",Critical,Open,,,,daivish shah,daivish
MRM-1457,Bug,2011-02-22T02:25:53.951Z,2011-02-22T02:25:53.951Z,2011-05-06T02:41:25.421Z,2011-05-06T02:41:25.421Z,2011-05-06T02:41:25.383Z,2011-05-06T02:41:25.383Z,Cpu usage 100%,"we use Archiva and we have problems with our cpu usage.
If i restart archiva everything is running fine. After 3-6 hours the
java process of archiva use 100% of the cpu from one to the next
moment. We had this problem on Archiva 1.3.1 and 1.3.3. On Archiva
1.3.1 it came after the 3-5 times where the db artefacts were updated.
The snapshot repository need 12 minutes. I deleted some snapshots.
Lasst week we updated it to 1.3.3 and now i can't find something
important on log. On the last 100% usage problem i got a message from
nagios the usage of cpu is critcal at 7:43 o'clock, but in the log i
found only this messages.

At the moment archiva 1.3.4 is installed.


> Am 21.02.2011 17:27, schrieb Brent Atkinson:
> >> The screen with the red
> >> bar at 99%, you need to select the thread and expand the bottom window. It
> >> should show the stack trace which will give us the location in the code
> >> where the cpu time is being consumed.

> > Hi,
> > i added 3 screenshots.
> > Now 2 threads use many cpu.
> > 
> > Jconsole-stack-trace.png and Jconsole-stack-trace1.png is from btpool0-6
> > and Jconsole-stack-trace2.png from btpool0-9.
",Critical,Closed,Fixed,Maria Odea Ching,oching,Benjamin Knoth,knoth
MRM-1484,Improvement,2011-08-01T21:01:58.342Z,2011-08-01T21:01:58.342Z,2016-03-15T05:55:22.853Z,2016-03-15T05:55:22.853Z,2011-08-01T21:36:43.628Z,2011-08-01T21:36:43.628Z,Upgrade Atlassian XMLRPC Binder to 0.11,There a fix for multi-threading issue in Apache XMLRPC 3.1.1 ([XMLRPC-150|https://issues.apache.org/jira/browse/XMLRPC-150]). Version 0.11 of Atlassian XMLRPC Binder uses Apache XMLRPC 3.1.2. ,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1404,Bug,2010-07-27T00:59:01.402Z,2010-07-27T00:59:01.402Z,2011-03-29T09:59:36.282Z,2011-03-29T09:59:36.282Z,2010-08-01T00:22:30.068Z,2010-08-01T00:22:30.068Z,Staging repo is not deleted when the managed repo it is attached to was removed,"To reproduce:
# Create a managed repository and tick Create stage repository. The managed repo and a corresponding stage repo should be created in the file system.
# Delete the managed repository created in the previous step. Make sure to choose Delete Configuration and Contents. The managed repo would be removed in the file system but its attached staging repo is not.
",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1466,Bug,2011-03-30T07:57:54.014Z,2011-03-30T07:57:54.014Z,2011-05-20T01:00:48.278Z,2011-05-20T01:00:48.278Z,2011-05-20T01:00:48.233Z,2011-05-20T01:00:48.233Z,"LDAP authentication forces ""Change Password"" even upon authentication success","I have a split configuration and for the life of me cannot figure out why Archiva is prompting users to change their passwords upon successful login.  I have set security.policy.password.expiration.enabled=false to no avail.  I have made this change in the split conf area as well as in the security.properties AND security_en.properties under the .../WEB-INF/... area.  Nothing seems to work.  The other values in the security.properties get picked up fine, so I can only assume this is a bug.

Please let me know what additional information would be useful.",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Adam Chandler,ez2cwhy
MRM-1478,Improvement,2011-06-08T03:45:21.017Z,2011-06-08T03:45:21.017Z,2011-06-28T17:19:47.801Z,2011-06-28T17:19:47.801Z,2011-06-28T17:19:47.628Z,2011-06-28T17:19:47.628Z,Enable DB caching,"Second level JDO caching should be enabled to prevent thousands of SQL queries just to login
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Catherine Tan,ctan
MRM-1405,Improvement,2010-07-27T01:04:36.308Z,2010-07-27T01:04:36.308Z,2011-03-29T09:59:36.112Z,2011-03-29T09:59:36.112Z,2010-08-15T20:16:49.911Z,2010-08-15T20:16:49.911Z,Do not show the artifact and its pom as separate items in the conflicting artifacts page when merging repos ,"See attached screenshot. The artifact should only be listed as one, maybe in a namespace:project:project-version format?

This affects MRM-980 branch. ",Major,Closed,Fixed,,,Maria Odea Ching,oching
MRM-1463,Improvement,2011-03-28T08:01:58.536Z,2011-03-28T08:01:58.536Z,2015-04-05T14:54:04.932Z,2015-04-05T14:54:04.932Z,2011-05-12T05:00:07.539Z,2011-05-12T05:00:07.539Z,Better Layout for Artifact Download Box,"The download box in Archiva behaves not well regarding following conerns:
* box is too small, in any case with our namin conventions where artifacts may have up to 20 characters
* size is display in raw byte value, which is more confusion than useful when sizes become bigger
* when several artifacts for a given version, only distinguished by classifier, are deployed in repository, not clear hint is display to recognized them

I tried to improve this issues with folloowing changes:
* enlarged box to 280px (CSS and images)
* display size in KB, MB, GB depending on effektive size
* added classifier next to type when available

Hope this path may be use fule for Archiva team and would be applied for one of the next maintenance releases.",Major,Closed,Fixed,Maria Odea Ching,oching,Lucien Weller,lucien@wellernet.ch
MRM-1477,Bug,2011-05-26T09:14:39.215Z,2011-05-26T09:14:39.215Z,2014-08-07T23:20:29.026Z,2014-08-07T23:20:29.026Z,,,maven-metadata.xml is not generated or updated ,"I just upgraded from 1.3.1 to 1.3.4 when this problem started to occur. Before archiva would generate the maven-metadata.xml through the web interface and using the ant task from ivy. Now neither generate the maven-metadata.xml file.

I also tried the repository scanner would to create the maven-metadata.xml, but it does not either (metadata-updater is enabled).

",Major,Open,,,,notzippy,notzippy
MRM-1480,Improvement,2011-07-19T17:55:52.726Z,2011-07-19T17:55:52.726Z,2016-03-15T05:55:21.911Z,2016-03-15T05:55:21.911Z,,,Ability to do user management through xmlrpc,Redback already has an xmlrpc api we just need to expose them in Archiva,Major,Open,,,,Maria Catherine Tan,ctan
MRM-1422,Improvement,2010-09-24T15:54:34.608Z,2010-09-24T15:54:34.608Z,2016-03-15T11:26:05.246Z,2016-03-15T11:26:05.246Z,2016-03-15T11:26:05.224Z,2016-03-15T11:26:05.224Z,Slow proxy behavior with multiple proxies configured,"I am seeing an issue with the remote proxying code that looks like it can cause a significant amount of unnecessary network traffic if multiple remote proxies have been configured.

Here is an example of what is happening (after enabling logging in org.apache.maven.archiva.proxy package):

DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving org/apache/maven/shared/maven-shared-io/1.1/maven-shared-io-1.1.pom from Central Repository if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.shared:maven-shared-io:1.1::pom not updated on repository ""central"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Path [org/apache/maven/shared/maven-shared-io/1.1/maven-shared-io-1.1.pom] is not part of defined whitelist (skipping transfer from repository [Java.net Repository for Maven 2]).
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving org/apache/maven/shared/maven-shared-io/1.1/maven-shared-io-1.1.pom from neo4j-public-repository if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.shared:maven-shared-io:1.1::pom not found on repository ""neo4j"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving org/apache/maven/shared/maven-shared-io/1.1/maven-shared-io-1.1.pom from JBoss if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.shared:maven-shared-io:1.1::pom not found on repository ""jboss"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving org/apache/maven/shared/maven-shared-io/1.1/maven-shared-io-1.1.pom from Codehaus Repository if updated
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Artifact org.apache.maven.shared:maven-shared-io:1.1::pom not found on repository ""codehaus"".
DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Exhausted all target repositories, artifact org.apache.maven.shared:maven-shared-io:1.1::pom not found.

From the logs it appears that the first proxy repository returned that the resource is not out of date and exists on disk. However, this doesn't cause Archiva to stop looking for the repository - instead it looks for the ""found"" resource in all of the other repositories.

The code in question is the loop in fetchFromProxies in DefaultRepositoryProxyConnectors.java. I think it should return immediately after finding that the resource hasn't been modified on the first proxy it finds (when catching NotModifiedException).",Major,Closed,Fixed,,,Philip K. Warren,pkwarren
MRM-1492,New Feature,2011-08-08T02:52:19.717Z,2011-08-08T02:52:19.717Z,2017-04-05T19:25:54.826Z,2017-04-05T19:25:54.826Z,,,Basic plugin subsystem,,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1456,Bug,2011-02-04T04:01:04.121Z,2011-02-04T04:01:04.121Z,2014-02-25T19:32:10.292Z,2014-02-25T19:32:10.292Z,2014-02-25T19:32:10.243Z,2014-02-25T19:32:10.243Z,"Repository Purge : Error : Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.","Hi,
We were using Archiva 1.3 and the snapshots were not getting purged due to the Layout exception.
Recently we upgraded to 1.3.3 and even then the repository purge is not happening due to the following error:

Can you help us out here? Its really a tough task to clean the repository without this purge option.

The configuration and the error message are as follows:

Configuration:
Identifier snapshots
Name Testing
Directory /u/xxx/.m2/repository
WebDAV URL http://xxx/archiva/repository/snapshots/
Type Maven 2.x Repository
Releases Included
Snapshots Included
Delete Released Snapshots
Repository Purge By Days Older Than 1
Repository Purge By Retention Count 2
Scanned
Scanning Cron 0 9 * * * ?

Error message :2011-02-03 01:06:18,598 [pool-2-thread-1] INFO org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer - Not processing path that is not an artifact: abc/def/SNAPSHOT/def-20110130.110618-652.jar (Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.)

Thanks,
Gayathri
",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Gayathri Muralidharan,gayathri
MRM-1481,Improvement,2011-07-19T17:55:56.049Z,2011-07-19T17:55:56.049Z,2016-03-15T05:55:22.222Z,2016-03-15T05:55:22.222Z,2011-08-10T14:18:26.049Z,2011-08-10T14:18:26.049Z,Ability to do user management through xmlrpc,Redback already has an xmlrpc api we just need to expose them in Archiva,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Catherine Tan,ctan
MRM-1462,Bug,2011-03-24T19:51:44.835Z,2011-03-24T19:51:44.835Z,2011-04-07T22:50:48.019Z,2011-04-07T22:50:48.019Z,2011-04-07T22:50:47.778Z,2011-04-07T22:50:47.778Z,"DB error during ""Database - Unprocessed Artifacts Scanning""","see error in the archiva.log everytime it executes ""Database - Unprocessed Artifacts Scanning"", can this error be ignored?",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,apache maillist,apache.maillist
MRM-1442,New Feature,2010-12-06T09:33:50.196Z,2010-12-06T09:33:50.196Z,2010-12-06T09:58:15.55Z,2010-12-06T09:58:15.55Z,2010-12-06T09:58:15.496Z,2010-12-06T09:58:15.496Z,"track time spent in each consumer during a scan, to help diagnose poor scanning performance",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1425,Improvement,2010-10-07T22:44:14.972Z,2010-10-07T22:44:14.972Z,2011-11-22T07:22:27.208Z,2011-11-22T07:22:27.208Z,2011-11-22T07:22:27.096Z,2011-11-22T07:22:27.096Z,Add Implementation details to MANIFEST.MF in the produced war,"Could we please add the implementation information, derived from the pom into the manifest.mf file?

Specifically, I'm looking for: Implementation-Version. This allows my deployment scripts to determine the version being installed.

",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Graham,ChrisGWarp
MRM-1455,Task,2011-02-01T07:34:03.627Z,2011-02-01T07:34:03.627Z,2011-02-01T09:30:26.191Z,2011-02-01T09:30:26.191Z,2011-02-01T09:30:26.103Z,2011-02-01T09:30:26.103Z,upgrade to Redback 1.2.6,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1467,Bug,2011-03-31T10:27:42.986Z,2011-03-31T10:27:42.986Z,2011-05-16T00:49:15.423Z,2011-05-16T00:49:15.423Z,2011-05-16T00:30:59.952Z,2011-05-16T00:30:59.952Z,Archiva does not start up on Solaris 64-bit.,"Attempting to launch causes causes error:
$ ./apache-archiva-1.3.4/bin/archiva console

Bad string
Bad string
Bad string
Bad string
Unable to locate any of the following binaries:
  /export/home/astine/apache-archiva-1.3.4/bin/./wrapper---32
  /export/home/astine/apache-archiva-1.3.4/bin/./wrapper---64
  /export/home/astine/apache-archiva-1.3.4/bin/./wrapper


necessary files appear to be missing or misnamed.",Blocker,Closed,Fixed,Maria Odea Ching,oching,Andrew Stine,astine
MRM-1428,Bug,2010-11-16T07:39:52.852Z,2010-11-16T07:39:52.852Z,2014-02-25T19:31:48.865Z,2014-02-25T19:31:48.865Z,2014-02-25T19:31:47.524Z,2014-02-25T19:31:47.524Z,After some time running fails to handle any request --- returns 500 ,"I have no idea whether its a redback or archiva issue. 

I'll be happy do debug it. Just tell me what do you need. 

javax.servlet.ServletException: org.codehaus.plexus.redback.users.UserManagerException: Unable to get object 'org.codehaus.plexus.redback.users.jdo.JdoUser', id 'guest', fetch-group 'null' from jdo store.
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:515)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:422)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)

root cause

org.codehaus.plexus.redback.users.UserManagerException: Unable to get object 'org.codehaus.plexus.redback.users.jdo.JdoUser', id 'guest', fetch-group 'null' from jdo store.
	org.codehaus.plexus.redback.users.jdo.JdoUserManager.getObjectById(JdoUserManager.java:417)
	org.codehaus.plexus.redback.users.jdo.JdoUserManager.findUser(JdoUserManager.java:339)
	org.codehaus.plexus.redback.users.AbstractUserManager.getGuestUser(AbstractUserManager.java:114)
	org.codehaus.plexus.redback.users.cached.CachedUserManager.getGuestUser(CachedUserManager.java:148)
	org.codehaus.plexus.redback.users.cached.CachedUserManager.findUser(CachedUserManager.java:122)
	org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.findUser(ConfigurableUserManager.java:115)
	org.apache.maven.archiva.security.DefaultUserRepositories.createSession(DefaultUserRepositories.java:118)
	org.apache.maven.archiva.security.DefaultUserRepositories.getAccessibleRepositoryIds(DefaultUserRepositories.java:84)
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIds(DefaultUserRepositories.java:70)
	org.apache.maven.archiva.web.action.SearchAction.getObservableRepos(SearchAction.java:402)
	org.apache.maven.archiva.web.action.SearchAction.prepare(SearchAction.java:153)
	com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:118)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:167)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:422)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)
	org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
",Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Jacek Bzdak,jbzdak
MRM-1496,Bug,2011-08-08T09:25:17.71Z,2011-08-08T09:25:17.71Z,2011-09-30T04:46:20.319Z,2011-09-30T04:46:20.319Z,2011-09-30T04:46:20.259Z,2011-09-30T04:46:20.259Z,Broken remote repository confuses Archiva,"I used to have this repository in archiva:

ODF Release Repository
Identifier 	odf-snapshots
Name 	ODF Release Repository
URL 	http://odftoolkit.org/svn/odfdom~maven2/release/
Type 	Maven 2.x Repository

Since today (when i started using archiva, though) my third-party repository looks like this for ""jersey-server"":

-rw-r--r-- 1 archiva archiva 291  8. Aug 15:00 jersey-server-1.8.pom
-rw-r--r-- 1 archiva archiva  63  8. Aug 15:00 jersey-server-1.8.pom.sha1
-rw-r--r-- 1 archiva archiva  55  8. Aug 15:00 jersey-server-1.8.pom.md5
-rw-r--r-- 1 archiva archiva 291  8. Aug 15:00 jersey-server-1.8.jar
-rw-r--r-- 1 archiva archiva  63  8. Aug 15:00 jersey-server-1.8.jar.sha1
-rw-r--r-- 1 archiva archiva  55  8. Aug 15:00 jersey-server-1.8.jar.md5

Both jar and pom look the same:

admin@archiva:/data/archiva/data/repositories/third-party/com/sun/jersey/jersey-server/1.8$ cat jersey-server-1.8.pom
<!DOCTYPE HTML PUBLIC ""-//IETF//DTD HTML 2.0//EN"">
<html><head>
<title>302 Found</title>
</head><body>
<h1>Found</h1>
<p>The document has moved <a href=""https://svn.odftoolkit.org/svn/odfdom~maven2/release/com/sun/jersey/jersey-server/1.8/jersey-server-1.8.pom"">here</a>.</p>
</body></html>
<!DOCTYPE HTML PUBLIC ""-//IETF//DTD HTML 2.0//EN"">
<html><head>
admin@archiva:/data/archiva/data/repositories/third-party/com/sun/jersey/jersey-server/1.8$ cat jersey-server-1.8.jar
<title>302 Found</title>
</head><body>
<h1>Found</h1>
<p>The document has moved <a href=""https://svn.odftoolkit.org/svn/odfdom~maven2/release/com/sun/jersey/jersey-server/1.8/jersey-server-1.8.jar"">here</a>.</p>
</body></html>

This is weird. Why Archiva even consider this? 

When i call by browser:

- http://svn.odftoolkit.org/svn/odfdom~maven2/release/com/sun/jersey/jersey-server/1.8/jersey-server-1.8.jar

I get a 302 redirect to: 

- https://svn.odftoolkit.org/svn/odfdom~maven2/release/com/sun/jersey/jersey-server/1.8/jersey-server-1.8.jar

Which then result in a proper 404.

Is it possible, that Archiva does not consider redirects or it considers a 302 with a body as a proper object?

In any way, i ended up now with lots of broken artifacts in my third-party repository :-(",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olaf Krische,public@ecopatz.de
MRM-1412,Bug,2010-07-28T21:48:48.421Z,2010-07-28T21:48:48.421Z,2011-09-12T10:10:45.897Z,2011-09-12T10:10:45.897Z,2011-09-12T10:06:17.167Z,2011-09-12T10:06:17.167Z,'Property xmlns cannot be set!' error during startup when using with IBM JDK,"Below is the stack trace provided by jieryn-w:

{code}
2010-07-28 22:21:26,539 [WrapperSimpleAppMain] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory  - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5f0e5f0e: defining beans [registry#commons-configuration,jdoFactory#archiva,jdoFactory#users,loggerManager,environmentCheck#locked-admin-check,action#disableProxyConnectorAction,action#sortProxyConnectorsAction,action#searchAction,resolverFactoryInit,component#download-artifact,action#deleteLegacyArtifactPathAction,action#browseAction,action#uploadAction,action#legacyArtifactPathAction,action#addLegacyArtifactPathAction,action#sortRepositoriesAction,action#addProxyConnectorAction,securitySynchronization,action#configureNetworkProxyAction,action#editProxyConnectorAction,action#repositoriesAction,interceptor#configurationInterceptor,action#editRemoteRepositoryAction,action#showArtifactAction,action#editManagedRepositoryAction,action#deleteManagedRepositoryAction,action#addRemoteRepositoryAction,action#repositoryScanningAction,action#deleteArtifactAction,action#networkProxiesAction,action#generateReport,action#proxyConnectorsAction,action#schedulerAction,action#organisationInfo,action#addManagedRepositoryAction,action#deleteRemoteRepositoryAction,action#viewAuditLogReport,action#editOrganisationInfo,action#enableProxyConnectorAction,dependencyTree,action#deleteProxyConnectorAction,action#databaseAction,action#repositoryGroupsAction,action#deleteRepositoryGroupAction,archetypeDataSource#nexus,nexusIndexer,indexCreator#min,indexCreator#jarContent,indexPacker,queryCreator,scanner,artifactContextProducer,searchEngine,indexerEngine,indexTreeView,indexUpdater,incrementalHandler,gavCalculator#maven2,gavCalculator#maven1,nexusEnforcer,velocityComponent,cache#keys,projectModelResolver#database,repositoryContentStatisticsDAO#jdo,archivaAuditLogsDao#jdo,projectModelDAO#jdo,artifactDAO#jdo,jdoAccess#archiva,repositoryProblemDAO#jdo,databaseUpdater#jdo,archivaDAO#jdo,repositoryBrowsing,projectModelResolutionListener#model-to-db,repositoryListener#database,dependencyGraphBuilder#project-model,taskQueue#database-update,taskQueueExecutor#database-update,taskQueue#repository-scanning,taskQueueExecutor#repository-scanning,taskExecutor#indexing,taskExecutor#repository-scanning,taskExecutor#database-update,archivaTaskScheduler,taskQueue#indexing,taskQueueExecutor#indexing,cache#url-failures-cache,preDownloadPolicy#releases,postDownloadPolicy#checksum,preDownloadPolicy#snapshots,downloadErrorPolicy#propagate-errors-on-update,preDownloadPolicy#cache-failures,downloadErrorPolicy#propagate-errors,archivaArtifactConsumer#duplicate-artifacts,dynamicReportSource#old-snapshots,dynamicReportSource#duplicate-artifacts,archivaArtifactConsumer#validate-artifacts-location,dynamicReportSource#artifact-location,dynamicReportSource#old-artifacts,knownRepositoryContentConsumer#auto-remove,knownRepositoryContentConsumer#metadata-updater,knownRepositoryContentConsumer#repository-purge,knownRepositoryContentConsumer#validate-checksum,knownRepositoryContentConsumer#auto-rename,reportingManager,repositoryStatisticsReportGenerator#simple,wagonManager,repositoryMetadataManager,artifactTransformation#snapshot,artifactTransformation#release,artifactTransformation#latest,artifactTransformationManager,artifactResolver,artifactInstaller,artifactDeployer,artifactRepositoryFactory,repositoryMetadataBuilder,cache#operations,cache#permissions,cache#resources,cache#roles,cache#effectiveRoleSet,cache#userAssignments,cache#userPermissions,wagon#file,interceptor#redbackEnvironmentCheckInterceptor,actionInvocationTracker#simple,action#redback-admin-user-edit,action#redback-role-create,action#redback-admin-user-delete,interceptor#redbackPolicyEnforcementInterceptor,action#redback-role-edit,action#redback-admin-console,action#redback-report,action#redback-role-model,action#redback-sysinfo,action#redback-account,action#redback-operations,interceptor#redbackAutoLoginInterceptor,result#securityExternalResult,action#redback-password-reset,action#redback-login,action#redback-admin-user-create,interceptor#redbackForceAdminUserInterceptor,action#redback-roles,action#redback-admin-user-list,interceptor#redbackSecureActionInterceptor,action#redback-resources,action#redback-admin-account,action#redback-permissions,action#backup-restore,environmentCheck#ExpectedStandardWebXworkActions,action#redback-logout,action#redback-assignments,action#redback-register,action#redback-redirect,action#redback-password,userSecurityPolicy,repositoryProxyConnectors,wagon#https,wagon#http,rssFeedProcessor#new-artifacts,rssFeedProcessor#new-versions,rssFeedGenerator,artifactRepositoryLayout,artifactRepositoryLayout#legacy,artifactHandlerManager,artifactHandler#ejb,artifactHandler#jar,artifactHandler#test-jar,artifactHandler#maven-plugin,artifactHandler#pom,artifactHandler#java-source,artifactHandler#javadoc,artifactHandler#war,artifactHandler#ear,artifactHandler#ejb-client,artifactHandler#rar,artifactHandler#par,artifactHandler#ejb3,artifactFactory,artifactCollector,cache#users,cache#effective-project-cache,repositoryScanner,metadataTools,projectModelFilter#expression,managedRepositoryContent,auditListener#logging,repositoryContentFactory,managedRepositoryContent#legacy,remoteRepositoryContent,projectModelFilter#effective,repositoryRequest,projectModelResolverFactory,pathParser#legacy,remoteRepositoryContent#legacy,cache#ehcache,scheduler,mimeTypes,archivaDavResourceFactory,nexusIndexer#archiva,cacheBuilder,userRepositories,environmentCheck#required-roles,servletAuthenticator,archivaConfiguration,fileTypes,checksumFile,digester#sha1,streamingDigester#sha1,streamingDigester#md5,digester#md5,databaseCleanupConsumer#not-present-remove-db-project,databaseUnprocessedArtifactConsumer#update-db-project,databaseCleanupConsumer#not-present-remove-db-artifact,knownRepositoryContentConsumer#update-db-artifact,oldArchetype,archetypeFilesResolver,pomManager,archetypeArtifactManager,archetypeRegistryManager,repositoryCrawler,filesetArchetypeGenerator,archetypeGenerator,archetypeDataSource#remote-catalog,archetypeDataSource#catalog,archetypeDataSource#internal-catalog,archetype,archetypeCreator#fileset,downloader,expressionSource#properties,expressionSource#sysprops,expressionEvaluator,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,authenticationDataSource#token,authenticationDataSource#password,authenticationManager,authenticator#keystore,authenticator#user-manager,authenticator#ldap,keyManager#cached,databaseConsumers,ldapConnectionFactory#configurable,userMapper#ldap,indexerConsumer,indexCleanupConsumer,urlFailureCache,artifactMissingChecksumsConsumer,userConfiguration,dataManagementTool#jdo,keyManager#jdo,rBACManager#cached,rBACManager#jdo,jdoTool,wagonFactory,roleManager,roleModelValidator,roleTemplateProcessor,roleModelProcessor,userManager#cached,repositoryContentConsumers,securitySystem,userManager#configurable,userValidationSettings,passwordEncoder#sha1,passwordEncoder#plaintext,passwordEncoder#sha256,cookieSettings#rememberMe,cookieSettings#signon,passwordRule#no-whitespaces,passwordRule#alpha-count,passwordRule#alpha-numeric,passwordRule#character-length,passwordRule#reuse,passwordRule#numerical-count,passwordRule#must-have,authorizer#rbac,permissionEvaluator,nexusSearch,userManager#ldap,defaultLdapController,userManager#jdo,httpAuthenticator#basic,httpClientHeader,httpAuthenticator#digest,report#rolesmatrix-csv,reportManager,report#userlist-csv,autoLoginCookies,environmentCheck#guest-user-check,environmentCheck#ExpectedJsps,mailGenerator#velocity,mailer,propertyPlaceholder,xmlRpcUserRepositories,pingService,searchService,administrationService,xmlrpcServicesList,xmlRpcAuthenticator,mailSession,mailSender]; root of factory hierarchy
2010-07-28 22:21:26,541 [WrapperSimpleAppMain] ERROR org.springframework.web.context.ContextLoader  - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'nexusSearch' defined in URL [jar:file:/home/jesse/Downloads/apache-archiva-1.3.1/apps/archiva/WEB-INF/lib/archiva-indexer-1.3.1.jar!/META-INF/spring-context.xml]: Cannot resolve reference to bean 'archivaConfiguration' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaConfiguration': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'registry#commons-configuration': Post-processing of the FactoryBean's object failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to invoke plexus lifecycle Initializable.initialize on registry#commons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException: org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:275)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:104)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:495)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
	at java.security.AccessController.doPrivileged(AccessController.java:224)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1239)
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:466)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:224)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:985)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:600)
	at org.mortbay.start.Main.invokeMain(Main.java:194)
	at org.mortbay.start.Main.start(Main.java:534)
	at org.mortbay.start.Main.start(Main.java:441)
	at org.mortbay.start.Main.main(Main.java:119)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:600)
	at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
	at java.lang.Thread.run(Thread.java:736)
Caused by: 
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaConfiguration': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'registry#commons-configuration': Post-processing of the FactoryBean's object failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to invoke plexus lifecycle Initializable.initialize on registry#commons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException: org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:127)
	at java.security.AccessController.doPrivileged(AccessController.java:224)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:269)
	... 49 more
Caused by: 
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'registry#commons-configuration': Post-processing of the FactoryBean's object failed; nested exception is org.springframework.beans.factory.BeanInitializationException: Failed to invoke plexus lifecycle Initializable.initialize on registry#commons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException: org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:142)
	at java.security.AccessController.doPrivileged(AccessController.java:224)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirement(PlexusComponentFactoryBean.java:246)
	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstance(PlexusComponentFactoryBean.java:163)
	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObject(PlexusComponentFactoryBean.java:108)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:121)
	... 57 more
Caused by: 
org.springframework.beans.factory.BeanInitializationException: Failed to invoke plexus lifecycle Initializable.initialize on registry#commons-configuration; nested exception is org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException: org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1429)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:139)
	... 68 more
Caused by: 
org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializationException: org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.initialize(CommonsConfigurationRegistry.java:388)
	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:217)
	... 71 more
Caused by: 
org.apache.commons.configuration.ConfigurationException: org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:614)
	at org.apache.commons.configuration.DefaultConfigurationBuilder.initCombinedConfiguration(DefaultConfigurationBuilder.java:554)
	at org.apache.commons.configuration.DefaultConfigurationBuilder.getConfiguration(DefaultConfigurationBuilder.java:486)
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.initialize(CommonsConfigurationRegistry.java:374)
	... 72 more
Caused by: 
org.apache.commons.configuration.ConfigurationRuntimeException: org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:248)
	at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:265)
	at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:279)
	at org.apache.commons.configuration.DefaultConfigurationBuilder.createConfigurationAt(DefaultConfigurationBuilder.java:609)
	... 75 more
Caused by: 
org.apache.commons.configuration.ConfigurationRuntimeException: Property xmlns cannot be set!
	at org.apache.commons.configuration.beanutils.BeanHelper.initProperty(BeanHelper.java:195)
	at org.apache.commons.configuration.beanutils.BeanHelper.initBean(BeanHelper.java:165)
	at org.apache.commons.configuration.beanutils.DefaultBeanFactory.initBeanInstance(DefaultBeanFactory.java:106)
	at org.apache.commons.configuration.beanutils.DefaultBeanFactory.createBean(DefaultBeanFactory.java:62)
	at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationProvider.getConfiguration(DefaultConfigurationBuilder.java:697)
	at org.apache.commons.configuration.DefaultConfigurationBuilder$ConfigurationBeanFactory.createBean(DefaultConfigurationBuilder.java:872)
	at org.apache.commons.configuration.beanutils.BeanHelper.createBean(BeanHelper.java:243)
	... 78 more
{code}",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1430,Improvement,2010-11-25T16:21:19.605Z,2010-11-25T16:21:19.605Z,2011-10-28T03:42:47.282Z,2011-10-28T03:42:47.282Z,2011-10-28T03:42:47.248Z,2011-10-28T03:42:47.248Z,create test-jar for consumers,"There are some parent test classes [1] that would be helpful to use when writing a consumer plugin.  It would be helpful if a test jar [2] was created with the -sources and -javadoc by maven.

Below is a sample that could be put into a parent pom.
{code:xml} 
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-jar-plugin</artifactId>
        <executions>
          <execution>
            <goals>
              <goal>test-jar</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
{code} 

[1] http://archiva.apache.org/ref/1.3.1/xref-test/org/apache/maven/archiva/consumers/core/repository/AbstractRepositoryPurgeTest.html
[2] http://maven.apache.org/plugins/maven-jar-plugin/test-jar-mojo.html",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jim Sellers,sellersj
MRM-1429,Bug,2010-11-18T19:04:47.731Z,2010-11-18T19:04:47.731Z,2010-12-09T20:10:52.804Z,2010-12-09T20:10:52.804Z,2010-12-09T08:52:31.241Z,2010-12-09T08:52:31.241Z,"Proxying of xml files from one archiva server to another fails, when jar files succeed","This is what i did,

1) Downloaded archiva 1.3.1 standalone, and unzipped it into two directories called local and remote.

2) Edited the jetty.xml file of the remote directory install to use port 9090

3) Started both archivas

4) On archiva in remote dir (9090) added a remote repository thru the gui that had this information:

    Identifier: proxy
    Name: Proxy of Local
    URL: http://localhost:8080/archiva/repository/internal/
    UserName: as defined
    Password: as defined
    Timeout in Seconds: 60
    Type: Maven 2.x repository

5) On archiva in remote dir (9090) added a proxy connector thru the gui that had this information:

    Network Proxy: (direct connection)
    Managed Repository: internal
    Remote Repository: proxy
    (all other settings defaulted)

6) On archiva in local dir (8080) uploaded an artifact thru the gui that had this information:

    Group Id: com.mebigfatguy
    Artifact Id: fb-contrib
    Version: 4.6.0
    Packaging: jar
    Classifier: (blank)
    Generate Maven 2 POM: checked
    Artifact file: fb-contrib.jar
    Repository Id: internal

    and submitted it.

7) Next brought up firefox and entered url for the archiva in the remote dir (9090)

    http://localhost:9090/archiva/repository/internal/com/mebigfatguy/fb-contrib/4.6.0/fb-contrib-4.6.0.xml <http://localhost:9090/archiva/repository/internal/com/mebigfatguy/fb-contrib/4.6.0/fb-contrib-4.6.0.xml>

    and file is successfully downloaded

8) On archiva in local dir (8080) uploaded an artifact thru the gui that had this information:

    Group Id: com.mebigfatguy
    Artifact Id: build
    Version: 4.6.0
    Packaging: xml
    Classifier: (blank)
    Generate Maven 2 POM: checked
    Artifact file: build.xml
    Repository Id: internal

    and submitted it.

9) Next brought up firefox and entered url for the archiva in the *local* dir (8080)

    http://localhost:8080/archiva/repository/internal/com/mebigfatguy/build/4.6.0/build-4.6.0.xml <http://localhost:9090/archiva/repository/internal/com/mebigfatguy/fb-contrib/4.6.0/fb-contrib-4.6.0.xml>

    and the file is successfully downloaded

10) Next brought up firefox and entered url for the archiva in the *remote* dir (9090)

    http://localhost:9090/archiva/repository/internal/com/mebigfatguy/build/4.6.0/build-4.6.0.xml <http://localhost:9090/archiva/repository/internal/com/mebigfatguy/fb-contrib/4.6.0/fb-contrib-4.6.0.xml>

    Artifact is *not downloaded *and get this error page


        HTTP ERROR 404

    Problem accessing /archiva/repository/internal/com/mebigfatguy/build/4.6.0/build-4.6.0.xml. Reason:

        Resource does not exist

------------------------------------------------------------------------
/Powered by Jetty:///
",Minor,Closed,Not A Problem,Brett Porter,brettporter,Dave Brosius,dbrosius
MRM-1433,Bug,2010-11-26T12:39:51.408Z,2010-11-26T12:39:51.408Z,2015-04-05T14:53:49.445Z,2015-04-05T14:53:49.445Z,2010-11-28T18:53:43.241Z,2010-11-28T18:53:43.241Z,@Override are on interface methods which is only possible in java 6,"@Override is on consumers methods that are from an interface.  This won't compile under java 5, only java 6.  Since the project's compiler plugin ""source"" version is set to java 5, I assume that this is a bug.",Major,Closed,Fixed,Brett Porter,brettporter,Jim Sellers,sellersj
MRM-1427,Improvement,2010-11-13T07:29:58.713Z,2010-11-13T07:29:58.713Z,2017-04-05T19:35:46.132Z,2017-04-05T19:35:46.132Z,,,OSGi Bundle support (OBR repositories),"Add RFC-112 compliant OSGi Bundle Repository (OBR) support with the following feature set:
 - Provide the ability to natively house OSGi bundles (ie deployed from Felix maven plugin)
 - Ability to create virtual OBR repositories that will scan existing traditional maven repos, extract necessary metadata, and proxy requests
 - Ability to create virtual OBR repositories that will proxy local and remote OBR repositories
 - Add web interfaces for managing OBR repositories

",Minor,Open,,Jean-Baptiste Onofré,jbonofre,Steve Siebert,smsiebe
MRM-1423,New Feature,2010-09-24T16:45:50.407Z,2010-09-24T16:45:50.407Z,2010-10-07T19:59:30.135Z,2010-10-07T19:59:30.135Z,,,Blacklisting doesn't remove artifacts that were previously proxied,"When using the remote proxy support, I found that updating proxies to add blacklisted items didn't trigger any sort of update of the metadata in the repository. I was expecting that any references to metadata or previously downloaded artifacts from the blacklisted portion of the repository would be removed.

For example, create two remote repositories - one for Maven central and one for JBoss public. Then run 'mvn archetype:generate' against Archiva. It will download the archetype plug-in metadata from both central and JBoss (JBoss has SNAPSHOT versions).

Then configure a blacklist of 'org/apache/maven/**' on the JBoss repository.

Expected behavior:
1) Metadata should be rebuilt to remove any references to artifacts in the blacklisted portion of the JBoss repository.

Actual behavior:
1) Metadata remains for the blacklisted paths.

The only way I could determine how to fix this was to remove this portion of Archiva and manually trigger a re-indexing of the repository.",Major,Open,,,,Philip K. Warren,pkwarren
MRM-1465,Bug,2011-03-28T08:30:56.603Z,2011-03-28T08:30:56.603Z,2011-05-13T03:15:33.425Z,2011-05-13T03:15:33.425Z,2011-05-13T03:15:33.379Z,2011-05-13T03:15:33.379Z,Build Error while building archiva-webapp module,"When trying to build archiva-webapp module I got this error (also tried maven 2.2.1 with same result):

Exception in thread ""main"" java.lang.AssertionError
        at org.codehaus.plexus.metadata.ClassComponentDescriptorExtractor.extract(ClassComponentDescriptorExtractor.java:55)
        at org.codehaus.plexus.metadata.DefaultMetadataGenerator.generateDescriptor(DefaultMetadataGenerator.java:78)
        at org.codehaus.plexus.maven.plugin.PlexusDescriptorMojo.execute(PlexusDescriptorMojo.java:82)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:592)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)

Upgrading maven plugin org.codehaus.plexus:plexus-component-metadata:1.0-beta-3.0.5 to org.codehaus.plexus:plexus-component-metadata:1.0-beta-3.0.7 resolved this issue.
",Major,Closed,Cannot Reproduce,Maria Odea Ching,oching,Lucien Weller,lucien@wellernet.ch
MRM-1419,Bug,2010-08-31T13:20:28.889Z,2010-08-31T13:20:28.889Z,2010-12-03T08:16:33.903Z,2010-12-03T08:16:33.903Z,2010-12-03T08:16:33.789Z,2010-12-03T08:16:33.789Z,Archiva reaches fd limit and keeps complaining of 'too many open files',"Let me start by saying that I looked at MRM-1097 but it seems to be a different problem because there they say that the accumulating file descriptors were sockets and here they are index files.

Being more specific, our Archiva is accumulating several open file descriptors to already deleted files. In less than one hour it can accumulate as much as 1000 such file descriptors, quickly reaching the process file descriptor limit which we already increaded from 4K to 12K in an attempt to delay the problem.

This are the kind of descriptors I'm talking about:

{noformat}
# lsof -p 13052|grep -F '.cfs (deleted)'|head
java    13052 root  188u   REG       8,49  6622810   7393646 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkvx.cfs (deleted)
java    13052 root  190u   REG       8,49  6622878   1572928 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkw3.cfs (deleted)
java    13052 root  191u   REG       8,49  6622878   1572928 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkw3.cfs (deleted)
java    13052 root  192u   REG       8,49  6622878   1572928 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkw3.cfs (deleted)
java    13052 root  193u   REG       8,49  6622812   7393642 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkv7.cfs (deleted)
java    13052 root  194r   REG       8,49  6622878   1572928 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkw3.cfs (deleted)
java    13052 root  195u   REG       8,49  6622878   1572918 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkw5.cfs (deleted)
java    13052 root  197u   REG       8,49  6622813   7393638 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkv9.cfs (deleted)
java    13052 root  198u   REG       8,49  6622878   1572928 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkw3.cfs (deleted)
java    13052 root  200u   REG       8,49  6622812   7393630 /l/home3/archiva/dsso/data/repositories/internal/inhouse/snapshots/.indexer/_1tkvl.cfs (deleted)

# lsof -p 13052|grep -c -F '.cfs (deleted)'
817
{noformat}

",Major,Closed,Duplicate,Brett Porter,brettporter,Gustavo Chaves,gnustavo
MRM-1411,Bug,2010-07-27T20:25:21.824Z,2010-07-27T20:25:21.824Z,2011-06-16T08:16:26.835Z,2011-06-16T08:16:26.835Z,2011-06-16T08:16:26.749Z,2011-06-16T08:16:26.749Z,project information is missing if a POM could not be read correctly,see screen shot attached.,Major,Closed,Fixed,Maria Odea Ching,oching,mbaclay,mbaclay
MRM-1443,Bug,2010-12-08T22:25:52.864Z,2010-12-08T22:25:52.864Z,2010-12-09T01:59:40.848Z,2010-12-09T01:59:40.848Z,2010-12-09T01:59:40.689Z,2010-12-09T01:59:40.689Z,repository statistics collection can cause server to hang,"at the end of a repository scan, repository statics are collected before being stored in the database. This also happens to be the trigger before an initial scan can be deemed completed.

on a large repository, this can often hang due to the statistics attempting to load every artifact into memory to count them.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1438,Bug,2010-11-29T20:41:02.024Z,2010-11-29T20:41:02.024Z,2010-11-29T20:46:20.751Z,2010-11-29T20:46:20.751Z,2010-11-29T20:46:20.626Z,2010-11-29T20:46:20.626Z,CSRF vulnerability - Archiva doesn't check which form sends credentials,"As reported by Anatolia Security Research Group, Apache Archiva doesn't check which form sends credentials. An attacker can create a specially crafted page and force archiva administrators to view it and change their credentials.

Vulnerability reference key: [CVE-2010-3449] Apache Archiva CSRF Vulnerability",Critical,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1494,New Feature,2011-08-08T03:40:04.281Z,2011-08-08T03:40:04.281Z,2017-04-05T19:27:11.238Z,2017-04-05T19:27:11.238Z,,,Storing Maven sites in archiva,see [https://cwiki.apache.org/confluence/display/ARCHIVA/Storing+Maven+sites+in+Archiva],Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1495,New Feature,2011-08-08T03:49:34.423Z,2011-08-08T03:49:34.423Z,2017-04-05T19:27:41.148Z,2017-04-05T19:27:41.148Z,,,Runnable war ,"be able to simply run archiva trough :
{code}
java -jar archiva.war
{code}
use embedded tomcat from tomcat 7.x ?",Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1435,Bug,2010-11-27T00:43:26.971Z,2010-11-27T00:43:26.971Z,2015-04-05T14:53:47.017Z,2015-04-05T14:53:47.017Z,2010-11-28T18:42:43.913Z,2010-11-28T18:42:43.913Z,[patch] fix up useless boxing issues,"Code boxes/unboxes values for no reason, code cleans these up.",Trivial,Closed,Fixed,Brett Porter,brettporter,Dave Brosius,dbrosius
MRM-1493,New Feature,2011-08-08T02:54:51.141Z,2011-08-08T02:54:51.141Z,2011-08-08T03:29:38.279Z,2011-08-08T03:29:38.279Z,2011-08-08T03:29:38.253Z,2011-08-08T03:29:38.253Z,Review metadata storage,see wiki page [https://cwiki.apache.org/confluence/display/ARCHIVA/Metadata+storage],Major,Closed,Duplicate,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1436,Improvement,2010-11-28T21:47:14.524Z,2010-11-28T21:47:14.524Z,2015-04-05T14:54:09.827Z,2015-04-05T14:54:09.827Z,2010-12-01T03:50:13.401Z,2010-12-01T03:50:13.401Z,[patch] better map handling,code does map lookups in loops needlessly. patch switches to using the right iterator.,Trivial,Closed,Fixed,Brett Porter,brettporter,Dave Brosius,dbrosius
MRM-1487,Bug,2011-08-04T03:01:58.125Z,2011-08-04T03:01:58.125Z,2011-08-10T10:52:47.492Z,2011-08-10T10:52:47.492Z,2011-08-10T10:52:47.43Z,2011-08-10T10:52:47.43Z,Unable to add a proxy connector,"See attached screen shot for errors encountered when trying to create a new proxy connector.

This was found in trunk -r1153760.",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1440,New Feature,2010-12-06T07:10:21.88Z,2010-12-06T07:10:21.88Z,2010-12-06T07:26:06.148Z,2010-12-06T07:26:06.148Z,2010-12-06T07:25:45.424Z,2010-12-06T07:25:45.424Z,system status page,"While there are some individual issues filed for better contextual display of system status, it'd be good to have a page that aggregates some of the important information that is useful for troubleshooting.

For example:
- memory usage
- queue sizes
- caches",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1420,Bug,2010-09-10T13:48:43.828Z,2010-09-10T13:48:43.828Z,2011-03-29T09:48:29.558Z,2011-03-29T09:48:29.558Z,2011-03-29T09:48:29.433Z,2011-03-29T09:48:29.433Z,Archiva browse urls are very slow,"We are running Archiva behind a proxy and getting '502 Proxy Error' (Reason: Error reading from remote server) quite often on .../browse/... urls.

Accessing Archiva directly on port 8080 results in the page eventually loading, but it takes more than five minutes (which causes the proxy to time out.)

While browse is slow, .../repository/xxx/... urls continue to respond quickly (so Maven builds are not affected.)",Major,Closed,Duplicate,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-1497,New Feature,2011-08-08T11:06:25.446Z,2011-08-08T11:06:25.446Z,2012-05-22T09:00:25.287Z,2012-05-22T09:00:25.287Z,,,use new UI web framework ,replace struts2 with a new web framework (plain js/html application),Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1400,Bug,2010-07-27T00:27:29.119Z,2010-07-27T00:27:29.119Z,2011-03-29T09:59:30.631Z,2011-03-29T09:59:30.631Z,2010-08-01T00:10:46.584Z,2010-08-01T00:10:46.584Z,Metadata is not merged with the metadata in the target repo when merging two repositories,"If you merge the staging repo to the managed repo it is attached to, notice that there are no metadata files merged nor updated from the staging repo to the target repository.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1490,New Feature,2011-08-08T02:44:04.04Z,2011-08-08T02:44:04.04Z,2011-09-26T11:04:25.276Z,2011-09-26T11:04:25.276Z,2011-09-26T11:04:25.256Z,2011-09-26T11:04:25.256Z,Expose Archiva services trough REST,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1418,Bug,2010-08-23T12:43:13.17Z,2010-08-23T12:43:13.17Z,2010-10-02T05:37:15.552Z,2010-10-02T05:37:15.552Z,2010-10-02T05:37:15.347Z,2010-10-02T05:37:15.347Z,Archiva Repostories Index is dissapearing with no reason,"After I migrated from Archiva 1.2.2 to Archiva 1.3.1 the repositories that already existed on my previous installation of Archiva are dissapearing from the Archiva browser index.

Everyday I need to do a re-scan of the repositories to have the repositories and artifacts listed again.

I have looked at the logs at the same time the repositories are been erased from the index but there is no output there.

I have also tried to identify if there is a cronjob or something that causes this behavior but haven't find anything and also the time when this happens is random.

Please Help.

Thanks",Major,Closed,Not A Problem,Brett Porter,brettporter,Mario Parra,mparra
MRM-1472,Improvement,2011-05-05T08:12:13.063Z,2011-05-05T08:12:13.063Z,2011-05-19T07:05:06.091Z,2011-05-19T07:05:06.091Z,2011-05-06T07:11:17.598Z,2011-05-06T07:11:17.598Z,maven configuration to be able to run tomcat:run,"I'd like to be able to use the tomcat-maven-plugin while hacking on Archiva.
With patch and maven 3 and from the top of the project, it will be possible to use : 
{code}
mvn tomcat:run -Pdev
{code}
And this without installing all jars, the plugin will see artifacts in reactor and add it to the webapp classloader.",Major,Closed,Fixed,Wendy Smoak,wsmoak,Olivier Lamy (*$^¨%`£),olamy
MRM-1489,New Feature,2011-08-08T02:34:48.679Z,2011-08-08T02:34:48.679Z,2011-08-08T03:28:37.949Z,2011-08-08T03:28:37.949Z,2011-08-08T03:28:37.922Z,2011-08-08T03:28:37.922Z,OBR Repository capability,See if some part of ace project can be reused,Major,Closed,Duplicate,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1445,Task,2010-12-14T20:29:19.266Z,2010-12-14T20:29:19.266Z,2010-12-14T21:59:40.845Z,2010-12-14T21:59:40.845Z,2010-12-14T21:59:40.758Z,2010-12-14T21:59:40.758Z,disable referrer check by default,"The redback referrer header check that was added can occasionally cause problems, and is only a preventative measure for other CSRF vulnerabilities.

It should be disabled by default, but the configuration for enabling it documented.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1464,Bug,2011-03-28T08:15:27.589Z,2011-03-28T08:15:27.589Z,2011-03-28T08:32:01.769Z,2011-03-28T08:32:01.769Z,2011-03-28T08:32:01.415Z,2011-03-28T08:32:01.415Z,Build Error while building archiva-webapp module,"I tried to build archiva-webapp module from sources, but ended with this error:

Exception in thread ""main"" java.lang.AssertionError
        at org.codehaus.plexus.metadata.ClassComponentDescriptorExtractor.extract(ClassComponentDescriptorExtractor.java:55)
        at org.codehaus.plexus.metadata.DefaultMetadataGenerator.generateDescriptor(DefaultMetadataGenerator.java:78)
        at org.codehaus.plexus.maven.plugin.PlexusDescriptorMojo.execute(PlexusDescriptorMojo.java:82)
        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:107)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)
        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)
        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)
        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)
        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:534)
        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:592)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)Upgrading dependency 

plexus-component-metadata from 1.0-beta-3.0.5 to 1.0-beta-3.0.7 semas to solve this issue.",Major,Closed,Duplicate,,,Lucien Weller,lucien@wellernet.ch
MRM-1444,Bug,2010-12-09T08:54:21.912Z,2010-12-09T08:54:21.912Z,2012-01-05T04:47:21.592Z,2012-01-05T04:47:21.592Z,,,upload action may not always create a checksum,"the upload interface is expected to create checksums for the POM and artifact. However, if the artifact is not in the artifacts list (repository scanning), and the create-missing-checksums consumer is enabled, then the checksum will not be created for the new artifact.

The action should create the checksums if this is the case.

It may be best for the upload form to validate the type against the list of artifacts to avoid any confusion as well.",Major,Reopened,,,,Brett Porter,brettporter
MRM-1491,New Feature,2011-08-08T02:49:57.833Z,2011-08-08T02:49:57.833Z,2017-04-05T23:50:08.344Z,2017-04-05T23:50:08.344Z,2017-04-05T23:50:08.319Z,2017-04-05T23:50:08.319Z,review packaging to propose tomcat rather than jetty,The distribution can be switched to use tomcat (7.x) rather than jetty,Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1446,Improvement,2010-12-16T06:16:16.741Z,2010-12-16T06:16:16.741Z,2011-09-12T10:02:08.912Z,2011-09-12T10:02:08.912Z,2011-09-12T10:02:08.885Z,2011-09-12T10:02:08.885Z,upgrade to maven-indexer,the indexer has been imported to maven-indexer now and released. We should update from the version we are using.,Major,Closed,Duplicate,,,Brett Porter,brettporter
MRM-1483,Bug,2011-08-01T07:46:38.577Z,2011-08-01T07:46:38.577Z,2011-08-01T10:12:11.625Z,2011-08-01T10:12:11.625Z,2011-08-01T10:12:11.555Z,2011-08-01T10:12:11.555Z,Archiva 1.3.5 does not run on Java 1.4.2,"System requirement for Archiva 1.3.5 is according http://archiva.apache.org/download.html Java 1.4.2, but it does not run, because some classes require Java 5 runtime:

{noformat}
$ apache-archiva-1.3.5/bin > ./archiva console
Running Apache Archiva...
wrapper  | --> Wrapper Started as Console
wrapper  | Launching a JVM...
jvm 1    | Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org
jvm 1    |   Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.
jvm 1    | 
jvm 1    | 
jvm 1    | WrapperSimpleApp: Encountered an error running main: java.lang.UnsupportedClassVersionError: org/apache/jasper/servlet/JspServlet (Unsupported major.minor version 49.0)
jvm 1    | java.lang.UnsupportedClassVersionError: org/apache/jasper/servlet/JspServlet (Unsupported major.minor version 49.0)
jvm 1    |      at java.lang.ClassLoader.defineClass0(Native Method)
jvm 1    |      at java.lang.ClassLoader.defineClass(ClassLoader.java:539)
jvm 1    |      at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)
jvm 1    |      at java.net.URLClassLoader.defineClass(URLClassLoader.java:251)
jvm 1    |      at java.net.URLClassLoader.access$100(URLClassLoader.java:55)
jvm 1    |      at java.net.URLClassLoader$1.run(URLClassLoader.java:194)
jvm 1    |      at java.security.AccessController.doPrivileged(Native Method)
jvm 1    |      at java.net.URLClassLoader.findClass(URLClassLoader.java:187)
jvm 1    |      at java.lang.ClassLoader.loadClass(ClassLoader.java:289)
jvm 1    |      at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)
jvm 1    |      at java.lang.ClassLoader.loadClass(ClassLoader.java:235)
jvm 1    |      at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)
jvm 1    |      at java.lang.Class.forName0(Native Method)
jvm 1    |      at java.lang.Class.forName(Class.java:141)
jvm 1    |      at org.mortbay.start.Main.isAvailable(Main.java:151)
jvm 1    |      at org.mortbay.start.Main.configure(Main.java:282)
jvm 1    |      at org.mortbay.start.Main.init(Main.java:464)
jvm 1    |      at org.mortbay.start.Main.start(Main.java:439)
jvm 1    |      at org.mortbay.start.Main.main(Main.java:119)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
jvm 1    |      at java.lang.reflect.Method.invoke(Method.java:324)
jvm 1    |      at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
jvm 1    |      at java.lang.Thread.run(Thread.java:534)
wrapper  | on_exit trigger matched.  Restarting the JVM.  (Exit code: 1)
{noformat}",Major,Closed,Won't Fix,Wendy Smoak,wsmoak,Joerg Schaible,joehni
MRM-1488,Bug,2011-08-04T05:06:22.939Z,2011-08-04T05:06:22.939Z,2012-11-21T16:01:53.508Z,2012-11-21T16:01:53.508Z,2011-08-26T05:17:55.724Z,2011-08-26T05:17:55.724Z,Using Archiva as proxy for downloading artifacts is very slow when used with LDAP authentication,"Ran {{mvn clean install}} on a local checkout of {{Archiva Parent}} project:
* LDAP, clean local repo and clean proxy repo: ~1hr
* LDAP, clean local repo and populated proxy repo: ~30mins
* database, clean local repo and clean proxy repo: 9mins
* database, clean local repo and populated proxy repo: 20s

I removed any {{Repository Observer}} role access for the guest account btw, so *all artifact requests go through authentication*.

When configured with LDAP, the build hanged at times and I had to cancel it. I noticed this happens when there's a problem connecting to the LDAP server. I saw the following error in the Archiva logs:

{code}
2011-08-04 17:15:56,226 [btpool0-4] WARN  org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator  - failed to get a ldap connection Could not connect to the server.
org.codehaus.plexus.redback.common.ldap.connection.LdapException: Could not connect to the server. [Root exception is javax.naming.CommunicationException: myldap.server.host:PORT [Root exception is java.net.ConnectException: Connection refused]]
	at org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.<init>(LdapConnection.java:88)
	at org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory.getConnection(ConfigurableLdapConnectionFactory.java:133)
	at org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator.getLdapConnection(LdapBindAuthenticator.java:150)
	at org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator.authenticate(LdapBindAuthenticator.java:94)
	at org.codehaus.plexus.redback.authentication.DefaultAuthenticationManager.authenticate(DefaultAuthenticationManager.java:84)
	at org.codehaus.plexus.redback.system.DefaultSecuritySystem.authenticate(DefaultSecuritySystem.java:94)
	at org.codehaus.redback.integration.filter.authentication.HttpAuthenticator.authenticate(HttpAuthenticator.java:65)
	at org.codehaus.redback.integration.filter.authentication.basic.HttpBasicAuthentication.getAuthenticationResult(HttpBasicAuthentication.java:85)
	at org.apache.maven.archiva.webdav.ArchivaDavSessionProvider.attachSession(ArchivaDavSessionProvider.java:59)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:111)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
	at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at com.opensymphony.sitemesh.webapp.SiteMeshFilter.doFilter(SiteMeshFilter.java:65)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:102)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
Caused by: javax.naming.CommunicationException: myldap.server.host:PORT [Root exception is java.net.ConnectException: Connection refused]
	at com.sun.jndi.ldap.Connection.<init>(Connection.java:210)
	at com.sun.jndi.ldap.LdapClient.<init>(LdapClient.java:118)
	at com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1580)
	at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2652)
	at com.sun.jndi.ldap.LdapCtx.<init>(LdapCtx.java:293)
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:175)
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:193)
	at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:136)
	at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:66)
	at org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.<init>(LdapConnection.java:84)
	... 37 more
Caused by: java.net.ConnectException: Connection refused
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at java.net.Socket.<init>(Socket.java:375)
	at java.net.Socket.<init>(Socket.java:189)
	at com.sun.jndi.ldap.Connection.createSocket(Connection.java:352)
	at com.sun.jndi.ldap.Connection.<init>(Connection.java:187)
	... 46 more
{code}",Critical,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1450,New Feature,2011-01-21T14:08:25.229Z,2011-01-21T14:08:25.229Z,2014-03-02T16:54:52.396Z,2014-03-02T16:54:52.396Z,2014-03-02T16:54:52.353Z,2014-03-02T16:54:52.353Z,Search for classifier,Advanced search should also support classifier as possible search criteria.,Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Joerg Schaible,joehni
MRM-1473,Improvement,2011-05-17T15:44:20.689Z,2011-05-17T15:44:20.689Z,2011-06-20T03:12:19.382Z,2011-06-20T03:12:19.382Z,2011-06-20T03:12:19.183Z,2011-06-20T03:12:19.183Z,remove use of plexus-spring ,"remove all use of plexus annotations to @Inject annotations.
and don't use anymore plexus-spring.
done in redback",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1470,Improvement,2011-04-28T07:14:03.653Z,2011-04-28T07:14:03.653Z,2016-03-15T05:55:21.72Z,2016-03-15T05:55:21.72Z,2011-04-29T06:32:15.647Z,2011-04-29T06:32:15.647Z,Ability to add a repository relative to Archiva's appserver.base without knowing it's filesystem location,"When adding a managed repository, I should be able to set the location to ${appserver.base}/data/repository/test-repo.",Major,Closed,Fixed,jzurbano,jzurbano,Maria Catherine Tan,ctan
MRM-1424,Task,2010-10-06T03:23:48.298Z,2010-10-06T03:23:48.298Z,2016-03-15T05:55:22.69Z,2016-03-15T05:55:22.69Z,2010-10-09T08:50:43.668Z,2010-10-09T08:50:43.668Z,Implement WS for creating stage reporitory,Implement WS for creating stage reporitory,Major,Closed,Fixed,Maria Odea Ching,oching,Warner B. Piñero,warner.pinz
MRM-1432,Improvement,2010-11-25T16:32:35.205Z,2010-11-25T16:32:35.205Z,2016-03-15T11:26:42.317Z,2016-03-15T11:26:42.317Z,2016-03-15T11:26:42.292Z,2016-03-15T11:26:42.292Z,ensure that all html form inputs have proper labels with them,"There are a few places that do not have html labels on the forms.  This makes it harder to select choices (in the case of checkboxes or radio buttons).

Some examples:
addProxyConnector.action - the policy dropdowns
repositories.action - ""Process All Artifacts"" checkbox text
repositoryGroups.action - ""Identifier*:"" add groupd
repositoryScanning.action - the checkboxes for the ""Repository Scanning - Consumers of Known Content""
index.action - all fields on the search and advanced search
queryAuditLogReport.action - all fields",Major,Closed,Won't Fix,,,Jim Sellers,sellersj
MRM-1461,Improvement,2011-03-14T00:11:09.098Z,2011-03-14T00:11:09.098Z,2011-03-29T09:59:31.051Z,2011-03-29T09:59:31.051Z,2011-03-16T09:55:07.646Z,2011-03-16T09:55:07.646Z,Delete repositories gracefully,"When deleting a repositories encountered a locked file or an nfs file, it should skip it and proceed to deleting the rest of the file instead of throwing an IOException immediately.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Catherine Tan,ctan
MRM-1476,Bug,2011-05-25T07:02:56.09Z,2011-05-25T07:02:56.09Z,2015-04-05T14:54:01.319Z,2015-04-05T14:54:01.319Z,2011-05-31T06:06:15.548Z,2011-05-31T06:06:15.548Z,'Specified key was too long' error during startup when using MySQL databases with UTF8 charset,Related to http://bugs.mysql.com/bug.php?id=25480 and http://jira.codehaus.org/browse/CONTINUUM-1113,Major,Closed,Fixed,Maria Odea Ching,oching,Greg Michael Meneses,gigsz1
MRM-1471,Improvement,2011-04-29T05:13:45.902Z,2011-04-29T05:13:45.902Z,2011-06-20T00:58:53.694Z,2011-06-20T00:58:53.694Z,2011-05-05T09:44:37.361Z,2011-05-05T09:44:37.361Z,Upgrade maven plugin versions (at least compiler plugin to be able to fork tru cli),"on windauze env compilation can fail.
So I need to use -Dmaven.compiler.fork=true which is not available in the current plugin version.",Major,Closed,Fixed,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1406,Bug,2010-07-27T01:12:38.601Z,2010-07-27T01:12:38.601Z,2011-03-29T09:59:33.292Z,2011-03-29T09:59:33.292Z,2010-07-29T05:54:54.28Z,2010-07-29T05:54:54.28Z,The repository specified in the audit logs report for artifact promotion/repo merging events should be the target repository instead of the staging repository,This affects MRM-980 branch.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1447,Improvement,2010-12-29T09:41:48.262Z,2010-12-29T09:41:48.262Z,2010-12-30T17:17:34.733Z,2010-12-30T17:17:34.733Z,2010-12-30T17:17:34.653Z,2010-12-30T17:17:34.653Z,Broken links on http://archiva.apache.org/mail-lists.html,"http://archiva.apache.org/mail-lists.html contains a number of links to Mailing list archives.
Those from Nabble are broken.

The archive currently only exists on Old Nabble and the links are:

http://old.nabble.com/archiva-users-f16426.html
http://old.nabble.com/archiva-dev-f16427.html
http://old.nabble.com/Archiva---Issues-f29617.html

respectively.

(Would have added a patch, if I new where the source is..)",Minor,Closed,Fixed,Brett Porter,brettporter,Igor Galic,i.galic
MRM-1417,New Feature,2010-08-19T00:53:08.164Z,2010-08-19T00:53:08.164Z,2016-03-15T05:55:22.531Z,2016-03-15T05:55:22.531Z,2010-08-19T02:19:34.957Z,2010-08-19T02:19:34.957Z,"Add basic managed repository management support on adding repository, deleting repository, and loading repository by id","Add basic managed repository management support like adding repository, deleting repository, and loading repository by id.

The add repository can take the following parameters: 

repository id
layout
repository name
location
block redeployment flag
releases included flag
snapshot included flag
cron refresh expression

deleting and loading a repository can take repository id as parameter.


 ",Major,Closed,Fixed,Maria Odea Ching,oching,Catalino Pineda Jr,cpinedajr
MRM-1431,Wish,2010-11-25T16:25:11.901Z,2010-11-25T16:25:11.901Z,2011-01-06T23:32:48.398Z,2011-01-06T23:32:48.398Z,,,"log all ""swallowed"" exceptions at the debug level",I've found it quite challenging writing a consumer for archiva because in many places exceptions are silently swallowed.  I think that I would have been able to discover issues much faster if the exceptions were logged at debug rather than being lost.,Major,Open,,,,Jim Sellers,sellersj
MRM-1475,Bug,2011-05-23T05:30:32.134Z,2011-05-23T05:30:32.134Z,2015-04-05T14:54:04.636Z,2015-04-05T14:54:04.636Z,2011-05-24T03:38:04.625Z,2011-05-24T03:38:04.625Z,Add proxy connector is broken,"""id"" attribute for ""property"" tag is no longer available in struts-core 2.1.8.1.

In the attached patch, the id attribute was just removed and did not encounter a problem doing so.

Also attached a selenium script to add a proxy connector.",Blocker,Closed,Fixed,Maria Odea Ching,oching,Greg Michael Meneses,gigsz1
MRM-1459,Bug,2011-03-08T21:07:43.983Z,2011-03-08T21:07:43.983Z,2011-06-09T05:02:52.723Z,2011-06-09T05:02:52.723Z,2011-06-09T04:58:40.394Z,2011-06-09T04:58:40.394Z,Error 404 when trying to merge artifacts from staging-repo to a remote repository using maven-stage-plugin's stage:copy,"I tried merging the artifacts by running the ff command:

mvn stage:copy -Dsource=""http://vmbuild.apache.org/archiva/repository/staged-npanday/"" 
-Dtarget=""scp://apadilla@people.apache.org/www/people.apache.org/repo/m2-ibiblio-rsync-repository"" -Dversion=1.3-incubating DrepositoryId=apache.releases

but got this error:
[INFO] Downloading file from the source repository:
/npanday//npanday-project//1.3-incubating//npanday-project-1.3-incubating-src.tar.bz2.asc
[INFO]
------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO]
------------------------------------------------------------------------
[INFO] Error copying repository from
http://vmbuild.apache.org/archiva/repository/staged-npanday/ to
scp://apadilla@people.apache.org/www/people.apache.org/repo/m2-ibiblio-rsync-repository
Embedded error: Unable to locate resource in repository
http://vmbuild.apache.org/archiva/repository/staged-npanday//npanday//npanday-project//1.3-incubating//npanday-project-1.3-incubating-src.tar.bz2.asc

Got the same error when accessing the resource directly in the browser:

HTTP ERROR 404
Problem accessing
/archiva/repository/staged-npanday/npanday/npanday-project/1.3-incubating/npanday-project-1.3-incubating-src.tar.bz2.
Reason:
     Resource does not exist
",Minor,Closed,Fixed,Maria Odea Ching,oching,Adelita L. Padilla,apadilla
MRM-1479,Improvement,2011-06-30T10:07:55.535Z,2011-06-30T10:07:55.535Z,2011-06-30T10:13:59.298Z,2011-06-30T10:13:59.298Z,2011-06-30T10:13:59.258Z,2011-06-30T10:13:59.258Z,upgrade jquery version 1.6.1,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1498,Improvement,2011-08-08T11:58:09.456Z,2011-08-08T11:58:09.456Z,2011-08-08T19:33:14.761Z,2011-08-08T19:33:14.761Z,2011-08-08T19:33:14.374Z,2011-08-08T19:33:14.374Z,Archiva migration,"Hi, 
i would migrate apache archiva from old server-A  to new server-B.
for that i am going to install archiva on new server-B
i am new to this tool. please belwo details for the  succesfull migration, 
1)what are the data need to move from old server to new server(from where and waht)
2)let me know the steps also
Regards,
sekar",Major,Closed,Not A Problem,Brett Porter,brettporter,chandrasekaran,chandrasekaran.g
MRM-1449,New Feature,2011-01-17T02:36:15.621Z,2011-01-17T02:36:15.621Z,2011-07-08T09:10:48.997Z,2011-07-08T09:10:48.997Z,,,Remote connections for many repos exhausts proxy limits,"Our Archiva installation uses a company-internal caching proxy (ISA Server) to connect to remote repositories.

When there are many remote repositories and many developers trying to look up artifacts (existing and non-existing artifacts, e.g. often -sources and -javadoc attachments), Archiva is creating many HTTP connections to the remote repositories.

This leads to a situation where the caching proxy thinks Archiva is creating too many connections. The ISA warning mail even suggests the host computer may be infected with a worm because it creates so many new connections and blocks the host completely for all outgoing HTTP requests.

The policies for the remote repositories are configured for retrieving ""once"", ""never"" or ""daily"", depending on whether it's releases or snapshots. Caching failures is disabled and i'm trying with enabled failure caching, but it doesn't make much difference and the problem still occurs once in a while.

I think Archiva should have a configurable way to limit the number of (new) connections made per time unit, e.g. ""max 60 connections / minute"" to prevent this. It's kind of a potential denial of service vulnerability.


",Major,Open,,,,Mike Haller,mhaller
MRM-1403,Bug,2010-07-27T00:53:51.096Z,2010-07-27T00:53:51.096Z,2011-03-29T09:59:37.33Z,2011-03-29T09:59:37.33Z,2010-08-08T00:22:34.347Z,2010-08-08T00:22:34.347Z,"An empty ""Error Occurred"" page is displayed when attempting to merge a staging repo containing an artifact with a classifier",Artifacts (including the one with a classifier) are still merged though. No errors are shown in the archiva logs. ,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1402,Bug,2010-07-27T00:33:02.435Z,2010-07-27T00:33:02.435Z,2011-03-29T09:59:21.686Z,2011-03-29T09:59:21.686Z,2010-07-27T02:53:11.155Z,2010-07-27T02:53:11.155Z,"Audit event name for merged artifacts should be ""Promoted Artifact"" or ""Merged Artifact"" instead of ""Merging Repositories""",,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1448,Improvement,2010-12-30T18:51:22.045Z,2010-12-30T18:51:22.045Z,2011-03-29T09:59:23.925Z,2011-03-29T09:59:23.925Z,2010-12-30T18:53:09.867Z,2010-12-30T18:53:09.867Z,classifier / extension combinations containing multiple '.' place the extra part in the classifier,"Consider the following examples:
# archiva-jetty-1.3.3-bin.tar.gz
# archiva-dump-1.3.3.xml.zip
# archiva-dump-1.3.3-users.xml.zip

Currently, the following classifier / type mappings are derived:
# bin / distribution-tgz
# none / xml.zip
# users.xml / zip

The first and second examples would indicate additional '.' parts should be considered as part of the extension, not the classifier. However, the opposite is true (except for tar.gz which is special cased).

It would be more intuitive to reverse this behaviour, especially since Archiva 1.4 doesn't use the distribution-tgz special case on Maven 2 repositories and considers the type as ""tar.gz"" (which is currently showing as -bin.tar / .gz instead)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1415,Bug,2010-08-05T00:04:20.438Z,2010-08-05T00:04:20.438Z,2014-02-25T20:53:46.902Z,2014-02-25T20:53:46.902Z,2014-02-25T20:53:46.851Z,2014-02-25T20:53:46.851Z,"when we dele a shapshot version ,archiva metadata  repository is not properly updating properly","Steps to reproduce:

1). upload a snap shpt version through archiva web Ui
2). delete it using archiva web 
3). then once we execute a getArtifact method id metadata repository it will return the deleted artifact as well.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Patti Arachchige Eshan Sudharaka,eshan.sudharaka
MRM-1468,Task,2011-04-09T00:22:08.871Z,2011-04-09T00:22:08.871Z,2011-09-12T11:42:24.825Z,2011-09-12T11:42:24.825Z,2011-05-09T06:02:58.229Z,2011-05-09T06:02:58.229Z,Fix cross-site scripting vulnerability in Archiva.,,Major,Closed,Fixed,Maria Odea Ching,oching,Marc Jansen Tan Chua,mchua
MRM-1421,Bug,2010-09-11T02:08:08.221Z,2010-09-11T02:08:08.221Z,2011-02-03T00:23:08.85Z,2011-02-03T00:23:08.85Z,2010-12-14T20:26:48.553Z,2010-12-14T20:26:48.553Z,Archiva repository purge incorrectly purges based on file timestamps even when the snapshot timestamp is known,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1452,Improvement,2011-01-27T08:32:45.38Z,2011-01-27T08:32:45.38Z,2016-03-15T05:55:22.376Z,2016-03-15T05:55:22.376Z,2011-01-27T21:19:38.647Z,2011-01-27T21:19:38.647Z,Ability to delete managed repository content from XMLRPC,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Catherine Tan,ctan
MRM-1401,Bug,2010-07-27T00:30:33.151Z,2010-07-27T00:30:33.151Z,2011-03-29T09:59:26.638Z,2011-03-29T09:59:26.638Z,2010-08-08T00:22:22.587Z,2010-08-08T00:22:22.587Z,Do not allow snapshot artifacts to be merged to a managed repository that only contains releases,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1437,Improvement,2010-11-28T22:05:57.882Z,2010-11-28T22:05:57.882Z,2015-04-05T14:54:08.362Z,2015-04-05T14:54:08.362Z,2010-12-01T04:17:17.705Z,2010-12-01T04:17:17.705Z,[patch] make sure streams get closed,"closes stream when done with it, also throws IOException if stream could 't be loaded, rather than NullPointerException.",Trivial,Closed,Fixed,Brett Porter,brettporter,Dave Brosius,dbrosius
MRM-1439,Improvement,2010-12-03T08:20:01.686Z,2010-12-03T08:20:01.686Z,2010-12-29T07:01:26.728Z,2010-12-29T07:01:26.728Z,2010-12-03T08:21:52.634Z,2010-12-03T08:21:52.634Z,improve indexing performance,"we've observed when indexing a large repository, that over time a large number of index requests fill up the queue, consuming both memory and disk processing. If there is not enough memory allocated, the server can eventually restart, and the indexing will not complete, meaning the queue will fill up again on restart.

This is not a memory leak - if the queue completes all operates as normal. The problem is the queue not being processed quickly enough.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1410,New Feature,2010-07-27T03:15:48.459Z,2010-07-27T03:15:48.459Z,2016-03-15T05:55:22.066Z,2016-03-15T05:55:22.066Z,2011-10-27T16:16:48.436Z,2011-10-27T16:16:48.436Z,Web services for editing a managed repository,"Currently, we only have web services for add, delete and retrieve of managed repositories.

This should also show up in the audit events and audit log report, and must be indicated that it was done remotely.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1416,Improvement,2010-08-05T07:03:53.234Z,2010-08-05T07:03:53.234Z,2010-11-25T16:22:27.865Z,2010-11-25T16:22:27.865Z,2010-11-25T16:22:27.73Z,2010-11-25T16:22:27.73Z,upgrade to Redback 1.2.5,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1407,Task,2010-07-27T01:28:11.417Z,2010-07-27T01:28:11.417Z,2011-03-29T09:59:26.134Z,2011-03-29T09:59:26.134Z,2010-08-15T08:36:17.386Z,2010-08-15T08:36:17.386Z,Add documentation for repository staging,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1453,Bug,2011-01-28T09:10:23.755Z,2011-01-28T09:10:23.755Z,2011-03-29T09:59:24.603Z,2011-03-29T09:59:24.603Z,2011-01-28T09:42:35.467Z,2011-01-28T09:42:35.467Z,ShowArtifactActionTest makes invalid comma separator assumptions,"ShowArtifactAction creates the human readable size as DecimalFormat(""#,###.##""). The problem is that the '.' (dot) in the format not really represents a dot, but the decimal symbol of the respective Locale. Thus over here in Austria, I get ""12,6 K"" instead of the assumed ""12.6 K"" which makes the tests fail.

Solution: either fix the test of explicitely use DecimalFormatSymbols.",Minor,Closed,Fixed,Maria Odea Ching,oching,Mark Struberg,struberg
MRM-1426,Improvement,2010-10-07T22:46:18.919Z,2010-10-07T22:46:18.919Z,2011-11-22T07:22:03.738Z,2011-11-22T07:22:03.738Z,2011-11-22T07:22:03.566Z,2011-11-22T07:22:03.566Z,Set welcome page in web.xml,"Could we please set a welcome page entry in web.xml, one that points to index.action?

IBM WebSphere does not default to anything, so I need to manually specify server/index.action each and every time. 

-Chris
",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Graham,ChrisGWarp
MRM-1458,Improvement,2011-02-28T23:56:58.798Z,2011-02-28T23:56:58.798Z,2011-10-03T01:07:09.427Z,2011-10-03T01:07:09.427Z,2011-10-03T01:07:09.398Z,2011-10-03T01:07:09.398Z,Repository purge options for released artifacts to improve usability of Search and Browse functions,"We work in a sort of agile way with (very) frequent releases. Our release repository currently has a file count of ~80,000 (total of jar, javadoc, and source artifacts).

Most of these releases are actually obsolete and have long been superseded by more recent releases.
To my knowledge there is not currently a way in Archiva to purge released artifacts (if not one by one or by manipulating the database/file system).

The repository management screens in Archiva offer a (boolean) option to ""Delete Released Snapshots"". It would be very useful to have a repository purge options that applies to obsolete releases such as: ""Keep only X most recent releases"".

Please note that despite large repository sizes we are encountering no noticeable performance issues (on an oldish x86 Red Hat Linux box). The feature will greatly improve usability of the Archiva Search and Browse functions.
",Major,Closed,Duplicate,,,Markus Spann,spm
MRM-1413,Bug,2010-07-30T08:33:57.707Z,2010-07-30T08:33:57.707Z,2011-09-30T05:07:12.685Z,2011-09-30T05:07:12.685Z,2011-09-30T05:07:12.65Z,2011-09-30T05:07:12.65Z,network-proxy configuration doesn't seen to work,"Our machine doesn't even have a public ip, so all outbound connections have to go through an http proxy.

1. Added a remote repository with url ""https://maven.atlassian.com/repository/public""
2. Added a network proxy called ""adenyo-proxy""
3. Added a proxy-connector that uses both

archiva.log:
{noformat}
2010-07-30 12:09:15,162 [btpool0-12] WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""atlassian"" for artifact org.apache.maven.plugins:maven-war-plugin:2.1-alpha-2::pom, continuing to next repository. Error message: Download failure on resource [https://maven.atlassian.com/repository/public/org/apache/maven/plugins/maven-war-plugin/2.1-alpha-2/maven-war-plugin-2.1-alpha-2.pom]:Error transferring file: Connection refused (cause: java.net.ConnectException: Connection refused)
{noformat}

Also, clicking on the settings link below a proxy connector and on the ""Edit Network Proxy"" link leads to an unconfigured proxy.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Elie Delorme,edelorme
MRM-1469,Bug,2011-04-26T16:36:50.385Z,2011-04-26T16:36:50.385Z,2011-05-12T05:31:57.275Z,2011-05-12T05:31:57.275Z,2011-05-12T04:13:15.987Z,2011-05-12T04:13:15.987Z,Uploading large artifacts is dreadfully slow,"The performance of the Upload Artifact page is absolutely dreadful.  

Technically this is probably an enhancement, rather than a bug... but it is _so_ bad in current form I'm filing it as a bug.

The UploadAction class uses what must be the worst copy file
implementation possible.

It says:

       FileOutputStream out = new FileOutputStream( new File(targetPath, targetFilename ) );
       FileInputStream input = new FileInputStream( sourceFile );

       try
       {
           int i;
           while ( ( i = input.read() ) != -1 )
           {
               out.write( i );
           }
           out.flush();
       }

Alternating between reading and writing one bit at a time????  No
wonder it was taking me over a 1/2 hour to try to upload a simple 150
MB file (with the CPU locked at 100% utilization).  Wow.

Please replace that implementation with this (or similar):

               BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(new File(targetPath, targetFilename)));
               BufferedInputStream input = new BufferedInputStream(new FileInputStream(sourceFile));
               try
               {
                       byte[] buf = new byte[1024];
                       int len;
                       while ((len = input.read(buf)) > 0)
                       {
                               out.write(buf, 0, len);
                       }
                       out.flush();
               }

Tis about 100 orders of magnitude faster.
",Major,Closed,Fixed,Maria Odea Ching,oching,Dan Armbrust,armbrust
MRM-1485,Bug,2011-08-02T06:39:40.738Z,2011-08-02T06:39:40.738Z,2015-04-05T14:54:00.889Z,2015-04-05T14:54:00.889Z,2014-02-25T19:31:23.773Z,2014-02-25T19:31:23.773Z,LDAP authentication attempts to change password on first login.,"I have a development environment on the archive and Mavin.
And I'm trying to put this environment authenticating to OpenLDAP. By doing could only setting in the file security.properties. The configuration is below:

user.manager.impl=ldap
ldap.bind.authenticator.enabled=true
redback.default.admin=admin
ldap.config.hostname=IP_server
ldap.config.port=389
ldap.config.base.dn=dc=domain,dc=com,dc=br
ldap.config.context.factory=com.sun.jndi.ldap.LdapCtxFactory
ldap.config.bind.dn=cn=admin,dc=domain,dc=com,dc=br
ldap.config.password=XXXXXXXXX
ldap.config.mapper.attribute.email=mail
ldap.config.mapper.attribute.fullname=uid
ldap.config.mapper.attribute.password=userPassword
ldap.config.mapper.attribute.user.id=uid
ldap.config.mapper.attribute.user.object.class=simpleSecurityObject
security.policy.password.expiration.enabled=false
security.policy.strict.enforcement.enabled=false
security.policy.strict.force.password.change.enabled=false
security.policy.unlockable.accounts=admin
security.policy.allowed.login.attempt=1000

After this configuration, I could authenticate to openldap. but when the system right the first time it asks me to change the password. Already sent email to the maillist and everyone told me it was bug, because the option:
security.policy.strict.force.password.change.enabled = false
is already configured.

My version is 1.3, however tested on 1.3.5 and also did the same.

How to authenticate to OpenLDAP is not asking to change password the first time? Because the option shown above does not work?

",Critical,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Pedro Macedo Leite,pedrol
MRM-1289,Task,2009-11-29T18:44:32.132Z,2009-11-29T18:44:32.132Z,2010-01-11T22:15:11.684Z,2010-01-11T22:15:11.684Z,2010-01-10T22:18:34.677Z,2010-01-10T22:18:34.677Z,need to document changes to wrapper.conf on upgrade,the new release moves to a new version of Jetty and changes the library contents listed in wrapper.conf. Anyone that has a copy of it in their $ARCHIVA_BASE directory (if separate from the installation) will need to update it with the one from the new distribution,Major,Closed,Fixed,jzurbano,jzurbano,Brett Porter,brettporter
MRM-1200,Bug,2009-06-10T09:47:13.692Z,2009-06-10T09:47:13.692Z,2009-07-25T00:09:37.929Z,2009-07-25T00:09:37.929Z,,,Fetching artefact zip or tar.gz in repository maven 1,"I cannot download by Archiva through Maven 2 an artefact which is on a repository Maven 1 and his type is zip or tar.gz.
When i browse the repository by Archiva, I got a 404 error for the artefact.

I can download his pom through browsing and Maven 2.
I can download the artefact when I pass through Apache and Maven 2 with ""Apache configuration repository"".",Major,Open,,,,Bruno Malaquin,broen
MRM-1235,Improvement,2009-08-17T04:47:22.193Z,2009-08-17T04:47:22.193Z,2010-02-23T01:23:06.628Z,2010-02-23T01:23:06.628Z,2010-02-23T01:22:37.499Z,2010-02-23T01:22:37.499Z,Upgrade task for altering the database schema for the changes in the length of URL fields,,Major,Closed,Won't Fix,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1236,Bug,2009-08-19T04:44:05.816Z,2009-08-19T04:44:05.816Z,2009-08-19T07:59:17.794Z,2009-08-19T07:59:17.794Z,2009-08-19T07:59:17.801Z,2009-08-19T07:59:17.801Z,Locale selection is broken,,Major,Closed,Fixed,jzurbano,jzurbano,jzurbano,jzurbano
MRM-1273,New Feature,2009-10-27T11:24:21.567Z,2009-10-27T11:24:21.567Z,2009-11-13T00:33:05.465Z,2009-11-13T00:33:05.465Z,,,Repository health report should identify snapshots in a non-snapshot repo,"If a repository does not have 'includes snapshots' checked, then any artifacts with SNAPSHOT in the name should be flagged as problems.

Possibly also look for common misspellings of SNAPSHOT such as SNAPHSOT or SNAPSHTO.",Minor,Open,,,,Wendy Smoak,wsmoak
MRM-1202,Bug,2009-06-12T08:44:15.954Z,2009-06-12T08:44:15.954Z,2009-07-28T03:44:07.847Z,2009-07-28T03:44:07.847Z,2009-07-28T03:44:07.851Z,2009-07-28T03:44:07.851Z,404 error when changing password,"HTTP ERROR: 404

/WEB-INF/jsp/redback/changePasswordSuccess.jsp

RequestURI=/archiva/WEB-INF/jsp/redback/changePasswordSuccess.jsp",Major,Closed,Fixed,Maria Odea Ching,oching,Julien HENRY,henryju
MRM-1203,Bug,2009-06-16T04:13:05.99Z,2009-06-16T04:13:05.99Z,2009-07-06T07:32:35.163Z,2009-07-06T07:32:35.163Z,2009-07-06T07:32:35.18Z,2009-07-06T07:32:35.18Z,Error changing password,"When a user change his password, archiva redirects him to a page that doesn't exist: changePasswordSuccess.jsp

i was searching for this page and i didn't found it but i found the configuration in struts-security.xml

<result name=""security-change-password-success"">/WEB-INF/jsp/redback/changePasswordSuccess.jsp</result>

",Major,Closed,Duplicate,Brett Porter,brettporter,Ramon Medel,frmedelb
MRM-1263,Improvement,2009-10-13T23:51:24.919Z,2009-10-13T23:51:24.919Z,2012-09-12T16:47:38.11Z,2012-09-12T16:47:38.11Z,2012-09-12T16:47:37.769Z,2012-09-12T16:47:37.769Z,creating an m2eclipse compatible index should be an optional component,"currently, two indexes are created - the main live index and the packed index (for m2eclipse users). Those not needing the packed index should have the option of disabling it's creation.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1225,Bug,2009-07-23T21:46:40.583Z,2009-07-23T21:46:40.583Z,2009-07-26T22:59:22.987Z,2009-07-26T22:59:22.987Z,2009-07-26T22:59:23.004Z,2009-07-26T22:59:23.004Z,content of repository groups are not always updated,"After trying to replicate MRM-1007.

Contents of a Repository Group does not update after adding a new repository or an artifact has been uploaded to one of the repositories of the repository group

Contents of the repository group doesn't seem to be updated after
 * Adding a new repository - when access the repository group, artifact of the new repository are not displayed.
 * Delete a repository - after delete a repository the artifacts are still being displayed
 * When an artifact has been uploaded to one of the repository of the group - new artifacts not displayed.
 ",Major,Closed,Not A Problem,,,Gwen Harold Autencio,gautencio
MRM-1270,Improvement,2009-10-21T22:47:03.764Z,2009-10-21T22:47:03.764Z,2010-01-11T22:13:35.271Z,2010-01-11T22:13:35.271Z,2009-12-29T03:46:05.23Z,2009-12-29T03:46:05.23Z,Improve message when a user tries to search and the user does not have access to any repository,"Maybe change from:

""You have access to no repositories. Ask your system administrator for access.""

to something like:

""You do not have access to any repository. Please request access from your system administrator.""",Trivial,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1276,Bug,2009-11-10T04:04:51.236Z,2009-11-10T04:04:51.236Z,2016-03-24T04:18:04.092Z,2016-03-24T04:18:04.092Z,2016-03-24T04:18:04.056Z,2016-03-24T04:18:04.056Z,Selenium tests need a clean up,"the current selenium tests are quite hard to navigate:
- multiple different folders (it-resources vs resources)
- unnecessary configuration (a lot of Tomcat config instead of just the files that need changing)
- complicated POM and no documentation of the profiles
- poor formatting in the source code (tabs, etc)
- poor hierarchy (required to call open() then open( ... ) in sequence - should have all the init in one class and use TestNG to order)

I think this could use some cleaning up",Major,Closed,Won't Fix,mbaclay,mbaclay,Brett Porter,brettporter
MRM-1299,Task,2009-12-09T01:23:31.361Z,2009-12-09T01:23:31.361Z,2011-03-29T09:59:38.513Z,2011-03-29T09:59:38.513Z,2010-02-23T00:48:12.825Z,2010-02-23T00:48:12.825Z,migrate RSS to the metadata content repository API,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1258,Task,2009-10-07T04:57:47.247Z,2009-10-07T04:57:47.247Z,2011-06-29T01:04:32.235Z,2011-06-29T01:04:32.235Z,2011-06-29T01:04:32.097Z,2011-06-29T01:04:32.097Z,Code cleanup,"There are some components that needs to be cleaned up:
* webdav (resource requests, virtual repositories)
* checksum generation (some components are using the plexus checksum while some are using the one in archiva itself)

This should be done first before starting development of 1.3.",Major,Closed,Not A Problem,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1295,Bug,2009-12-04T05:08:51.762Z,2009-12-04T05:08:51.762Z,2011-09-12T08:25:31.151Z,2011-09-12T08:25:31.151Z,2011-09-12T08:25:31.129Z,2011-09-12T08:25:31.129Z,repository identifier accepts spaces causing Error 404 when accessing the URL,"Steps to replicate:
# go to ""Repositories"" page
# add a repository with ""identifier"" containing spaces such as ""internal "", "" internal"", "" internal "", ""internal repo""
# click the URL of the added repository

This will result to 
{noformat}
HTTP ERROR 404

Problem accessing /archiva/repository/internal%20/. Reason:

    Invalid repository: internal%20
{noformat}
",Major,Closed,Duplicate,,,jzurbano,jzurbano
MRM-1282,Improvement,2009-11-19T20:18:30.103Z,2009-11-19T20:18:30.103Z,2011-08-08T03:29:23.626Z,2011-08-08T03:29:23.626Z,2010-02-23T01:22:11.031Z,2010-02-23T01:22:11.031Z,introduce a metadata content repository API,see MRM-1025 for justification,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1259,Bug,2009-10-07T05:12:03.295Z,2009-10-07T05:12:03.295Z,2010-01-11T22:13:38.45Z,2010-01-11T22:13:38.45Z,2009-10-14T22:46:29.088Z,2009-10-14T22:46:29.088Z,"'index-content' consumer processes all types of files, slowing down the indexing process","The includes is configured to ""\*\*/\*"" thereby processing all files being found.",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1261,Bug,2009-10-13T17:55:47.253Z,2009-10-13T17:55:47.253Z,2011-09-12T10:58:17.735Z,2011-09-12T10:58:17.735Z,2011-09-12T10:58:17.686Z,2011-09-12T10:58:17.686Z,viewing an artifact with no permissions provides a stack trace instead of showing a permission problem,"When the guest user has no permissions to any repository clicking the 'Search' button in the 'Find Artifact' page produces the following stack trace instead of displaying an error message.

{code}
type Exception report

message

description The server encountered an internal error () that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: There are no observable repositories for the user guest
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:515)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	sun.reflect.GeneratedMethodAccessor213.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	sun.reflect.GeneratedMethodAccessor211.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)

root cause

org.apache.maven.archiva.database.ArchivaDatabaseException: There are no observable repositories for the user guest
	org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersion(DefaultRepositoryBrowsing.java:141)
	org.apache.maven.archiva.web.action.ShowArtifactAction.artifact(ShowArtifactAction.java:111)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
	com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
	com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:115)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:173)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:167)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	sun.reflect.GeneratedMethodAccessor213.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	sun.reflect.GeneratedMethodAccessor212.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	sun.reflect.GeneratedMethodAccessor211.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
{code}
",Minor,Closed,Cannot Reproduce,,,Christian Schulte,schulte77
MRM-1242,Bug,2009-08-27T02:17:58.01Z,2009-08-27T02:17:58.01Z,2011-03-29T09:59:28.032Z,2011-03-29T09:59:28.032Z,2010-02-23T00:55:42.07Z,2010-02-23T00:55:42.07Z,Incorrect Total File Count in Repository Statistics report,"Plugins and Jars count shows 5 and 70 respectively, but Total File Count shows 0. See attached screenshot.",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1240,Bug,2009-08-26T04:38:36.805Z,2009-08-26T04:38:36.805Z,2010-01-11T22:13:32.85Z,2010-01-11T22:13:32.85Z,2009-09-10T08:57:24.135Z,2009-09-10T08:57:24.135Z,NPE when updating consumers (not setting any of the checkboxes) of Unprocessed Artifacts and Artifact Cleanup Scanning in Database,"java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.admin.database.DatabaseAction.filterAddedConsumers(DatabaseAction.java:220)
	at org.apache.maven.archiva.web.action.admin.database.DatabaseAction.updateUnprocessedConsumers(DatabaseAction.java:113)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:159)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:154)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:184)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:167)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:361)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:533)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:207)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)",Major,Closed,Fixed,jzurbano,jzurbano,mbaclay,mbaclay
MRM-1228,Bug,2009-08-03T11:17:27.41Z,2009-08-03T11:17:27.41Z,2016-03-15T05:55:24.144Z,2016-03-15T05:55:24.144Z,2009-11-22T06:24:16.597Z,2009-11-22T06:24:16.597Z,Ping service in not working,"I can't use ping service with xmlrpc client

The reponse is ""No handler for the method""

I have tried several methods :
- TestService.ping
- PingServiceImpl.ping
- PingService.ping

I suppose that it's a bug because SearchService and AdministrationService are working in xmlrpc",Major,Closed,Fixed,Maria Odea Ching,oching,Fabien,fadubois
MRM-1239,Bug,2009-08-26T03:02:55.615Z,2009-08-26T03:02:55.615Z,2009-08-27T01:48:52.246Z,2009-08-27T01:48:52.246Z,2009-08-27T01:48:52.251Z,2009-08-27T01:48:52.251Z,Unable to get artifact-level maven-metadata.xml of artifacts that are only three directory levels deep,"Example request path that would fail:
/eclipse/jdtcore/maven-metadata.xml",Blocker,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1297,Bug,2009-12-08T11:09:10.534Z,2009-12-08T11:09:10.534Z,2015-04-07T18:54:28.2Z,2015-04-07T18:54:28.2Z,2009-12-30T14:41:03.302Z,2009-12-30T14:41:03.302Z,Website download page does not provide link to KEYS file,"The page http://archiva.apache.org/download.html does not include a link to the KEYS file, which should be located in:

http://www.apache.org/dist/archiva/

This means that it is all but impossible to verify any downloads, for example, for apache-archiva-1.2.2-docs.zip I get:

gpg: Signature made 08/27/09 10:50:31 GMT Daylight Time using DSA key ID C625BAFB
gpg: Can't check signature: No public key

The key is at least available from the MIT server, but anyone can upload keys there.

",Critical,Closed,Fixed,Wendy Smoak,wsmoak,Sebb,sebb@apache.org
MRM-1209,New Feature,2009-06-30T14:28:40.219Z,2009-06-30T14:28:40.219Z,2016-03-15T06:25:27Z,2016-03-15T06:25:27Z,2016-03-15T06:25:26.976Z,2016-03-15T06:25:26.976Z,Project Tree view ,"Similar to the Dependency Tree tab, it would be nice to see a Project Tree showing the pom hierarchy (parent-and-modules) with links.

The data should be available in plain text as well (xml through the xmlrpc interface?)",Major,Closed,Fixed,,,Wendy Smoak,wsmoak
MRM-1286,Bug,2009-11-25T21:42:53.71Z,2009-11-25T21:42:53.71Z,2011-03-29T09:59:36.531Z,2011-03-29T09:59:36.531Z,2010-02-23T01:27:28.07Z,2010-02-23T01:27:28.07Z,mailing lists tab doesn't work,"browse to an artifact with mailing lists, for example:
http://localhost:8080/archiva/browse/org.apache.archiva/archiva-parent/3/mailingLists

No results are returned even though the project is correctly loaded and contains mailing lists.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1296,New Feature,2009-12-07T00:24:34.414Z,2009-12-07T00:24:34.414Z,2010-01-11T22:13:37.43Z,2010-01-11T22:13:37.43Z,2010-01-11T09:09:43.148Z,2010-01-11T09:09:43.148Z,Audit logging report,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1256,New Feature,2009-09-23T09:18:43.244Z,2009-09-23T09:18:43.244Z,2017-04-05T19:08:26.391Z,2017-04-05T19:08:26.391Z,,,providing extension-points for deploy-events,"Archiva provides extension-points named consumers that offer flexibility for customizing the repo-scanning-process.

Similarly, there is also a need to extend functionality for the deploy-artifact events (release and snapshot) - both using webdav and web-UI.

Specifically, we have the need to purge
- all snapshots, when a release is deployed (the existing checkbox "" Delete Released Snapshots"" doesn't operate reliable)
- all previous snapshots of the same version (in case the client has not configured the maven-deploy-plugin properly)

I propose that a (Java) interface is provided that can be used to implement the class that provides the functionality.
This class could be specified in one of the (numerous) Archiva config-files.

There could be a single interface that provides 2 methods 
- onReleaseDeployment(ReleaseRuntime obj)
- onSnapshotDeployment(SnapshotRuntime obj)

The SomeRuntime class should provide methods to retrieve all kinds of information concerning the artifact to be deployed, like
- getGroupId
- getArtifactId
- getVersion
- get RepoName
...

as well as operation-methods like
ReleaseRuntime .deleteSnapshots()
SnapshotRuntime.deletePreviousSnapshots()

",Critical,Open,,,,Marc Lustig,axismundi
MRM-1283,Improvement,2009-11-19T20:25:25.494Z,2009-11-19T20:25:25.494Z,2011-03-29T09:59:32.601Z,2011-03-29T09:59:32.601Z,2010-02-23T01:27:08.25Z,2010-02-23T01:27:08.25Z,"migrate Archiva's ""browse"" functionality to use the metadata content repository API","the first steps to removing direct interaction with the database - see MRM-1025 for more information.

A test of the API's implementation will be that we can utilise it directly from the webapp action classes without introducing additional business logic, and such that we can comfortably use it in the same way from the XMLRPC module. However, we also do not want presentation-related logic (or at least the organisation of the information on screen) in the repository implementation. If that is needed, a simpler replacement abstraction for RepositoryBrowsing may be appropriate.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1230,Bug,2009-08-03T11:32:30.276Z,2009-08-03T11:32:30.276Z,2016-03-15T05:55:25.158Z,2016-03-15T05:55:25.158Z,2009-10-08T05:02:34.074Z,2009-10-08T05:02:34.074Z,"Type of artifact is allways ""pom""","When I get back an artifact, the type is always ""pom"" while the type is ""war"" or ""jar""!! I have checked the type in the application which shows the right type.

This bug is reproducible with all artifacts ",Major,Closed,Fixed,Maria Odea Ching,oching,Fabien,fadubois
MRM-1246,Bug,2009-09-04T00:21:04.567Z,2009-09-04T00:21:04.567Z,2015-04-05T14:53:54.9Z,2015-04-05T14:53:54.9Z,2009-11-02T20:42:10.674Z,2009-11-02T20:42:10.674Z,MetadataUpdaterConsumer didn't run during a repository scan after deleting a version of an artifact.,"Steps to replicate

1. Deploy several test snapshots with
mvn deploy:deploy-file -Dfile=test.jar -DgroupId=com.example.test -DartifactId=test -Dversion=2.0-SNAPSHOT -Durl=file:///home/gwen/repository/snapshots -Dpackaging=jar
and repeat several times for version 1.0, 1.1 (results in timestamped snapshots).

2. Open /home/gwen/repository/snapshots/com/example/test/test/maven-metadata.xml. All version can be seen.

3. Scan the repository and update the database. Confirm that the artifacts are all visible through the browse url.

4. Delete the com/example/test/test/1.1-SNAPSHOT directory from the repository

5. Click ""Scan repository now"" for the Snapshots repository and wait for the scan to finish

6. View the metadata file again.

Expected result: version 1.1-SNAPSHOT is not in the maven-metadata.xml file

Actual result: the metadata file still contains version 1.1-SNAPSHOT

",Major,Closed,Fixed,jzurbano,jzurbano,Gwen Harold Autencio,gautencio
MRM-1253,Bug,2009-09-17T03:40:41.953Z,2009-09-17T03:40:41.953Z,2010-01-12T06:01:13.195Z,2010-01-12T06:01:13.195Z,2010-01-12T06:01:13.034Z,2010-01-12T06:01:13.034Z,Artifacts cannot be found using the Search function,"Numerous artifacts cannot be found using the Search function.
The repository concerned has permissions for user guest as Repository Observer, meaning anonymous access is allowed.
The artifacts can be found using the Browse function and using WebDAV.
The problem persists since Archiva 1.2.0.

The following effort has been untertaken to solve the problem:
1. deleting repo/.index and repo/.indexer
2. touching all files and dirs in repo recursively
3. running the repo scan 
4. waiting some hours to finish the procedure

After this process, the artifacts still cannot be found. The index-database has the following sizes:
6.1M    /opt/managed_repos/internal/.index
8.7M    /opt/managed_repos/internal/.indexer

Example: 
search for ""xmlbeans""
result: 2 artifacts containing ""xmlbeans"" in the package name, but NOT the artifact whose artifactId is xmlbeans

The Total File Count  	of the repo is 129542.

Since the search-function is the most important function on the web-UI, we'd consider this a major blocker.
",Blocker,Closed,Fixed,jzurbano,jzurbano,Marc Lustig,axismundi
MRM-1205,Bug,2009-06-21T19:51:06.794Z,2009-06-21T19:51:06.794Z,2011-10-27T17:13:39.396Z,2011-10-27T17:13:39.396Z,2011-10-27T17:13:39.344Z,2011-10-27T17:13:39.344Z,Should only create tmp directory for managed repository if the repository has remote repositories,"Should only create tmp directory for managed repository if the repository has remote repositories. At the moment archiva creates unnecessary temporary directories.

This stack trace shows where the change should be made (this repository was readonly on the file system):
{noformat}
Mar 11, 2009 12:08:13 AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet RepositoryServlet threw exception
java.lang.RuntimeException: Could not create working directory for this request
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.createWorkingDirectory(DefaultRepositoryProxyConnector
s.java:865)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java
:139)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:534)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:437)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:254)
        at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)
        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)
        at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)
        at java.lang.Thread.run(Thread.java:619)
Caused by: java.io.IOException: Permission denied
        at java.io.UnixFileSystem.createFileExclusively(Native Method)
        at java.io.File.checkAndCreate(File.java:1704)
        at java.io.File.createTempFile(File.java:1792)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.createWorkingDirectory(DefaultRepositoryProxyConnector
s.java:858)
        ... 27 more

{noformat}",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,James William Dumay,jameswdumay
MRM-1298,Bug,2009-12-08T11:16:57.559Z,2009-12-08T11:16:57.559Z,2015-04-07T18:54:23.268Z,2015-04-07T18:54:23.268Z,2014-03-02T16:53:47.826Z,2014-03-02T16:53:47.826Z,Backlinks from Archiva logo in header of web-pages don't work,"The archiva web-pages have an Archiva logo in the top left which acts as a link.

I would expect clicking this to take me to the top-level Archiva page, or at least the top-level page for the subsection.
I would not expect it to take me back to the same page, as that makes it useless as a navigation aid.

However:

http://archiva.apache.org/download.html => http://archiva.apache.org/download.html
http://archiva.apache.org/get-involved.html => http://archiva.apache.org/get-involved.html
http://archiva.apache.org/docs/1.2.2/userguide/ => http://archiva.apache.org/docs/ which is just a directory listing

Some links are OK, for example:

http://archiva.apache.org/docs/1.2.2/release-notes.html => http://archiva.apache.org/",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sebb,sebb@apache.org
MRM-1213,Bug,2009-07-09T23:48:26.532Z,2009-07-09T23:48:26.532Z,2012-10-13T16:29:46.972Z,2012-10-13T16:29:46.972Z,2012-10-13T16:29:46.9Z,2012-10-13T16:29:46.9Z,Repository consumers are all disabled after trying to disable one of them and the authenticated session has expired.,"Steps to reproduce:
1. Login to archiva
2. Go to Repository Scanning page
3. Expire the session by clearing the cache, authenticated sessions and cookies in your browser
4. Disable one of the repo consumers in the Repository Scanning page and click Update Consumers
5. You will be directed to the Login page and after logging in, go to Repository Scanning page. All the repo consumers are disabled.

",Minor,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1268,Bug,2009-10-20T06:58:17.672Z,2009-10-20T06:58:17.672Z,2015-04-05T14:54:03.03Z,2015-04-05T14:54:03.03Z,2010-01-12T02:00:04.456Z,2010-01-12T02:00:04.456Z,X-Forwarded-Host handling when having more than one proxy,"When requesting pages over more than one proxy, I see in the ""Administration""/""Repositories"" view:

WebDAV URL https://proxy1.xxx.com, proxy2.xx.com/archiva/repository/internal/

Both proxies run apache mod_proxy (http).

Taking just the outermost proxy in the 'X-Forwarded-Host' HTTP field (first one) in
'archiva-modules/archiva-web/archiva-webapp/src/main/java/org/apache/maven/archiva/web/util/ContextUtils.java
solved the problem for me (see attached changed ContextUtils.java).
",Minor,Closed,Fixed,Maria Odea Ching,oching,Andreas Baumann,andreas_baumann
MRM-1257,Test,2009-09-24T22:37:00.306Z,2009-09-24T22:37:00.306Z,2010-01-11T22:13:33.909Z,2010-01-11T22:13:33.909Z,2009-09-24T23:16:19.423Z,2009-09-24T23:16:19.423Z,Selenium Test for accessing bundled repositories,Add test for accessing bundled repositories link.,Major,Closed,Fixed,jzurbano,jzurbano,jzurbano,jzurbano
MRM-1262,Improvement,2009-10-13T23:48:13.833Z,2009-10-13T23:48:13.833Z,2010-01-11T22:13:39.783Z,2010-01-11T22:13:39.783Z,2009-10-14T04:31:00.987Z,2009-10-14T04:31:00.987Z,m2eclipse index should only be created at end of indexing run,"currently, every artifact is instantly packed into the m2eclipse index, taking considerable CPU cycles and garbage collection. This should only need to be run at the end.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1279,Bug,2009-11-17T08:04:23.546Z,2009-11-17T08:04:23.546Z,2009-12-20T23:13:05.158Z,2009-12-20T23:13:05.158Z,2009-12-20T23:12:50.886Z,2009-12-20T23:12:50.886Z,Calendar incorrect,"In Report menu, when the ""start date"" field is clicked, a calendar opens but it is incorrect. For example, today is Tue, 11/17/2009. But in the calender it is 11/16/2009. ",Minor,Closed,Cannot Reproduce,Brett Porter,brettporter,Raj Menattamai,rsekar
MRM-1272,Bug,2009-10-23T03:56:32.582Z,2009-10-23T03:56:32.582Z,2010-01-11T22:13:37.319Z,2010-01-11T22:13:37.319Z,2009-12-03T16:40:49.46Z,2009-12-03T16:40:49.46Z,Empty Lucene Index,"The Lucene Index contains the following:

--- Lucene index dump ---
Global Information:
===================
	number of documents: 1
	total number of features: 1
	total number of tokens: 1
	version: 1256287481733
	still current: true
	maximal document number: 1
	has deletions: false

Field Information:
==================
Fields of type 'ALL':
	DESCRIPTOR
	IDXINFO
Fields of type 'INDEXED':
	DESCRIPTOR
Fields of type 'INDEXED_NO_TERMVECTOR':
	DESCRIPTOR
Fields of type 'INDEXED_WITH_TERMVECTOR':
Fields of type 'TERMVECTOR':
Fields of type 'TERMVECTOR_WITH_OFFSET':
Fields of type 'TERMVECTOR_WITH_POSITION':
Fields of type 'TERMVECTOR_WITH_POSITION_OFFSET':
Fields of type 'UNINDEXED':
	IDXINFO

Terms:
======
DESCRIPTOR	NexusIndex	1
--- End of Lucene index dump ---

In the archiva.log I see:

org.codehaus.plexus.taskqueue.execution.TaskExecutionException: Error occurred while executing indexing task 'indexi
ng-job:internal:stax-utils-20040917.pom:add'
        at org.apache.maven.archiva.scheduled.executors.ArchivaIndexingTaskExecutor.executeTask(ArchivaIndexingTaskE
xecutor.java:163)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueu
eExecutor.java:116)
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
        at java.lang.Thread.run(Unknown Source)
",Major,Closed,Fixed,Brett Porter,brettporter,Andreas Baumann,andreas_baumann
MRM-1218,Task,2009-07-15T16:50:48.798Z,2009-07-15T16:50:48.798Z,2009-07-16T02:36:30.593Z,2009-07-16T02:36:30.593Z,2009-07-16T02:36:30.601Z,2009-07-16T02:36:30.601Z,upgrade to JSP 2.1,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1229,Bug,2009-08-03T11:26:25.932Z,2009-08-03T11:26:25.932Z,2016-03-15T05:55:25.611Z,2016-03-15T05:55:25.611Z,2009-11-12T20:54:45.56Z,2009-11-12T20:54:45.56Z,SearchService.quickSearch doesn't return the same result as the application,"When I search with xmlrpc and the quickSearch method, I haven't the same result and especially I don't have all the version of an artifact.

The search module integrated into archiva returns more result, and all the version of an artifact.

This bug is not reproducible with all artifacts, sometime it they return the same result.",Major,Closed,Fixed,Maria Odea Ching,oching,Fabien,fadubois
MRM-1234,Bug,2009-08-13T04:43:09.961Z,2009-08-13T04:43:09.961Z,2009-08-13T04:45:52.068Z,2009-08-13T04:45:52.068Z,2009-08-13T04:45:52.077Z,2009-08-13T04:45:52.077Z,Typo in Appearance Page,"Typo in Appearance page -> ""Change your appearence"" (link)",Major,Closed,Fixed,mbaclay,mbaclay,mbaclay,mbaclay
MRM-1206,Bug,2009-06-23T22:11:20.568Z,2009-06-23T22:11:20.568Z,2010-04-02T05:49:00.615Z,2010-04-02T05:49:00.615Z,2010-04-02T05:37:16.833Z,2010-04-02T05:37:16.833Z,"HTTP ERROR: 500 when adding/deleting artifact, adding repository/legacy support/network proxies with null values","Adding/Deleting Artifact, adding repository/legacy support/network proxies with null values withh return an HTTP ERROR: 500 page.

Here's what it showed on the page when adding artifact:

HTTP ERROR: 500

Could not initialize class com.opensymphony.xwork2.validator.ValidatorFactory

RequestURI=/upload!doUpload.action
Caused by:

java.lang.NoClassDefFoundError: Could not initialize class com.opensymphony.xwork2.validator.ValidatorFactory
	at com.opensymphony.xwork2.validator.ValidatorFileParser.addValidatorConfigs(ValidatorFileParser.java:192)
	at com.opensymphony.xwork2.validator.ValidatorFileParser.parseActionValidatorConfigs(ValidatorFileParser.java:72)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.loadFile(AnnotationActionValidatorManager.java:361)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildClassValidatorConfigs(AnnotationActionValidatorManager.java:252)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildValidatorConfigs(AnnotationActionValidatorManager.java:340)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.getValidators(AnnotationActionValidatorManager.java:69)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:138)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:113)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:100)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doBeforeInvocation(ValidationInterceptor.java:142)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:148)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:268)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:166)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:361)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:879)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:741)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:213)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)
",Major,Closed,Fixed,Maria Odea Ching,oching,mbaclay,mbaclay
MRM-1214,Improvement,2009-07-10T12:12:57.44Z,2009-07-10T12:12:57.44Z,2015-04-05T14:53:57.875Z,2015-04-05T14:53:57.875Z,2009-07-11T21:17:32.148Z,2009-07-11T21:17:32.148Z,"Web Application Deployment, Troubleshooting","Deploying Archiva in Tomcat or any other JSP Container is easy, especially if one is experienced with said container. Troubleshooting a config however is not very easy, as the logging is spread over a multitude of directories and files.

Rather than trying to patch the log4j.xml, I'm opting for adding a hint in the documentation.",Major,Closed,Fixed,Maria Odea Ching,oching,Igor Galic,i.galic
MRM-1201,Improvement,2009-06-10T11:17:50.404Z,2009-06-10T11:17:50.404Z,2016-02-16T12:23:18.75Z,2016-02-16T12:23:18.75Z,2016-01-24T07:07:24.895Z,2016-01-24T07:07:24.895Z,Artifact upload success message should mention the classifier,"I uploaded a -sources jar by filling in the 'classifier' field, but the success message only says:

Artifact 'com.example:example:1.0' was successfully deployed to repository 'internal'

The success message should include all of the info on the form.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Wendy Smoak,wsmoak
MRM-1219,Task,2009-07-15T16:54:45.791Z,2009-07-15T16:54:45.791Z,2010-02-28T23:18:18.777Z,2010-02-28T23:18:18.777Z,2009-07-16T02:46:16.862Z,2009-07-16T02:46:16.862Z,Missing appenders in log4j configuration,"Some appenders were missing (eg, for org.codehaus.plexus), meaning the logs were omitted.

Change to push all logs into the root logger unless otherwise overridden (ie, for the audit log).",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1249,Bug,2009-09-08T17:28:02.42Z,2009-09-08T17:28:02.42Z,2010-01-11T22:13:35.887Z,2010-01-11T22:13:35.887Z,2009-09-17T09:36:08.248Z,2009-09-17T09:36:08.248Z,Archiva does not respect configuration of the index directory,"I configured the index directory for each repository to move the index outside of the repository directory, however in addition to the directory I configured, Archiva still creates and writes to a .index directory inside each managed repo.  The contents are:

/java/apache-archiva-1.2.2
$ ls -la data/repositories/internal/.index/
total 7
drwxr-xr-x+ 2 wsmoak ????????    0 Sep  8 15:19 .
drwxr-xr-x+ 4 wsmoak ????????    0 Sep  8 15:19 ..
-rwxr-xr-x  1 wsmoak ????????  162 Sep  8 15:19 nexus-maven-repository-index.1.gz
-rwxr-xr-x  1 wsmoak ????????  262 Sep  8 15:19 nexus-maven-repository-index.gz
-rwxr-xr-x  1 wsmoak ????????  244 Sep  8 15:19 nexus-maven-repository-index.properties
-rwxr-xr-x  1 wsmoak ???????? 1139 Sep  8 15:19 nexus-maven-repository-index.zip

This is a problem because I have more than one Archiva instance looking at the same managed repo, and they will step on each other writing to this same directory.

",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-1285,Bug,2009-11-25T01:59:27.694Z,2009-11-25T01:59:27.694Z,2011-03-29T09:59:27.447Z,2011-03-29T09:59:27.447Z,2010-02-23T01:34:55.802Z,2010-02-23T01:34:55.802Z,The content of the Downloads box is sometimes too large for the box,"When you browse an artifact, the contents of orange Downloads box in the top right corner of the screen sometimes overflows the borders of the box. There is no functional problem with this, but it doesn't look very nice. See attached screenshot.",Minor,Closed,Fixed,Brett Porter,brettporter,Dennis Lundberg,dennisl@apache.org
MRM-1266,Bug,2009-10-15T18:33:27.133Z,2009-10-15T18:33:27.133Z,2010-01-11T22:13:38.561Z,2010-01-11T22:13:38.561Z,2009-10-15T18:39:29.853Z,2009-10-15T18:39:29.853Z,results page fails when find artifact returns multiple results,"the following error is presented:
{{javax.el.PropertyNotFoundException: The class 'org.apache.maven.archiva.model.ArchivaArtifact' does not have the property 'versions'.}}
",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1274,Bug,2009-11-06T07:43:04.843Z,2009-11-06T07:43:04.843Z,2016-03-15T05:55:25.007Z,2016-03-15T05:55:25.007Z,2009-11-22T02:38:15.392Z,2009-11-22T02:38:15.392Z,SearchService.quickSearch returns artifacts with null as repositoryId,"Executing following code results getting null's


List<Artifact> list = searchService.quickSearch(""test"");
for(Artifact a:list){
    System.out.println(a.getRepositoryId());
}",Major,Closed,Fixed,Maria Odea Ching,oching,Kamil M&#281;trak,kamil.metrak
MRM-1243,Bug,2009-08-27T09:19:17.796Z,2009-08-27T09:19:17.796Z,2015-04-05T14:53:48.966Z,2015-04-05T14:53:48.966Z,2009-09-02T06:26:28.769Z,2009-09-02T06:26:28.769Z,Encoding issues with Archiva UI: add Spring CharacterEncodingFilter,"Please do like Continuum and add the CharacterEncodingFilter to force UTF-8 encoding.

See attached patch.",Major,Closed,Fixed,Maria Odea Ching,oching,Julien HENRY,henryju
MRM-1277,Task,2009-11-13T02:14:23.786Z,2009-11-13T02:14:23.786Z,2010-01-11T22:13:32.485Z,2010-01-11T22:13:32.485Z,2010-01-11T07:58:25.704Z,2010-01-11T07:58:25.704Z,Create Selenium test for advanced search feature,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1241,Test,2009-08-26T05:06:06.484Z,2009-08-26T05:06:06.484Z,2010-01-11T22:13:35.101Z,2010-01-11T22:13:35.101Z,2009-12-04T01:07:16.632Z,2009-12-04T01:07:16.632Z,Selenium Tests for Repository Scanning and Database,Add tests for Repository Scanning and Database,Major,Closed,Fixed,mbaclay,mbaclay,mbaclay,mbaclay
MRM-1255,Bug,2009-09-23T04:29:28.049Z,2009-09-23T04:29:28.049Z,2011-03-29T09:59:21.833Z,2011-03-29T09:59:21.833Z,2010-02-23T05:37:26.219Z,2010-02-23T05:37:26.219Z,groupIds that are subsets of another groupId also display artifacts from that group,"In the attached screen shot, the browsed group was 'com', but if you look at the artifacts listed, it also shows the commons-* artifacts whose groupIds does not really start with 'com.'",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1207,Task,2009-06-24T18:45:47.17Z,2009-06-24T18:45:47.17Z,2015-04-05T14:53:42.086Z,2015-04-05T14:53:42.086Z,2009-07-11T21:40:40.492Z,2009-07-11T21:40:40.492Z,Make wrapper.log roll each day so it won't get too large,,Minor,Closed,Fixed,Maria Odea Ching,oching,Maria Catherine Tan,ctan
MRM-1293,Improvement,2009-12-02T07:26:35.026Z,2009-12-02T07:26:35.026Z,2011-03-29T09:59:31.512Z,2011-03-29T09:59:31.512Z,2010-02-23T01:25:53.591Z,2010-02-23T01:25:53.591Z,migrate repository statistics to the metadata content repository,"currently, after every scan, repository statistics are persisted to the database. These could easily be stored in the metadata repository. While at present we will keep the ""per-scan"" approach, in the future this might better be represented as a regularly stored snapshot / built in versioning of the metadata. It could potentially be adding this information on the fly instead of at scan by adding a callback in the repository API when an artifact / project is created - however this will be approached later.

When migrating the functionality, it should be offered as a standalone plugin (the only dependencies should be in the webapp that need to render the information and trigger some cleanup).

The following changes will be needed:
- save the statistics in ArchivaRepositoryScanningTaskExecutor / ArchivaRepositoryScanningTaskExecutorTest
- reset statistics in EditManagedRepositoryAction / EditManagedRepositoryActionTest when location changes
- query for a prior successful scan in RepositoryArchivaTaskScheduler
- retrieve last scan info in RepositoryAction and update corresponding JSP to display information correctly
- generate report action to query scan statistics between given dates and aggregate
",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1281,Task,2009-11-19T17:24:15.939Z,2009-11-19T17:24:15.939Z,2010-01-11T22:13:34.719Z,2010-01-11T22:13:34.719Z,2009-11-19T17:25:03.961Z,2009-11-19T17:25:03.961Z,remove unused consumers,"The following are not used and contain no implementation:

* BytecodeStatsToDatabaseConsumer.java
* VerifyMetadataAgainstDatabaseConsumer.java",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1252,Bug,2009-09-16T04:28:34.188Z,2009-09-16T04:28:34.188Z,2009-09-18T04:45:10.201Z,2009-09-18T04:45:10.201Z,2009-09-17T19:32:29.193Z,2009-09-17T19:32:29.193Z,Changing the repository indentifier breaks the entire repository index,"Hi,

We moved the entire repository from one machine to another. Earlier the repository was managed by Archiva 1.2.1 with repository identifier as 'Identifier1'. Now we have moved to a different machine and so we copied the whole repository to the new machine and set up and configured new Archiva with the repository identifier as 'Identifier2' (different from what it was earlier). But pointing to the same old copied repository.

Here the problem:
Archiva is unable to search the artifact. And in the logs it says: 

./logs/archiva.log:1585:2009-09-16 04:37:06,919 [btpool0-8] WARN  org.apache.archiva.indexer.search.NexusRepositorySearch  - Error accessing index of repository 'Identifier2' : The existing index is for repository [Identifier1] and not for repository [Identifier2]


Could you please help me know that is by default Archiva storing the index in the repository !! How can I fix this problem now?

Thanks in advance.
",Critical,Closed,Won't Fix,Brett Porter,brettporter,Guntas,guntasg
MRM-1204,Bug,2009-06-17T00:39:55.582Z,2009-06-17T00:39:55.582Z,2009-08-13T06:04:21.538Z,2009-08-13T06:04:21.538Z,2009-08-13T06:04:21.544Z,2009-08-13T06:04:21.544Z,org.apache.maven.archiva.repository.project.ProjectModelMerge.merge throws NPE,"{noformat}
2009-06-17 00:32:11,694 [pool-1-thread-1] ERROR org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer  - Unable to process model /export/archiva/repodata/internal/com/atlassian/confluence/tinymceplugin/confluence-tinymce-plugin/3.0/confluence-tinymce-plugin-3.0.pom due to : java.lang.NullPointerException : null
java.lang.NullPointerException
	at java.util.Hashtable.put(Hashtable.java:394)
	at org.apache.maven.archiva.repository.project.ProjectModelMerge.merge(ProjectModelMerge.java:340)
	at org.apache.maven.archiva.repository.project.ProjectModelMerge.merge(ProjectModelMerge.java:104)
	at org.apache.maven.archiva.repository.project.filters.EffectiveProjectModelFilter.mergeParent(EffectiveProjectModelFilter.java:209)
	at org.apache.maven.archiva.repository.project.filters.EffectiveProjectModelFilter.filter(EffectiveProjectModelFilter.java:106)
	at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifact(ProjectModelToDatabaseConsumer.java:167)
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:48)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:150)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:87)
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:69)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:619)
{noformat}",Major,Closed,Fixed,jzurbano,jzurbano,davecheney,davecheney
MRM-1226,Test,2009-07-29T01:21:07.832Z,2009-07-29T01:21:07.832Z,2009-08-23T08:16:11.212Z,2009-08-23T08:16:11.212Z,2009-08-23T08:16:11.23Z,2009-08-23T08:16:11.23Z,Selenium tests for Repositories and Network Proxies,More tests for repositories and network proxies.,Major,Closed,Fixed,mbaclay,mbaclay,mbaclay,mbaclay
MRM-1211,Bug,2009-07-09T01:24:00.744Z,2009-07-09T01:24:00.744Z,2011-09-12T11:03:51.118Z,2011-09-12T11:03:51.118Z,2011-09-12T11:03:51.095Z,2011-09-12T11:03:51.095Z,Custom logo gets cut off,"I configured a custom logo for Archiva through the appearance section. However, the logo seems to get cut off by the right size of the view. I would expect the left margin to expand to accommodate the size of the logo or at least resize it to fit.",Minor,Closed,Duplicate,,,Andreas Christoforides,andreasch
MRM-1208,Bug,2009-06-26T03:32:59.904Z,2009-06-26T03:32:59.904Z,2009-06-26T03:51:23.196Z,2009-06-26T03:51:23.196Z,2009-06-26T03:51:23.202Z,2009-06-26T03:51:23.202Z,Problems with locked users,"Class org.apache.maven.archiva.web.action.SearchAction hasn't got infoMessage attribute so when, for example, anybody tries to log in and his user is locked, archiva gets an Error because quickSearch.jsp has this:


<s:if test=""%{infoMessage != null}"">
  <p>${infoMessage}</p>
</s:if>",Major,Closed,Duplicate,,,Ramon Medel,frmedelb
MRM-1217,Bug,2009-07-15T16:50:17.018Z,2009-07-15T16:50:17.018Z,2009-07-16T02:36:30.481Z,2009-07-16T02:36:30.481Z,2009-07-16T02:36:30.498Z,2009-07-16T02:36:30.498Z,upgrade standalone bundle to Jetty 6.1.19,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1292,Improvement,2009-12-01T09:59:40.136Z,2009-12-01T09:59:40.136Z,2011-03-29T09:59:25.557Z,2011-03-29T09:59:25.557Z,2010-02-23T01:24:45.053Z,2010-02-23T01:24:45.053Z,remove dependency-graph in favour of the maven-dependency-tree library,"the dependency graph module is only used to render the dependency tree on the artifact information pages. It currently reproduces a lot of Maven functionality, and is heavily tied to the archiva-repository-layer and archiva-model.

We should instead use the standard Maven library for handling Maven dependency trees. If we later encounter different types of trees, we can provide alternative implementations. It's unlikely something as generic is needed (though the code is still there to be revisited in SVN if the case arises)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1280,Bug,2009-11-18T21:47:42.353Z,2009-11-18T21:47:42.353Z,2014-10-27T18:03:28.775Z,2014-10-27T18:03:28.775Z,2014-10-27T18:03:28.609Z,2014-10-27T18:03:28.609Z,SNAPSHOT artifacts are not processed with timestamped versions when added via web upload form while their poms are processed with timestamped versions resulting to being treated as separate versions in browse,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1220,Bug,2009-07-16T20:39:59.864Z,2009-07-16T20:39:59.864Z,2009-07-16T20:40:29.874Z,2009-07-16T20:40:29.874Z,2009-07-16T20:40:29.888Z,2009-07-16T20:40:29.888Z,disable Struts devMode,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1269,Bug,2009-10-21T04:39:44.79Z,2009-10-21T04:39:44.79Z,2016-03-15T06:26:11.078Z,2016-03-15T06:26:11.078Z,2016-03-15T06:26:11.053Z,2016-03-15T06:26:11.053Z,RSS feed contains the host of the requested server,"Imagine running jetty standalone on localhost:8080, having a proxy before. The RSS feed gets the scheme, name, port
from the RSSServletRequest.

<?xml version=""1.0"" encoding=""UTF-8""?>
<rss xmlns:content=""http://purl.org/rss/1.0/modules/content/"" xmlns:rdf=""http://www.w3.org/1999/02/22-rdf-syntax-ns#"" xmlns:dc=""http://purl.org/dc/elements/1.1/"" xmlns:taxo=""http://purl.org/rss/1.0/modules/taxonomy/"" version=""2.0"">
  <channel>
    <title>New Artifacts in Repository 'internal'</title>
    <link>https://localhost:8080/archiva/feeds/internal</link>

Maybe having a configuration setting is an option, where the URL base for thinks like ""WebDavURL"", ""RSS base URL"" etc. can be set
manually instead of guessing them in different ways (ContextUtils.java, req.getBaseUrl( ), etc.)
",Major,Closed,Fixed,,,Andreas Baumann,andreas_baumann
MRM-1290,Bug,2009-11-29T20:37:09.202Z,2009-11-29T20:37:09.202Z,2016-03-15T05:55:25.77Z,2016-03-15T05:55:25.77Z,2009-11-29T20:41:54.392Z,2009-11-29T20:41:54.392Z,getDependees always returns results for archiva-test in xmlrpc,incorrect hardcoding,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1248,Bug,2009-09-04T08:46:48.009Z,2009-09-04T08:46:48.009Z,2011-09-12T12:07:51.576Z,2011-09-12T12:07:51.576Z,2011-09-12T12:07:51.565Z,2011-09-12T12:07:51.565Z,"Archiva ""lends"" its network proxy settings to Hudson","Archiva 1.2.1 and Hudson ver. 1.322 are deployed on the same Tomcat instance.

When I create a network proxy configuration for remote repositories in Archiva, Hudson cannot access the local Subversion repository anymore. It turns out that Hudson somehow inherits the HTTP proxy settings from its neighbor web application, Archiva.

This is reproducible.
",Major,Closed,Fixed,,,Thomas Vandahl,tv
MRM-1264,Improvement,2009-10-14T04:40:21.491Z,2009-10-14T04:40:21.491Z,2010-02-23T02:17:20.301Z,2010-02-23T02:17:20.301Z,2009-10-14T10:17:32.176Z,2009-10-14T10:17:32.176Z,reduce memory used by indexing process,"the ArchivaIndexerTask (and other scheduling tasks) use quite a bit of memory per file (particularly the name, but also other fields that are unused)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1215,Bug,2009-07-10T13:43:59.303Z,2009-07-10T13:43:59.303Z,2009-07-10T18:21:20.769Z,2009-07-10T18:21:20.769Z,2009-07-10T18:21:20.776Z,2009-07-10T18:21:20.776Z,404 when retrieving tar.bz2 assembly artifact deployed to Archiva,"I have a project (packaging = pom) that builds a tar.bz2 assembly in its package phase and deploys the assembly when the project is deployed.  If I build/deploy the project and navigate to http://myarchivaserver/archiva/repository/internal/myGroupId/myArtifactId/1.0-SNAPSHOT/ I see:

myArtifactId-1.0-20090708.125341-38.pom
myArtifactId-1.0-20090708.125341-38.pom.md5
myArtifactId-1.0-20090708.125341-38.pom.sha1
myArtifactId-1.0-20090708.125341-38-release.tar.bz2
myArtifactId-1.0-20090708.125341-38-release.tar.bz2.md5
myArtifactId-1.0-20090708.125341-38-release.tar.bz2.sha1

I can access all of the *.pom* files without any problem, but if I attempt to download any of the *.tar.bz2* artifacts Archiva returns a 404.  I have verified that the file does indeed exist in the Archiva repository on the filesystem.  If I browse to my project in Archiva (http://myarchivaserver/archiva/browse/myGroupId/myArtifactId/1.0-SNAPSHOT), I see a link called ""Distribution-bzip"" in the Downloads section in the  upper right.  This links to http://myarchivaserver/archiva/repository/internal/myGroupId/myArtifactId/1.0-SNAPSHOT/myArtifactId-1.0-20090708.125341-38-release.distribution-bzip, which does not exist.  However, if I manually rename myArtifactId-1.0-20090708.125341-38-release.tar.bz2 to myArtifactId-1.0-20090708.125341-38-release.distribution-bzip in the Archiva repository (and similarly rename the checksum files), I can download the tar.bz2 file, and the project that depends on it can also access it.  So it seems like Archiva is translating requests for myArtifactId-1.0-20090708.125341-38-release.tar.bz2 to myArtifactId-1.0-20090708.125341-38-release.distribution-bzip, but when the archive is deployed to Archiva it isn't renamed to myArtifactId-1.0-20090708.125341-38-release.distribution-bzip.

I've searched the issue tracker and mailing lists, but I haven't seen any issues exactly like this.  This seems to be a similar problem: http://jira.codehaus.org/browse/MRM-1200 but it looks like it's related to proxying Maven 1 repositories.",Major,Closed,Duplicate,,,James Baldassari,jbaldassari
MRM-1291,Bug,2009-12-01T03:47:19.585Z,2009-12-01T03:47:19.585Z,2010-01-21T19:14:44.167Z,2010-01-21T19:14:44.167Z,2010-01-21T19:14:44.101Z,2010-01-21T19:14:44.101Z,Archiva has periodic load-peaks ,"Archiva causes periodically an increased system-load. (see Munin-stats attached)

During these peaks calling the homepage takes around 6 secs, whereas normally it is around 1 sec.

I could not identify corresponding messages in the logs.

Could somebody else observe this?",Major,Closed,Duplicate,Brett Porter,brettporter,Marc Lustig,axismundi
MRM-1237,Bug,2009-08-25T09:40:56.819Z,2009-08-25T09:40:56.819Z,2009-08-28T02:21:33.653Z,2009-08-28T02:21:33.653Z,2009-08-28T02:21:33.665Z,2009-08-28T02:21:33.665Z,Error 500 after Login,"Using Version 1.2.1 productive an this error occurs:

Can you help me please?

HTTP ERROR: 500
INTERNAL_SERVER_ERROR
RequestURI=/archiva/redbackRedirect.action 

Caused by:
java.lang.NullPointerException
at org.apache.struts2.dispatcher.mapper.DefaultActionMapper.getUriFromActionMapping(DefaultActionMapper.java:466)
at org.apache.maven.archiva.web.mapper.RepositoryActionMapper.getUriFromActionMapping(RepositoryActionMapper.java:185)
at org.apache.struts2.dispatcher.ServletActionRedirectResult.execute(ServletActionRedirectResult.java:184)
at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:348)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253)
at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:115)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:173)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:166)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
at org.mortbay.jetty.Server.handle(Server.java:324)
at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)

Powered by Jetty://",Blocker,Closed,Duplicate,Brett Porter,brettporter,Thomas,thosor
MRM-1288,Improvement,2009-11-27T18:28:19.463Z,2009-11-27T18:28:19.463Z,2016-03-15T05:55:25.31Z,2016-03-15T05:55:25.31Z,2010-02-23T01:29:04.062Z,2010-02-23T01:29:04.062Z,migrate XMLRPC from DefaultRepositoryBrowsing to the metadata content repository API,see MRM-1025 for more information,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1260,Bug,2009-10-08T21:27:09.526Z,2009-10-08T21:27:09.526Z,2010-12-08T22:05:07.775Z,2010-12-08T22:05:07.775Z,,,Indexing tasks are lost when server goes down or re-starts,Queued indexing tasks are lost when the server goes down or re-starts resulting to some artifacts not being indexed. The workaround is to force Archiva to scan the entire repository again when the server is back online.,Major,Open,,,,Maria Odea Ching,oching
MRM-1227,Improvement,2009-07-30T05:00:21.777Z,2009-07-30T05:00:21.777Z,2016-03-15T05:55:25.461Z,2016-03-15T05:55:25.461Z,2009-07-30T09:57:28.264Z,2009-07-30T09:57:28.264Z,XMLRPC Basic Compliance ( Call archiva XMLRPC Service from other language like Php ),The XMLRPC API used by archiva is not compliant with other language and client xml-rpc,Major,Closed,Not A Problem,,,Fabien,fadubois
MRM-1294,Bug,2009-12-03T19:22:09.46Z,2009-12-03T19:22:09.46Z,2010-01-11T22:13:36.949Z,2010-01-11T22:13:36.949Z,2009-12-03T19:46:25.217Z,2009-12-03T19:46:25.217Z,repository scan period is incorrect,the repository scanner uses the end time of the previous scan + the duration as the start time for the next scan. This means that any artifacts that are added in that time between scans will not be detected.,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1265,Bug,2009-10-14T23:31:10.354Z,2009-10-14T23:31:10.354Z,2010-01-11T22:13:37.201Z,2010-01-11T22:13:37.201Z,2009-10-14T23:41:33.558Z,2009-10-14T23:41:33.558Z,.indexer directory should not be scanned,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1245,Bug,2009-09-03T12:50:41.387Z,2009-09-03T12:50:41.387Z,2009-09-17T11:37:20.208Z,2009-09-17T11:37:20.208Z,2009-09-17T11:37:20.215Z,2009-09-17T11:37:20.215Z,Archiva cache/create corrupt/invalid pom and jar in its internal directory,"Currently running 1.1.4, and when putting a dependency section that is not available internally or externally, Achriva creates/caches corrupt/invalid pom and jar in the internal directory",Major,Closed,Won't Fix,Brett Porter,brettporter,apache maillist,apache.maillist
MRM-1267,Bug,2009-10-20T01:07:21.677Z,2009-10-20T01:07:21.677Z,2010-01-11T22:13:32.984Z,2010-01-11T22:13:32.984Z,2009-11-06T06:08:28.656Z,2009-11-06T06:08:28.656Z,Hide the sub-topics in documentation menu by default,"The sub-topics of ""Log Files"" are displayed. (http://archiva.apache.org/docs/1.2.2/index.html)

The sub-topics should be hidden by default similar to other topics.",Minor,Closed,Fixed,jzurbano,jzurbano,jzurbano,jzurbano
MRM-1287,Improvement,2009-11-27T15:05:43.717Z,2009-11-27T15:05:43.717Z,2011-10-03T10:21:37.748Z,2011-10-03T10:21:37.748Z,2011-10-03T10:21:37.717Z,2011-10-03T10:21:37.717Z,Nexus indexer drags in unnecessary dependencies,"the use of nexus-indexer drags in some libraries we don't need (for example, commons-cli, and some XML APIs). Look at excluding those where possible.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1251,Improvement,2009-09-15T04:32:07.533Z,2009-09-15T04:32:07.533Z,2010-01-11T22:13:32.151Z,2010-01-11T22:13:32.151Z,2009-10-07T22:33:08.815Z,2009-10-07T22:33:08.815Z,Update documentation - Artifacts not displayed in Archiva GUI after release ,"According to the documentation, artifacts should show up immediately. It should not be necessary to wait for a scan.

http://archiva.apache.org/docs/1.2.1/userguide/deploy.html says

    Once the files are deployed into the location of the Archiva managed repository, they should immediately appear in the Browse page. The artifacts should also be searcheable as long as the index-content repository consumer is enabled.",Major,Closed,Fixed,jzurbano,jzurbano,Gwen Harold Autencio,gautencio
MRM-1210,Improvement,2009-06-30T14:30:08.81Z,2009-06-30T14:30:08.81Z,2014-04-17T00:10:24.848Z,2014-04-17T00:10:24.848Z,2014-04-17T00:10:24.503Z,2014-04-17T00:10:24.503Z,Dependency tree should include the artifact type,"Currently in the dependency tree view, you can't tell what type the artifact is (jar, war, etc.).  The view should include this information.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Wendy Smoak,wsmoak
MRM-1238,Bug,2009-08-26T02:51:32.76Z,2009-08-26T02:51:32.76Z,2010-01-11T22:13:41.183Z,2010-01-11T22:13:41.183Z,2009-09-10T10:17:41.395Z,2009-09-10T10:17:41.395Z,NPE when updating consumers of known content without setting any of the checkboxes (enabled),"java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.admin.scanning.RepositoryScanningAction.filterAddedConsumers(RepositoryScanningAction.java:319)
	at org.apache.maven.archiva.web.action.admin.scanning.RepositoryScanningAction.updateKnownConsumers(RepositoryScanningAction.java:269)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:159)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:154)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:184)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:167)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1115)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:361)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:533)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:207)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:403)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:522)",Major,Closed,Fixed,jzurbano,jzurbano,mbaclay,mbaclay
MRM-1284,New Feature,2009-11-24T07:21:47.247Z,2009-11-24T07:21:47.247Z,2017-04-05T19:13:48.664Z,2017-04-05T19:13:48.664Z,,,Support for archetype-catalog.xml,"When creating new archetypes for custom type of projects, the archetypes need to be published (deployed) to a repository. However, to use the archetypes (e.g. in M2Eclipse), you need to set an URL for a remote archetype-catalog.xml

Archiva should be able to (dynamically) produce the contents of an archetype-catalog.xml based on (all) of the archetypes deployed in the given repository. This would enable teams to use their own archetypes more efficiently.",Major,Open,,,,Mike Haller,mhaller
MRM-1254,Task,2009-09-22T04:50:12.94Z,2009-09-22T04:50:12.94Z,2010-01-11T22:13:41.335Z,2010-01-11T22:13:41.335Z,2009-10-12T03:09:54.152Z,2009-10-12T03:09:54.152Z,Add more unit tests for searching artifacts,Implement test for MRM-981 which was removed since the migration to the new index format.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1212,Bug,2009-07-09T22:42:44.207Z,2009-07-09T22:42:44.207Z,2009-07-28T00:09:29.385Z,2009-07-28T00:09:29.385Z,2009-07-28T00:09:29.399Z,2009-07-28T00:09:29.399Z,create-missing-checksums and metadata-updater sometimes causes deployments to fail for large projects when enabled,Deployment of checksum and metadata files fails and an error 400 is returned. I reproduced this error when building the Archiva and Continuum sources and deploying them to a running Archiva instance.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1216,Task,2009-07-13T23:59:03.918Z,2009-07-13T23:59:03.918Z,2009-07-16T02:43:46.757Z,2009-07-16T02:43:46.757Z,2009-07-16T02:43:46.765Z,2009-07-16T02:43:46.765Z,Logging conflict on startup in Jetty bundle,"This makes it possible to reconfigure the output which can not be done with the simple provider.

The properties that could then be set:
http://www.exampledepot.com/egs/java.util.logging/Props.html
",Minor,Closed,Fixed,Brett Porter,brettporter,Maria Catherine Tan,ctan
MRM-1250,Bug,2009-09-10T01:18:45.793Z,2009-09-10T01:18:45.793Z,2010-01-11T22:13:37.802Z,2010-01-11T22:13:37.802Z,2009-09-10T04:59:52.898Z,2009-09-10T04:59:52.898Z,Granting the Global Repository Manager/System Administrator role does not automatically assign the Global Repository Observer role,Go to the role assignments of the default 'admin' account. Global Repository Observer checkbox is editable which shouldn't be. You can also reproduce this by creating a new user with a System Administrator/Global Repository Manager role.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1275,Improvement,2009-11-10T03:28:22.157Z,2009-11-10T03:28:22.157Z,2010-01-11T22:13:41.569Z,2010-01-11T22:13:41.569Z,2009-11-10T05:09:59.001Z,2009-11-10T05:09:59.001Z,Include other file types for the index consumer instead of just the indexable-content,"Since the nexus indexer processes the artifact itself and not the pom, the default configuration should have the other file types (jar, war, ear, etc.) in indexable-content so that they get indexed without the need to add these configuration. ",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1244,Improvement,2009-09-02T10:26:06.902Z,2009-09-02T10:26:06.902Z,2011-09-12T11:33:02.481Z,2011-09-12T11:33:02.481Z,2011-09-12T11:33:02.458Z,2011-09-12T11:33:02.458Z,Improve Authorization Denied log message,"I see this in archiva.log

2009-09-02 08:05:42,086 [btpool0-0] INFO  org.apache.maven.archiva.security.ArchivaServletAuthenticator  - Authorization Denied [ip=127.0.0.1,permission=archiva-read-repository,repo=internal] : no matching permissions

Can this message be improved to include
 1. the file being accessed
 2. the username that tried to access it
?

Sometimes you can correlate times with the Jetty access log and figure it out.  (In my environment it's usually the guest user missing a repo observer role.)
",Major,Closed,Duplicate,,,Wendy Smoak,wsmoak
MRM-1247,Bug,2009-09-04T02:59:15.644Z,2009-09-04T02:59:15.644Z,2014-04-16T23:05:01.618Z,2014-04-16T23:05:01.618Z,2014-04-16T23:05:01.454Z,2014-04-16T23:05:01.454Z,Error 500 encountered when logging in as non-existing LDAP user,"The following error should be handled in Archiva.

{noformat}
HTTP ERROR 500

Problem accessing /archiva/security/login.action. Reason:

    INTERNAL_SERVER_ERROR

Caused by:

java.lang.NullPointerException
	at org.codehaus.plexus.redback.struts2.action.LoginAction.webLogin(LoginAction.java:341)
	at org.codehaus.plexus.redback.struts2.action.LoginAction.login(LoginAction.java:133)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:111)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:167)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:97)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
	at org.mortbay.jetty.Server.handle(Server.java:326)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:879)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:747)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
{noformat}",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jzurbano,jzurbano
MRM-1231,Bug,2009-08-03T11:42:55.464Z,2009-08-03T11:42:55.464Z,2016-03-15T05:55:24.469Z,2016-03-15T05:55:24.469Z,2009-10-15T21:26:48.653Z,2009-10-15T21:26:48.653Z, Not authorized to use method with version parameter,"I have instantiated an xml-rpc client in php (which is working) with login / password of archiva administrator account.

But I have a strange behavior.

According to this documentation :
http://archiva.apache.org/docs/1.2.1/adminguide/web-services.html

I can use Administration Service, and get back information.

I can use Search Service, excepted methods that are using a version of artifact in parameter!

For example :

SearchService.getArtifactVersions( String groupId, String artifactId )  is working
AdministrationService.getAllManagedRepositories() is working

SearchService.getDependencies( String groupId, String artifactId, String version ) is not working, And the returned message is : ""Not authorized"".
SearchService.getDependencyTree( String groupId, String artifactId, String version )  is not working, And the returned message is : ""Not authorized"".

I don't understand my mistake because there is no problem with administration Service which needs an user with System Administrator role in Archiva, but it is not working for Search Services with an artifact version, which needs only an user with at least a Repository Observer role. So for me it's a bug

",Major,Closed,Fixed,Brett Porter,brettporter,Fabien,fadubois
MRM-1278,Bug,2009-11-16T01:58:19.14Z,2009-11-16T01:58:19.14Z,2010-01-11T22:13:37.672Z,2010-01-11T22:13:37.672Z,2009-11-19T21:33:08.719Z,2009-11-19T21:33:08.719Z,Wrong repository displayed in Archiva browse,"Artifact was deployed to 'snapshots' repository, but it shows 'internal' in the Artifact Information page from browse. See attached screen shots for details.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1232,Bug,2009-08-09T20:05:03.46Z,2009-08-09T20:05:03.46Z,2009-08-13T02:18:28.808Z,2009-08-13T02:18:28.808Z,2009-08-13T02:18:28.813Z,2009-08-13T02:18:28.813Z,Unable to get artifacts from repositories which requires Repository Manager role using repository group,"To reproduce:
# Create managed repository 'releases'
# Create a new user account with the following credentials
#* username: newuser
#* password: pass1
# Assign Repository Manager role for 'releases' repository to newuser
# Deploy a test artifact to 'releases' repository. Make sure that the credentials are configured in settings.xml
# Create a new repository group named 'internal.group'
# Add the 'releases' repository and the pre-configured 'internal' repository to 'internal.group'
# Add the following configuration to your settings.xml:
{code}
<mirrors>
  <mirror>
    <id>internal.group</id>
   <name>Local Mirror</name>
   <url>http://localhost:8080/archiva/repository/internal.group</url>
   <mirrorOf>*</mirrorOf>
  </mirror>
<mirrors>
<servers>
  <server>
    <id>internal.group</id>
    <username>newuser</username>
    <password>pass1</password>
  </server>  
</server>
{code}
# Build a project with a dependency on the test artifact you deploy in step 4. The build would fail with unable to resolve artifact ... error.
# Edit guest account and assign Repository Observer role for repository 'releases'
# Build the project again. You would get a successful build.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1161,Bug,2009-04-01T01:41:55.435Z,2009-04-01T01:41:55.435Z,2009-05-23T02:30:42.34Z,2009-05-23T02:30:42.34Z,2009-05-23T02:30:42.345Z,2009-05-23T02:30:42.345Z,indexing causes NullPointer when getting a SNAPSHOT that has been deployed with maven 2.1,"A fresh SNAPSHOT has been deployed on a (file based) repo. Archiva is configured to proxy this one to ""snapshots"" managed repo.

getting the SNAPSHOT metadata, POM or JAR results in :

java.lang.NullPointerException
	org.sonatype.nexus.index.context.DefaultIndexingContext.copyDocument(DefaultIndexingContext.java:582)
	org.sonatype.nexus.index.packer.DefaultIndexPacker.writeIndexChunks(DefaultIndexPacker.java:168)
	org.sonatype.nexus.index.packer.DefaultIndexPacker.packIndex(DefaultIndexPacker.java:94)
	org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScan(NexusIndexerConsumer.java:211)
	org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.execute(TriggerScanCompletedClosure.java:48)
	org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:265)
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:576)
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:163)
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:554)
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepository(ArchivaDavResourceFactory.java:430)
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:236)
	org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:116)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)


Same thing don't occurs if the SNAPSHOT is deployed with webdav in archiva directly",Critical,Closed,Fixed,Maria Odea Ching,oching,nicolas de loof,ndeloof
MRM-1132,Improvement,2009-03-11T07:53:01.455Z,2009-03-11T07:53:01.455Z,2009-05-05T06:55:46.996Z,2009-05-05T06:55:46.996Z,2009-05-05T06:55:47.004Z,2009-05-05T06:55:47.004Z,NPE when deploying due to indexing,"{code}
393885 [btpool0-6] ERROR org.mortbay.log - /archiva/repository/snapshots/test/test-deploy-snapshot/1.0-SNAPSHOT/test-deploy-snapshot-1.0-SNAPSHOT.jar
java.lang.NullPointerException
        at org.sonatype.nexus.index.context.DefaultIndexingContext.copyDocument(DefaultIndexingContext.java:582)
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.writeIndexChunks(DefaultIndexPacker.java:168)
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.packIndex(DefaultIndexPacker.java:94)
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScan(NexusIndexerConsumer.java:209)
        at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.execute(TriggerScanCompletedClosure.java:48)
{code}

No nulls are passed in. Deleting the repository's .index and .indexer directories corrected the problem - something appeared to get corrupted.",Major,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1144,Bug,2009-03-16T10:27:56.358Z,2009-03-16T10:27:56.358Z,2017-06-22T13:53:38.062Z,2017-06-22T13:53:38.062Z,2010-02-23T04:43:20.58Z,2010-02-23T04:43:20.58Z,Unable to download tar.bz2 type ,"I am able to use deploy:deploy-file or archiva's upload feature to upload

groupId: org.gnu
artifactId: binutils
version:2.9.1
packaging:tar.bz2

The browser would show it as 

Collection: /org/gnu/binutils/2.9.1

    * /org/gnu/binutils (Parent)

    * binutils-2.9.1.tar.bz2
    * binutils-2.9.1.tar.bz2.md5
    * binutils-2.9.1.tar.bz2.sha1
    * binutils-2.9.1.tar.pom
    * binutils-2.9.1.tar.pom.md5
    * binutils-2.9.1.tar.pom.sha1
    * maven-metadata.xml
    * maven-metadata.xml.md5
    * maven-metadata.xml.sha1


However when click on binutils-2.9.1.tar.bz2

browser shows 

HTTP ERROR: 404

Resource does not exist

RequestURI=/archiva/repository/thirdparty/org/gnu/binutils/2.9.1/binutils-2.9.1.tar.bz2

Powered by Jetty://

The work around is to use packaging ""tbz2""

However if i upload the file using tbz2 packaging with classifier as ""sources""

groupId: org.gnu
artifactId: binutils
version:2.9.1
packaging:tbz2
classifier=sources

The browser return http 404

but this will work if I set the classifier to ""src""

groupId: org.gnu
artifactId: binutils
version:2.9.1
packaging:tbz2
classifier=src





",Critical,Closed,Duplicate,,,Dan Tran,dantran
MRM-1150,Improvement,2009-03-21T02:49:09.765Z,2009-03-21T02:49:09.765Z,2011-12-01T04:34:16.578Z,2011-12-01T04:34:16.578Z,,,make web file upload size configurable,"currently, you need to edit struts.properties in the application. Look into making it editable from ARCHIVA_BASE/conf/*.xml.

Ideally it would be in archiva.xml and then applied to struts on start up, so it can be edited from the UI.

Another alternative that may be simpler is to use an environment variable in the jetty.xml configuration.",Major,Open,,,,Brett Porter,brettporter
MRM-1128,Improvement,2009-03-10T06:58:46.09Z,2009-03-10T06:58:46.09Z,2016-03-15T06:23:32.083Z,2016-03-15T06:23:32.083Z,2016-03-15T06:23:32.063Z,2016-03-15T06:23:32.063Z,representation of group ID in search results can be confusing,using the path representation can make it unclear that it is the group ID - it might make sense to label the group and artifact ID,Minor,Closed,Fixed,,,Brett Porter,brettporter
MRM-1160,Bug,2009-03-31T19:14:00.911Z,2009-03-31T19:14:00.911Z,2009-05-23T02:31:27.093Z,2009-05-23T02:31:27.093Z,2009-05-23T02:31:27.098Z,2009-05-23T02:31:27.098Z,Nexus Indexer throws NPE intermittently on retrieval,"{code}
128609364 [btpool0-2] ERROR org.mortbay.log - /archiva/repository/releases/jfree/jfreechart/1.0.2/jfreechart-1.0.2.jar
java.lang.NullPointerException
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.beginScan(NexusIndexerConsumer.java:143)
        at org.apache.maven.archiva.repository.scanner.functors.TriggerBeginScanClosure.execute(TriggerBeginScanClosure.java:64)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:242)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:576)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:163)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:554)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepository(ArchivaDavResourceFactory.java:430)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryGroup(ArchivaDavResourceFactory.java:369)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:213)
        at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:116)
{code}

After retrying, it succeeded.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1124,Improvement,2009-03-10T00:28:44.877Z,2009-03-10T00:28:44.877Z,2017-04-05T20:15:29.014Z,2017-04-05T20:15:29.014Z,,,default configuration should separate releases and proxies,"currently there is internal (a proxy + releases repository) and snapshots.

Instead, we should have:
* releases
* snapshots
* central

A group can be created to span the two release repositories.",Major,Open,,,,Brett Porter,brettporter
MRM-1199,Bug,2009-06-09T11:48:23.776Z,2009-06-09T11:48:23.776Z,2009-06-09T20:36:15.787Z,2009-06-09T20:36:15.787Z,2009-06-09T20:36:15.801Z,2009-06-09T20:36:15.801Z,NullPointerException when admin account is locked.,"When trying to login with the admin user when that account is locked produces the following stacktrace.

{code}
javax.servlet.ServletException
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:515)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)

root cause

java.lang.NullPointerException
	org.apache.struts2.dispatcher.mapper.DefaultActionMapper.getUriFromActionMapping(DefaultActionMapper.java:466)
	org.apache.maven.archiva.web.mapper.RepositoryActionMapper.getUriFromActionMapping(RepositoryActionMapper.java:185)
	org.apache.struts2.dispatcher.ServletActionRedirectResult.execute(ServletActionRedirectResult.java:184)
	com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:348)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:253)
	com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:115)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:173)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:166)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	sun.reflect.GeneratedMethodAccessor65.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	sun.reflect.GeneratedMethodAccessor64.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
	java.security.AccessController.doPrivileged(Native Method)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:244)
	java.security.AccessController.doPrivileged(Native Method)
	javax.security.auth.Subject.doAsPrivileged(Subject.java:517)
	org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:276)
	org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:218)
{code}",Blocker,Closed,Duplicate,,,Christian Schulte,schulte77
MRM-1154,Improvement,2009-03-24T16:58:34.549Z,2009-03-24T16:58:34.549Z,2017-04-05T19:37:03.108Z,2017-04-05T19:37:03.108Z,2016-03-15T06:24:21.61Z,2016-03-15T06:24:21.61Z,Upgrade Archiva to Maven 3.0 APIs,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1175,Improvement,2009-04-27T05:10:10.344Z,2009-04-27T05:10:10.344Z,2015-04-05T14:54:05.834Z,2015-04-05T14:54:05.834Z,2011-10-29T18:09:50.238Z,2011-10-29T18:09:50.238Z,archiva-consumer-plugin-archetype: generates code that does not compile,"I downloaded the archetype for a consumer from http://svn.apache.org/repos/asf/archiva/sandbox/archiva-consumer-plugin-archetype/
The archetype has some minor issues:
1. The package name created for the 2 classes is hard-coded to org.example.consumer
2. The class PlexusTestCase cannot be resolved due to a missing dependency
3. There are transitive dependencies that cannot be resolved, specifically maven-plugin-api:2.1-SONATYPE-653485 and maven-model:2.1-SONATYPE-653485
",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Martin Goldhahn,mgoldhahn
MRM-1141,Bug,2009-03-13T21:34:28.42Z,2009-03-13T21:34:28.42Z,2009-07-30T01:16:03.512Z,2009-07-30T01:16:03.512Z,2009-07-30T01:16:03.52Z,2009-07-30T01:16:03.52Z,archiva-cli no longer works,"This may be a result of spring context files not being merged, or something not being on the classpath, but the cause is not immediately obvious.

{code}
Exception in thread ""main"" org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://plexus.codehaus.org/spring]
Offending resource: URL [jar:file:/Users/brett/scm/archiva/archiva/archiva-cli/target/apache-archiva-cli-1.2-SNAPSHOT.jar!/META-INF/plexus/components.xml]

	at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:68)
	at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:85)
	at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:80)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.error(BeanDefinitionParserDelegate.java:281)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1294)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1287)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:135)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:92)
	at org.codehaus.plexus.spring.PlexusBeanDefinitionDocumentReader.registerBeanDefinitions(PlexusBeanDefinitionDocumentReader.java:85)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:507)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:398)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:342)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:143)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:178)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:149)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:212)
	at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:113)
	at org.codehaus.plexus.spring.PlexusClassPathXmlApplicationContext.loadBeanDefinitions(PlexusClassPathXmlApplicationContext.java:103)
	at org.codehaus.plexus.spring.PlexusClassPathXmlApplicationContext.loadBeanDefinitions(PlexusClassPathXmlApplicationContext.java:125)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:123)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:422)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:352)
	at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:139)
	at org.springframework.context.support.ClassPathXmlApplicationContext.<init>(ClassPathXmlApplicationContext.java:93)
	at org.codehaus.plexus.spring.PlexusClassPathXmlApplicationContext.<init>(PlexusClassPathXmlApplicationContext.java:91)
	at org.apache.maven.archiva.cli.ArchivaCli.<init>(ArchivaCli.java:82)
	at org.apache.maven.archiva.cli.ArchivaCli.main(ArchivaCli.java:103)
{code}

",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1145,Bug,2009-03-17T12:40:46.614Z,2009-03-17T12:40:46.614Z,2014-11-27T04:43:01.699Z,2014-11-27T04:43:01.699Z,2014-10-13T23:57:17.527Z,2014-10-13T23:57:17.527Z,RSS tests do not correctly check responses,"there appears to be a bug in the tests:
testInvalidRequest
testInvalidAuthenticationRequest
testUnauthorizedRequest

They all get a 200 response when expecting an error, and were not correctly checking the response",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1155,Bug,2009-03-26T06:12:30.836Z,2009-03-26T06:12:30.836Z,2009-08-20T05:47:07.096Z,2009-08-20T05:47:07.096Z,2009-08-20T05:47:07.126Z,2009-08-20T05:47:07.126Z,m2eclipse - getting index from archiva 1.2 failed,Archiva should provide an option to generate the indices for the nexus indexer which is used by m2eclipse.,Major,Closed,Fixed,Maria Odea Ching,oching,Michael K,mk4work
MRM-1109,Bug,2009-03-08T15:44:33.79Z,2009-03-08T15:44:33.79Z,2009-03-21T21:01:43.438Z,2009-03-21T21:01:43.438Z,2009-03-08T15:45:03.737Z,2009-03-08T15:45:03.737Z,environment checks do not indicate which caused a violation,the errors that occur lack context and should indicate which check failed to assist in repairing it,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1184,Bug,2009-05-14T14:44:14.668Z,2009-05-14T14:44:14.668Z,2009-05-14T14:49:47.321Z,2009-05-14T14:49:47.321Z,2009-05-14T14:49:47.334Z,2009-05-14T14:49:47.334Z,NPE when uploading new artifact,"I've got a Server Error every time I try to manually upload a jar. The upload is successful nevertheless.
Restarting does not solve the problem.
Is there a way to clean the index ?


RequestURI=/archiva/upload!doUpload.action

Caused by:

java.lang.NullPointerException
	at org.apache.lucene.index.IndexWriter.init(IndexWriter.java:1053)
	at org.apache.lucene.index.IndexWriter.(IndexWriter.java:908)
	at org.sonatype.nexus.index.context.NexusIndexWriter.(NexusIndexWriter.java:35)
	at org.sonatype.nexus.index.context.DefaultIndexingContext.getIndexWriter(DefaultIndexingContext.java:363)
	at org.sonatype.nexus.index.creator.DefaultIndexerEngine.endIndexing(DefaultIndexerEngine.java:63)
	at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScan(NexusIndexerConsumer.java:210)
	at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.execute(TriggerScanCompletedClosure.java:48)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:265)
	at org.apache.maven.archiva.web.action.UploadAction.doUpload(UploadAction.java:348)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:268)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:159)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:173)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:268)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:166)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
",Major,Closed,Duplicate,Brett Porter,brettporter,Julien,julienito
MRM-1129,Bug,2009-03-10T07:23:36.905Z,2009-03-10T07:23:36.905Z,2015-04-05T23:58:20.535Z,2015-04-05T23:58:20.535Z,2011-09-23T10:17:34.159Z,2011-09-23T10:17:34.159Z,web applications are not indexed for java source code,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1131,Improvement,2009-03-11T07:09:39.59Z,2009-03-11T07:09:39.59Z,2010-02-23T03:53:02.29Z,2010-02-23T03:53:02.29Z,,,user credentials needs centralisation and simplification clean up,"attached is a refactoring I was experimenting with, however became too extensive for 1.2. I noticed a couple of test failures so it may have been too aggressive.

Note some problems in the current code though:
* principal is propogated into domain code (search, browse), only for logging
* user repositories is a poor abstraction (eg, it will fall away as we move to artifact level security or other types)
 too many combinations for obtaining the principal in xwork-user - it should be set by an interceptor consistently, and non-struts code should have a single way to query the request for the credentials
* audit events should use an MDC for the logged in user and IP address",Major,Open,,,,Brett Porter,brettporter
MRM-1120,Bug,2009-03-09T09:53:07.699Z,2009-03-09T09:53:07.699Z,2011-03-29T09:59:23.167Z,2011-03-29T09:59:23.167Z,2010-02-23T04:14:45.334Z,2010-02-23T04:14:45.334Z,"groups that only have one subgroup, but also contain artifacts, get collapsed in browse","consider these artifacts:

test:MRM-123
test:MRM-234
test.MRM345:artifact

This will only show the group test.MRM345 in the browse, since it detects there is only one group under test and can collapse it. It is not checking for artifacts in the group.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1134,New Feature,2009-03-11T11:04:06.092Z,2009-03-11T11:04:06.092Z,2010-02-22T23:59:05.334Z,2010-02-22T23:59:05.334Z,,,incorporate redback's backup/restore functionality into UI,,Major,Open,,,,Brett Porter,brettporter
MRM-1178,Wish,2009-05-05T02:19:33.081Z,2009-05-05T02:19:33.081Z,2009-07-02T01:58:01.036Z,2009-07-02T01:58:01.036Z,2009-07-02T01:58:01.05Z,2009-07-02T01:58:01.05Z,Very large log file,"My server log file is very large. For one day it has over 100MB. There are a lot of lines with DEBUG options: 

{noformat}type = 'pom'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,321 DEBUG [JPOX.JDO.Lifecycle] ""xerces:xerces:2.4.0::pom:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,321 DEBUG [JPOX.Transaction] ""xerces:xerces:2.4.0::pom:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,321 DEBUG [JPOX.Cache] Object with id ""xml-apis:xml-apis:2.0.2::pom:internal"" not found in Level 1 cache [cache size = 1241]
2009-05-05 09:00:04,321 DEBUG [JPOX.Cache] Adding object with id ""xml-apis:xml-apis:2.0.2::pom:internal"" to Level 1 cache
2009-05-05 09:00:04,321 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xml-apis'
artifactId = 'xml-apis'
version = '2.0.2'
classifier = ''
type = 'pom'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,321 DEBUG [JPOX.JDO.Lifecycle] ""xml-apis:xml-apis:2.0.2::pom:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,321 DEBUG [JPOX.Transaction] ""xml-apis:xml-apis:2.0.2::pom:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,322 DEBUG [JPOX.Cache] Object with id ""xml-apis:xml-apis:1.3.04::pom:internal"" not found in Level 1 cache [cache size = 1242]
2009-05-05 09:00:04,322 DEBUG [JPOX.Cache] Adding object with id ""xml-apis:xml-apis:1.3.04::pom:internal"" to Level 1 cache
2009-05-05 09:00:04,322 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xml-apis'
artifactId = 'xml-apis'
version = '1.3.04'
classifier = ''
type = 'pom'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,322 DEBUG [JPOX.JDO.Lifecycle] ""xml-apis:xml-apis:1.3.04::pom:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,322 DEBUG [JPOX.Transaction] ""xml-apis:xml-apis:1.3.04::pom:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,323 DEBUG [JPOX.Cache] Object with id ""xml-apis:xml-apis:1.3.04::jar:internal"" not found in Level 1 cache [cache size = 1243]
2009-05-05 09:00:04,323 DEBUG [JPOX.Cache] Adding object with id ""xml-apis:xml-apis:1.3.04::jar:internal"" to Level 1 cache
2009-05-05 09:00:04,323 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xml-apis'
artifactId = 'xml-apis'
version = '1.3.04'
classifier = ''
type = 'jar'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,323 DEBUG [JPOX.JDO.Lifecycle] ""xml-apis:xml-apis:1.3.04::jar:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,323 DEBUG [JPOX.Transaction] ""xml-apis:xml-apis:1.3.04::jar:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,324 DEBUG [JPOX.Cache] Object with id ""xml-apis:xml-apis:1.0.b2::pom:internal"" not found in Level 1 cache [cache size = 1244]
2009-05-05 09:00:04,324 DEBUG [JPOX.Cache] Adding object with id ""xml-apis:xml-apis:1.0.b2::pom:internal"" to Level 1 cache
2009-05-05 09:00:04,324 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xml-apis'
artifactId = 'xml-apis'
version = '1.0.b2'
classifier = ''
type = 'pom'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,324 DEBUG [JPOX.JDO.Lifecycle] ""xml-apis:xml-apis:1.0.b2::pom:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,324 DEBUG [JPOX.Transaction] ""xml-apis:xml-apis:1.0.b2::pom:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,325 DEBUG [JPOX.Cache] Object with id ""xml-apis:xml-apis:1.0.b2::jar:internal"" not found in Level 1 cache [cache size = 1245]
2009-05-05 09:00:04,325 DEBUG [JPOX.Cache] Adding object with id ""xml-apis:xml-apis:1.0.b2::jar:internal"" to Level 1 cache
2009-05-05 09:00:04,325 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xml-apis'
artifactId = 'xml-apis'
version = '1.0.b2'
classifier = ''
type = 'jar'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,325 DEBUG [JPOX.JDO.Lifecycle] ""xml-apis:xml-apis:1.0.b2::jar:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,325 DEBUG [JPOX.Transaction] ""xml-apis:xml-apis:1.0.b2::jar:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,326 DEBUG [JPOX.Cache] Object with id ""xmlunit:xmlunit:1.2::pom:internal"" not found in Level 1 cache [cache size = 1246]
2009-05-05 09:00:04,326 DEBUG [JPOX.Cache] Adding object with id ""xmlunit:xmlunit:1.2::pom:internal"" to Level 1 cache
2009-05-05 09:00:04,326 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xmlunit'
artifactId = 'xmlunit'
version = '1.2'
classifier = ''
type = 'pom'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,326 DEBUG [JPOX.JDO.Lifecycle] ""xmlunit:xmlunit:1.2::pom:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,326 DEBUG [JPOX.Transaction] ""xmlunit:xmlunit:1.2::pom:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,326 DEBUG [JPOX.Cache] Object with id ""xmlunit:xmlunit:1.2::jar:internal"" not found in Level 1 cache [cache size = 1247]
2009-05-05 09:00:04,326 DEBUG [JPOX.Cache] Adding object with id ""xmlunit:xmlunit:1.2::jar:internal"" to Level 1 cache
2009-05-05 09:00:04,327 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xmlunit'
artifactId = 'xmlunit'
version = '1.2'
classifier = ''
type = 'jar'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,327 DEBUG [JPOX.JDO.Lifecycle] ""xmlunit:xmlunit:1.2::jar:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,327 DEBUG [JPOX.Transaction] ""xmlunit:xmlunit:1.2::jar:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,327 DEBUG [JPOX.Cache] Object with id ""xpp3:xpp3_min:1.1.3.4.O::pom:internal"" not found in Level 1 cache [cache size = 1248]
2009-05-05 09:00:04,327 DEBUG [JPOX.Cache] Adding object with id ""xpp3:xpp3_min:1.1.3.4.O::pom:internal"" to Level 1 cache
2009-05-05 09:00:04,327 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xpp3'
artifactId = 'xpp3_min'
version = '1.1.3.4.O'
classifier = ''
type = 'pom'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,327 DEBUG [JPOX.JDO.Lifecycle] ""xpp3:xpp3_min:1.1.3.4.O::pom:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,328 DEBUG [JPOX.Transaction] ""xpp3:xpp3_min:1.1.3.4.O::pom:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,328 DEBUG [JPOX.Cache] Object with id ""xpp3:xpp3_min:1.1.3.4.O::jar:internal"" not found in Level 1 cache [cache size = 1249]
2009-05-05 09:00:04,328 DEBUG [JPOX.Cache] Adding object with id ""xpp3:xpp3_min:1.1.3.4.O::jar:internal"" to Level 1 cache
2009-05-05 09:00:04,329 DEBUG [JPOX.JDO] Detaching copy of object : ""groupId = 'xpp3'
artifactId = 'xpp3_min'
version = '1.1.3.4.O'
classifier = ''
type = 'jar'
repositoryId = 'internal'"" (depth=0)
2009-05-05 09:00:04,329 DEBUG [JPOX.JDO.Lifecycle] ""xpp3:xpp3_min:1.1.3.4.O::jar:internal"" : HOLLOW->P_CLEAN
2009-05-05 09:00:04,329 DEBUG [JPOX.Transaction] ""xpp3:xpp3_min:1.1.3.4.O::jar:internal"" : enlisting in transactional cache
2009-05-05 09:00:04,329 DEBUG [JPOX.Transaction] Transaction committing with connection org.jboss.resource.adapter.jdbc.jdk6.WrappedConnectionJDK6@111c51f
2009-05-05 09:00:04,329 DEBUG [JPOX.JDO.Reachability] Performing check of objects for ""persistence-by-reachability"" (commit) ...
2009-05-05 09:00:04,329 DEBUG [JPOX.JDO.Reachability] Completed check of objects for ""persistence-by-reachability"" (commit).
2009-05-05 09:00:04,329 DEBUG [JPOX.Transaction] Connection org.jboss.resource.adapter.jdbc.jdk6.WrappedConnectionJDK6@111c51f closed for pessimistic transaction
2009-05-05 09:00:04,329 DEBUG [JPOX.RDBMS] Connection ""org.jboss.resource.adapter.jdbc.jdk6.WrappedConnectionJDK6@111c51f"" closed
2009-05-05 09:00:04,331 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.doxia:doxia-modules:1.0-alpha-10::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,331 DEBUG [JPOX.Transaction] ""org.apache.maven.doxia:doxia-modules:1.0-alpha-10::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,331 DEBUG [JPOX.JDO.Lifecycle] ""plexus:plexus-utils:1.0.1::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,331 DEBUG [JPOX.Transaction] ""plexus:plexus-utils:1.0.1::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,331 DEBUG [JPOX.JDO.Lifecycle] ""org.richfaces:framework:3.2.2.SR1::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,331 DEBUG [JPOX.Transaction] ""org.richfaces:framework:3.2.2.SR1::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,331 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.myfaces.trinidad:trinidad-api:1.0.1-SNAPSHOT::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,331 DEBUG [JPOX.Transaction] ""org.apache.myfaces.trinidad:trinidad-api:1.0.1-SNAPSHOT::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,331 DEBUG [JPOX.JDO.Lifecycle] ""junit:junit:4.0:sources:java-source:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,331 DEBUG [JPOX.Transaction] ""junit:junit:4.0:sources:java-source:internal"" : evicting from transactional cache
2009-05-05 09:00:04,331 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.plugins:maven-plugin-plugin:2.3::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""org.apache.maven.plugins:maven-plugin-plugin:2.3::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""com.sun.xml.stream.buffer:streambuffer:0.7::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""com.sun.xml.stream.buffer:streambuffer:0.7::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""qdox:qdox:1.5::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""qdox:qdox:1.5::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""geronimo-spec:geronimo-spec-jta:1.0.1B-rc4::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""geronimo-spec:geronimo-spec-jta:1.0.1B-rc4::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven:maven:2.0.3::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""org.apache.maven:maven:2.0.3::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""javax.jws:jsr181-api:1.0-MR1::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""javax.jws:jsr181-api:1.0-MR1::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""org.codehaus.plexus:plexus-velocity:1.1.7::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""org.codehaus.plexus:plexus-velocity:1.1.7::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""org.codehaus.plexus:plexus-containers:1.0-alpha-30::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""org.codehaus.plexus:plexus-containers:1.0-alpha-30::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""commons-pool:commons-pool:1.3::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""commons-pool:commons-pool:1.3::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.myfaces.trinidadbuild:maven-javacc-plugin:1.0.1-SNAPSHOT::maven-plugin:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""org.apache.myfaces.trinidadbuild:maven-javacc-plugin:1.0.1-SNAPSHOT::maven-plugin:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""commons-collections:commons-collections:3.1::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""commons-collections:commons-collections:3.1::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,332 DEBUG [JPOX.JDO.Lifecycle] ""org.mortbay.jetty:project:6.1-20061031.211236-8::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,332 DEBUG [JPOX.Transaction] ""org.mortbay.jetty:project:6.1-20061031.211236-8::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven:maven-plugin-api:2.0.8::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.maven:maven-plugin-api:2.0.8::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.doxia:doxia-site-renderer:1.0-alpha-8::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.maven.doxia:doxia-site-renderer:1.0-alpha-8::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""com.sun.jmx:jmxri:1.2.1::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""com.sun.jmx:jmxri:1.2.1::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""jtidy:jtidy:4aug2000r7-dev::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""jtidy:jtidy:4aug2000r7-dev::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven:maven-settings:2.0.6::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.maven:maven-settings:2.0.6::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""xml-apis:xml-apis:1.3.04::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""xml-apis:xml-apis:1.3.04::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.mortbay.jetty:jetty:6.1.5::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.mortbay.jetty:jetty:6.1.5::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.shared:shared-components-parent:1::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.maven.shared:shared-components-parent:1::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.scm:maven-scm-provider-cvsexe:1.0-beta-3::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.maven.scm:maven-scm-provider-cvsexe:1.0-beta-3::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.myfaces.trinidadbuild:maven-jdev-plugin:1.0.1-incubating-SNAPSHOT::maven-plugin:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.myfaces.trinidadbuild:maven-jdev-plugin:1.0.1-incubating-SNAPSHOT::maven-plugin:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.myfaces.trinidadbuild:maven-plugin-parent:1.0.0-incubating::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,333 DEBUG [JPOX.Transaction] ""org.apache.myfaces.trinidadbuild:maven-plugin-parent:1.0.0-incubating::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,333 DEBUG [JPOX.JDO.Lifecycle] ""org.codehaus.plexus:plexus-utils:1.4.6::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.codehaus.plexus:plexus-utils:1.4.6::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.openjpa:openjpa-persistence:1.1.0::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.apache.openjpa:openjpa-persistence:1.1.0::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.plugins:maven-clean-plugin:2.2-SNAPSHOT::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.apache.maven.plugins:maven-clean-plugin:2.2-SNAPSHOT::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.geronimo.specs:geronimo-jta_1.1_spec:1.1::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.apache.geronimo.specs:geronimo-jta_1.1_spec:1.1::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""geronimo-spec:geronimo-spec-jta:1.0.1B-rc4::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""geronimo-spec:geronimo-spec-jta:1.0.1B-rc4::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.plugins:maven-plugin-parent:2.0::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.apache.maven.plugins:maven-plugin-parent:2.0::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.plugins:maven-eclipse-plugin:2.4-SNAPSHOT::maven-plugin:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.apache.maven.plugins:maven-eclipse-plugin:2.4-SNAPSHOT::maven-plugin:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.jvnet.jax-ws-commons:pom:1.0::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.jvnet.jax-ws-commons:pom:1.0::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""pl.nbp.portal:pegaz-eai-wsdl:1.0-20090410.164656-2::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""pl.nbp.portal:pegaz-eai-wsdl:1.0-20090410.164656-2::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""weblogic:com.bea.core.weblogic.stax:1.4.0.0::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""weblogic:com.bea.core.weblogic.stax:1.4.0.0::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.codehaus.plexus:plexus-container-default:1.0-alpha-8::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.codehaus.plexus:plexus-container-default:1.0-alpha-8::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.velocity:velocity:1.6.2::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,334 DEBUG [JPOX.Transaction] ""org.apache.velocity:velocity:1.6.2::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,334 DEBUG [JPOX.JDO.Lifecycle] ""cargo:cargo:0.5::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,335 DEBUG [JPOX.Transaction] ""cargo:cargo:0.5::pom:internal"" : evicting from transactional cache
2009-05-05 09:00:04,335 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.doxia:doxia-module-xhtml:1.0-alpha-11::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,335 DEBUG [JPOX.Transaction] ""org.apache.maven.doxia:doxia-module-xhtml:1.0-alpha-11::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,335 DEBUG [JPOX.JDO.Lifecycle] ""org.mortbay.jetty:jetty:6.0.0beta12::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,335 DEBUG [JPOX.Transaction] ""org.mortbay.jetty:jetty:6.0.0beta12::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,335 DEBUG [JPOX.JDO.Lifecycle] ""weblogic:tools:1.6.0.02::jar:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,335 DEBUG [JPOX.Transaction] ""weblogic:tools:1.6.0.02::jar:internal"" : evicting from transactional cache
2009-05-05 09:00:04,335 DEBUG [JPOX.JDO.Lifecycle] ""org.apache.maven.plugins:maven-resources-plugin:2.2::pom:internal"" : P_CLEAN->HOLLOW
2009-05-05 09:00:04,336 DEBUG [JPOX.Transaction] ""org.apache.maven.plugins:maven-resources-plugin:2.2::pom:internal"" : evicting from transactional cache{noformat}


Could you tell me, how can i turn off DEBUG options? 
Cron options doesn't work well. I have 30 6 * * 1-5 ? , but scannig is starting every hour... 

Thanks for advice
Piotr Stawinski",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Piotr Stawinski,pstawik
MRM-1162,Bug,2009-04-01T02:40:09.258Z,2009-04-01T02:40:09.258Z,2009-08-12T21:19:55.932Z,2009-08-12T21:19:55.932Z,2009-07-29T06:16:27.761Z,2009-07-29T06:16:27.761Z,nexus.index.time always set to 19700101010000.000+0100,"Hi,
I made an upgrade from 1.1.2 to 1.2. If I scan my repository and look afterwards in the generated nexus index properties file there is always has the wrong timestamp (nexus.index.time) set:
----------
#Wed Apr 01 09:22:43 CEST 2009
nexus.index.time=19700101010000.000 +0100
nexus.index.id=snapshots-third-party
",Major,Closed,Cannot Reproduce,Maria Odea Ching,oching,michael gantert,ghandim
MRM-1170,Bug,2009-04-07T14:02:47.933Z,2009-04-07T14:02:47.933Z,2017-04-05T20:13:59.533Z,2017-04-05T20:13:59.533Z,,,"Add a new role for ""Delete artifact""","It would definitely be a must to add a role for ""delete artifact"" and not  encapsulate in the Repository Manager role, maybe a Read-Write-Delete-Upload? permission style.

Here is my use case:
Here is the use case:

With Archiva 2.1, there is now the ""Delete Artifact"" possibility in the UI, as long as you are a ""Repository Manager"", you have access to it.  In the past, we used the ""guest"" logon for everyone which was ""Repository manager"" for our snapshots and development repositories, hence no username/password in the settings.xml file.  And everyone could deploy to those repositories, and from the command-line (mvn deploy or mvn deploy:deploy-file) .

Now we don't want everyone to go to the UI and have the possibility to delete artifacts from those repositories, so we can't give ""guest"" the ""Repository manager"" role for those repositories anymore, because if we do the ""delete Artifact"" functionality is enabled.
We've then created a ""deployment"" user which has those roles, add it to the settings.xml file and make sure to find a way to ""hide"" the password!  

",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Sonia Lodovichetti,sonia.lodovichetti@ericsson.com
MRM-1114,Bug,2009-03-09T02:04:29.499Z,2009-03-09T02:04:29.499Z,2011-09-12T11:53:42.045Z,2011-09-12T11:53:42.045Z,2011-09-12T11:53:42.033Z,2011-09-12T11:53:42.033Z,Archiva misleadingly logs an authorization error when deploying during the initial challenge stage,"In ArchivaServletAuthenticator:

{code}
log.info( ""Authorization Denied [ip="" + request.getRemoteAddr() + "",isWriteRequest="" + isWriteRequest +
  "",permission="" + permission + "",repo="" + repositoryId + ""] : "" +
  authzResult.getException().getMessage() );
{code}

However, when deploying the client will send a request with no credentials first before receiving the challenge, and this is logged in the middle, which causes some confusion.

It should be removed altogether and possibly logged (maybe in a different audit location), but at a later stage where it is finally rejected.",Major,Closed,Duplicate,,,Brett Porter,brettporter
MRM-1149,Bug,2009-03-20T10:43:02.504Z,2009-03-20T10:43:02.504Z,2016-03-15T06:24:01.649Z,2016-03-15T06:24:01.649Z,2016-03-15T06:24:01.626Z,2016-03-15T06:24:01.626Z,White/Blacklist pattern matching doesn't work for Maven-1-repos,"I have a proxy connector to a Maven-1 repo.
I have a whitelist entry ""my/group/**"".

If I try to download an artifact with the groupId ""my.group.id"" then my repository is ignored.

This is because for Maven-2 repos the resolved filename is something like ""my/group/id/<artifactId>"". 
But I have a Maven-1 repo and here the resolved filename is ""my.group.id/<artifactId>"".

Changing the whitelist entry to ""my.group.**"" still doesn't work, because the method DefaultRepositoryProxyConnector.matchesPattern() uses org.codehaus.plexus.util.SelectorUtils.matchPath() to check if the file matches a whitelist entry. 
But SelectorUtils works only with the ""file.separator"" (""/"" on Unix) to split the filename. So I have no chance of using stars (*) in the whitelist. 

As a hack I could specify the complete groupId with stars (I cannot omit the stars) ""my.group.id/**"" - this works. But I can't add ""my.group.**"" to the whitelist.

Regards
Lars",Major,Closed,Won't Fix,,,Lars Beuster,lbeuster
MRM-1191,Improvement,2009-06-01T01:02:11.165Z,2009-06-01T01:02:11.165Z,2015-04-05T14:54:03.372Z,2015-04-05T14:54:03.372Z,2009-07-27T05:54:45.941Z,2009-07-27T05:54:45.941Z,Add Archiva log files in documentation,Provide an overview of the Archiva log files in the documentation documentation.,Minor,Closed,Fixed,Maria Odea Ching,oching,jzurbano,jzurbano
MRM-1111,Bug,2009-03-08T18:17:06.332Z,2009-03-08T18:17:06.332Z,2011-05-23T21:48:27.749Z,2011-05-23T21:48:27.749Z,2011-04-12T10:37:15.735Z,2011-04-12T10:37:15.735Z,upgrade to struts 2.1.8.1,we are currently using 2.0.11.2,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1127,Bug,2009-03-10T06:34:10.242Z,2009-03-10T06:34:10.242Z,2014-07-18T16:41:52.94Z,2014-07-18T16:41:52.94Z,2014-03-02T18:44:04.515Z,2014-03-02T18:44:04.515Z,last modified headers incorrect on directory listing,"eg. http://localhost:7777/archiva/repository/snapshots/test/test-deploy-snapshot/1.0-SNAPSHOT/

{code}
  Last-Modified: Mon, 07 Apr 2008 08:02:19 GMT
  Last-Modified: Tue, 10 Mar 2009 11:25:14 GMT
  ETag: 
{code}

ETag is empty and last modified is duplicated",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1118,Bug,2009-03-09T08:51:40.887Z,2009-03-09T08:51:40.887Z,2016-03-24T04:14:56.414Z,2016-03-24T04:14:56.414Z,2016-03-24T04:14:56.391Z,2016-03-24T04:14:56.391Z,additional search box picks up errors from the quick search page and the checksum search page,,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1171,Bug,2009-04-08T10:44:56.997Z,2009-04-08T10:44:56.997Z,2009-07-20T00:56:09.121Z,2009-07-20T00:56:09.121Z,2009-07-20T00:56:09.125Z,2009-07-20T00:56:09.125Z,Archiva 1.2 - Internet Explorer - Search - Anvanced Search - Advanced Search Fields - Add Search Field (green +),"I have this issue in Internet Explorer (everything is OK in  Firefox) - Under ""Search"" option if I press ""Advanced Search"", and then press ""Add Search Field"" (green plus) - nothing will happen, if I'll press second time I'll receive this error:


---------------------------
Windows Internet Explorer
---------------------------
Cannot add field! Field has already been added.
---------------------------
OK  
--------------------------- ",Major,Closed,Fixed,Maria Odea Ching,oching,Vladimir,vlacan
MRM-1195,Improvement,2009-06-02T06:21:01.474Z,2009-06-02T06:21:01.474Z,2009-07-02T02:10:18.787Z,2009-07-02T02:10:18.787Z,,,Add access (i.e. download) logging to audit log,"Currently, the Archiva audit log only contains modification to the repositories. However, it would be very useful if also access (i.e. downloads) can be logged, especially for security reasons in business environments. I tried doing this with Tomcat, but then the GET requests are visible but the username is not.

Logging the downloads should be configurable: logging thousands of downloads from user 'guest' might not be desirable.

See also discussion on Archiva users mailinglist.",Major,Open,,,,Rob ten Hove,robth
MRM-1159,Bug,2009-03-31T10:59:58.516Z,2009-03-31T10:59:58.516Z,2009-07-02T01:58:50.402Z,2009-07-02T01:58:50.402Z,2009-07-02T01:58:50.414Z,2009-07-02T01:58:50.414Z,Unable to start Archiva on Glassfish using MySQL,"Trying to add a new repository (Administration>Repositories>Remote Add) on a brand new instance fails with that exception :
java.lang.NoClassDefFoundError: Could not initialize class com.opensymphony.xwork2.validator.ValidatorFactory
	at com.opensymphony.xwork2.validator.ValidatorFileParser.addValidatorConfigs(ValidatorFileParser.java:192)
	at com.opensymphony.xwork2.validator.ValidatorFileParser.parseActionValidatorConfigs(ValidatorFileParser.java:72)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.loadFile(AnnotationActionValidatorManager.java:361)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildClassValidatorConfigs(AnnotationActionValidatorManager.java:252)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildValidatorConfigs(AnnotationActionValidatorManager.java:340)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.getValidators(AnnotationActionValidatorManager.java:69)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:138)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:113)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:100)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doBeforeInvocation(ValidationInterceptor.java:142)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:148)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:166)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:246)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:313)
	at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:287)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:218)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:648)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:593)
	at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:94)
	at com.sun.enterprise.web.PESessionLockingStandardPipeline.invoke(PESessionLockingStandardPipeline.java:98)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:222)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:648)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:593)
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:587)
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:1096)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:166)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:648)
	at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:593)
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:587)
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:1096)
	at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:288)
	at com.sun.enterprise.web.connector.grizzly.DefaultProcessorTask.invokeAdapter(DefaultProcessorTask.java:647)
	at com.sun.enterprise.web.connector.grizzly.DefaultProcessorTask.doProcess(DefaultProcessorTask.java:579)
	at com.sun.enterprise.web.connector.grizzly.DefaultProcessorTask.process(DefaultProcessorTask.java:831)
	at com.sun.enterprise.web.connector.grizzly.DefaultReadTask.executeProcessorTask(DefaultReadTask.java:341)
	at com.sun.enterprise.web.connector.grizzly.DefaultReadTask.doTask(DefaultReadTask.java:263)
	at com.sun.enterprise.web.connector.grizzly.DefaultReadTask.doTask(DefaultReadTask.java:214)
	at com.sun.enterprise.web.portunif.PortUnificationPipeline$PUTask.doTask(PortUnificationPipeline.java:380)
	at com.sun.enterprise.web.connector.grizzly.TaskBase.run(TaskBase.java:265)
	at com.sun.enterprise.web.connector.grizzly.ssl.SSLWorkerThread.run(SSLWorkerThread.java:106)
",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Cyril Delmas,patriarch24
MRM-1192,Improvement,2009-06-01T01:09:10.99Z,2009-06-01T01:09:10.99Z,2015-04-05T14:54:14.923Z,2015-04-05T14:54:14.923Z,2009-06-01T01:11:50.085Z,2009-06-01T01:11:50.085Z,Add Archiva log files in documentation,Provide an overview of the Archiva log files in the documentation documentation.,Minor,Closed,Duplicate,Brett Porter,brettporter,jzurbano,jzurbano
MRM-1135,Bug,2009-03-11T11:09:47.297Z,2009-03-11T11:09:47.297Z,2009-03-21T21:01:02.086Z,2009-03-21T21:01:02.086Z,2009-03-14T01:44:22.278Z,2009-03-14T01:44:22.278Z,Cannot remove a whitelist entry containing backslashes,"Archiva supports adding whitelist entries containing backslashes like:

javax\.**
com\.**

but refuses to remove such entries stating

Non-existant white list pattern [com.**], no white list pattern removed.
Non-existant white list pattern [javax.**], no white list pattern removed.

This is a blocker since there is no way to remove such whitelist entries using the web UI.
",Blocker,Closed,Fixed,Maria Odea Ching,oching,Christian Schulte,schulte77
MRM-1165,Improvement,2009-04-01T22:25:41.964Z,2009-04-01T22:25:41.964Z,2009-05-19T21:35:49.935Z,2009-05-19T21:35:49.935Z,2009-05-19T21:35:49.938Z,2009-05-19T21:35:49.938Z,Move out upgrade instructions from 'Installing Standalone' into it's own page,It's hard to find the upgrade instructions if you don't know where it is. ,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1190,Improvement,2009-05-27T05:51:37.522Z,2009-05-27T05:51:37.522Z,2009-05-29T08:02:35.083Z,2009-05-29T08:02:35.083Z,2009-05-29T08:02:24.252Z,2009-05-29T08:02:24.252Z,More fine-grained blacklist/whitelist for artifacts,"I would like to have more filtering possiblities for artifacts of a remote proxy.

For instance, SpringSource artifacts are declared similar to
{code}<dependency>
                        <groupId>org.apache.log4j</groupId>
                        <artifactId>com.springsource.org.apache.log4j</artifactId>
                        <version>1.2.15</version>
                </dependency>{code}

But I have no way of adding them to a whitelist/blacklist.",Major,Closed,Not A Problem,Brett Porter,brettporter,Robert Munteanu,rombert
MRM-1189,Bug,2009-05-25T11:05:04.601Z,2009-05-25T11:05:04.601Z,2009-08-07T20:35:36.253Z,2009-08-07T20:35:36.253Z,2009-08-07T20:35:36.262Z,2009-08-07T20:35:36.262Z,Search with dashes returns no results,"When searching for ""plexus-component-api"" (simple web search or webservice quicksearch), I am getting no results.
Searching for ""component"" finds several (including plexus-component-api).

Since many artifactIds contain dashes, I've marked the issue as Critical.",Critical,Closed,Cannot Reproduce,Maria Odea Ching,oching,Abel Muiño,amuino
MRM-1115,Bug,2009-03-09T03:29:00.156Z,2009-03-09T03:29:00.156Z,2009-03-09T03:29:14.318Z,2009-03-09T03:29:14.318Z,,,consumers that fail to start should remove themselves from the list of consumers for the current scan,"currently, it relies on the consumer checking in processFile whether the consumer started properly and to skip the action if not",Major,Open,,,,Brett Porter,brettporter
MRM-1196,Bug,2009-06-02T15:32:41.338Z,2009-06-02T15:32:41.338Z,2009-06-11T03:16:29.352Z,2009-06-11T03:16:29.352Z,2009-06-11T03:16:29.357Z,2009-06-11T03:16:29.357Z,checksums are not updated when artifact is re-uploaded,"If you upload a jar through the web interface, Archiva correctly generates md5 and sha1 checksums for the jar and pom.

If you re-upload the same artifact, (perhaps you accidentally uploaded the wrong jar, or need to fix something in the pom,) Archiva does not generate new checksums.

This causes multiple downloads and warning during Maven builds.

To reproduce, upload any jar as com.example:example:1.0 and verify the checksums:

$ md5sum -c example-1.0.jar.md5
example-1.0.jar: OK

$ sha1sum -c example-1.0.jar.sha1
example-1.0.jar: OK

Then upload a different jar with the same parameters.  Verify the checksums, and you'll see:

$ md5sum -c example-1.0.jar.md5
example-1.0.jar: FAILED
md5sum: WARNING: 1 of 1 computed checksum did NOT match

$ sha1sum -c example-1.0.jar.sha1
example-1.0.jar: FAILED
sha1sum: WARNING: 1 of 1 computed checksum did NOT match

This also happens if you upload a new pom.

A workaround is to delete the artifact before uploading the replacement.  Then Archiva will generate the checksums correctly.",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-1121,Bug,2009-03-09T10:39:55.918Z,2009-03-09T10:39:55.918Z,2009-03-22T17:32:39.036Z,2009-03-22T17:32:39.036Z,2009-03-18T09:29:10.758Z,2009-03-18T09:29:10.758Z,NPE in browse at artifact level,"after having just completed the scan for junit, I browsed into junit/junit (The artifact level)

I got a 500 with:
{code}
java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.BrowseAction.populateSharedModel(BrowseAction.java:183)
	at org.apache.maven.archiva.web.action.BrowseAction.browseArtifact(BrowseAction.java:127)
{code}

Note that going direct to 3.7 works. I continue to get the error instead of the list of versions.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1138,Bug,2009-03-12T21:37:27.996Z,2009-03-12T21:37:27.996Z,2009-03-22T17:32:39.581Z,2009-03-22T17:32:39.581Z,2009-03-13T00:23:09.558Z,2009-03-13T00:23:09.558Z,Fix java.lang.NullPointerException: configuration can not be null on startup,"{noformat}
2009-03-13 13:36:21.023::WARN:  Nested in org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'indexCleanupConsumer' defined in URL [jar:file:/private/tmp/Jetty_0_0_0_0_9091_archiva.webapp.1.2.SNAPSHOT.war____xuhw8b/webapp/WEB-INF/lib/archiva-lucene-consumers-1.2-SNAPSHOT.jar!/META-INF/spring-context.xml]: Cannot resolve reference to bean 'repositoryContentFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repositoryContentFactory': Post-processing of the FactoryBean's object failed; nested exception is java.lang.NullPointerException: configuration can not be null:
java.lang.NullPointerException: configuration can not be null
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.<init>(CommonsConfigurationRegistry.java:89)
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.getSection(CommonsConfigurationRegistry.java:422)
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.addRegistryChangeListener(DefaultArchivaConfiguration.java:627)
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.addChangeListener(DefaultArchivaConfiguration.java:619)
	at org.apache.maven.archiva.repository.RepositoryContentFactory.initialize(RepositoryContentFactory.java:163)
	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:217)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1429)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:139)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:269)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:104)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:495)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1234)
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:460)
	at org.mortbay.jetty.plugin.Jetty6PluginWebAppContext.doStart(Jetty6PluginWebAppContext.java:124)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
	at org.mortbay.jetty.Server.doStart(Server.java:222)
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
	at org.mortbay.jetty.plugin.Jetty6PluginServer.start(Jetty6PluginServer.java:132)
	at org.mortbay.jetty.plugin.AbstractJettyMojo.startJetty(AbstractJettyMojo.java:379)
	at org.mortbay.jetty.plugin.AbstractJettyMojo.execute(AbstractJettyMojo.java:321)
	at org.mortbay.jetty.plugin.Jetty6RunWar.execute(Jetty6RunWar.java:67)
	at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:453)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:559)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:513)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:483)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:331)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:292)
	at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:142)
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:336)
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:129)
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:301)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)
	at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)
	at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)
	at org.codehaus.classworlds.Launcher.main(Launcher.java:375)
2009-03-13 13:36:21.025::INFO:  Shutdown hook complete

{noformat}",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1126,Improvement,2009-03-10T06:22:00.928Z,2009-03-10T06:22:00.928Z,2013-11-24T23:18:49.228Z,2013-11-24T23:18:49.228Z,2013-11-24T23:18:49.176Z,2013-11-24T23:18:49.176Z,warning on changing repo location is confusing if it exists,"steps to reproduce:
1) add a new managed repository
2) set the directory to a directory that already exists (need not be a repository)
3) submit the page

what happens:
- confirmation page that says the directory already exists with a red warning

what should happen:
- likely should be omitted or be toned down, it's not unusual to point to an existing repository.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1148,Bug,2009-03-20T09:51:21.116Z,2009-03-20T09:51:21.116Z,2009-03-21T01:21:17.633Z,2009-03-21T01:21:17.633Z,2009-03-21T01:21:17.641Z,2009-03-21T01:21:17.641Z,indexing problems on metadata retrieval,"I repeatedly get the following, though the next attempt it succeeds (And a subsequent file dies). Note that there is another process using the repository at the same time.

{code}
04341 [btpool0-3] ERROR org.mortbay.log - /archiva/repository/releases/org/apache/maven/plugins/maven-pmd-plugin/maven-metadata.xml
org.apache.lucene.store.AlreadyClosedException: this IndexReader is closed
        at org.apache.lucene.index.IndexReader.ensureOpen(IndexReader.java:196)
        at org.apache.lucene.index.IndexReader.document(IndexReader.java:636)
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.writeIndexChunks(DefaultIndexPacker.java:168)
        at org.sonatype.nexus.index.packer.DefaultIndexPacker.packIndex(DefaultIndexPacker.java:94)
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScan(NexusIndexerConsumer.java:209)
        at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.execute(TriggerScanCompletedClosure.java:48)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:262)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:576)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchMetatadaFromProxies(DefaultRepositoryProxyConnectors.java:287)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:529)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepository(ArchivaDavResourceFactory.java:418)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryGroup(ArchivaDavResourceFactory.java:358)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:202)
        at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:118)
{code}

In addition, this shouldn't result in a 500 error
",Blocker,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1130,Improvement,2009-03-10T22:33:40.052Z,2009-03-10T22:33:40.052Z,2009-03-21T21:01:41.219Z,2009-03-21T21:01:41.219Z,2009-03-11T07:39:20.437Z,2009-03-11T07:39:20.437Z,add security audit log,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1108,Bug,2009-03-06T03:56:03.471Z,2009-03-06T03:56:03.471Z,2009-03-21T21:01:40.73Z,2009-03-21T21:01:40.73Z,2009-03-06T04:53:18.689Z,2009-03-06T04:53:18.689Z,"empty logoLocation can be set for the organisation, but does not show the default logo","My config had:

{code:xml}
<organisationInfo>
<name>Brett Porter</name>
<url></url>
<logoLocation></logoLocation>
</organisationInfo>
{code}

I don't recall if I configured this myself or if it was set that way in the past. The default checks are for nulls, not empty, so it showed a bad URL and logo",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1142,Improvement,2009-03-15T21:10:19.487Z,2009-03-15T21:10:19.487Z,2012-10-02T08:30:27.396Z,2012-10-02T08:30:27.396Z,2012-10-02T08:30:26.686Z,2012-10-02T08:30:26.686Z,Improve delete artifact from webapp,"Move delete artifact in artifact information page instead of as a separate form/menu. 

See the following thread in the dev list for more details:

http://www.mail-archive.com/dev@archiva.apache.org/msg00539.html ",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1151,Bug,2009-03-21T09:15:09.298Z,2009-03-21T09:15:09.298Z,2012-02-10T11:12:22.078Z,2012-02-10T11:12:22.078Z,2009-08-18T06:45:40.343Z,2009-08-18T06:45:40.343Z,Error when processing file nexus-maven-repository-index.zip,"On every repository scan, Archiva complains about the nexus-maven-repository-index.zip file.  See ERROR below:

2009-03-21 07:00:01,373 [pool-2-thread-1] INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Executing task from queue with job name: repository-job:snapshots
2009-03-21 07:00:01,436 [pool-2-thread-1] INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Started: [snapshots] /usr/local/share/repository/snapshots
2009-03-21 07:00:01,437 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer [repository-purge] had an error when processing file [/usr/local/share/repository/snapshots/.index/nexus-maven-repository-index.zip]: Not enough parts to the path [.index/nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
org.apache.maven.archiva.consumers.ConsumerException: Not enough parts to the path [.index/nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:174)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:50)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:137)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:117)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:61)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:120)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:637)
Caused by: org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException: Not enough parts to the path [.index/nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.process(CleanupReleasedSnapshotsRepositoryPurge.java:194)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:167)
	... 17 more
Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Not enough parts to the path [.index/nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:65)
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:54)
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:340)
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.process(CleanupReleasedSnapshotsRepositoryPurge.java:103)
	... 18 more
2009-03-21 07:00:01,612 [btpool0-5] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://repo1.maven.org/maven2/werken-xpath/werken-xpath/0.9.4/werken-xpath-0.9.4.pom : NO to update releases, policy is ONCE, and local file exist.: using already present local file.
2009-03-21 07:00:03,521 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [auto-remove] completed for repository [snapshots]
2009-03-21 07:00:03,521 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [metadata-updater] completed for repository [snapshots]
2009-03-21 07:00:03,521 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [auto-rename] completed for repository [snapshots]
2009-03-21 07:00:03,521 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [repository-purge] completed for repository [snapshots]
2009-03-21 07:00:03,521 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [update-db-artifact] completed for repository [snapshots]
2009-03-21 07:00:03,521 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [create-missing-checksums] completed for repository [snapshots]
2009-03-21 07:00:03,546 [btpool0-5] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [auto-remove] completed for repository [internal]
2009-03-21 07:00:03,546 [btpool0-5] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [metadata-updater] completed for repository [internal]
2009-03-21 07:00:03,546 [btpool0-5] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [auto-rename] completed for repository [internal]
2009-03-21 07:00:03,546 [btpool0-5] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [repository-purge] completed for repository [internal]
2009-03-21 07:00:03,546 [btpool0-5] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [update-db-artifact] completed for repository [internal]
2009-03-21 07:00:03,546 [btpool0-5] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [create-missing-checksums] completed for repository [internal]
2009-03-21 07:00:10,885 [pool-2-thread-1] INFO  org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure  - Consumer [index-content] completed for repository [snapshots]
2009-03-21 07:00:10,885 [pool-2-thread-1] INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Finished: [snapshots] /usr/local/share/repository/snapshots
2009-03-21 07:00:10,885 [pool-2-thread-1] INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Finished repository task: 
.\ Scan of snapshots \.__________________________________________
  Repository Dir    : /usr/local/share/repository/snapshots
  Repository Name   : Archiva Managed Snapshot Repository
  Repository Layout : default
  Known Consumers   : (7 configured)
                      auto-remove
                      metadata-updater
                      auto-rename
                      repository-purge
                      update-db-artifact
                      create-missing-checksums
                      index-content
  Invalid Consumers : <none>
  Duration          : 9 Seconds 449 Milliseconds
  When Gathered     : 3/21/09 7:00 AM
  Total File Count  : 320
  Avg Time Per File : 29 Milliseconds
______________________________________________________________
2009-03-21 07:01:09,623 [pool-1-thread-1] INFO  org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor  - Finished database task in 69580ms.
",Minor,Closed,Fixed,jzurbano,jzurbano,Wendy Smoak,wsmoak
MRM-1172,Bug,2009-04-15T15:34:54.893Z,2009-04-15T15:34:54.893Z,2009-10-02T16:38:31.755Z,2009-10-02T16:38:31.755Z,2009-05-24T06:43:25.36Z,2009-05-24T06:43:25.36Z,Invalid version validation error when uploading a jar with a four-part version number,"Archiva will not allow you to upload an artifact with a version number in the format 2.5-r123456-proj-1.2.3

We use this version number format to do internal releases of third-party artifacts.

Deploying from the command line works, but the artifact upload form in Archiva will not accept this version number and displays ""Invalid version"".
",Minor,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-1113,Bug,2009-03-08T20:00:04.118Z,2009-03-08T20:00:04.118Z,2016-03-15T06:22:56.457Z,2016-03-15T06:22:56.457Z,2016-03-15T06:22:56.435Z,2016-03-15T06:22:56.435Z,modify applet to support modern browsers,"several browsers (Eg, Safari 4, Firefox 3) do not provide the full path of a file input for security reasons, so the filename given to the applet contains no path information and fails.

To work around this, the file prompt should be done from within the applet itself instead.",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1185,New Feature,2009-05-15T04:35:09.471Z,2009-05-15T04:35:09.471Z,2015-04-05T14:54:09.475Z,2015-04-05T14:54:09.475Z,2010-01-11T04:19:18.594Z,2010-01-11T04:19:18.594Z,Archiva Reporting Modification Request,"# Log onto Archiva server as ""admin"".
# Click ""Reports"" in left nav.
# Select a repository.
# Click ""View Statistics""

The resulting report contains several counts including ""jar"" and ""war"" files.

We would like the report to include the following types:

EARs
DLLs
EXEs
ZIPs

All of these except ZIPs appear to be readily available in the

""org.apache.maven.archiva.reporting.RepositioryStatistics""

type which appears to be used to create the report.

It appears that EARs, DLLs, and EXEs can added to the report with a simple change to the

""org.apache.maven.archiva.web.action.reports.GenerateReportAction""

type.

If the above analysis is correct, we would ask that this be delivered in 2 parts:

1. Add EARs , DLLs, and EXEs to the report created by ""GenerateReportAction"" since this can be easily turned around.
2. Add ZIPs as soon as reasonably able to do so.",Minor,Closed,Fixed,Maria Odea Ching,oching,harry arbasa,harry_lp7
MRM-1166,Bug,2009-04-01T22:44:02.259Z,2009-04-01T22:44:02.259Z,2009-07-28T02:21:49.609Z,2009-07-28T02:21:49.609Z,2009-07-28T02:21:49.62Z,2009-07-28T02:21:49.62Z,"Search using some character keywords (asterisk, comma, double quote, colon) results to HTTP Error: 500","When searching for '*', the resulting error message is:

HTTP ERROR: 500

maxClauseCount is set to 1024

RequestURI=/archiva/quickSearch.action
Caused by:

org.apache.lucene.search.BooleanQuery$TooManyClauses: maxClauseCount is set to 1024
	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:163)
	at org.apache.lucene.search.BooleanQuery.add(BooleanQuery.java:154)
	at org.apache.lucene.search.MultiTermQuery.rewrite(MultiTermQuery.java:63)
	at org.apache.lucene.search.WildcardQuery.rewrite(WildcardQuery.java:54)
	at org.apache.lucene.search.BooleanQuery.rewrite(BooleanQuery.java:383)
	at org.apache.lucene.search.IndexSearcher.rewrite(IndexSearcher.java:162)
	at org.apache.lucene.search.Query.weight(Query.java:94)
	at org.apache.lucene.search.Hits.(Hits.java:85)
	at org.apache.lucene.search.Searcher.search(Searcher.java:61)


-----------
While searching for the other characters results to the following error:
HTTP ERROR: 500

Index: 0, Size: 0

RequestURI=/archiva/quickSearch.action
Caused by:

java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.RangeCheck(ArrayList.java:546)
	at java.util.ArrayList.get(ArrayList.java:321)
	at org.sonatype.nexus.index.DefaultQueryCreator.constructQuery(DefaultQueryCreator.java:207)
	at org.sonatype.nexus.index.DefaultNexusIndexer.constructQuery(DefaultNexusIndexer.java:468)
	at org.apache.archiva.indexer.search.NexusRepositorySearch.constructQuery(NexusRepositorySearch.java:188)
	at org.apache.archiva.indexer.search.NexusRepositorySearch.search(NexusRepositorySearch.java:74)
	at org.apache.maven.archiva.web.action.SearchAction.quickSearch(SearchAction.java:288)",Major,Closed,Cannot Reproduce,,,Maria Odea Ching,oching
MRM-1101,Bug,2009-02-26T13:23:06.164Z,2009-02-26T13:23:06.164Z,2009-03-21T21:01:05.793Z,2009-03-21T21:01:05.793Z,2009-03-11T11:53:14.933Z,2009-03-11T11:53:14.933Z,Audit log shows user guest when deploying files from Maven,"Testing M1 webdav deployment as user admin

I get in the log ""guest"" user

jvm 1    | 2009-02-26 11:15:03,444 [SocketListener0-1] INFO  AuditLog                       - /sample/poms/sample-echo-1.0-SNAPSHOT.pom guest 127.0.0.1 ""sample/poms"" ""Created Directory""
jvm 1    | 2009-02-26 11:15:03,795 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-1.0-SNAPSHOT.pom"" ""Created File""
jvm 1    | 2009-02-26 11:15:03,831 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-1.0-SNAPSHOT.pom.md5"" ""Modified File""
jvm 1    | 2009-02-26 11:15:03,836 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-1.0-SNAPSHOT.pom.sha1"" ""Modified File""
jvm 1    | 2009-02-26 11:15:03,842 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-snapshot-version"" ""Created File""
jvm 1    | 2009-02-26 11:15:03,850 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-snapshot-version.md5"" ""Created File""
jvm 1    | 2009-02-26 11:15:03,856 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-snapshot-version.sha1"" ""Created File""
jvm 1    | 2009-02-26 11:15:03,965 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-1.0-20090226.191503.pom"" ""Created File""
jvm 1    | 2009-02-26 11:15:03,976 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-1.0-20090226.191503.pom.md5"" ""Modified File""
jvm 1    | 2009-02-26 11:15:03,985 [SocketListener0-1] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/poms/sample-echo-1.0-20090226.191503.pom.sha1"" ""Modified File""
jvm 1    | 2009-02-26 11:15:03,995 [SocketListener0-0] INFO  AuditLog                       - /sample/jars/sample-echo-1.0-SNAPSHOT.jar guest 127.0.0.1 ""sample/jars"" ""Created Directory""
jvm 1    | 2009-02-26 11:15:04,001 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-1.0-SNAPSHOT.jar"" ""Created File""
jvm 1    | 2009-02-26 11:15:04,027 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-1.0-SNAPSHOT.jar.md5"" ""Modified File""
jvm 1    | 2009-02-26 11:15:04,052 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-1.0-SNAPSHOT.jar.sha1"" ""Modified File""
jvm 1    | 2009-02-26 11:15:04,169 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-snapshot-version"" ""Created File""
jvm 1    | 2009-02-26 11:15:04,177 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-snapshot-version.md5"" ""Created File""
jvm 1    | 2009-02-26 11:15:04,188 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-snapshot-version.sha1"" ""Created File""
jvm 1    | 2009-02-26 11:15:04,214 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-1.0-20090226.191503.jar"" ""Created File""
jvm 1    | 2009-02-26 11:15:04,220 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-1.0-20090226.191503.jar.md5"" ""Modified File""
jvm 1    | 2009-02-26 11:15:04,226 [SocketListener0-0] INFO  AuditLog                       - snapshots guest 127.0.0.1 ""/sample/jars/sample-echo-1.0-20090226.191503.jar.sha1"" ""Modified File""",Critical,Closed,Fixed,Brett Porter,brettporter,Carlos Sanchez,carlos
MRM-1179,Bug,2009-05-05T06:53:28.355Z,2009-05-05T06:53:28.355Z,2009-05-23T02:30:57.186Z,2009-05-23T02:30:57.186Z,2009-05-23T02:30:57.191Z,2009-05-23T02:30:57.191Z,NPE retrieving artifacts via http/webdav that are proxied,"{code}
java.lang.NullPointerException
        at org.apache.lucene.index.IndexWriter.init(IndexWriter.java:1053)
        at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:908)
        at org.sonatype.nexus.index.context.NexusIndexWriter.<init>(NexusIndexWriter.java:35)
        at org.sonatype.nexus.index.context.DefaultIndexingContext.getIndexWriter(DefaultIndexingContext.java:363)
        at org.sonatype.nexus.index.creator.DefaultIndexerEngine.index(DefaultIndexerEngine.java:55)
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.processFile(NexusIndexerConsumer.java:188)
{code}",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1187,Bug,2009-05-19T12:24:17.269Z,2009-05-19T12:24:17.269Z,2009-09-10T13:28:42.778Z,2009-09-10T13:28:42.778Z,,,"When admin user expire, archiva reaises an error when trying to ","After admin user had its password expired, then when I logon it asks to change the password and it 

I was forced to change the admin password, and it seems that archiva
is failing when I try to change it.
I tried a few things I saw on a few posts. I added/changed the
following lines to the security.properties:


security.policy.password.expiration.days=10000
security.policy.allowed.login.attempt=13
security.policy.password.expiration.enabled=false
security.policy.password.expiration.days=90
security.policy.unlockable.accounts=admin

Still I can't login as admin, or any other user as admin was my only user.
The stacktrace below is the page error.

HTTP ERROR: 500

fromIndex(0) > toIndex(-1)

RequestURI=/archiva/security/password.action
Caused by:

java.lang.IllegalArgumentException: fromIndex(0) > toIndex(-1)
	at java.util.SubList.(AbstractList.java:707)
	at java.util.RandomAccessSubList.(AbstractList.java:861)
	at java.util.AbstractList.subList(AbstractList.java:570)
	at org.codehaus.plexus.redback.policy.DefaultUserSecurityPolicy.extensionChangePassword(DefaultUserSecurityPolicy.java:338)
	at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:368)
	at org.codehaus.plexus.redback.users.cached.CachedUserManager.updateUser(CachedUserManager.java:229)
	at org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.updateUser(ConfigurableUserManager.java:174)
	at org.codehaus.plexus.redback.struts2.action.PasswordAction.submit(PasswordAction.java:144)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:173)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:159)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:166)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:97)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
",Major,Open,,,,Emerson Cargnin,echofloripa
MRM-1140,Bug,2009-03-13T08:36:51.974Z,2009-03-13T08:36:51.974Z,2015-04-05T21:12:45.872Z,2015-04-05T21:12:45.872Z,2009-03-13T21:32:54.24Z,2009-03-13T21:32:54.24Z,centralise logging through slf4j,there are a few plexus logging uses and a spread of logging configurations that need to be consolidated,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1194,Bug,2009-06-02T05:55:47.326Z,2009-06-02T05:55:47.326Z,2009-08-07T06:11:02.033Z,2009-08-07T06:11:02.033Z,2009-08-07T06:10:07.865Z,2009-08-07T06:10:07.865Z,Archiva doesn't cope with versions in a pom.xml that are properties,"I upgraded to Archiva 1.2.1 this morning, and after several failed starts got it going. Now there are some exceptions in the logs like the one below. It looks like Archiva parses the pom.xml and inserts the values for the versions. However, in this case the versions are properties that 
 don't seem to be resolved. 

The pom snippet is

{code:xml}
<plugin>
  <groupId>org.codehaus.mojo</groupId> 
  <artifactId>build-helper-maven-plugin</artifactId> 
  <version>${org.codehaus.mojo--build-helper-maven-plugin.version}</version> 
  <inherited>true</inherited> 
  <executions>
    <execution>
      <id>add-source</id> 
      <phase>generate-sources</phase> 
      <goals>
        <goal>add-source</goal> 
      </goals>
      <configuration>
        <sources>
          <source>${basedir}/java-gen</source> 
          <source>${basedir}/java-src</source> 
          <source>${basedir}/java-test</source> 
        </sources>
      </configuration>
    </execution>
  </executions>
</plugin>

 <properties>
    <org.codehaus.mojo--build-helper-maven-plugin.version>1.0</org.codehaus.mojo--build-helper-maven-plugin.version> 
    <maven-assembly-plugin.version>2.2-beta-1</maven-assembly-plugin.version> 
  </properties>
{code}

The stack trace is

{code}
 2009-05-29 09:51:19,114 [pool-1-thread-1] ERROR org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer - Unable to process model /home/devadmin/data/maven/mavenRepository/internal_snapshots/company/ProjectName/1.2.5-SNAPSHOT/ProjectName-1.2.5-20090209.204900-1.pom due to : javax.jdo.JDOFatalUserException : Attempt to store value ""${org.codehaus.mojo--build-helper-maven-plugin.version}"" in column ""VERSION"" that has maximum length of 50. Please correct your data!
 javax.jdo.JDOFatalUserException: Attempt to store value ""${org.codehaus.mojo--build-helper-maven-plugin.version}"" in column ""VERSION"" that has maximum length of 50. Please correct your data!
        at org.jpox.store.rdbms.mapping.CharRDBMSMapping.setString(CharRDBMSMapping.java:214)
        at org.jpox.store.mapping.SingleFieldMapping.setString(SingleFieldMapping.java:203)
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:122)
        at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
        at org.apache.maven.archiva.model.ArtifactReference.jdoProvideField(ArtifactReference.java)
        at org.apache.maven.archiva.model.ArtifactReference.jdoProvideFields(ArtifactReference.java)
        at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3115)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:252)
        at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
        at org.jpox.store.StoreManager.insert(StoreManager.java:938)
        at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3667)
        at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3646)
        at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1206)
        at org.jpox.AbstractPersistenceManager.makePersistentInternal(AbstractPersistenceManager.java:1259)
        at org.jpox.store.rdbms.scostore.FKListStore.validateElementForWriting(FKListStore.java:1231)
        at org.jpox.store.rdbms.scostore.FKListStore.internalAdd(FKListStore.java:772)
        at org.jpox.store.rdbms.scostore.AbstractListStore.addAll(AbstractListStore.java:387)
        at org.jpox.store.mapping.CollectionMapping.postInsert(CollectionMapping.java:209)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:464)
        at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
        at org.jpox.store.StoreManager.insert(StoreManager.java:938)
        at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3667)
        at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3646)
        at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1206)
        at org.jpox.AbstractPersistenceManager.makePersistent(AbstractPersistenceManager.java:1277)
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:189)
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:162)
        at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.saveProjectModel(JdoProjectModelDAO.java:86)
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifact(ProjectModelToDatabaseConsumer.java:177)
        at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:48)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:150)
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:87)
        at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:69)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
        at java.lang.Thread.run(Thread.java:619)
{code}
",Major,Closed,Fixed,Maria Odea Ching,oching,Ben Lidgey,ben.lidgey
MRM-1119,Bug,2009-03-09T09:30:53.167Z,2009-03-09T09:30:53.167Z,2011-09-12T08:29:45.344Z,2011-09-12T08:29:45.344Z,2011-09-12T08:29:45.238Z,2011-09-12T08:29:45.238Z,indexing needs assistance for those upgrading from 1.1,"since the format has changed, a new index needs to be created. However, since the database has already processed the artifacts, they won't be indexed. 

the previous directories will be ignored (.index), and should be cleaned up

if using a custom index location, the indexer will fail since one already exists

",Major,Closed,Won't Fix,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1157,Bug,2009-03-27T07:51:27.754Z,2009-03-27T07:51:27.754Z,2009-06-05T06:50:45.621Z,2009-06-05T06:50:45.621Z,2009-05-24T06:00:53.557Z,2009-05-24T06:00:53.557Z,Update from 1.1.3 to 1.2 fails with create table error,"After updating from 1.1.3 to 1.2 the following exception is thrown contiously:

[pool-1-thread-1] ERROR JPOX.RDBMS  - An exception was thrown while adding/validating class(es) : Can't create table './archiva/#sql-474f_847bb9.frm' (errno: 150)
java.sql.SQLException: Can't create table './archiva/#sql-474f_847bb9.frm' (errno: 150)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3491)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3423)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1936)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)
        at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:734)
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.TableImpl.validateForeignKeys(TableImpl.java:463)
        at org.jpox.store.rdbms.table.TableImpl.validateConstraints(TableImpl.java:388)
        at org.jpox.store.rdbms.table.ClassTable.validateConstraints(ClassTable.java:2875)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3123)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
        at org.jpox.AbstractPersistenceManager.newObjectIdInstance(AbstractPersistenceManager.java:2393)
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:426)
        at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.getProjectModel(JdoProjectModelDAO.java:73)
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.getProjectModelFromDatabase(ProjectModelToDatabaseConsumer.java:203)
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifact(ProjectModelToDatabaseConsumer.java:133)
        at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:48)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:150)
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:87)
        at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:69)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
        at java.lang.Thread.run(Thread.java:619)


Caused by: javax.jdo.JDODataStoreException: Error(s) were found while auto-creating/validating the datastore for classes. The errors are printed in the log, and are attached to this exception.
NestedThrowables:
java.sql.SQLException: Can't create table './archiva/#sql-474f_847bba.frm' (errno: 150)
java.sql.SQLException: Can't create table './archiva/#sql-474f_847bba.frm' (errno: 150)
java.sql.SQLException: Can't create table './archiva/#sql-474f_847bba.frm' (errno: 150)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.verifyErrors(RDBMSManager.java:3285)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3335)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
        at org.jpox.AbstractPersistenceManager.newObjectIdInstance(AbstractPersistenceManager.java:2393)
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:426)
        ... 19 more
Caused by: java.sql.SQLException: Can't create table './archiva/#sql-474f_847bba.frm' (errno: 150)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3491)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3423)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1936)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)
        at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:734)
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.TableImpl.validateForeignKeys(TableImpl.java:463)
        at org.jpox.store.rdbms.table.TableImpl.validateConstraints(TableImpl.java:388)
        at org.jpox.store.rdbms.table.ClassTable.validateConstraints(ClassTable.java:2875)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3123)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        ... 25 more

Archiva is successful proxying artifacts but release deployments fail with ""Error deploying artifact: Read timed out"".",Blocker,Closed,Fixed,Maria Odea Ching,oching,Dennis Kieselhorst,deki
MRM-1158,Bug,2009-03-30T07:23:41.748Z,2009-03-30T07:23:41.748Z,2016-03-15T06:24:59.6Z,2016-03-15T06:24:59.6Z,2016-03-15T06:24:59.574Z,2016-03-15T06:24:59.574Z,Maven 1.x deployment fails,"deploying with Maven 1:

{code}
2009-03-30 23:17:38,396 [btpool0-7] INFO  org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer  - Not processing path that is not an artifact: app/poms/app-1.0.pom (Not enough parts to the path [app/poms/app-1.0.pom] to construct an ArchivaArtifact from. (Requires at least 4 parts))
{code}

It seems this is not using the proper path mapping. I believe this should work even though the hosted repo is maven2",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1164,Task,2009-04-01T22:17:34.419Z,2009-04-01T22:17:34.419Z,2010-01-11T22:13:34.557Z,2010-01-11T22:13:34.557Z,2009-07-28T23:41:03.539Z,2009-07-28T23:41:03.539Z,Fix the Selenium tests,The Selenium tests in the archiva-webapp-test module aren't working and need to be fixed.,Major,Closed,Fixed,mbaclay,mbaclay,Wendy Smoak,wsmoak
MRM-1153,Bug,2009-03-24T06:26:39.814Z,2009-03-24T06:26:39.814Z,2010-02-23T04:00:40.858Z,2010-02-23T04:00:40.858Z,2010-02-23T04:00:40.706Z,2010-02-23T04:00:40.706Z,bad component definitions in dependencies can trigger failures instead of warnings,"see: 
http://mail-archives.apache.org/mod_mbox/continuum-dev/200902.mbox/%3CC889F1E980FF68449AE8DD327F2C9A1F050D5827@cpt137.magrit.int%3E

and:
http://mail-archives.apache.org/mod_mbox/archiva-dev/200903.mbox/%09%3CCD4B3B0C-B462-48FE-9A09-7E099B79C6C4@apache.org%3E",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1143,Bug,2009-03-15T22:30:02.413Z,2009-03-15T22:30:02.413Z,2009-05-23T02:31:11.298Z,2009-05-23T02:31:11.298Z,2009-05-23T02:31:11.304Z,2009-05-23T02:31:11.304Z,Nexus indexer throws NPE on repository scan,"{noformat}
2009-03-15 22:27:31,346 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer [index-content] had an error when processing file [/export/archiva/repodata/internal/org/codehaus/plexus/plexus-container-default/1.0-alpha-10/plexus-container-default-1.0-alpha-10.pom]: null
java.lang.NullPointerException
	at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.processFile(NexusIndexerConsumer.java:182)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:50)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:137)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:121)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:65)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:118)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:619)
{noformat}",Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1100,Bug,2009-02-26T03:29:59.438Z,2009-02-26T03:29:59.438Z,2009-03-06T06:38:37.184Z,2009-03-06T06:38:37.184Z,2009-03-06T06:38:37.192Z,2009-03-06T06:38:37.192Z,"After a few days archiva starts reporting ""Too many files open"", regular restart required.","Is there a file descriptor/socket leak?

658829184 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
java.io.IOException: Too many open files
        at sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)
        at sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:145)
        at org.mortbay.jetty.nio.SelectChannelConnector$1.acceptChannel(SelectChannelConnector.java:75)
        at org.mortbay.io.nio.SelectorManager$SelectSet.doSelect(SelectorManager.java:475)
        at org.mortbay.io.nio.SelectorManager.doSelect(SelectorManager.java:166)
        at org.mortbay.jetty.nio.SelectChannelConnector.accept(SelectChannelConnector.java:124)
        at org.mortbay.jetty.AbstractConnector$Acceptor.run(AbstractConnector.java:515)
        at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
658829185 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829187 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829188 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829190 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829191 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829193 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829195 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829197 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829198 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829200 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829201 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829203 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION
[same exception]
658829204 [btpool0-4 - Acceptor0 SelectChannelConnector@0.0.0.0:8089] WARN org.mortbay.log - EXCEPTION",Major,Closed,Duplicate,Brett Porter,brettporter,Peter Lawrey,peter_lawrey
MRM-1102,Bug,2009-02-27T06:33:23.732Z,2009-02-27T06:33:23.732Z,2016-03-15T06:21:59.479Z,2016-03-15T06:21:59.479Z,2016-03-15T06:21:59.456Z,2016-03-15T06:21:59.456Z,Long exception in log when using the archive web interface.,"I haven't found when this happens exactly....

97292090 [btpool0-82] WARN com.opensymphony.xwork.util.OgnlUtil - Caught OgnlException while setting property 'infoMessage' on t
ype 'com.opensymphony.webwork.dispatcher.ServletActionRedirectResult'.
ognl.NoSuchPropertyException: com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.infoMessage
        at ognl.ObjectPropertyAccessor.setProperty(ObjectPropertyAccessor.java:132)
        at com.opensymphony.xwork.util.OgnlValueStack$ObjectAccessor.setProperty(OgnlValueStack.java:67)
        at ognl.OgnlRuntime.setProperty(OgnlRuntime.java:1656)
        at ognl.ASTProperty.setValueBody(ASTProperty.java:101)
        at ognl.SimpleNode.evaluateSetValueBody(SimpleNode.java:177)
        at ognl.SimpleNode.setValue(SimpleNode.java:246)
        at ognl.Ognl.setValue(Ognl.java:476)
        at com.opensymphony.xwork.util.OgnlUtil.setValue(OgnlUtil.java:188)
        at com.opensymphony.xwork.util.OgnlUtil.internalSetProperty(OgnlUtil.java:362)
        at com.opensymphony.xwork.util.OgnlUtil.setProperties(OgnlUtil.java:78)
        at com.opensymphony.xwork.util.OgnlUtil.setProperties(OgnlUtil.java:51)
        at com.opensymphony.xwork.ObjectFactory.buildResult(ObjectFactory.java:186)
        at com.opensymphony.xwork.DefaultActionInvocation.createResult(DefaultActionInvocation.java:173)
        at com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:310)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:208)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:51)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.jav
a:105)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
        at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
        at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
        at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
        at org.mortbay.jetty.Server.handle(Server.java:324)
        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
        at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
",Trivial,Closed,Won't Fix,,,Peter Lawrey,peter_lawrey
MRM-1186,Bug,2009-05-19T05:46:17.427Z,2009-05-19T05:46:17.427Z,2009-05-19T09:08:40.933Z,2009-05-19T09:08:40.933Z,2009-05-19T09:08:40.946Z,2009-05-19T09:08:40.946Z,NPE while uploading a snapshot dependency,"java.lang.NullPointerException
        at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.beginScan(NexusIndexerConsumer.java:143)
        at org.apache.maven.archiva.repository.scanner.functors.TriggerBeginScanClosure.execute(TriggerBeginScanClosure.java:64)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:242)
        at org.apache.maven.archiva.webdav.ArchivaDavResource.executeConsumers(ArchivaDavResource.java:681)
        at org.apache.maven.archiva.webdav.ArchivaDavResource.addMember(ArchivaDavResource.java:324)
        at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPut(AbstractWebdavServlet.java:516)
        at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(AbstractWebdavServlet.java:244)
        at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:124)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
        at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
        at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
        at org.mortbay.jetty.Server.handle(Server.java:324)
        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
        at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)
        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)
        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:205)
        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
        at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)


 ",Major,Closed,Duplicate,Brett Porter,brettporter,Daniel Takai,daniel.takai
MRM-1163,Improvement,2009-04-01T04:00:20.109Z,2009-04-01T04:00:20.109Z,2009-07-29T04:55:57.868Z,2009-07-29T04:55:57.868Z,2009-07-29T04:55:57.872Z,2009-07-29T04:55:57.872Z,Add some decent logs in webdav for debugging purposes,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1182,Task,2009-05-11T10:48:28.813Z,2009-05-11T10:48:28.813Z,2009-07-28T05:37:57.605Z,2009-07-28T05:37:57.605Z,2009-07-28T05:37:57.609Z,2009-07-28T05:37:57.609Z,Clarify 'delete released snapshots' functionality,"The interaction between 'days older' and 'retention count'  is documented on [1], but it's not clear how 'delete released snapshots' works.

Does it override the days older/retention count configuration and delete *all* of 1.0-SNAPSHOT as soon as it sees that 1.0 has been released?

[1] http://svn.apache.org/repos/asf/archiva/trunk/archiva-docs/src/site/apt/adminguide/repositories.apt",Minor,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-1188,Bug,2009-05-23T02:36:33.967Z,2009-05-23T02:36:33.967Z,2009-05-24T01:12:17.617Z,2009-05-24T01:12:17.617Z,2009-05-24T01:12:17.621Z,2009-05-24T01:12:17.621Z,"Index cleanup consumer fails when there is a current indexing task being executed (e.g. during repo scan, during artifact deployment or during proxy)",,Critical,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1104,New Feature,2009-03-03T03:00:29.005Z,2009-03-03T03:00:29.005Z,2009-03-03T12:31:09.777Z,2009-03-03T12:31:09.777Z,2009-03-03T04:10:18.761Z,2009-03-03T04:10:18.761Z,Removing release artifacts using WebUI,"AFASIK, there is currently no way to delete a release artifact using the Web-UI.
The current solution is:
- remove the artifact from the fs
- run repo scan
- run db scan

This is a tremendous admin overhead. Even worse, it can only be done by the system-operator, not by the Archiva Admin. 

Open for discussion: allow to manually delete ANY kind of artifact (also snaphots).

Proposal for implementation: IMO the delete-action should not do the whole repo-scan and db-scan. Rather it should update/remove only those particular db entries which are concerned.",Critical,Closed,Duplicate,,,Marc Lustig,axismundi
MRM-1106,Bug,2009-03-05T10:48:27.192Z,2009-03-05T10:48:27.192Z,2009-03-21T21:01:43.282Z,2009-03-21T21:01:43.282Z,2009-03-06T10:08:48.596Z,2009-03-06T10:08:48.596Z,NPE when starting Archiva,"I'm trying to install Archiva 1.2-M1 as an exploded webapp under tomcat.

I have already installed continuum and I would like the both share the same user DB in MySQL. Another thing that should be noted is I'm using LDAP authentication.

When I first tried to access Archiva, I got the following exception:

{code}
java.lang.NullPointerException
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIds(DefaultUserRepositories.java:76)
	org.apache.maven.archiva.web.action.SearchAction.getObservableRepos(SearchAction.java:323)
	org.apache.maven.archiva.web.action.SearchAction.prepare(SearchAction.java:155)
	com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:118)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:165)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:75)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
{code}

Looking at the MySQL DB, there is only one table created: ARCHIVA_REPOSITORY_STATS

In archiva.log I can only see the following error:
{code}
2009-03-05 18:37:05,822 [main] ERROR org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler  - Repository [internal] is currently being processed or is already queued.
{code}",Major,Closed,Fixed,Brett Porter,brettporter,Julien HENRY,henryju
MRM-1147,Bug,2009-03-19T09:11:55.452Z,2009-03-19T09:11:55.452Z,2009-03-21T21:02:20.167Z,2009-03-21T21:02:20.167Z,2009-03-19T09:12:12.462Z,2009-03-19T09:12:12.462Z,handling leading / on whitelists is ambiguous,"Archiva passes the proxy requests with a leading / in all cases, which won't match a whitelist (or blacklist) that doesn't start with a /, which has traditionally been allowed. Both paths should be normalized.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1103,Bug,2009-03-02T11:51:43.899Z,2009-03-02T11:51:43.899Z,2010-12-29T01:30:32.761Z,2010-12-29T01:30:32.761Z,2010-12-29T01:30:32.49Z,2010-12-29T01:30:32.49Z,One of our two archiva servers does appear to close file descriptors.,"We have two archiva servers.  One gets ""Too many files open"" after a few days (a few hundred builds) and has to be restarted.

However the second server fails to even perform one build.

If you see the attached file you can see archiva exhausts all of it file descriptors in under a minute. After that the server has to be restarted.",Critical,Closed,Fixed,Maria Odea Ching,oching,Peter Lawrey,peter_lawrey
MRM-1133,Bug,2009-03-11T08:44:58.122Z,2009-03-11T08:44:58.122Z,2009-03-22T17:32:36.478Z,2009-03-22T17:32:36.478Z,2009-03-18T01:16:58.57Z,2009-03-18T01:16:58.57Z,delete artifact role not added on upgrade from previous version,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1110,Bug,2009-03-08T15:55:24.6Z,2009-03-08T15:55:24.6Z,2009-03-21T21:01:42.309Z,2009-03-21T21:01:42.309Z,2009-03-08T15:57:31.064Z,2009-03-08T15:57:31.064Z,some redback log statements are not visible in Archiva logs,"those in newer modules are logged as org.codehaus.redback, meaning if they are at info or warn level, they don't appear in the log",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1197,Bug,2009-06-03T10:47:06.845Z,2009-06-03T10:47:06.845Z,2009-07-28T00:15:00.362Z,2009-07-28T00:15:00.362Z,2009-07-28T00:10:49.075Z,2009-07-28T00:10:49.075Z,Random 400 Error when uploading maven-metadata.xml to Archiva 1.2/1.2.1,"When maven tries to deploy a new/updated maven-metadata.xml or its md5/sha, occasionally a HTTP 400 - Bad Request is returned from Archiva.  The following message is returned from Archiva:  Content Header length was 32 but was 0

Detailed HTTP Request/Response:

PUT /archiva/repository/releases/components/gui-project/maven-metadata.xml.md5 HTTP/1.1
User-Agent: Java/1.5.0_16
Host: maven.local
Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
Connection: keep-alive
Authorization: Basic YmFtYm9vOmJAbWIwbw==
Content-Length: 32

24877de78f50a1cdb8bd71e2dfa933cfHTTP/1.1 400 Bad Request
Date: Tue, 02 Jun 2009 20:20:36 GMT
Set-Cookie: JSESSIONID=77ECDD66382B0B02356E1027D344D5FF; Path=/archiva
last-modified: Tue, 02 Jun 2009 15:04:37 GMT
Content-Type: text/html;charset=utf-8
Content-Length: 1085
Connection: close

<html><head><title>Apache Tomcat/6.0.18 - Error report</title><style><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP Status 400 - Content Header length was 32 but was 0</h1><HR size=""1"" noshade=""noshade""><p><b>type</b> Status report</p><p><b>message</b> <u>Content Header length was 32 but was 0</u></p><p><b>description</b> <u>The request sent by the client was syntactically incorrect (Content Header length was 32 but was 0).</u></p><HR size=""1"" noshade=""noshade""><h3>Apache Tomcat/6.0.18</h3></body></html>

When the actual packets are examined they look like this:

  1   0.000000 192.168.102.68 -> 192.168.102.68 TCP 42242 > http [SYN] Seq=0 Win=32792 Len=0 MSS=16396 TSV=21157988 TSER=0 WS=7
  2   0.000024 192.168.102.68 -> 192.168.102.68 TCP http > 42242 [SYN, ACK] Seq=0 Ack=1 Win=32768 Len=0 MSS=16396 TSV=21157988 TSER=21157988 WS=7
  3   0.000040 192.168.102.68 -> 192.168.102.68 TCP 42242 > http [ACK] Seq=1 Ack=1 Win=32896 Len=0 TSV=21157988 TSER=21157988
  4   0.000539 192.168.102.68 -> 192.168.102.68 HTTP PUT /archiva/repository/releases/components/gui-project/maven-metadata.xml.md5 HTTP/1.1 (packet with headers)
  5   0.000561 192.168.102.68 -> 192.168.102.68 TCP http > 42242 [ACK] Seq=1 Ack=315 Win=33920 Len=0 TSV=21157988 TSER=21157988
  6   0.000591 192.168.102.68 -> 192.168.102.68 HTTP Continuation or non-HTTP traffic (packet with the 32 bytes of content)
  7   0.000603 192.168.102.68 -> 192.168.102.68 TCP http > 42242 [ACK] Seq=1 Ack=347 Win=33920 Len=0 TSV=21157988 TSER=21157988
  8   0.055038 192.168.102.68 -> 192.168.102.68 HTTP HTTP/1.1 400 Bad Request  (text/html) (packet with 400 error)
  9   0.055066 192.168.102.68 -> 192.168.102.68 TCP 42242 > http [ACK] Seq=347 Ack=1349 Win=35584 Len=0 TSV=21158002 TSER=21158002
 10   0.055083 192.168.102.68 -> 192.168.102.68 TCP http > 42242 [FIN, ACK] Seq=1349 Ack=347 Win=33920 Len=0 TSV=21158002 TSER=21158002
 11   0.055892 192.168.102.68 -> 192.168.102.68 TCP 42242 > http [FIN, ACK] Seq=347 Ack=1350 Win=35584 Len=0 TSV=21158002 TSER=21158002
 12   0.055910 192.168.102.68 -> 192.168.102.68 TCP http > 42242 [ACK] Seq=1350 Ack=348 Win=33920 Len=0 TSV=21158002 TSER=21158002",Major,Closed,Fixed,Maria Odea Ching,oching,Chris Van Vlack,vanvlack
MRM-1176,Bug,2009-05-01T12:07:07.805Z,2009-05-01T12:07:07.805Z,2009-05-24T06:01:38.993Z,2009-05-24T06:01:38.993Z,2009-05-24T06:01:38.999Z,2009-05-24T06:01:38.999Z,SQLSyntaxErrorException is thrown when browsing for artifacts after upgrading from 1.3.1 to 1.2,"I upgraded from Archiva 1.3.1 to 1.2 by replacing the existing 1.3.1 war file with the new 1.2 war file. When I browse for a file, I can see the group ID's and package ID's with no problem but when I click on a version link the following error is thrown:

h3. Exception
javax.servlet.ServletException: org.apache.maven.archiva.database.ArchivaDatabaseException: Error in JDO during get of Database object id [com.miginfocom:migcalendarbean:6.6.3] of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group

h3. Root Cause
org.apache.maven.archiva.database.ArchivaDatabaseException: Error in JDO during get of Database object id [com.miginfocom:migcalendarbean:6.6.3] of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group

h3. Root Cause
javax.jdo.JDODataStoreException: Error(s) were found while auto-creating/validating the datastore for classes. The errors are printed in the log, and are attached to this exception.
NestedThrowables:
java.sql.SQLSyntaxErrorException: In an ALTER TABLE statement, the column 'ARCHIVA_INDIVIDUAL_ID' has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLSyntaxErrorException: In an ALTER TABLE statement, the column 'ARCHIVA_ISSUE_MANAGEMENT_ID' has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLSyntaxErrorException: In an ALTER TABLE statement, the column 'ARCHIVA_ORGANIZATION_ID' has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLSyntaxErrorException: In an ALTER TABLE statement, the column 'ARCHIVA_CIMANAGEMENT_ID' has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.
java.sql.SQLException: Constraint 'ARCHIVA_PROJTY_FK7' is invalid: there is no unique or primary key constraint on table 'APP.ARCHIVA_CIMANAGEMENT' that matches the number and types of the columns in the foreign key.
java.sql.SQLException: Constraint 'ARCHIVA_PROJTY_FK8' is invalid: there is no unique or primary key constraint on table 'APP.ARCHIVA_ORGANIZATION' that matches the number and types of the columns in the foreign key.
java.sql.SQLException: Constraint 'ARCHIVA_PROJTY_FK9' is invalid: there is no unique or primary key constraint on table 'APP.ARCHIVA_ISSUE_MANAGEMENT' that matches the number and types of the columns in the foreign key.

h3. Root Cause
java.sql.SQLSyntaxErrorException: In an ALTER TABLE statement, the column 'ARCHIVA_INDIVIDUAL_ID' has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.

h3. Root Cause
org.apache.derby.client.am.SqlException: In an ALTER TABLE statement, the column 'ARCHIVA_INDIVIDUAL_ID' has been specified as NOT NULL and either the DEFAULT clause was not specified or was specified as DEFAULT NULL.",Major,Closed,Fixed,Maria Odea Ching,oching,Brian Schlining,hohonuuli
MRM-1167,Bug,2009-04-02T05:48:32.013Z,2009-04-02T05:48:32.013Z,2016-03-15T05:55:24.312Z,2016-03-15T05:55:24.312Z,2009-05-24T02:21:09.008Z,2009-05-24T02:21:09.008Z,Quicksearch from the xmlrpc api returns no results,"The attached projectruns a search for ""org"" against an archiva instance and it is returning 0 results on our Archiva 1.2 server (installed fresh). Search from the web page returns 226 artifacts.

To run: configure url, user and password in the pom and run ""mvn package exec:java"".

In case it is relevant, I have direct network access to archiva (it is on localhost) but the company network has a proxy for accessing the internet.",Major,Closed,Fixed,Maria Odea Ching,oching,Abel Muiño,amuino
MRM-1198,Bug,2009-06-04T05:05:09.313Z,2009-06-04T05:05:09.313Z,2009-08-17T04:47:46.744Z,2009-08-17T04:47:46.744Z,2009-07-28T02:18:13.029Z,2009-07-28T02:18:13.029Z,field length for ARCHIVA_SCM.URL is too short,"java.sql.SQLException: ORA-12899: value too large for column ""CONTINUUM_12"".""ARCHIVA_SCM"".""URL"" (actual: 267, maximum: 250)

I propose to change the field length to 1020.",Major,Closed,Fixed,Maria Odea Ching,oching,Marc Lustig,axismundi
MRM-1152,Bug,2009-03-21T22:08:50.792Z,2009-03-21T22:08:50.792Z,2009-04-01T06:01:06.034Z,2009-04-01T06:01:06.034Z,2009-04-01T06:01:06.038Z,2009-04-01T06:01:06.038Z,Fix for MRM-1136 needs to be backported for 1.1.x ,,Blocker,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1137,Bug,2009-03-11T17:38:32.935Z,2009-03-11T17:38:32.935Z,2009-05-05T06:57:34.311Z,2009-05-05T06:57:34.311Z,2009-03-21T02:47:14.541Z,2009-03-21T02:47:14.541Z,Cannot upload artifact to WEB UI any more,"Here is reference to the discussion

http://www.nabble.com/Nullpointer-in-VersionUtil-when-uploading-td20563568.html",Critical,Closed,Fixed,Brett Porter,brettporter,Dan Tran,dantran
MRM-1117,Bug,2009-03-09T08:38:28.895Z,2009-03-09T08:38:28.895Z,2009-03-21T21:01:41.968Z,2009-03-21T21:01:41.968Z,2009-03-13T23:17:06.322Z,2009-03-13T23:17:06.322Z,move advanced search out of the 'info' popup on the quick search page,it should be consistent with the results page and either available up front or via a link,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1112,Bug,2009-03-08T19:58:18.153Z,2009-03-08T19:58:18.153Z,2016-03-15T06:22:16.017Z,2016-03-15T06:22:16.017Z,2016-03-15T06:22:15.995Z,2016-03-15T06:22:15.995Z,present different find artifact page to Firefox 3 and browsers known to support getAsBinary() for file inputs,"since we can do the checksum in javascript instead of using the applet, a different page should be presented tailored to that (and show a dialog / progress bar using JQuery UI as it is done)",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1116,Bug,2009-03-09T08:36:41.194Z,2009-03-09T08:36:41.194Z,2016-03-24T04:14:40.88Z,2016-03-24T04:14:40.88Z,2016-03-24T04:14:40.856Z,2016-03-24T04:14:40.856Z,organisation logo should be resized to fit the more limited space (width),,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1183,Bug,2009-05-14T10:25:27.025Z,2009-05-14T10:25:27.025Z,2009-05-14T11:12:10.846Z,2009-05-14T11:12:10.846Z,2009-05-14T11:12:10.853Z,2009-05-14T11:12:10.853Z,external SMTP server not supported on Tomcat 6.0.18,"I set SMTP host like this:
----------------------------------------------------------------------------------
<Resource name=""mail/Session"" auth=""Container""
            type=""javax.mail.Session""
			mail.smtp.host=""some.smtp.host""/>
----------------------------------------------------------------------------------

smtp server is not localhost.

When I register new archiva user, error occured like this;
----------------------------------------------------------------------------------
javax.servlet.ServletException: org.springframework.mail.MailSendException; nested exceptions (1) are:
Failed message 1: com.sun.mail.smtp.SMTPSendFailedException: 553 5.1.8 Requested action not taken: mail box name <VIPER$@localhost> not allowed.
----------------------------------------------------------------------------------

VIPER is my local PC's computer name. (Windows Vista)

Does not work external SMTP on Tomcat WebApp?
",Major,Closed,Not A Problem,,,Sang-Jea Shin,bomber
MRM-1139,Bug,2009-03-13T00:08:51.79Z,2009-03-13T00:08:51.79Z,2009-03-21T21:01:44.069Z,2009-03-21T21:01:44.069Z,2009-03-13T00:10:08.592Z,2009-03-13T00:10:08.592Z,war:inplace blindly copies everything (including WEB-INF/lib/**) into the archiva-webapp.,"war:inplace blindly copies everything (including WEB-INF/lib/**) into the archiva-webapp.

eg struts in archiva is version 2.0.11.2 but in Redback it is 2.0.11. This causes us to have duplicate jars in WEB-INF/lib.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1125,Improvement,2009-03-10T00:38:45.504Z,2009-03-10T00:38:45.504Z,2011-03-29T09:59:22.763Z,2011-03-29T09:59:22.763Z,2010-05-15T08:20:00.088Z,2010-05-15T08:20:00.088Z,default search should be AND not OR for multiple keywords,,Major,Closed,Fixed,jzurbano,jzurbano,Brett Porter,brettporter
MRM-1107,Task,2009-03-06T02:21:30.177Z,2009-03-06T02:21:30.177Z,2009-03-21T21:02:22.158Z,2009-03-21T21:02:22.158Z,2009-03-19T11:55:18.011Z,2009-03-19T11:55:18.011Z,upgrade to Redback 1.2,"once all required bugs are fixed, make sure a redback release happens, and upgrade to that.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1177,Improvement,2009-05-04T00:40:18.243Z,2009-05-04T00:40:18.243Z,2009-07-19T21:52:58.429Z,2009-07-19T21:52:58.429Z,2009-07-19T21:52:44.377Z,2009-07-19T21:52:44.377Z,Upgrade to Jetty 6.1.17,"To enable support for clustering. According to David Yu who is working on Jetty, 6.1.17 also has a security fix.",Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-1181,Bug,2009-05-07T18:40:08.836Z,2009-05-07T18:40:08.836Z,2014-03-05T22:50:21.02Z,2014-03-05T22:50:21.02Z,2014-03-05T22:50:20.902Z,2014-03-05T22:50:20.902Z,HTTP 401 - Unauthorized is Returned when Accessing Artifact from Repository Group if the User Doesn't Have Access to All Repositories in the Group,"When trying to access an artifact via a repository group, Archiva returns 'HTTP 401 - Unauthorized' when the artifact  can't be found in the set of repositories the user has access to and there is at least 1 repository in the repository group the user doesn't have permission to access.

In this case it may be more logical to return an HTTP 404 instead of an HTTP 401.

On the client machine, Maven responds to the 401 with (where the repository group name is group-repo-name): 

[WARNING] repository metadata for: 'artifact org.apache.maven.plugins:maven-checkstyle-plugin' could not be retrieved from repository: group-repo-name due to an error: Error transferring file
[INFO] Repository 'group-repo-name' will be blacklisted

By the way, the artifact being requested is http://maven.co.myorganization.org/archiva/repository/group-repo-name/org/apache/maven/plugins/maven-checkstyle-plugin/2.2/maven-checkstyle-plugin-2.2.pom.

Another note, the wire trace shows that the client requests the resource 20 times and receives 20 HTTP 401 messages from the server in response.
",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Scott Seiter,seiter
MRM-1136,Bug,2009-03-11T12:51:22.348Z,2009-03-11T12:51:22.348Z,2009-03-22T17:32:38.531Z,2009-03-22T17:32:38.531Z,2009-03-20T11:06:16.958Z,2009-03-20T11:06:16.958Z,Archiva don't want to download a snapshot of a maven plugin (merged metadata are empty),"Use case : 
* I want to use idl-maven-plugin 1.1-SNPASHOt from codehaus
* In archiva I have a group (snapshots) with behind a managed repository (snapshots-proxy) which proxify http://snapshots.repository.codehaus.org/
* When I launch the build of the project, archiva download metadata for 1.1-SNAPSHOT from codehaus in maven-metadata-codehaus-snapshots.xml which is fine
* But it creates an empty maven-metadata.xml
* Maven receive this empty file and try to download 1.1-SNAPSHOT artifacts instead of the last timestamp.

I attach :
* A minimal project which uses a local archiva
* The achiva config file (be careful to deactivate/change the network proxy)
* maven-metadata-codehaus-snapshots.xml and maven-metadata.xml",Blocker,Closed,Fixed,Maria Odea Ching,oching,Arnaud HERITIER,aheritier
MRM-1122,Bug,2009-03-09T20:06:38.978Z,2009-03-09T20:06:38.978Z,2009-03-21T21:01:44.683Z,2009-03-21T21:01:44.683Z,2009-03-09T21:08:04.443Z,2009-03-09T21:08:04.443Z,reduce verbosity of logging during scanning,"too many exceptions occur that are not particularly helpful to have trace info:
- XML parsing
- invalid zips
- bad artifact paths

Just the message should be logged",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1173,Bug,2009-04-17T05:41:27.68Z,2009-04-17T05:41:27.68Z,2011-10-04T09:00:24.518Z,2011-10-04T09:00:24.518Z,2011-10-04T09:00:24.504Z,2011-10-04T09:00:24.504Z,Cannot delete patterns with single and double quotes.,"Add/edit Proxy Connector:
- Blacklist: cannot delete patterns with ' and ""
- whitelist: cannot delete patterns with '


Repository Scanning:
- cannot delete patterns with ' and """,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jzurbano,jzurbano
MRM-1168,Bug,2009-04-03T01:28:54.05Z,2009-04-03T01:28:54.05Z,2015-04-05T14:53:58.959Z,2015-04-05T14:53:58.959Z,2009-06-03T06:16:05.183Z,2009-06-03T06:16:05.183Z,A locked user gets HTTP ERROR 500 page when logging in Artifact Repository page,"Steps to replicate:
1.  login using an administrator account.
2.  create/set another account to locked.
3.  logout.
4.  login using the locked account (step #2).


Observation:
Http Error 500 is displayed instead of displaying an Account Locked error. Refer to http-error-500.txt for the error displayed in browser.


Attached a patch (account-locked-error-500.patch) for fix:
",Major,Closed,Fixed,Maria Odea Ching,oching,jzurbano,jzurbano
MRM-1156,Bug,2009-03-26T08:04:28.027Z,2009-03-26T08:04:28.027Z,2016-03-15T06:24:48.164Z,2016-03-15T06:24:48.164Z,2016-03-15T06:24:48.142Z,2016-03-15T06:24:48.142Z,Unable to open an Archiva repository as web folder (via Network Places) in Windows ,"To reproduce:

1. Open Internet Explorer 6
2. Choose File -> Open
3. Enter the url of an Archiva hosted repo, such as http://localhost:8080/archiva/repository/internal/
4. check the 'Open as Web Folder' checkbox
5. click OK

Result:
Dialog box with ""Internet Explorer could not open http://localhost:8080/archiva/repository/internal/ as a Web Folder.  Would you like to see its default view instead?""

The expected result is to open the url as a webdav folder which allows adding/removing files.

There is nothing in either the archiva.log or stderr log files.",Major,Closed,Won't Fix,,,Wendy Smoak,wsmoak
MRM-1193,Bug,2009-06-01T06:12:55.171Z,2009-06-01T06:12:55.171Z,2009-07-25T00:19:47.047Z,2009-07-25T00:19:47.047Z,2009-07-25T00:19:47.053Z,2009-07-25T00:19:47.053Z,Audit logs retrieves incorrect value of IP address when uploading/deleting artifacts,"When uploading/deleting artifacts in archiva the logs retrieves incorrect values of ip address.

2009-06-01 16:58:49 snapshots admin 0:0:0:0:0:0:0:1 ""testing:testing.dotnet:2.2.5-SNAPSHOT"" ""Uploaded File""
2009-06-01 18:36:22 snapshots admin 0:0:0:0:0:0:0:1 ""testing:testing.dotnet:2.2.5-SNAPSHOT"" ""Removed File""",Major,Closed,Not A Problem,Brett Porter,brettporter,mbaclay,mbaclay
MRM-1174,Task,2009-04-23T21:55:49.93Z,2009-04-23T21:55:49.93Z,2009-05-14T13:59:13.825Z,2009-05-14T13:59:13.825Z,2009-05-14T13:59:13.831Z,2009-05-14T13:59:13.831Z,Write tests for Archiva Search,"a patch will be submitted at MRM-1164.

currently the selenium tests for archiva is stuck until ""Running Tests"". I had it running but all the tests failed. Will be fixing this asap.",Major,Closed,Incomplete,Brett Porter,brettporter,mbaclay,mbaclay
MRM-1180,Bug,2009-05-05T07:00:37.098Z,2009-05-05T07:00:37.098Z,2009-11-18T23:37:46.715Z,2009-11-18T23:37:46.715Z,2009-11-18T23:37:46.666Z,2009-11-18T23:37:46.666Z,use of Lucene 2.4 creates incompatible Nexus indexes for consumers with older versions of Lucene,"Brian says more recent Nexus component has a separate binary format that might help with this.

The different version might also cause the NPEs",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1123,Task,2009-03-09T21:11:20.209Z,2009-03-09T21:11:20.209Z,2010-01-11T22:13:33.371Z,2010-01-11T22:13:33.371Z,2009-11-27T15:06:54.077Z,2009-11-27T15:06:54.077Z,ensure all nexus indexer dependencies are in central or built in to JAR appropriately,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1105,Bug,2009-03-05T05:59:06.347Z,2009-03-05T05:59:06.347Z,2009-03-21T21:02:20.931Z,2009-03-21T21:02:20.931Z,2009-03-18T08:43:46.816Z,2009-03-18T08:43:46.816Z,Legacy artifact path not properly stored when entered from Archiva UI,"For one of the module in our project (which violates artifact conventions) we need to add legacy artifact path. I have tried to add this from archiva admin screen. Please find the attached screen shot for this.

Once it is entered, it come to summary screen. In the summary screen value for the 3rd part is null (i.e) In my example

part[0] -> gp
part[1] -> sr-gp-test
part[2] -> null               ---> 3rd part, which is incorrect. I have entered Version for this artifact.
part[3] -> 1.0.2            ---> whatever we entered in Version is misplaced in Classifier.

I have also attached 3rd screen shot when I try to browse this artifact. I went through LegacyArtifactPath.java where these split ups are actually occurring with respect to legacy artifact path. 

",Major,Closed,Fixed,Maria Odea Ching,oching,Kannan Kesavan,kannan_srgm
MRM-1146,Bug,2009-03-18T04:54:20.75Z,2009-03-18T04:54:20.75Z,2017-04-05T20:14:37.956Z,2017-04-05T20:14:37.956Z,,,[Virtual repo browse] An artifact is immediately proxied from the remote repo (assuming a proxy connector is configured for the first repo) if the artifact doesn't exist in the first repo but exists in the second repo in the group,"I have two repositories with ids 'first' and 'second'. Repository 'first' is configured to proxy the central repository. In 'first', I have commons-lang/commons-lang/2.4/commons-lang-2.4.jar and in 'second', I have commons-lang/commons-lang/2.3/commons-lang-2.3.jar. I created a group with id 'all' which has these 2 repositories under that group. When I browse the group 'all', I see both commons-lang-2.3 and commons-lang-2.4. Now when I clicked/downloaded commons-lang-2.3.jar, I noticed that commons-lang-2.3.jar was proxied from the remote repo and created in repository 'first'. 

The artifact that should have been served is the one from 'second' repository and not proxied from 'central' via the 'first' repository.

I only verified this in 1.2-M1 and in trunk. I didn't check if this exists as well in the 1.1 series.
",Major,Open,,,,Maria Odea Ching,oching
MRM-1169,Bug,2009-04-07T09:40:52.719Z,2009-04-07T09:40:52.719Z,2011-09-12T11:34:19.148Z,2011-09-12T11:34:19.148Z,2011-09-12T11:34:19.135Z,2011-09-12T11:34:19.135Z,Archiva does not seem to accept files > 2GB,"Archiva does not seem to accept files > 2GB, I cannot do a mvn deploy:deploy-file and even of I copy the artifact on the file system, when I click to download i get the following error:

java.lang.NumberFormatException: For input string: ""2999853056""
	at
java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:459)
	at java.lang.Integer.parseInt(Integer.java:497)
	at
org.apache.jackrabbit.webdav.io.OutputContextImpl.setContentLength(OutputContextImpl.java:60)
	at
org.apache.maven.archiva.webdav.ArchivaDavResource.spool(ArchivaDavResource.java:191)
	at
org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.spoolResource(AbstractWebdavServlet.java:409)
	at
org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doGet(AbstractWebdavServlet.java:375)
	at
org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(AbstractWebdavServlet.java:225)
	at
org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:126)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at
org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at
com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at
org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at
com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at
org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:108
...

",Major,Closed,Fixed,Brett Porter,brettporter,Sonia Lodovichetti,sonia.lodovichetti@ericsson.com
MRM-661,Bug,2008-01-21T04:07:49.671Z,2008-01-21T04:07:49.671Z,2008-02-25T09:33:30.047Z,2008-02-25T09:33:30.047Z,2008-02-25T09:33:30.088Z,2008-02-25T09:33:30.088Z,remote repository removals are not saved after restart,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-687,Bug,2008-02-08T13:23:30.721Z,2008-02-08T13:23:30.721Z,2008-02-24T21:02:49.648Z,2008-02-24T21:02:49.648Z,2008-02-24T21:02:16.901Z,2008-02-24T21:02:16.901Z,Project model cannot be added to database if it inherits groupId and/or version from parent POM,"Adding to database a project model (B) that contains no groupId and/or version, by assuming it inherits them from parent POM, causes an error if another artifact (A) with same artifactId but different version had been added previously.
That's because the effect cache key on this particular case is always _null:<artifactId>:null_ making the latter (B) fetch information, such as version, from the former (A) during the artifact processing (please see _processArchivaArtifact_ method from _ProjectModelToDatabaseConsumer_ class for more information).

Below is an example of this particular error:
{quote}
File redback-users-api-1.0-alpha-4.pom has an invalid project model [groupId:org.codehaus.plexus.redback|artifactId:redback-users-api|version:1.0-alpha-3|packaging:null]; The model version [1.0-alpha-3] does not match the version portion of the filename: 1.0-alpha-4
{quote}

This issue may be related to http://jira.codehaus.org/browse/MRM-608.


",Major,Closed,Fixed,Maria Odea Ching,oching,Dário Oliveros,oliveros
MRM-634,Bug,2007-12-20T02:14:08.547Z,2007-12-20T02:14:08.547Z,2010-02-23T04:30:15.079Z,2010-02-23T04:30:15.079Z,2010-02-23T04:30:15.049Z,2010-02-23T04:30:15.049Z,moving proxy connectors up and down doesn't necessarily work ,"I moved one at the bottom up, and it jumped to second position.

Additionally, the up button should be disabled on the first one (and down on the last)",Minor,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-614,Bug,2007-12-03T18:49:39.838Z,2007-12-03T18:49:39.838Z,2008-04-09T01:25:21.544Z,2008-04-09T01:25:21.544Z,2008-04-09T01:25:21.549Z,2008-04-09T01:25:21.549Z,User validation message has incorrect URL,"The URL that was sent in the validation email lost the port and the prefix path for archiva's context.

i.e. the URL sent in the email was
    http://192.168.0.100/security/login!login.action?validateMe=1a9e7e81b84f4c56a5deaa752343a212
it should have been
    http://192.168.0.100:8080/archiva/security/login!login.action?validateMe=1a9e7e81b84f4c56a5deaa752343a212

",Major,Closed,Fixed,,,Nicholas Daley,ntdaley
MRM-684,Bug,2008-02-06T20:30:12.763Z,2008-02-06T20:30:12.763Z,2015-04-06T01:53:59.104Z,2015-04-06T01:53:59.104Z,,,Clients timeout due to Archiva blocking when downloading large files,"Clients connecting to Archiva may time out when Archiva is proxying large files from an up stream remote repository.

Internally, Archiva uses Wagon and Plexus webdav which can only reference resources as JAVA File objects. Thus, Archiva must wait until Wagon has finished downloading from the remote repository before it can return the valid File object to the Plexus Webdav Servlet.",Major,Reopened,,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-678,Improvement,2008-01-30T09:16:40.537Z,2008-01-30T09:16:40.537Z,2008-01-31T05:17:34.015Z,2008-01-31T05:17:34.015Z,2008-01-31T05:17:34.064Z,2008-01-31T05:17:34.064Z,404 errors on proxies should be cached,"Using maven eclipse plugin with DownloadSources=true creates lot's of request to the repository for -sources and -javadocs. Many artifacts don't have such bundles.

When archiva is configured with multiple proxies (central + java.net + jboss ...) a single running ""mvn eclipse:eclipse"" will result in many 404 request on proxies that SHOULD be cached. The cache time-to-live (30 minute) is sufficient to get new artifacts when they get deployed.

There is allready an UrlFailureCache but is only used to cache ProxyExceptions.",Minor,Closed,Fixed,nicolas de loof,ndeloof,nicolas de loof,ndeloof
MRM-675,Bug,2008-01-29T09:09:37.112Z,2008-01-29T09:09:37.112Z,2016-09-07T16:59:09.226Z,2016-09-07T16:59:09.226Z,2010-02-23T04:41:54.271Z,2010-02-23T04:41:54.271Z,"Problem with version ranges: ""no versions are present in the repository for the artifact with a range""","When I run for example 'mvn package', there's a (indirect) dependency that cannot be resolved; This the part of the pom that causes the problem:

		<dependency>
			<groupId>commons-beanutils</groupId>
			<artifactId>commons-beanutils</artifactId>
			<version>[1.4,)</version>
			<scope>compile</scope>
		</dependency>

This results in the following error issued by Maven:

No versions are present in the repository for the artifact with a range [1.4,)
  commons-beanutils:commons-beanutils:jar:null
from the specified remote repositories:
  central (http://repo1.maven.org/maven2)

If I browse the repository http://repo1.maven.org/maven2, the commons-beanutils jars (several versions) are present. 
So I assume Archiva cannot handle the range.
",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Chris Bonami,cbonami
MRM-654,Improvement,2008-01-08T21:26:36.675Z,2008-01-08T21:26:36.675Z,2015-04-05T14:54:02.761Z,2015-04-05T14:54:02.761Z,2008-02-13T02:52:20.937Z,2008-02-13T02:52:20.937Z,Archetype for generation of Consumer plugins,"I've created an archetype for use in creating artifact-consumer-plugin projects. It currently builds and runs against the head version of archiva.

- Apply the attached patch in the archiva sandbox dir.
- Build and install it
- invoke with the following command line

mvn archetype:create                                     \
-DarchetypeGroupId=org.apache.maven.archiva            \
-DarchetypeArtifactId=archiva-consumer-plugin-archetype \
-DarchetypeVersion=1.1-SNAPSHOT                         \
-DgroupId=org.example                                  \
-DartifactId=simple-consumer-plugin 

This will create a project 'simple-consumer-plugin' 

rgds,

ste",Trivial,Closed,Fixed,,,Stephen Gargan,sgargan
MRM-657,Bug,2008-01-16T09:57:27.07Z,2008-01-16T09:57:27.07Z,2010-02-23T02:45:00.689Z,2010-02-23T02:45:00.689Z,2010-02-23T02:45:00.646Z,2010-02-23T02:45:00.646Z,'ORA-00910: specified length too long for its datatype' Error when clicking on searched artifact.,"When I do a search for an artifact, then I get the results, I then get this error:

javax.jdo.JDODataStoreException: An exception was thrown while adding/validating class(es) : ORA-00910: specified length too long for its datatype

java.sql.SQLException: ORA-00910: specified length too long for its datatype

	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:158)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:316)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:282)
	at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:639)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:113)
	at oracle.jdbc.driver.T4CStatement.execute_for_rows(T4CStatement.java:703)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1196)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1804)
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
	at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
	at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3052)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3313)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2554)
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2406)
	at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:821)
	at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:835)
	at org.jpox.AbstractPersistenceManager.newObjectIdInstance(AbstractPersistenceManager.java:2377)
	at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:429)
	at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.getProjectModel(JdoProjectModelDAO.java:74)
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.getProjectModel(DefaultRepositoryBrowsing.java:281)
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersion(DefaultRepositoryBrowsing.java:127)
	at org.apache.maven.archiva.web.action.ShowArtifactAction.artifact(ShowArtifactAction.java:105)



Now this does not come up like with continuum (at start up):
http://jira.codehaus.org/browse/CONTINUUM-1622

So Archiva runs, but not when I try to search.
",Major,Closed,Won't Fix,,,Mick Knutson,mickknutson
MRM-659,Bug,2008-01-18T08:51:53.555Z,2008-01-18T08:51:53.555Z,2008-04-07T02:37:32.66Z,2008-04-07T02:37:32.66Z,2008-03-25T05:08:32.59Z,2008-03-25T05:08:32.59Z,archiva cannot serve ejb artifacts from a maven1 repository,"requesting an ejb from a maven1 repository builds the path ""groupId/jars/artifactId.jar"", and not the location where maven1 ejb:deploy places the ejb jars (groupId/ejbs/artifactId.jar). The type folder is created based on the file extension, with some exceptions. It should be created based on the artifact type. ",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-666,Improvement,2008-01-24T18:29:09.864Z,2008-01-24T18:29:09.864Z,2008-02-25T07:35:26.425Z,2008-02-25T07:35:26.425Z,2008-02-25T07:35:26.454Z,2008-02-25T07:35:26.454Z,Edit Managed Repository page should indicate the repo id being edited,"When editing a managed repository, the repo id does not appear on the page.

(You can see it in the url as a request parameter.)",Minor,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-696,Task,2008-02-14T08:47:26.153Z,2008-02-14T08:47:26.153Z,2008-02-14T21:37:48.03Z,2008-02-14T21:37:48.03Z,2008-02-14T21:37:48.103Z,2008-02-14T21:37:48.103Z,Publish the reference docs for Archiva 1.0.1,"The reference docs (Javadoc, etc.,) for Archiva 1.0.1 should be published here:  http://maven.apache.org/archiva/ref/1.0.1
",Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-656,Improvement,2008-01-14T13:07:46.784Z,2008-01-14T13:07:46.784Z,2008-03-28T10:33:23.689Z,2008-03-28T10:33:23.689Z,2008-03-28T10:33:23.706Z,2008-03-28T10:33:23.706Z,Admin guide for installing WAR needs updating,"The web page at ""http://maven.apache.org/archiva/docs/1.0/adminguide/webapp.html"" needs updating:

* The name of the archiva WAR file in the archiva.xml sample should be ""apache-archiva-1.0.war"".
* For the note about Tomcat versions: Tomcat 5.5.25 works as expected, provided mail.jar and activation.jar are added to the common/lib directory.
* For the note about Derby: Derby 10.3.2.1 seems to work fine.
",Major,Closed,Fixed,Brett Porter,brettporter,Koryn Grant,koryn
MRM-602,Bug,2007-11-23T05:39:02.161Z,2007-11-23T05:39:02.161Z,2008-06-09T03:35:55.997Z,2008-06-09T03:35:55.997Z,2008-06-09T03:35:56.001Z,2008-06-09T03:35:56.001Z,"add ""maintainance"" to the feature tour","- [ ] metadata merging
- [ ] repository purge
- [ ] others
",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-628,Bug,2007-12-14T16:18:44.913Z,2007-12-14T16:18:44.913Z,2009-02-26T13:26:41.408Z,2009-02-26T13:26:41.408Z,2008-01-07T03:15:59.389Z,2008-01-07T03:15:59.389Z,"In the audit.log file the userid for each action is guest, even though the deploy was performed by admin",my settings.xml file has admin as the account  in the <server> section for the repositories,Major,Closed,Fixed,Maria Odea Ching,oching,Lisa Malgeri,lmalgeri
MRM-601,Bug,2007-11-23T05:38:16.593Z,2007-11-23T05:38:16.593Z,2016-03-15T06:08:39.802Z,2016-03-15T06:08:39.802Z,2016-03-15T06:08:39.78Z,2016-03-15T06:08:39.78Z,write some additional HOWTO guides,"- [ ] configure repository purging
- [ ] configure a proxy
- [ ] control artifacts
- [ ] configure security for a repository
- [ ] ...?",Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-662,Bug,2008-01-22T01:30:22.358Z,2008-01-22T01:30:22.358Z,2008-01-25T04:06:40.238Z,2008-01-25T04:06:40.238Z,2008-01-25T04:06:40.359Z,2008-01-25T04:06:40.359Z,Repo purge is not deleting artifacts in correct order,"Looking at the repo purge code by # of days old and by retention count, and while the sorting is correct.. what's being purged isn't actually what is the older artifact, but rather, it is the artifact which is currently being consumed. Here's the part (in DaysOldRepositoryPurge) where this occurs:

while( versions.iterator().hasNext() )
{
  if ( countToPurge-- <= 0 )
  {
    break;
  }
  doPurgeAllRelated( artifactFile ); 
} 

Note: 
- the artifactFile is the artifact currently being consumed by the repo purge 
- doPurgeAllRelated(..) deletes the artifact from the repo as well as all related files to it (ex. .sha1, .md5 files, etc.)

So given the above behavior, if the repo scanner found artifact-1.1.2-20070427.065136-5.jar first before artifact-1.1.2-20070427.065136-2.jar.. then what would actually get deleted from the repo is artifact-1.1.2-20070427.065136-5.jar instead of the older artifact-1.1.2-20070427.065136-2.jar. 
",Critical,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-630,Bug,2007-12-17T11:07:22.233Z,2007-12-17T11:07:22.233Z,2015-04-05T21:12:45.833Z,2015-04-05T21:12:45.833Z,2008-01-16T00:38:00.753Z,2008-01-16T00:38:00.753Z,http 502 proxy error with browse button after 2 days running,"I have to restart archiva every one or two days; if not, archiva becomes unstable :
   * main page and admin section are accessible and work fine,
   * archiva/browse/ function is dead, giving in navigator :
       Proxy Error
          The proxy server received an invalid response from an upstream server.
          The proxy server could not handle the request /GET /archiva/browse
          <http://archiva.nuxeo.org/archiva/browse>/.
          Reason: *Error reading from remote server* 

Restarting archiva immediately solves the problem. 

I didn't find relevant logs, I guess",Major,Closed,Fixed,Maria Odea Ching,oching,Julien CARSIQUE,jcarsique
MRM-632,Bug,2007-12-19T15:20:58.401Z,2007-12-19T15:20:58.401Z,2011-02-03T00:08:42.324Z,2011-02-03T00:08:42.324Z,2008-02-21T23:11:31.082Z,2008-02-21T23:11:31.082Z,Repository Purge Consumer throws Invalid Path to Artifact,"I have the repository purge consumer enabled and configured as {{Repository Purge By Days Older Than}} to 0 and {{Repository Purge By Retention Count}} set to 3.

This is with a clean database.

I have more than 3 versions of org.irene:irene:2.0-SNAPSHOT already uploaded into the repository.

When the repository is scanned:

{noformat}
290870 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Consumer [repository-purge] had an error when processing file [D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar]: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
org.apache.maven.archiva.consumers.ConsumerException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:189)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:120)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:64)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:106)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RetentionCountRepositoryPurge.process(RetentionCountRepositoryPurge.java:102)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:185)
	... 20 more
290885 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Consumer [metadata-updater] had an error when processing file [D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar]: Unable to convert to artifact reference: org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar
org.apache.maven.archiva.consumers.ConsumerException: Unable to convert to artifact reference: org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:167)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:120)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:64)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:106)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:134)
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:49)
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:330)
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:161)
	... 20 more
{noformat}

There are similar exceptions that follow right behind it with the only difference being that they are for:
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-sources.jar
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-tests.jar
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1.jar
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1.pom

Nothing is deleted however.",Major,Closed,Duplicate,Brett Porter,brettporter,Luke Amdor,lamdor
MRM-664,Bug,2008-01-23T04:02:37.223Z,2008-01-23T04:02:37.223Z,2008-03-25T23:19:42.233Z,2008-03-25T23:19:42.233Z,2008-03-25T08:44:00.693Z,2008-03-25T08:44:00.693Z,Cannot download a strut-module artifact in a Legacy repository,"
I still have legacy Maven 1.1 projects which uses the struts-module plugin.
I was using maven-proxy until now but decided to switch to archiva.

However when I try to download a struts-module in my Maven 1.X repository, I get the following exception:

org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: mismatch on extension [dule] and layout specified type [struts-modules] (which maps to extension: [struts.module]) on path [WebPortal/struts-modules/eventsDB-1.2.3.struts-module]
	at org.apache.maven.archiva.repository.content.LegacyPathParser.toArtifactReference(LegacyPathParser.java:154)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:125)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePath(RepositoryRequest.java:271)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:193)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
	at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)

The file WebPortal/struts-modules/eventsDB-1.2.3.struts-module does exist (and would be returned correctly by maven-proxy), but it seems as it archiva is looking for WebPortal/struts-modules/eventsDB-1.2.3.struts.module which does not exist. (replacing the dash by a dot in the extension)

",Critical,Closed,Fixed,Brett Porter,brettporter,Daniel Beland,dcendents
MRM-699,Bug,2008-02-17T04:47:09.594Z,2008-02-17T04:47:09.594Z,2008-02-25T06:01:53.52Z,2008-02-25T06:01:53.52Z,2008-02-25T05:31:55.738Z,2008-02-25T05:31:55.738Z,NPE during db scan,"Below is the stacktrace:

jvm 1    | 2008-02-17 18:45:25,215 [SocketListener0-1] INFO  com.opensymphony.xwork.Action:schedulerAction  - [ActionMessage] Your request to update the database has been queued.
jvm 1    | 2008-02-17 18:45:25,216 [pool-1-thread-1] INFO  org.codehaus.plexus.taskqueue.execution.TaskExecutor:database-update  - Executing task from queue with job name: database-job:user-requested
jvm 1    | 2008-02-17 18:45:25,216 [pool-1-thread-1] INFO  org.codehaus.plexus.taskqueue.execution.TaskExecutor:database-update  - Task: Updating unprocessed artifacts
jvm 1    | 2008-02-17 18:45:32,230 [pool-1-thread-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - File commons-dbcp-1.0.pom has an invalid project model [groupId:commons-dbcp|artifactId:commons-dbcp|version:1.0-dev|packaging:jar]; The model version [1.0-dev] does not match the version portion of the filename: 1.0
jvm 1    | 2008-02-17 18:45:32,290 [pool-1-thread-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Invalid or corrupt pom. Project model not added to database - commons-dbcp:commons-dbcp:1.0-dev
jvm 1    | 2008-02-17 18:45:36,024 [pool-1-thread-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - File commons-pool-1.0.1.pom has an invalid project model [groupId:commons-pool|artifactId:commons-pool|version:1.1-dev|packaging:jar]; The model version [1.1-dev] does not match the version portion of the filename: 1.0.1
jvm 1    | 2008-02-17 18:45:36,026 [pool-1-thread-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Invalid or corrupt pom. Project model not added to database - commons-pool:commons-pool:1.1-dev
jvm 1    | 2008-02-17 18:45:36,378 [Thread-5] ERROR org.codehaus.plexus.taskqueue.execution.TaskQueueExecutor:database-update  - Error executing task
jvm 1    | edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.lang.NullPointerException
jvm 1    |      at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResult(FutureTask.java:299)
jvm 1    |      at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.get(FutureTask.java:118)
jvm 1    |      at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTask(ThreadedTaskQueueExecutor.java:159)
jvm 1    |      at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:127)
jvm 1    | Caused by: java.lang.NullPointerException
jvm 1    |      at org.apache.maven.archiva.consumers.lucene.IndexArtifactConsumer.processArchivaArtifact(IndexArtifactConsumer.java:113)
jvm 1    |      at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:52)
jvm 1    |      at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
jvm 1    |      at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:152)
jvm 1    |      at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:86)
jvm 1    |      at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:68)
jvm 1    |      at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
jvm 1    |      at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
jvm 1    |      at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
jvm 1    |      at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)
jvm 1    |      at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)
jvm 1    |      at java.lang.Thread.run(Thread.java:595)
",Major,Closed,Duplicate,,,Maria Odea Ching,oching
MRM-620,Bug,2007-12-05T12:34:17.211Z,2007-12-05T12:34:17.211Z,2008-11-07T07:58:32.643Z,2008-11-07T07:58:32.643Z,2008-10-10T23:01:12.505Z,2008-10-10T23:01:12.505Z,"pom.xml that inherit version from parent show up in reports as ""has an invalid project model""","Maven2 allows child modules to inherit the <version> tag from a parent.  When Archiva sees an empty or nonexistent version tag in the uploaded pom.xml, it thinks that the pom.xml version does not match the artifacts filename, which is true, but is a completely valid scenario.  As far as I can tell, there is no requirement to have a version tag in a child module of a parent.

Perhaps Archiva should be looking inside the artifact itself under META-INF/pom.properties to verify the artifacts file name against the version.  There is always a version number inside the artifacts pom.properties, but not always in the pom.xml.  Perhaps a combination of the pom.xml having a parent tag, and no version information tells Archiva to not consider this an error.

Here is an example of an error generated in reports:

File workflow-core-common-1.0.1-rc1.pom has an invalid project model [groupId:com.tomax.infrastructure.foo|artifactId:foo-core-common|version:1.0.1-SNAPSHOT|packaging:null]; The model version [1.0.1-SNAPSHOT] does not match the version portion of the filename: 1.0.1-rc1

I looked at the artifact it complained about, and the pom.xml has not version tag by design as it is inherited.  I don't think this should be an error.

Perhaps Archiva should not produce this error if the version tag does not exist in the pom.xml and there is a parent tag present?  As far as I can tell, not having a version tag is completely valid in maven2 as long as parent inheritence provides the version.",Minor,Closed,Fixed,,,James MacDonald,jmacdonald801
MRM-650,Bug,2008-01-06T11:46:33.179Z,2008-01-06T11:46:33.179Z,2008-07-12T03:29:58.775Z,2008-07-12T03:29:58.775Z,2008-07-10T04:04:18.893Z,2008-07-10T04:04:18.893Z,Deleted metadata files still appear in search results,"When an entire directory tree of artifacts is removed from the repository filesystem, the metadata files still show up in search results.

To reproduce, delete any group from the repository, then click both 'Scan Repository Now' and 'Update Database Now'.

Search for the artifact again, and note that the metadata files still appear in the results.

For example, after deleting /path/to/repository/releases/commons-lang and scanning/updating, this is in the search results for commons-lang:

http://example.com/archiva/repository/releases/commons-lang/commons-lang/maven-metadata.xml",Minor,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-631,Bug,2007-12-18T03:36:08.719Z,2007-12-18T03:36:08.719Z,2008-08-13T21:36:38.067Z,2008-08-13T21:36:38.067Z,2008-07-29T11:25:03.524Z,2008-07-29T11:25:03.524Z,network proxy is always used when defined,"I've installed Archiva 1.0 as a Maven proxy repository for internet  and corporate repositories.
I've added the remote Internet Repositories, the network proxy and the proxy connectors.

It works well for the internet repositories but when Archiva tries to connect to the corporate repository in the same subnetwork, Archiva uses
the network proxy despite the proxy connector is set to Direct Connection. 

If no proxy connectors is defined, Archiva didn't try to get data form the corporate repository.

If no network proxy is defined, Archiva can contact the corporate repository but not the Internet ones.

I've done a test with network capture (wireshark ex ethereal) to confirm the network proxy defined is used. And the result confirm my opinion, the proxy is used.

I attach the archiva.xml configuration file in order to check it. 
The corporate repository is localrepo and is available in http form the archiva server using lynx,  wget and telnet. 

Thanks for your help
",Major,Closed,Fixed,Brett Porter,brettporter,Jacques REYNARD,jreynard
MRM-686,Bug,2008-02-07T04:10:38.746Z,2008-02-07T04:10:38.746Z,2009-03-08T21:05:05.108Z,2009-03-08T21:05:05.108Z,2009-03-08T21:05:05.118Z,2009-03-08T21:05:05.118Z,'Unable to find project model' when artifactId contains property placeholders e.g. ${project.parent.artifactId},"We frequently use property placeholders in our poms to have generic POM templates,

e.g.
<project>
         <parent>
		<groupId>be.javaserver.tst</groupId>
		<artifactId>eCommonOrderHandling</artifactId>
    	        <version>2.8-SNAPSHOT</version>
	</parent>
        <artifactId>${project.parent.artifactId}-module-sTst8128</artifactId>
</project>
   

283836 [SocketListener0-0] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - File eCommonOrderHandling-module-sTst8128-1.5-20080131.102935-1.pom has an invalid project model [groupId:be.javaserver.tst|artifactId:${project.parent.artifactId}-module-sTst8128|version:1.5
-20080131.102935-1|packaging:jar]: The model artifactId [${project.parent.artifactId}-module-sTst8128] does not match the artifactId portion of the filename: 
eCommonOrderHandling-module-sTst8128
284107 [SocketListener0-0] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Invalid or corrupt pom. 
Project model not added to database - be.javaserver.tst:${project.parent.artifactId}-module-sTst8128:1.5-20080131.102935-1",Major,Closed,Duplicate,Brett Porter,brettporter,Geert Pante,greyfairer
MRM-608,Bug,2007-11-29T08:05:37.627Z,2007-11-29T08:05:37.627Z,2008-03-14T16:57:12.439Z,2008-03-14T16:57:12.439Z,2008-03-14T04:13:56.916Z,2008-03-14T04:13:56.916Z,Unable to find project model for  [...] if the initial import of the POM failed,"It seems that Archiva is not properly updating the database if the initial import of the POM failed due to a parse error, even after the original problem has been corrected, the repository has been rescanned, and the database updated again.

Steps to reproduce:
1. Start with a fresh Archiva 1.0 installation
2. Drop a group containing an artifact with a broken POM (illegal XML) to Archiva's internal repo directory
3. Run ""Scan Repository Now"" and ""Update Database Now"".
    The log shows a ProjectModelException because the broken POM could not be parsed.
4. Fix the broken POM. Run ""Scan Repository Now"" and ""Update Database Now"" again.
5. Use the ""Browse"" page to browse to the artifact -> you get the error message:
    Unable to find project model for [junit:junit:3.7]. 

I've attached the zipped contents of the ""data"" directory after performing the steps above, and the log file.

Notice that there might be general repository scanning problem in 1.0 that could be related, see
http://www.nabble.com/Repository-scanning-problem-in-1.0--tf4897121.html",Critical,Closed,Fixed,Maria Odea Ching,oching,Arne Degenring,arned
MRM-625,Bug,2007-12-11T04:00:07.966Z,2007-12-11T04:00:07.966Z,2010-02-23T02:42:28.983Z,2010-02-23T02:42:28.983Z,2010-02-23T02:41:49.154Z,2010-02-23T02:41:49.154Z,LDAP authentication leaks connections,"I've configured redback to authenticate from a LDAP with cached used manager and I've detected it's leaking connections.

Connections from web interface seem to be returned to LdapContext pool , 
but connection from repository servlet are leaked.

The LdapCtx Configuration is :

    <component>
      <role>org.codehaus.plexus.redback.common.ldap.connection.LdapConnectionFactory</role>
      <role-hint>configurable</role-hint>
      <implementation>org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory</implementation>
      <description></description>
      <configuration>
        <hostname>localhost</hostname>
        <port>389</port>
        <baseDn>************</baseDn>
        <contextFactory>com.sun.jndi.ldap.LdapCtxFactory</contextFactory>
        <password>*******</password>
        <bindDn>********</bindDn>
        <extraProperties>
                <property>
                        <name>com.sun.jndi.ldap.connect.pool</name>
                        <value>true</value>
                </property>
                <property>
                        <name>com.sun.jndi.ldap.connect.pool.maxsize</name>
                        <value>20</value>
                </property>
                <property>
                        <name>com.sun.jndi.ldap.connect.pool.prefsize</name>
                        <value>10</value>
                </property>
                <property>
                        <name>com.sun.jndi.ldap.connect.pool.timeout</name>
                        <value>30000</value>
                </property>
        </extraProperties>
      </configuration>
    </component>

NOTE: sensible configuration tags are correctly configured, but i'm erased them (marked with *****)",Minor,Closed,Duplicate,Brett Porter,brettporter,Emilio Jose Mena Cebrian,emenaceb
MRM-646,Bug,2007-12-27T07:13:13.616Z,2007-12-27T07:13:13.616Z,2008-01-13T22:32:22.911Z,2008-01-13T22:32:22.911Z,2008-01-13T22:32:22.915Z,2008-01-13T22:32:22.915Z,Documentation for configuring for Tomcat is invalid,"Further to MRM-545, I cannot get it a working install on Tomcat with the existing docs - I had to go to the wiki and Jira to get the answers.

Specifically, I could not deploy on Tomcat 6 without defining in Tomcat's enviroment:

{code}
export CATALINA_OPTS=""-Dappserver.home=$CATALINA_HOME -Dappserver.base=$CATALINA_HOME""
{code}

which is *not* covered in the current install docs.",Minor,Closed,Fixed,Maria Odea Ching,oching,Daniel Harvey,danielharvey
MRM-690,Bug,2008-02-11T07:30:58.605Z,2008-02-11T07:30:58.605Z,2008-03-19T21:56:38.538Z,2008-03-19T21:56:38.538Z,2008-03-19T21:56:38.609Z,2008-03-19T21:56:38.609Z,using undefined appserver.base,"Archiva while first startup creates repositories using ${appserver.base}/data as a root directory.
But setup guide does not inform, that such property should be set up for tomcat during startup,",Major,Closed,Fixed,Brett Porter,brettporter,Tomasz Pik,pikus
MRM-693,Bug,2008-02-12T18:58:46.621Z,2008-02-12T18:58:46.621Z,2008-05-08T01:42:19.933Z,2008-05-08T01:42:19.933Z,,,need a specific guide for creating a new repository,"the current admin guide talks about what the types of repositories are, but it doesn't walk through creating one - which misses the opportunity to explain that new repositories are secured by default to the administrator.",Major,Open,,,,Brett Porter,brettporter
MRM-637,Bug,2007-12-20T05:51:49.807Z,2007-12-20T05:51:49.807Z,2012-09-24T16:59:56.327Z,2012-09-24T16:59:56.327Z,2012-09-24T16:59:56.088Z,2012-09-24T16:59:56.088Z,get -Pci build working for Archiva again and generate appropriate developer reports and checks,,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-688,Task,2008-02-11T00:15:22.201Z,2008-02-11T00:15:22.201Z,2008-03-28T20:05:53.185Z,2008-03-28T20:05:53.185Z,2008-03-28T10:13:20.534Z,2008-03-28T10:13:20.534Z,Replace plexus-runtime with standalone jetty bundle,http://www.nabble.com/Re%3A-Archiva-1.1-Roadmap-p15331690.html,Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-670,Bug,2008-01-28T07:18:38.198Z,2008-01-28T07:18:38.198Z,2008-01-28T09:02:36.473Z,2008-01-28T09:02:36.473Z,2008-01-28T09:02:36.492Z,2008-01-28T09:02:36.492Z,legacy artifact mapping form needs better validation,"eg, type just ""a"" into the path field.

Need to validate all fields.

Also, not sure we should use javascript to concat the artifact reference - why not pass through the individual fields and concat in the action?",Major,Closed,Fixed,nicolas de loof,ndeloof,Brett Porter,brettporter
MRM-691,Bug,2008-02-11T19:05:55.652Z,2008-02-11T19:05:55.652Z,2008-02-25T07:22:13.594Z,2008-02-25T07:22:13.594Z,2008-02-25T07:22:13.649Z,2008-02-25T07:22:13.649Z,Can't get any of the consumers to work without through a NPE,"It appears to be causing NPE for all consumers and some there seems to be some type of InvalidPath issue as well.  

Logs are attached.",Major,Closed,Fixed,Brett Porter,brettporter,Jason Chaffee,jchaffee
MRM-618,Bug,2007-12-04T12:24:51.239Z,2007-12-04T12:24:51.239Z,2008-03-19T22:14:11.221Z,2008-03-19T22:14:11.221Z,2008-03-19T22:14:11.272Z,2008-03-19T22:14:11.272Z,PLEXUS_BASE does not work for local databases,"To get it to work, I had to edit plexus.xml and change the 2 database references.  for example

                <value>jdbc:derby:${plexus.home}/data/users/database;create=true</value>

to 
                <value>jdbc:derby:${appserver.base}/data/users/database;create=true</value>

plexus.home is set to the installation directory I believe.  So my users were not available after upgrade.",Major,Closed,Fixed,Brett Porter,brettporter,Yuri Schimke,yuri
MRM-685,New Feature,2008-02-07T00:27:06.888Z,2008-02-07T00:27:06.888Z,2015-04-08T11:00:44.908Z,2015-04-08T11:00:44.908Z,,,Create an Archiva custom application connector for Crowd,"The team at Atlassian tried to develop a [custom client|http://confluence.atlassian.com/display/CROWD/Creating+a+Crowd+Client+for+your+Custom+Application] for our [Crowd application|http://www.atlassian.com/software/crowd/] but were unsuccessful due to limitations in the Archiva security API.  We would really appreciate some assistance in getting a custom Crowd client up and running for Archiva.

Cheers,
Donna",Major,Open,,,,Donna McGahan,dmcgahan
MRM-697,Improvement,2008-02-14T22:11:46.007Z,2008-02-14T22:11:46.007Z,2016-03-15T06:10:19.363Z,2016-03-15T06:10:19.363Z,2016-03-15T06:10:19.334Z,2016-03-15T06:10:19.334Z,Gzip compression,Investigate the option of gzip encoding http requests for faster transfers.,Major,Closed,Won't Fix,,,James William Dumay,jameswdumay
MRM-655,Bug,2008-01-11T03:36:31.845Z,2008-01-11T03:36:31.845Z,2008-03-29T19:08:28.482Z,2008-03-29T19:08:28.482Z,2008-03-26T01:53:23.57Z,2008-03-26T01:53:23.57Z,The logs are duplicated in the archiva.log and wrapper.log file.,Use the jetty-archetype Brett has created together with the appassembler plugin to generate the binary scripts. The appassembler plugin still needs to be changed to allow configuration of the wrapper.conf.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-660,Bug,2008-01-21T04:04:28.928Z,2008-01-21T04:04:28.928Z,2008-07-09T00:30:48.176Z,2008-07-09T00:30:48.176Z,2008-07-09T00:30:48.185Z,2008-07-09T00:30:48.185Z,"unable to uncheck ""releases included"" on a managed repository when editing the repository",,Major,Closed,Duplicate,,,Brett Porter,brettporter
MRM-647,Task,2007-12-30T11:06:15.583Z,2007-12-30T11:06:15.583Z,2008-02-14T19:57:49.859Z,2008-02-14T19:57:49.859Z,2008-01-06T18:26:36.719Z,2008-01-06T18:26:36.719Z,Publish the reference docs for 1.0,The javadocs and other reports for Archiva 1.0 need to be published at http://maven.apache.org/archiva/ref/1.0 .,Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-665,Bug,2008-01-24T17:16:13.995Z,2008-01-24T17:16:13.995Z,2011-03-29T09:59:22.582Z,2011-03-29T09:59:22.582Z,2010-02-23T01:44:39.559Z,2010-02-23T01:44:39.559Z,DependencyTree fetchGraph causes high load with large databases,DependencyTree fetchGraph causes high load when there is a large amount of metadata in the database.,Critical,Closed,Fixed,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-677,Task,2008-01-30T00:43:50.61Z,2008-01-30T00:43:50.61Z,2008-04-13T22:06:22.928Z,2008-04-13T22:06:22.928Z,2008-03-19T09:37:44.832Z,2008-03-19T09:37:44.832Z,Upgrade archiva to the latest redback (1.0.1),,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-644,Bug,2007-12-26T18:50:07.587Z,2007-12-26T18:50:07.587Z,2010-02-23T04:39:22.592Z,2010-02-23T04:39:22.592Z,2010-02-23T04:39:22.538Z,2010-02-23T04:39:22.538Z,org.jvnet.jaxb2.maven2:maven-jaxb2-plugin is not resolved correctly using Archiva as mirror,"org.jvnet.jaxb2.maven2:maven-jaxb2-plugin is not resolved correctly with <version> tag omitted in pom.xml. Omitting the <version> tag works if Archiva is not used (Maven will just get the latest version).

Steps to reproduce:

Archiva application:

Unpack and run archiva

$ tar zxvf apache-archiva-1.0-bin.tar.gz
$ apache-archiva-1.0/bin/linux-x86-32/run.sh start

Navigate to http://localhost:8080/archiva 
create Admin user and login

In Repositories (under Administration):

Add remote Maven 1 legacy repository

Identifier: maven-repository.dev.java.net
Name:       Java.net Maven 1 Repository (legacy)
URL:        http://download.java.net/maven/1
Type:       Maven 1.x Repository

Add remote Maven 2 jfrog-plugins repository

Identifier: jfrog-plugins
Name:       jFrog plugins
URL:        http://www.jfrog.org/artifactory/plugins-releases
Type:       Maven 2.x repository

In Proxy Connectors (under Administration)

Edit maven2-repository.dev.java.net proxy connector
Remove ""jaxax/**"" whitelist constraint and click Save Proxy Connector

Add Proxy Connectors

Managed Repository: internal
Remote Repository:  maven-repository.dev.java.net
cache-failures:     yes
releases:           once
checksum:           fix
snapshots:          never

Managed Repository: internal
Remote Repository:  jfrog-plugins
cache-failures:     yes
releases:           once
checksum:           fix
snapshots:          never

Client side:

Copy settings.xml to ~/.m2
$ cp settings.xml ~/.m2

Create sample project
$ mvn archetype:create -DgroupId=some.namespace -DartifactId=myproject

Overwrite pom.xml
$ cp myproject.pom.xml myproject/pom.xml

Add sample XML schema
$ mkdir myproject/src/main/resources
$ cp schema.xsd myproject/src/main/resources/

Run test
$ cd myproject
$ mvn test

This should fail with BUILD ERROR ""The plugin 'org.jvnet.jaxb2.maven2:maven-jaxb2-plugin' does not exist or no valid version could be found""

Workaround:

uncomment <version> tag in pom.xml and run test again

Now mvn test should succeed.",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Henrik Schmidt,hsm
MRM-633,Bug,2007-12-20T00:29:54.393Z,2007-12-20T00:29:54.393Z,2008-01-11T03:40:37.25Z,2008-01-11T03:40:37.25Z,2008-01-11T03:40:37.254Z,2008-01-11T03:40:37.254Z,Logging is too verbose,"the default Archiva logging generates about 160Mb of logs a day on my reasonably inactive, not large local instance. This is primarily due to scanning.

In addition, the logs are duplicated in the archiva.log and wrapper.log file.

",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-676,New Feature,2008-01-29T16:15:41.094Z,2008-01-29T16:15:41.094Z,2013-12-08T20:47:52.883Z,2013-12-08T20:47:52.883Z,2013-12-08T20:47:52.758Z,2013-12-08T20:47:52.758Z,Provide 302 redirect for latest SNAPSHOT,"It would be very useful to have a single link that would always give you the latest snapshot jar, e.g.:

http://archiva./repository/snapshots/com/my-company/my-app/1.0-SNAPSHOT/my-app-1.0-SNAPSHOT.jar

Right now this is 404 because there's no file called -SNAPSHOT.jar; instead, it has a specific jar file with a versioned name, e.g. my-app-20071130.231146-44.jar.  It would be handy if Archiva recognized the URL above and provided a 302 redirect to the current latest deployed snapshot.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Dan Fabulich,dfabulich
MRM-689,Bug,2008-02-11T06:46:41.177Z,2008-02-11T06:46:41.177Z,2008-03-25T09:00:51.645Z,2008-03-25T09:00:51.645Z,2008-03-25T09:00:51.654Z,2008-03-25T09:00:51.654Z,Incorrect war name in example for tomcat,Page with tomcat configuration shows configuration for archiva-webapp-1.0.war while file is distributed as apache-archiva-1.0.1.war,Minor,Closed,Fixed,Brett Porter,brettporter,Tomasz Pik,pikus
MRM-624,Bug,2007-12-10T05:36:19.082Z,2007-12-10T05:36:19.082Z,2008-03-28T10:39:16.076Z,2008-03-28T10:39:16.076Z,2008-03-28T10:39:16.111Z,2008-03-28T10:39:16.111Z,Failed to install Archiva as windows service,"When installing standalone Archiva as service, it simply does not work (Wrapper with switch -s)
Logs says, that there failed to execute following command:

C:\mkdis\apache-archiva-1.0\bin\windows-x86-32>""%JAVA_HOME%\bin\java"" -Dclassworlds.conf=""../../conf/classworlds.conf"" -
Djava.io.tmpdir=""../../temp"" -Dplexus.core=""../../core"" -Dplexus.home=""../.."" -Dtools.jar=""C:\Program Files\IBM\Java50\l
ib\tools.jar"" -Dappserver.base=""../.."" -Dplexus.system.path=""C:\Program Files\Windows Resource Kits\Tools\;C:\Program Fi
les\ThinkPad\Utilities;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Program Files\IBM\Infoprint Select;C:\
Notes;C:\Program Files\XLView;C:\lotus\compnent;C:\Utilities;C:\Program Files\IBM\Personal Communications\;C:\Program Fi
les\IBM\Trace Facility\;C:\WINDOWS\Downloaded Program Files;C:\mkdis\Python24;"" -Xms3m -Xmx128m -Djava.library.path=""../
../bin/windows-x86-32"" -classpath ""../../core/boot/wrapper.jar;../../core/boot/plexus-classworlds-1.2-alpha-7.jar"" -Dwra
pper.key=""JQK7VC49zzNi9lh0"" -Dwrapper.port=32000 -Dwrapper.jvm.port.min=31000 -Dwrapper.jvm.port.max=31999 -Dwrapper.deb
ug=""TRUE"" -Dwrapper.pid=4956 -Dwrapper.version=""3.2.3"" -Dwrapper.native_library=""wrapper"" -Dwrapper.service=""TRUE"" -Dwra
pper.cpu.timeout=""10"" -Dwrapper.jvmid=1 org.tanukisoftware.wrapper.WrapperSimpleApp org.codehaus.plexus.classworlds.laun
cher.Launcher

When I run this command in command line, I receive following output.



WrapperManager class initialized by thread: main  Using classloader: sun.misc.Launcher$AppClassLoader@2d282d28
Wrapper (Version 3.2.3) http://wrapper.tanukisoftware.org
  Copyright 1999-2006 Tanuki Software, Inc.  All Rights Reserved.

Wrapper Manager: JVM #1
Running a 32-bit JVM.
Wrapper Manager: Registering shutdown hook
Wrapper Manager: Using wrapper
Load native library.  One or more attempts may fail if platform specific libraries do not exist.
Loading native library failed: wrapper-windows-x86-32.dll  Cause: java.lang.UnsatisfiedLinkError: wrapper-windows-x86-32
 (Not found in java.library.path)
Loaded native library: wrapper.dll
Calling native initialization method.
Initializing WrapperManager native library.
Java Executable: C:\Program Files\IBM\Java50\bin\java.exe
Windows version: 5.1.2600
Java Version   : J2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223-20071007 (JIT enabled)
J9VM - 20071004_14218_lHdSMR
JIT  - 20070820_1846ifx1_r8
GC   - 200708_10
Java VM Vendor : IBM Corporation

WrapperManager.start(org.tanukisoftware.wrapper.WrapperSimpleApp@2f1e2f1e, args[]) called by thread: main
Control event monitor thread started.
Startup runner thread started.
Communications runner thread started.
Open socket to wrapper...Wrapper-Connection
Failed to connect to the Wrapper at port 32000.
java.net.ConnectException: Connection refused: connect",Minor,Closed,Fixed,Brett Porter,brettporter,Slavomir Kocka,kockas
MRM-638,Bug,2007-12-20T05:52:35.981Z,2007-12-20T05:52:35.981Z,2008-03-29T06:39:18.763Z,2008-03-29T06:39:18.763Z,2008-03-29T06:39:18.788Z,2008-03-29T06:39:18.788Z,some developer reports are appearing in the archiva-docs module and need to be disabled,"PMD, changelog are appearing - but they belong in the developers section.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-616,Bug,2007-12-04T04:35:27.473Z,2007-12-04T04:35:27.473Z,2009-03-21T21:02:21.857Z,2009-03-21T21:02:21.857Z,2009-03-09T22:36:19.278Z,2009-03-09T22:36:19.278Z,When running on IBM JDK 1.5:  java.security.NoSuchProviderException: no such provider: SUN,"When running Archiva 1.0 on an IBM JDK, the following exception occurs. (Notice that IBM JDK must be used for running WebSphere.)

jvm 1    | 2007-12-04 11:29:28,478 [SocketListener0-1] WARN  org.codehaus.plexus.redback.keys.KeyManager:jdo  - Unable t
o use SecureRandom
jvm 1    | java.security.NoSuchProviderException: no such provider: SUN
jvm 1    |      at sun.security.jca.GetInstance.getService(GetInstance.java:82)
jvm 1    |      at sun.security.jca.GetInstance.getInstance(GetInstance.java:206)
jvm 1    |      at java.security.SecureRandom.getInstance(SecureRandom.java:310)
jvm 1    |      at org.codehaus.plexus.redback.keys.AbstractKeyManager.generateUUID(AbstractKeyManager.java:67)
jvm 1    |      at org.codehaus.plexus.redback.keys.jdo.JdoKeyManager.createKey(JdoKeyManager.java:61)
jvm 1    |      at org.codehaus.plexus.redback.keys.cached.CachedKeyManager.createKey(CachedKeyManager.java:64)
jvm 1    |      at org.codehaus.plexus.redback.xwork.util.AutoLoginCookies.setSignonCookie(AutoLoginCookies.java:144)
jvm 1    |      at org.codehaus.plexus.redback.xwork.action.LoginAction.webLogin(LoginAction.java:350)
jvm 1    |      at org.codehaus.plexus.redback.xwork.action.LoginAction.login(LoginAction.java:136)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
jvm 1    |      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
jvm 1    |      at java.lang.reflect.Method.invoke(Method.java:615)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
jvm 1    |      at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionIntercept
or.java:114)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcemen
tInterceptor.java:105)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.jav
a:156)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInter
ceptor.java:76)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckI
nterceptor.java:122)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.
java:175)
jvm 1    |      at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)

jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
jvm 1    |      at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)

jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.ja
va:169)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.
java:186)
jvm 1    |      at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1    |      at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
jvm 1    |      at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
jvm 1    |      at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
jvm 1    |      at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1    |      at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
jvm 1    |      at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
jvm 1    |      at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1    |      at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
jvm 1    |      at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1    |      at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
jvm 1    |      at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
jvm 1    |      at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
jvm 1    |      at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
jvm 1    |      at org.mortbay.http.HttpServer.service(HttpServer.java:909)
jvm 1    |      at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
jvm 1    |      at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
jvm 1    |      at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
jvm 1    |      at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
jvm 1    |      at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
jvm 1    |      at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)",Minor,Closed,Fixed,Brett Porter,brettporter,Arne Degenring,arned
MRM-679,Wish,2008-02-01T12:16:49.065Z,2008-02-01T12:16:49.065Z,2008-02-18T15:12:10.606Z,2008-02-18T15:12:10.606Z,,,Provide a test button for network proxy and remote proxy,"On the network proxy, there are 2 icons for ""edit proxy"" or ""delete proxy"".   There should also be a ""test proxy"" button to test whether the proxy settings are valid.   The ""test proxy"" button could open a form consisting simply of a textbox in which to enter a remote URL and a ""Go"" button to attempt a get.   The results should return success or failure to reach the remote URL along with whatever other useful diagnostic information could be retrieved in such a test.

Likewise the repository proxy connectors should have a ""test"" button in addition to the existing edit, delete, up, down buttons.",Minor,Open,,,,Carlton Brown,cbrown
MRM-600,Bug,2007-11-21T23:24:30.277Z,2007-11-21T23:24:30.277Z,2016-03-15T06:08:25.567Z,2016-03-15T06:08:25.567Z,2016-03-15T06:08:25.546Z,2016-03-15T06:08:25.546Z,sort policies in web UI for proxy connector admin,see screenshot in MRM-599,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-681,Bug,2008-02-05T06:48:56.573Z,2008-02-05T06:48:56.573Z,2008-02-21T22:33:23.915Z,2008-02-21T22:33:23.915Z,2008-02-21T22:33:24.165Z,2008-02-21T22:33:24.165Z,Unable to index test-sources.jar for given artifacts,"Copied the existing artifacts from a Proximity repository.

Rescanned the repository

all other artifacts, jars, poms, src-jars have been indexed correctly.

test-source.jars however throw the following exception

218109 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Consumer [metadata-updater] had an error when processing file [C:\apps\Tomcat 6.0\data\repositories\snapshots\com\elsevier\elslon\common\components\ecom\eCommerce\0.0.1-SNAPSHOT\eCommerce-0.0.1-20070219.171202-34-test-sources.jar]: Unable to convert to artifact reference: com\elsevier\elslon\common\components\ecom\eCommerce\0.0.1-SNAPSHOT\eCommerce-0.0.1-20070219.171202-34-test-sources.jar
org.apache.maven.archiva.consumers.ConsumerException: Unable to convert to artifact reference: com\elsevier\elslon\common\components\ecom\eCommerce\0.0.1-SNAPSHOT\eCommerce-0.0.1-20070219.171202-34-test-sources.jar
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:167)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:120)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:64)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:106)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Unknown Source) Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:134)
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:49)
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:330)
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:161)
	... 24 more
",Major,Closed,Duplicate,Brett Porter,brettporter,Jon SlinnHawkins,jslinnha
MRM-605,Bug,2007-11-24T20:34:25.751Z,2007-11-24T20:34:25.751Z,2008-07-01T20:11:32.475Z,2008-07-01T20:11:32.475Z,2008-07-01T20:11:32.479Z,2008-07-01T20:11:32.479Z,unit tests fail on archiva 1.0 source distribution,"there is one test failure in the repository-layer when built from the source distribution - though it remains fine on trunk. I'm not sure what's different.

It detects 6 results instead of 5 in a query.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-613,New Feature,2007-12-03T12:23:14.366Z,2007-12-03T12:23:14.366Z,2007-12-16T11:55:19.517Z,2007-12-16T11:55:19.517Z,,,[FEATURE] Archiva ArtifactRank,"This is a new feature request.

ArtifactRank (the Archiva version of Googles PageRank)

I'd like to see some badging of the health of the artifact, encourage the proper creation of artifacts this way.  We can provide a graphic on the artifact page (and even the artifact search results and browse screens).  This rank can also be used to increase the importance of hits on the search results.

      100% = Gold Award for excellence.
70% to 99% = Green Award  (Good)
40% to 69% = Yellow Award (Warning)
 0% to 39% = Red Badge    (Warning++)

* How many other projects use the artifact. (junit would be highly ranked)
* License is fully defined.
* License file exists in the artifact archive.
* URL is defined.
* At least 1 contact point is defined. (Developer email address or mailing list)
* A POM is defined.
* Checksums are defined.
* The maven pom manifest information exists.
* All dependencies exist in the repository too.
* All parent poms exist in the repository too.
* All plugins used exist in the repository too.
* If the artifact contains java ...
** All of the *.class files are within the same groupId that is defined in the POM.
   This is to indicate bad deployment, or bad
** All of the declared imports have an associated dependency defined.
** The manifest.mf file contains the version specified.
** The source.jar exists.
** The javadoc.jar exists.

This list of checks can feed the reporting too.
And the list of checks should be able to be extended / enhanced by administrators of Archiva installs too.",Major,Open,,,,Joakim Erdfelt,joakime
MRM-692,Bug,2008-02-12T10:28:28.453Z,2008-02-12T10:28:28.453Z,2008-02-17T04:45:05.607Z,2008-02-17T04:45:05.607Z,2008-02-17T04:41:56.07Z,2008-02-17T04:41:56.07Z,Repository problem is kept in database even though its related artifact has been already removed,"I've noticed the _Show Report_ functionality always displays repository problems of artifacts that have been already removed.   In my opinion, it should not since its associated artifact does not exist anymore.
No repository problem is ever purged causing the report to get bigger and bigger.",Major,Closed,Fixed,Maria Odea Ching,oching,Dário Oliveros,oliveros
MRM-653,Bug,2008-01-08T21:03:27.354Z,2008-01-08T21:03:27.354Z,2015-04-06T01:53:58.956Z,2015-04-06T01:53:58.956Z,2008-05-20T07:24:07.076Z,2008-05-20T07:24:07.076Z,WebDAV deploy fails with error,"I was having problems deploying artifacts using the wagon-webdav plugin. I originally thought it was a client problem with the plugin since no errors were showing up in the Archiva logs until I did a tcpdump and found the exception sent from the Archiva server. I assumed all errors in Archiva would output a stack trace in the logs, but apparently this is not always the case. I've attached the HTTP session information showing the stack trace.",Major,Closed,Fixed,,,Erik R. Jensen,erikrj
MRM-663,Bug,2008-01-22T04:24:55.317Z,2008-01-22T04:24:55.317Z,2016-03-15T06:09:37.131Z,2016-03-15T06:09:37.131Z,2016-03-15T06:09:37.108Z,2016-03-15T06:09:37.108Z,Make type to extension mapping configurable,"I'm working on a multi-project application and i encountered a problem.
One of my sub-project is having the type ejb. Also, when i deploy it with maven, it's placed in a folder called ""ejbs"".

The problem is that when i'm browsing this folder, i can see the jar created in my ""ejbs"" folder but when i try to download it, archiva gives me an error 404 with a message in which the part of the path ""ejbs"" is replaced by ""jars"".

The url of the page is ""http://xxx/repository/xxx/ejbs/Ejb-xxx.jar"" and the message is :

Error 404 Not Found

The following resource does not exist: http://xxx/repository/xxx/jars/Ejb-xxx.jar""

And the problem happens for the type ""zip"" replaced by ""distribution"" (???).",Major,Closed,Won't Fix,,,Fabien DUBRON,fabien.dubron
MRM-640,Bug,2007-12-20T06:07:56.613Z,2007-12-20T06:07:56.613Z,2012-09-26T08:14:10.139Z,2012-09-26T08:14:10.139Z,2012-09-26T08:14:09.845Z,2012-09-26T08:14:09.845Z,breadcrumbs need to incude current doc so you can navigate back to home page,"the ""1.0"" should go back to /archiva/docs/1.0, and the ""Archiva"" should go back to ""/archiva"" - and be available any time you are not on that index page.

Including the page title as a non clickable breadcrumb is an option, or always making the last breadcrumb clickable if it is a different page to that linked.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-617,Bug,2007-12-04T06:25:31.069Z,2007-12-04T06:25:31.069Z,2008-03-25T08:50:27.793Z,2008-03-25T08:50:27.793Z,2008-03-25T08:50:27.816Z,2008-03-25T08:50:27.816Z,Reporting does not work due to bug in client-side JavaScript validation,"No matter what ""Row Count"" I choose in Manage | Reports, I get the error message ""Row count must be between 10 and 5000."". After disabling JavaScript, which disables the client-side validation, it works.

I tracked it down to the following line in the JavaScript function validateForm_generateReport() that is included into the pickReport page

508 if (parseInt(field.value) <
509 10 ||
510 parseInt(field.value) >
511 5.000) {

The problem is the decimal point in the number ""5.000"". At least on my system, this is interpreted as ""5"", not ""5000"".",Major,Closed,Fixed,Brett Porter,brettporter,Arne Degenring,arned
MRM-683,Bug,2008-02-06T09:57:13.045Z,2008-02-06T09:57:13.045Z,2008-08-02T21:35:19.432Z,2008-08-02T21:35:19.432Z,2008-08-02T21:35:19.444Z,2008-08-02T21:35:19.444Z,Archiva version missing from pages and logs,"I have just upgraded to Archiva 1.0.1 I think (deployed as a war file on tomcat), and wanted to confirm the upgrade had worked, but cannot find any references to the version in the logs or on the pages.

In the logs I get the alpaca ASCII art which says ""unknown version"", and I cannot see the version number in the page footer or title etc anywhere.

Looking at the page source for the main Archiva index page shows:

{code:html}
<div id=""footer"">
  <div class=""xleft"">
    Apache Archiva <Unknown Version>
  </div>
  <div class=""xright"">
    Copyright &#169; 2005-2008 The Apache Software Foundation
  </div>

  <div class=""clear"">
    <hr/>

  </div>
</div>
{code}

According to Wendy Smoak the version number should be in the footer and the logs. I have checked that the {{META-INF/maven/org.apache.maven.archiva/archiva-webapp/pom.properties}} file contains the 1.0.1 version number.
",Major,Closed,Duplicate,Brett Porter,brettporter,Ben Lidgey,ben.lidgey
MRM-606,Bug,2007-11-24T20:35:16.544Z,2007-11-24T20:35:16.544Z,2008-02-05T02:08:29.279Z,2008-02-05T02:08:29.279Z,2008-02-05T02:08:29.81Z,2008-02-05T02:08:29.81Z,docs appear in wrong directory for Archiva 1.0 release,"while it is fine on trunk, the docs appear in an archiva-1.0-docs.zip subdirectory of the released distribution - check whether we need to lock down to a better assembly plugin version ",Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-651,Improvement,2008-01-07T22:41:44.169Z,2008-01-07T22:41:44.169Z,2015-04-05T14:54:09.451Z,2015-04-05T14:54:09.451Z,2008-02-13T01:52:20.323Z,2008-02-13T01:52:20.323Z,Updated consumer plugin to build against the 1.1 apis,"- Updated the DiscoverNewAritfactConsumer to use the 1.1 APIs.  
- Added a simple unit test.",Trivial,Closed,Fixed,,,Stephen Gargan,sgargan
MRM-645,Bug,2007-12-26T21:50:05.183Z,2007-12-26T21:50:05.183Z,2008-01-13T15:40:59.611Z,2008-01-13T15:40:59.611Z,2008-01-13T15:40:59.617Z,2008-01-13T15:40:59.617Z,"""Getting Involved in the Archiva Project"" page contains errors","The ""Getting Involved in the Archiva Project"" page 

http://maven.apache.org/archiva/get-involved.html

contains errors (see attached).

Several other related suggestions:

# The front page (http://maven.apache.org/archiva/) contains a link to the above page, but the LHS navigation does not. It would usually go under ""Community"" or similar...
# The LHS navigation should contain a direct link to the Wiki - it's a  little difficult to find (I had to Google it :-()",Minor,Closed,Fixed,Wendy Smoak,wsmoak,Daniel Harvey,danielharvey
MRM-673,Improvement,2008-01-28T13:09:49.111Z,2008-01-28T13:09:49.111Z,2008-11-18T18:49:58.607Z,2008-11-18T18:49:58.607Z,2008-11-18T18:49:58.614Z,2008-11-18T18:49:58.614Z,"hover rule on homepage makes it hard to click on ""All Downloads""","On the homepage, section 2 ""Download Archiva"" has a hover rule that makes it hide/show the list of available downloads.  I think that's annoying; it's especially hard to click on ""All Downloads"" because of it, because if you move your mouse too far down, the box collapses and the link disappears.

I think we should get rid of the hover rule.",Major,Closed,Fixed,Brett Porter,brettporter,Dan Fabulich,dfabulich
MRM-680,Bug,2008-02-04T07:32:58.392Z,2008-02-04T07:32:58.392Z,2011-09-12T09:35:37.21Z,2011-09-12T09:35:37.21Z,2011-09-12T09:35:37.146Z,2011-09-12T09:35:37.146Z,User database cannot be used with MySQL 4.1,"Changed database configuration in plexus.xml to MySQL. It works for the resource jdbc/archiva but not for the jdbc/users resource:

11587 [WrapperSimpleAppMain] ERROR JPOX.RDBMS  - Error thrown executing CREATE TABLE `SECURITY_OPERATIONS`
(
    `NAME` VARCHAR(256) BINARY NOT NULL,
    `DESCRIPTION` VARCHAR(256) BINARY NULL,
    `PERMANENT` BIT NOT NULL,
    `RESOURCE_REQUIRED` BIT NOT NULL,
    PRIMARY KEY (`NAME`)
) TYPE=INNODB : BLOB/TEXT column 'NAME' used in key specification without a key length
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: BLOB/TEXT column 'NAME' used in key specification without a key length
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1027)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3376)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3308)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2537)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2466)
        at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:735)
        at org.apache.commons.dbcp.DelegatingStatement.execute(DelegatingStatement.java:261)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
        at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
        at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3065)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
        at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1218)
        at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1357)
        at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2328)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:205)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:188)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInit(JdoTool.java:131)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManager(JdoTool.java:118)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:292)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsById(JdoTool.java:340)
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExists(JdoRbacManager.java:467)
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExists(CachedRbacManager.java:622)
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResources(DefaultRoleModelProcessor.java:77)
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.process(DefaultRoleModelProcessor.java:63)
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:210)
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:132)
        at org.codehaus.plexus.redback.role.DefaultRoleManager.initialize(DefaultRoleManager.java:457)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.execute(InitializePhase.java:33)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:333)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirement(AbstractComponentComposer.java:241)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:66)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:57)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:143)
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:7
2)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:46)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:333)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirement(AbstractComponentComposer.java:241)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:66)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:57)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:143)
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:7
2)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:46)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:327)
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.execute(StartLoadOnStartComponentsPhase.java:68)
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhases(DefaultPlexusContainer.java:886)
        at org.codehaus.plexus.DefaultPlexusContainer.initialize(DefaultPlexusContainer.java:834)
        at org.codehaus.plexus.DefaultPlexusContainer.construct(DefaultPlexusContainer.java:811)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:222)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:260)
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitialized(PlexusLifecycleListener.java:76)
        at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:495)
        at org.mortbay.util.Container.start(Container.java:72)
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplication(AbstractJettyServletContainer.java:209)
        at org.codehaus.plexus.service.jetty.JettyPlexusService.afterApplicationStart(JettyPlexusService.java:248)
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.execute(AfterAppStartServiceSetupP
hase.java:28)
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJar(DefaultApplicationDeployer.java:107)
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deploy(DefaultApplicationDeployer.java:88)
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase$1.onJarDiscovered(ApplicationDeploymentPhase.java:44)
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDirectory(DefaultSupervisor.java:100)
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scan(DefaultSupervisor.java:73)
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase.execute(ApplicationDeploymentPhase.java:58)
        at org.codehaus.plexus.appserver.DefaultApplicationServer.start(DefaultApplicationServer.java:218)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.execute(StartPhase.java:33)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:69)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:297)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:291)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.start(PlexusApplicationHost.java:155)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.start(PlexusApplicationHost.java:85)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.main(PlexusApplicationHost.java:289)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)
        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)
        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:408)
        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:351)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
        at java.lang.Thread.run(Thread.java:595)

11602 [WrapperSimpleAppMain] ERROR JPOX.RDBMS.Schema  - An exception was thrown while adding/validating class(es) : BLOB/TEXT column 'NAME' u
sed in key specification without a key length
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: BLOB/TEXT column 'NAME' used in key specification without a key length
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1027)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3376)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3308)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2537)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2466)
        at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:735)
        at org.apache.commons.dbcp.DelegatingStatement.execute(DelegatingStatement.java:261)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
        at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
        at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3065)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
        at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1218)
        at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1357)
        at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2328)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:205)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:188)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInit(JdoTool.java:131)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManager(JdoTool.java:118)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:292)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsById(JdoTool.java:340)
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExists(JdoRbacManager.java:467)
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExists(CachedRbacManager.java:622)
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResources(DefaultRoleModelProcessor.java:77)
        at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.process(DefaultRoleModelProcessor.java:63)
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:210)
        at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:132)
        at org.codehaus.plexus.redback.role.DefaultRoleManager.initialize(DefaultRoleManager.java:457)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.execute(InitializePhase.java:33)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:333)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirement(AbstractComponentComposer.java:241)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:66)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:57)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:143)
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:7
2)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:46)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:333)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirement(AbstractComponentComposer.java:241)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:66)
        at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:57)
        at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:143)
        at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:7
2)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:46)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:327)
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.execute(StartLoadOnStartComponentsPhase.java:68)
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhases(DefaultPlexusContainer.java:886)
        at org.codehaus.plexus.DefaultPlexusContainer.initialize(DefaultPlexusContainer.java:834)
        at org.codehaus.plexus.DefaultPlexusContainer.construct(DefaultPlexusContainer.java:811)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:222)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:260)
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitialized(PlexusLifecycleListener.java:76)
        at org.mortbay.jetty.servlet.WebApplicationContext.doStart(WebApplicationContext.java:495)
        at org.mortbay.util.Container.start(Container.java:72)
        at org.codehaus.plexus.jetty.AbstractJettyServletContainer.startApplication(AbstractJettyServletContainer.java:209)
        at org.codehaus.plexus.service.jetty.JettyPlexusService.afterApplicationStart(JettyPlexusService.java:248)
        at org.codehaus.plexus.appserver.application.deploy.lifecycle.phase.AfterAppStartServiceSetupPhase.execute(AfterAppStartServiceSetupP
hase.java:28)
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deployJar(DefaultApplicationDeployer.java:107)
        at org.codehaus.plexus.appserver.application.deploy.DefaultApplicationDeployer.deploy(DefaultApplicationDeployer.java:88)
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase$1.onJarDiscovered(ApplicationDeploymentPhase.java:44)
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scanDirectory(DefaultSupervisor.java:100)
        at org.codehaus.plexus.appserver.supervisor.DefaultSupervisor.scan(DefaultSupervisor.java:73)
        at org.codehaus.plexus.appserver.lifecycle.phase.ApplicationDeploymentPhase.execute(ApplicationDeploymentPhase.java:58)
        at org.codehaus.plexus.appserver.DefaultApplicationServer.start(DefaultApplicationServer.java:218)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.execute(StartPhase.java:33)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:69)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:297)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:291)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.start(PlexusApplicationHost.java:155)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.start(PlexusApplicationHost.java:85)
        at org.codehaus.plexus.appserver.PlexusApplicationHost.main(PlexusApplicationHost.java:289)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
",Major,Closed,Won't Fix,,,Dennis Kieselhorst,deki
MRM-698,Task,2008-02-17T03:54:37.444Z,2008-02-17T03:54:37.444Z,2008-03-25T08:03:56.369Z,2008-03-25T08:03:56.369Z,2008-03-25T08:03:56.376Z,2008-03-25T08:03:56.376Z,Add a 'Known Issues' section in the release notes documentation,,Major,Closed,Fixed,Wendy Smoak,wsmoak,Maria Odea Ching,oching
MRM-604,Improvement,2007-11-23T10:40:14.678Z,2007-11-23T10:40:14.678Z,2008-06-04T20:50:24.979Z,2008-06-04T20:50:24.979Z,2008-06-04T03:08:33.513Z,2008-06-04T03:08:33.513Z,Company POM - Allow a different version than 1 to be entered.,"Company POM always takes version 1, a different version cannot be used/entered via GUI.  Allow version to be specified along with existing group and artifact ids.  Thanks.",Minor,Closed,Won't Fix,james.w.dumay,james.w.dumay,Parag Mehta,paragmehta
MRM-649,Improvement,2008-01-03T05:07:48.211Z,2008-01-03T05:07:48.211Z,2011-10-27T16:39:42.106Z,2011-10-27T16:39:42.106Z,2011-10-27T16:39:42.079Z,2011-10-27T16:39:42.079Z,"Improve the ""Administration - Proxy Connectors"" view","When clicking the ""expand"" button I would assume it to read ""collapse"" after I press it. Also, when pressing it it take around 5 seconds for it to actually collapse. Browser: opera 9.25 on os x.",Major,Closed,Won't Fix,,,Trygve Laugstøl,trygvis@inamo.no
MRM-615,Bug,2007-12-04T04:02:31.416Z,2007-12-04T04:02:31.416Z,2008-11-07T07:58:28.311Z,2008-11-07T07:58:28.311Z,2008-10-10T23:00:36.041Z,2008-10-10T23:00:36.041Z,"When scanning, Archiva doesn't resolve properties/variables of POMs in managed repositories","If you have a JAR with a POM that contains variables (like ""pom.version"") or properties, Archiva doesn't resolve them when scanning and analysing the repository. Some of the multiple consequences are that the ""Dependencies"" tab can list dependencies without ""real"" versions, and that the ""Dependency Tree"" tabs can break with an exception ""Unable to generate graph for [XXX] : Unable to create ArchivaArtifact with empty version"".

A consequence of this bug can be seen by following these steps:
* install Archiva 
* ask for the following artifact: http://localhost:8080/archiva/repository/internal/org/apache/maven/archiva/archiva-model/1.0/archiva-model-1.0.jar
* then go to the page: http://localhost:8080/archiva/browse/org.apache.maven.archiva/archiva-model/1.0/
** on the ""Dependencies"" tab: there's no version for the dependencies (which is linked to the fact that the versions are defined in the parent POM, but if ${pom.version} would have been specified, we would have had ""${pom.version}""...}
** on the ""Dependency Tree"", we get the ""Unable to generate graph for [XXX] : Unable to create ArchivaArtifact with empty version"" exception

This bug breaks other functionalities like the ""Used by"" tab.",Critical,Closed,Fixed,,,Fabrice Bellingard,fabemn
MRM-607,Bug,2007-11-28T07:51:28.815Z,2007-11-28T07:51:28.815Z,2007-12-03T11:10:22.749Z,2007-12-03T11:10:22.749Z,2007-12-03T11:10:22.755Z,2007-12-03T11:10:22.755Z,HTTP 500 when opening proxyConnectors.jsp,"proxyConnectors cannot be opened after updating to version 1.0:

HTTP ERROR: 500

Exception in JSP: /WEB-INF/jsp/admin/proxyConnectors.jsp:127

124:       <img src=""<c:url value=""/images/archiva-world.png""/>""/>
125:       <p class=""id"">${connector.targetRepoId}</p>
126:       <p class=""name"">${repoMap[connector.targetRepoId].name}</p>
127:       <p class=""url""><a href=""${repoMap[connector.targetRepoId].url}"">${repoMap[connector.targetRepoId].url}</a></p>
128:     </div>
129:     
130:     <a class=""expand"" href=""#"" onclick=""Effect.toggle('proxySettings_${connector.sourceRepoId}_${connector.targetRepoId}','slide'); return false;"">Expand</a>


Stacktrace:

RequestURI=/archiva/admin/proxyConnectors.action

Powered by Jetty://",Critical,Closed,Won't Fix,,,Dennis Kieselhorst,deki
MRM-609,Bug,2007-11-29T13:52:42.07Z,2007-11-29T13:52:42.07Z,2009-03-21T21:01:03.932Z,2009-03-21T21:01:03.932Z,2009-02-04T01:05:48.938Z,2009-02-04T01:05:48.938Z,Search results contains links with \ characters in them on Windows,"I have installed Archiva 1.0 following the guide here:
http://maven.apache.org/archiva/docs/1.0/quick-start.html

After configuring the admin account I logged in and entered the example URLs  found on the above page. This downloads junit-3.8.1 properly and installs it in the internal repository.

Then I tried to search for junit. I got 3 hits (see screenshot). The first two who link to the /archiva/repository/internal... have URLs that ends in the Windows path to those artifacts. So these links do not work. The third one which links to /archiva/browse... works fine.",Major,Closed,Cannot Reproduce,Maria Odea Ching,oching,Dennis Lundberg,dennisl@apache.org
MRM-622,Bug,2007-12-07T11:36:43.888Z,2007-12-07T11:36:43.888Z,2008-04-09T01:41:18.471Z,2008-04-09T01:41:18.471Z,2008-03-17T10:10:51.256Z,2008-03-17T10:10:51.256Z,database not being updated with project model information,"I noticed Archiva database was not being updated with project model information in the following scenario:

1) Project B (1.0-SNAPSHOT) depends on Project A (1.0)
2) Project B is deployed to Archiva repository
3) Project B changes Project A dependency version from 1.0 to 1.1-SNAPSHOT
4) Project B is deployed to Archiva repository again.
5) The user executes 'Scan Repository Now' and 'Update Database Now' using Archiva.

At this point, if you browse project B, you'll notice it still keeps the reference to the former version of Project A, 1.0, and not 1.1-SNAPSHOT. However, if you download the POM file, you will see it has the lastet dependency version as expected.

NOTE: In project B POM file the snapshotRepository is configured with uniqueVersion equals to false.",Major,Closed,Fixed,Maria Odea Ching,oching,Dário Oliveros,oliveros
MRM-694,New Feature,2008-02-13T03:09:30.202Z,2008-02-13T03:09:30.202Z,2015-04-05T14:54:07.169Z,2015-04-05T14:54:07.169Z,2008-06-03T00:00:28.681Z,2008-06-03T00:00:28.681Z,Virtual repositories or repository grouping,"A number of managed repositories can  be grouped together with that group having only one url. So you only need to specify that url in the settings.xml file and when Archiva receives a request via that url, it would look for that artifact from the repositories belonging to that group. 

More details are dicussed here:
http://www.nabble.com/Archiva-1.1-Roadmap-td15262645.html#a15263879",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-627,Bug,2007-12-14T08:42:33.459Z,2007-12-14T08:42:33.459Z,2008-03-20T08:56:24.21Z,2008-03-20T08:56:24.21Z,2008-03-20T08:56:24.214Z,2008-03-20T08:56:24.214Z,Archiva doesn't download SNAPSHOTs for proxied repositories.,"I have setup Archiva Managed Internal Repository as my whole and sole mirror in my settings.xml.
The settings.xml does not contain any other repository information, just the mirror entry .

The Archiva Manged Internal Repository is set to proxy 4/5 external repositories,
One of which contains certain SNAPSHOTs that I have as dependencies.

The proxy connector for this repository has snapshot policy set to ""always"", I also tried
""daily"", ""hourly"". But the SNAPSHOT is never downloaded any my build fails.

The log file shows no special activity.

Also I am including the link to the thread on user-list
http://www.nabble.com/Proxying-SNAPSHOT-repositories-td14336170.html",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,gumnaam,gumnaam23
MRM-682,Bug,2008-02-05T17:54:52.821Z,2008-02-05T17:54:52.821Z,2008-04-26T22:31:04.01Z,2008-04-26T22:31:04.01Z,2008-04-15T18:39:24.585Z,2008-04-15T18:39:24.585Z,Archiva runs out of heap memory,"Archiva appears to run out of heap memory frequently and the service crashes.

512mb should be more than enough.",Critical,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-668,Bug,2008-01-24T20:46:45.453Z,2008-01-24T20:46:45.453Z,2008-01-29T02:07:47.291Z,2008-01-29T02:07:47.291Z,2008-01-29T02:07:47.296Z,2008-01-29T02:07:47.296Z,Repo browse and search isn't working in trunk and in archiva 1.0.1 release candidate,,Blocker,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-667,Improvement,2008-01-24T19:01:58.959Z,2008-01-24T19:01:58.959Z,2015-04-06T01:53:59.223Z,2015-04-06T01:53:59.223Z,2008-01-28T05:09:10.156Z,2008-01-28T05:09:10.156Z,Timeout implementation for Archiva,"This patch replaces Wagon HTTP lightweight with Wagon HTTP to allow for connection timeouts.

By using Wagon HTTP, we also get connection pooling for free (YAY)",Major,Closed,Fixed,nicolas de loof,ndeloof,James William Dumay,jameswdumay
MRM-619,Task,2007-12-05T00:18:10.046Z,2007-12-05T00:18:10.046Z,2008-01-14T00:06:41.997Z,2008-01-14T00:06:41.997Z,2008-01-14T00:06:42.001Z,2008-01-14T00:06:42.001Z,Update docs/site for some corrections,"In quick steps (archiva site), the numbering is 1,2,3,4,5,5.

In Installing in Tomcat page, update the ff:
- war file name (should be archiva-webapp-1.0.war)
- mail-[version].jar should also be added in the tomcat common/lib directory",Minor,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-635,Bug,2007-12-20T02:16:29.527Z,2007-12-20T02:16:29.527Z,2008-05-08T01:42:21.274Z,2008-05-08T01:42:21.274Z,,,revise default proxy settings again,"it appears that Archiva is reported as being slow because the default for releases is set to ""always"".

Clear up:
- what each means
- whether releases is the artifact or the metadata
- whether it's the same for snapshots
- how metadata is affected if not in the above",Major,Open,,,,Brett Porter,brettporter
MRM-672,Improvement,2008-01-28T13:08:03.359Z,2008-01-28T13:08:03.359Z,2008-02-18T12:44:40.647Z,2008-02-18T12:44:40.647Z,2008-02-18T12:44:40.658Z,2008-02-18T12:44:40.658Z,archiva homepage should highlight the zip version,"Due to MRM-671, and the more general fact that tar isn't very well standardized across OSes, the zip version should be more visible.  Right now you have to click through to ""All Downloads"" to find the zip file; I very nearly posted a request to users asking someone to make me a zip version, thinking that there wasn't one.",Major,Closed,Fixed,Wendy Smoak,wsmoak,Dan Fabulich,dfabulich
MRM-641,Bug,2007-12-20T10:27:28.425Z,2007-12-20T10:27:28.425Z,2008-03-25T09:07:29.465Z,2008-03-25T09:07:29.465Z,2008-03-25T09:07:29.472Z,2008-03-25T09:07:29.472Z,mvn cobertura:cobertura does not work with Archiva repository set as mirror,"mvn cobertura:cobertura does not work with Archiva repository set as mirror. 

$ mvn cobertura:cobertura
[INFO] Scanning for projects...
[INFO] Searching repository for plugin with prefix: 'cobertura'.
[INFO] org.apache.maven.plugins: checking for updates from central
[INFO] org.codehaus.mojo: checking for updates from central
[INFO] artifact org.apache.maven.plugins:maven-cobertura-plugin: checking for updates from central
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] The plugin 'org.apache.maven.plugins:maven-cobertura-plugin' does not exist or no valid version could be found
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2 seconds
[INFO] Finished at: Thu Dec 20 16:19:17 GMT 2007
[INFO] Final Memory: 1M/4M
[INFO] ------------------------------------------------------------------------",Major,Closed,Duplicate,Brett Porter,brettporter,Henrik Schmidt,hsm
MRM-648,New Feature,2008-01-03T05:00:58.679Z,2008-01-03T05:00:58.679Z,2012-09-12T15:48:35.861Z,2012-09-12T15:48:35.861Z,2012-09-12T15:48:18.949Z,2012-09-12T15:48:18.949Z,Add description field to the different types of repositories,When looking over the repositories page it would be useful to have a description for each of the repositories configured. Personally I need it to be able to describe the owner of the repository and indended purpose.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Trygve Laugstøl,trygvis@inamo.no
MRM-658,Bug,2008-01-17T13:11:42.73Z,2008-01-17T13:11:42.73Z,2008-06-03T05:59:08.603Z,2008-06-03T05:59:08.603Z,2008-06-03T05:59:08.611Z,2008-06-03T05:59:08.611Z,org.apache.maven.archiva.repository.content.FilenameParser is unable to determine unique snapshot versions with specific version names,"After deploying an artifact with version trunk-SNAPSHOT with unique version set to true, I am not able to download the artifact anymore. The reason is the org.apache.maven.archiva.repository.content.DefaultPathParser throwing a LayoutException ""filename format is invalid, expected timestamp format in filename"".

The problem is the determination of an unique snapshot in the given file path using the FilenameParser.nextVersion method that uses VersionUtil.isVersion to determine if the parsed section of a given filename is part of a version or not.
The VersionUtil uses a VersionMegaPattern to identify version parts in a string, this does not work on any possible version name.

A quick solution for me was to patch the VersionUtil and add 'trunk' to the VersionMegaPattern, but a more stable solution should use the already identified baseVersion (trunk-SNAPSHOT in this case) to determine the version and timestamp parts in a given or to skip path validity checks.

I added an additional unit test snippet for org.apache.maven.archiva.repository.content.DefaultPathParserTest to reproduce the problem",Major,Closed,Cannot Reproduce,Maria Odea Ching,oching,Markus Nolte,mnolte
MRM-611,Bug,2007-12-03T09:24:01.361Z,2007-12-03T09:24:01.361Z,2010-02-23T02:25:29.213Z,2010-02-23T02:25:29.213Z,2010-02-23T02:25:29.085Z,2010-02-23T02:25:29.085Z,unstable test case: MavenProjectInfoReportsPluginDependencyGraphTest,this test appears to depend on the current remote repository contents of a snapshot which changes from time to time. Needs adjusting.,Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-629,Bug,2007-12-17T02:51:55.137Z,2007-12-17T02:51:55.137Z,2008-06-20T23:24:07.32Z,2008-06-20T23:24:07.32Z,2008-06-20T23:24:07.324Z,2008-06-20T23:24:07.324Z,NullPointer when setting corporate POM on a fresh archvia install,"Tryning to set a corporate POM fails with a NullPointerException

The maven-shared-application configuration expect a configuration to exist as either org.apache.maven.shared.app.user or org.apache.maven.shared.app.base. The first one is declared in archvia application.xml as ""config-forceCreate=""true"""", so it SHOULD have been created, but is absent from my ${user.home}/.m2

This may be a plexus-registry-provider bug, or a commons-configuration bug.",Minor,Closed,Won't Fix,james.w.dumay,james.w.dumay,nicolas de loof,ndeloof
MRM-639,Bug,2007-12-20T05:54:05.004Z,2007-12-20T05:54:05.004Z,2010-01-18T13:28:23.915Z,2010-01-18T13:28:23.915Z,2010-01-18T13:28:23.83Z,2010-01-18T13:28:23.83Z,"""1.0"" in the breadcrumbs is incorrectly linked to /docs/1.0/docs/1.0 in the docs subsite",,Major,Closed,Duplicate,,,Brett Porter,brettporter
MRM-603,Bug,2007-11-23T05:40:30.72Z,2007-11-23T05:40:30.72Z,2016-03-15T06:08:56.528Z,2016-03-15T06:08:56.528Z,2016-03-15T06:08:56.505Z,2016-03-15T06:08:56.505Z,add a troubleshooting section to the documentation,"we should add a troubleshooting section: troubleshooting proxy, troubleshooting webdav",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-695,Bug,2008-02-13T03:45:03.744Z,2008-02-13T03:45:03.744Z,2008-06-04T20:50:15.318Z,2008-06-04T20:50:15.318Z,2008-04-09T01:26:54.114Z,2008-04-09T01:26:54.114Z,Database seems to be getting initialized twice -- the second time causing the Repositories page to take a long time to load on initial access,The database seems to be initialized twice. The first one during startup and the second one when you initially access the Repositories page causing this page to take a long time to load . Please see attached logs.,Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-623,Bug,2007-12-09T18:33:32.746Z,2007-12-09T18:33:32.746Z,2007-12-13T22:17:06.198Z,2007-12-13T22:17:06.198Z,2007-12-13T22:17:06.224Z,2007-12-13T22:17:06.224Z,find artifact self signed certificate will expire soon,we need a new certificate with a longer timeframe,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-643,New Feature,2007-12-21T15:14:57.31Z,2007-12-21T15:14:57.31Z,2008-02-15T01:27:06.947Z,2008-02-15T01:27:06.947Z,2008-02-15T01:27:06.956Z,2008-02-15T01:27:06.956Z,archiva should start to offer the file being proxied to the client while it concurrently downloads it,,Major,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-610,Bug,2007-12-03T09:23:12.744Z,2007-12-03T09:23:12.744Z,2008-03-28T08:25:37.284Z,2008-03-28T08:25:37.284Z,2008-03-28T08:25:37.289Z,2008-03-28T08:25:37.289Z,a number of unit tests fail on windows,"I have failures in the following:
BytecodeIndexTest (I'm not sure if this is Windows-specific though)
EditManagedRepositoryActionTest (c: vs C: - need canonicalisation)
All repository tests in archiva-webapp (these are intermittent, failure to delete files in the setUp of the abstract test case for WebDAV - this suite of tests need a review due to their time consuming nature and timing issues)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-642,Bug,2007-12-20T19:00:09.77Z,2007-12-20T19:00:09.77Z,2008-03-19T17:58:31.055Z,2008-03-19T17:58:31.055Z,2008-03-19T17:58:31.151Z,2008-03-19T17:58:31.151Z,archiva-common tests rely on relative paths,"it would be good to make these path independent by using getResource* or similar

other modules are possibly affected - haven't checked.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-621,Improvement,2007-12-06T23:43:02.561Z,2007-12-06T23:43:02.561Z,2015-04-05T14:54:09.425Z,2015-04-05T14:54:09.425Z,2010-05-10T10:04:17.145Z,2010-05-10T10:04:17.145Z,Use UTF-8 for better i18n support for page dispaly,"Current the web page use iso-8859-1 
It result in some Chinese Characters display as ?

Please help to deal with it.",Major,Closed,Fixed,Maria Odea Ching,oching,Ryan X.Wong,lazing
MRM-671,Bug,2008-01-28T12:55:23.173Z,2008-01-28T12:55:23.173Z,2008-02-18T15:10:47.991Z,2008-02-18T15:10:47.991Z,2008-02-18T15:10:47.997Z,2008-02-18T15:10:47.997Z,Can't untar archiva with cygwin tar 1.18,"When I try to untar archiva on Windows XP with cygwin tar 1.18, I get ""tar: A lone zero block at 49260"".  Not sure if anything can be done about this bug, (tar just isn't very standardized across various OSes) but I figured I'd file it anyway for the record.",Major,Closed,Won't Fix,Brett Porter,brettporter,Dan Fabulich,dfabulich
MRM-626,Bug,2007-12-13T15:09:50.777Z,2007-12-13T15:09:50.777Z,2008-03-25T02:34:19.759Z,2008-03-25T02:34:19.759Z,2008-03-25T02:34:19.786Z,2008-03-25T02:34:19.786Z,ClassCastException when saving proxy connector with property defined,"I'm having trouble configurating Archiva to proxy an instance of 
> > Proximity because I'm required to set a property on the proxy
> connector.
> > Unfortunately Archiva 1.0 bombs when I try to save a proxy connector 
> > with a property:
> >
> >
> >
> >
> > HTTP ERROR: 500
> >
> > [Ljava.lang.String; cannot be cast to java.lang.String
> >
> > RequestURI=/archiva/admin/editProxyConnector!commit.action
> >
> > Powered by Jetty:// <http://jetty.mortbay.org>


> Here's the full stacktrace from the console:
>
> jvm 1    | WARNING: /archiva/admin/editProxyConnector!commit.action:
> jvm 1    | java.lang.ClassCastException: [Ljava.lang.String; cannot be
> cast to j
> ava.lang.String
> jvm 1    |      at
> org.apache.maven.archiva.configuration.io.registry.Configurat
> ionRegistryWriter.writeProxyConnectorConfiguration(ConfigurationRegist
> ry
> Writer.j
> ava:520)
> jvm 1    |      at
> org.apache.maven.archiva.configuration.io.registry.Configurat
> ionRegistryWriter.writeConfiguration(ConfigurationRegistryWriter.java:
> 96
> )
> jvm 1    |      at
> org.apache.maven.archiva.configuration.io.registry.Configurat
> ionRegistryWriter.write(ConfigurationRegistryWriter.java:34)
> jvm 1    |      at
> org.apache.maven.archiva.configuration.DefaultArchivaConfigur
> ation.save(DefaultArchivaConfiguration.java:445)
> jvm 1    |      at
> org.apache.maven.archiva.web.action.admin.connectors.proxy.Ab
> stractProxyConnectorAction.saveConfiguration(AbstractProxyConnectorAct
> io
> n.java:1
> 21)
> jvm 1    |      at
> org.apache.maven.archiva.web.action.admin.connectors.proxy.Ed
> itProxyConnectorAction.commit(EditProxyConnectorAction.java:91)
> jvm 1    |      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
> Method)
> jvm 1    |      at
> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAcces
> sorImpl.java:39)
> jvm 1    |      at
> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMet
> hodAccessorImpl.java:25)
> jvm 1    |      at java.lang.reflect.Method.invoke(Method.java:597)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invokeAction(D
> efaultActionInvocation.java:358)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invokeActionOn
> ly(DefaultActionInvocation.java:218)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:192)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor
> .doIntercept(DefaultWorkflowInterceptor.java:175)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
> tercept(MethodFilterInterceptor.java:86)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.validator.ValidationInterceptor.doInte
> rcept(ValidationInterceptor.java:115)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
> tercept(MethodFilterInterceptor.java:86)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> org.apache.maven.archiva.web.interceptor.ConfigurationInterce
> ptor.intercept(ConfigurationInterceptor.java:53)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforceme
> ntInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> org.codehaus.plexus.redback.xwork.interceptor.SecureActionInt
> erceptor.intercept(SecureActionInterceptor.java:159)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.ParameterFilterInterceptor
> .intercept(ParameterFilterInterceptor.java:124)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor
> .doIntercept(DefaultWorkflowInterceptor.java:175)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
> tercept(MethodFilterInterceptor.java:86)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.validator.ValidationInterceptor.doInte
> rcept(ValidationInterceptor.java:115)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.MethodFilterInterceptor.in
> tercept(MethodFilterInterceptor.java:86)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.webwork.interceptor.FileUploadInterceptor.in
> tercept(FileUploadInterceptor.java:174)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.webwork.interceptor.debugging.DebuggingInter
> ceptor.intercept(DebuggingInterceptor.java:169)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(
> I18nInterceptor.java:151)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.ExceptionMappingIntercepto
> r.intercept(ExceptionMappingInterceptor.java:186)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterc
> eptor.intercept(AutoLoginInterceptor.java:156)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserI
> nterceptor.intercept(ForceAdminUserInterceptor.java:76)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.interceptor.AroundInterceptor.intercep
> t(AroundInterceptor.java:31)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionInvocation.invoke(Default
> ActionInvocation.java:190)
> jvm 1    |      at
> com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActi
> onProxy.java:116)
> jvm 1    |      at
> com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAc
> tion(DispatcherUtils.java:273)
> jvm 1    |      at
> com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter
> (FilterDispatcher.java:202)
> jvm 1    |      at
> org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.d
> oFilter(WebApplicationHandler.java:821)
> jvm 1    |      at
> com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(
> PageFilter.java:118)
> jvm 1    |      at
> com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(P
> ageFilter.java:52)
> jvm 1    |      at
> org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.d
> oFilter(WebApplicationHandler.java:821)
> jvm 1    |      at
> com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFi
> lter(ActionContextCleanUp.java:88)
> jvm 1    |      at
> org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.d
> oFilter(WebApplicationHandler.java:821)
> jvm 1    |      at
> org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebA
> pplicationHandler.java:471)
> jvm 1    |      at
> org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandle
> r.java:568)
> jvm 1    |      at
> org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
> jvm 1    |      at
> org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApp
> licationContext.java:633)
> jvm 1    |      at
> org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
> jvm 1    |      at
> org.mortbay.http.HttpServer.service(HttpServer.java:909)
> jvm 1    |      at
> org.mortbay.http.HttpConnection.service(HttpConnection.java:8
> 16)
> jvm 1    |      at
> org.mortbay.http.HttpConnection.handleNext(HttpConnection.jav
> a:982)
> jvm 1    |      at
> org.mortbay.http.HttpConnection.handle(HttpConnection.java:83
> 3)
> jvm 1    |      at
> org.mortbay.http.SocketListener.handleConnection(SocketListen
> er.java:244)
> jvm 1    |      at
> org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:35
> 7)
> jvm 1    |      at
> org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:53
> 4)
",Major,Closed,Fixed,Brett Porter,brettporter,Brian Jackson,jaxzin
MRM-674,Bug,2008-01-28T20:07:27.178Z,2008-01-28T20:07:27.178Z,2008-03-13T11:10:49.334Z,2008-03-13T11:10:49.334Z,2008-02-21T23:11:44.857Z,2008-02-21T23:11:44.857Z,LayoutException when downloading SNAPSHOT test-sources,"If you deploy a SNAPSHOT to Archiva that deploys test sources, and then try to download the test sources, the download will fail with an error.

To reproduce: Using the attached project, deploy to Archiva, then go to http://localhost:8080/archiva/repository/snapshots/com/mycompany/app/my-app/1.0-SNAPSHOT/ and try to download the test-sources.jar.  (An example settings.xml file is also provided in the archive; change its password and then do ""mvn deploy -s settings.xml"".)

You'll get a 404 error, with this exception:

{noformat}
org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:134)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:121)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePath(RepositoryRequest.java:271)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:193)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
	at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
{noformat}",Critical,Closed,Fixed,Brett Porter,brettporter,Dan Fabulich,dfabulich
MRM-636,Bug,2007-12-20T04:07:59.058Z,2007-12-20T04:07:59.058Z,2010-01-11T22:13:37.951Z,2010-01-11T22:13:37.951Z,2009-10-08T01:43:21.275Z,2009-10-08T01:43:21.275Z,war:inplace usage is not compatible with cobertura,review usage so that we can look at code coverage for the webapp,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-652,Bug,2008-01-08T04:29:03.533Z,2008-01-08T04:29:03.533Z,2008-04-26T23:05:06.91Z,2008-04-26T23:05:06.91Z,2008-04-26T23:05:06.927Z,2008-04-26T23:05:06.927Z,"Invalid html links in ""webdav"" directory browsing","The html page served by archiva in the ""webdav"" repository browsing contains badly formed a href links. Here is an example of what I get at http://localhost:8080/archiva/repository/internal/ant/ant/:
{code}
<html>
<head>
<title>Collection: /ant/ant/</title>
</head>
<body>
<h2>Collection: /ant/ant/</h2>
<ul>
<li><a href=""../"">ant/</a> <i><small>(Parent)</small></i></li>
</ul>
<ul>
<li><a href=""./1.6.2/"">1.6.2/</li>

<li><a href=""./1.6.5/"">1.6.5/</li>
<li><a href=""./1.6/"">1.6/</li>
</ul>
</body>
</html>
{code}
As you can see the a elements referencing the available versions are not closed.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Xavier Hanin,xavier
MRM-669,Bug,2008-01-28T04:32:37.625Z,2008-01-28T04:32:37.625Z,2008-02-05T03:20:09.906Z,2008-02-05T03:20:09.906Z,2008-02-05T03:20:09.912Z,2008-02-05T03:20:09.912Z,Test failure occurs when building the bundled sources of archiva,"I downloaded the bundled sources of archiva from http://maven.apache.org/archiva and extracted it in some directory.  After that, I executed `mvn clean install` inside the extracted source directory, then I encountered a test failure somewhere in the archiva-repository-layer:

{code}
-------------------------------------------------------------------------------
Test set: org.apache.maven.archiva.repository.scanner.RepositoryScannerTest
-------------------------------------------------------------------------------
Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.535 sec <<< FAILURE!
testDefaultRepositoryScanner(org.apache.maven.archiva.repository.scanner.RepositoryScannerTest)  Time elapsed: 0.11 sec  <<< FAILURE!
junit.framework.AssertionFailedError: Processed Count (of invalid items) expected:<6> but was:<5>
	at junit.framework.Assert.fail(Assert.java:47)
	at junit.framework.Assert.failNotEquals(Assert.java:282)
	at junit.framework.Assert.assertEquals(Assert.java:64)
	at junit.framework.Assert.assertEquals(Assert.java:201)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerTest.testDefaultRepositoryScanner(RepositoryScannerTest.java:219)
{code}

I attached my build log as well.",Major,Closed,Duplicate,,,Nap Ramirez,nramirez
MRM-612,Bug,2007-12-03T11:38:14.793Z,2007-12-03T11:38:14.793Z,2010-01-11T22:13:36.761Z,2010-01-11T22:13:36.761Z,2009-10-02T00:49:38.582Z,2009-10-02T00:49:38.582Z,Repository scanning does not recognize newly added artifacts if they have an old timestamp,"After starting up a fresh instance with default configuration, I copied parts of my existing repository to Archiva's default internal repository. Then I used the ""Scan Repository Now"" button on the repository administration page. Afterwards, all artifacts were visible on the ""Browse"" page. So far so good.

I then copied some more groups of my existing repo to Archiva's default internal repository, and used ""Scan Repository Now"" once again. But this time, the ""Browse"" page did not show the newly added groups. This was quite surprising, as the log output of RepositoryScanner clearly showed that Archiva DID walk over these new artifacts, without errors or warnings. I tried to use the ""Update Database Now"" button, but still no effect.

I finally touched one of the POM files in the missing groups, i.e. I gave the POM file a new timestamp. After doing ""Scan Repository Now"" again, the artifact appeared on the Browse page.


As discussed on http://www.nabble.com/Repository-scanning-problem-in-1.0--tf4897121.html#a14132393",Major,Closed,Fixed,Maria Odea Ching,oching,Arne Degenring,arned
MRM-1063,Bug,2009-01-13T02:43:14.443Z,2009-01-13T02:43:14.443Z,2010-02-23T03:26:01.039Z,2010-02-23T03:26:01.039Z,2010-02-23T03:26:00.968Z,2010-02-23T03:26:00.968Z,index-public-method throwing ConsumerExceptions,"Executed ""mvn deploy"" on multi-module project. As build and deployment traverses to submodules, exceptions listed below are thrown:

2009-01-13 19:01:47,763 [pool-1-thread-1] WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact [com. myproject2:jar:20090113.69-RELEASE] with consumer [index-public-methods]
org.apache.maven.archiva.consumers.ConsumerException: Error encountered while adding artifact to index: Error updating index: Lock obtain timed out: SimpleFSLock@E:\archiva\data\repositories\internal\.index\bytecode\write.lock
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifact(IndexJavaPublicMethodsConsumer.java:162)
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:50)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:154)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:88)
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:70)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
2009-01-13 19:01:48,982 [pool-1-thread-1] WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact [com.myproject2:java-source:sources:20090113.69-RELEASE] with consumer [index-public-methods]
org.apache.maven.archiva.consumers.ConsumerException: Error encountered while adding artifact to index: Error updating index: Lock obtain timed out: SimpleFSLock@E:\archiva\data\repositories\internal\.index\bytecode\write.lock
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifact(IndexJavaPublicMethodsConsumer.java:162)
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:50)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:154)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:88)
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:70)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)


and this:

2009-01-13 19:01:51,248 [pool-1-thread-1] WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact [com.mywarproject:war:20090113.69-RELEASE] with consumer [index-public-methods]
org.apache.maven.archiva.consumers.ConsumerException: Error encountered while getting file contents: error in opening zip file
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifact(IndexJavaPublicMethodsConsumer.java:166)
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:50)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:154)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:88)
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:70)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.con

",Major,Closed,Won't Fix,Brett Porter,brettporter,Michael Mallete,mykol
MRM-1092,Bug,2009-02-20T10:58:16.388Z,2009-02-20T10:58:16.388Z,2015-04-05T14:53:52.786Z,2015-04-05T14:53:52.786Z,2009-02-22T20:06:25.016Z,2009-02-22T20:06:25.016Z,Typo in Search results page,"Minor typo in Search results page. ""Hist"" is spelled which should be ""Hits"".",Minor,Closed,Fixed,Maria Odea Ching,oching,jzurbano,jzurbano
MRM-1057,Bug,2009-01-04T21:01:38.525Z,2009-01-04T21:01:38.525Z,2009-03-21T21:02:21.649Z,2009-03-21T21:02:21.649Z,2009-02-19T21:26:17.791Z,2009-02-19T21:26:17.791Z," Archiva user-admin should be able to view useredit after logging in from ""Security Alert"" page","Steps to reproduce:

1. Log out of Archiva, and go to http://localhost:9091/security/useredit.action?username=someuser

2. Security Alert page is displayed. Click ""Go Ahead Login""

3. Login as admin

4. Url shows login success  http://localhost:9091/security/useredit!edit.action?externalResult=security-login-success but Security Alert Page is still displayed

5. Going to http://localhost:9091 and you can see that the user is already logged in.",Minor,Closed,Fixed,Maria Odea Ching,oching,agramirez,agramirez
MRM-1091,Improvement,2009-02-17T20:43:34.72Z,2009-02-17T20:43:34.72Z,2009-03-21T21:02:19.808Z,2009-03-21T21:02:19.808Z,2009-02-20T03:18:42.835Z,2009-02-20T03:18:42.835Z,Upgrade appassembler plugin from 1.0-beta-2 to 1.0 ,,Minor,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1013,Bug,2008-11-19T13:28:04.948Z,2008-11-19T13:28:04.948Z,2009-03-21T21:01:44.537Z,2009-03-21T21:01:44.537Z,2009-03-06T10:54:06.163Z,2009-03-06T10:54:06.163Z,Fresh installation of Archiva with LDAP authentication does not survive restart of the servlet container,"I'm trying to setup an Archiva instance from the scratch. I've configured Archiva to use LDAP for user authentication (see attached security.policy). The admin user is defined to be ""maven"" and there's corresponding entry in the ActiveDirectory for the user. When I start Tomcat with no existing Derby database, everything work just fine. The Derby database is created and I can log in using any user in the ActiveDirectory, including the Archiva admin user.

However, troubles begin if I shutdown Tomcat and re-start it. Now Archiva won't start. Log entries in localhost.2008-11-19.log (attached, as the other log files) would suggest that the system tried to find some user (probably admin user) in the local Derby database, but couldn't find one since we're using remote LDAP directory.

As a workaround, I was able get Archiva properly running with LDAP support so that I first deleted the Derby databased and used minimal security.properties like this:

redback.default.admin=maven
redback.default.guest=mavengu
security.policy.password.expiration.enabled=false

This will configure Redback to use the same admin and guest user names that the LDAP setup has. When accessing Archiva for the first time, it'll redirect to admin creation form. After creating the admin user, I shutdown Tomcat and replaced security.properties with the full one that enables LDAP support. Now when Tomcat is started, also Archiva start properly and I'm able to login as any user in LDAP.

As a summary, quick instructions to reproduce this:
0. Have a working Archiva setup ready
1. Configure security.properties so that Archiva is using LDAP
2. Delete existing Derby database directory
3. Start the servlet container and verify LDAP login works
4. Shutdown servlet container
5. Start servlet container, Archiva application fails to load

Correct behaviour would be that that Archiva would just work when configured to use LDAP, with no aforementioned workaround needed.",Major,Closed,Fixed,Brett Porter,brettporter,Tuomas Jormola,tjormola
MRM-1040,Sub-task,2008-12-15T20:07:48.603Z,2008-12-15T20:07:48.603Z,2009-03-21T21:01:03.088Z,2009-03-21T21:01:03.088Z,2008-12-15T20:38:24.649Z,2008-12-15T20:38:24.649Z,"for snapshots in search results just show SNAPSHOT, not timestamps ",,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1018,Improvement,2008-11-21T00:57:31.357Z,2008-11-21T00:57:31.357Z,2016-03-15T06:20:06Z,2016-03-15T06:20:06Z,2016-03-15T06:20:05.982Z,2016-03-15T06:20:05.982Z,Make column headings of repo statistics report configurable,,Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-1024,Bug,2008-11-26T21:19:31.664Z,2008-11-26T21:19:31.664Z,2009-05-05T06:57:47.585Z,2009-05-05T06:57:47.585Z,2009-05-05T06:57:47.593Z,2009-05-05T06:57:47.593Z,Archiva throws NPE when a user uploads a large artifact,"When a user uploads a file larger then 2097152bytes they are presented with a meaningless NPE (attached as NPE-user.txt) and the server throws a NPE (attached as NPE-server.txt) but also contains the following:

Nov 27, 2008 2:58:14 AM org.apache.struts2.dispatcher.Dispatcher getSaveDir
INFO: Unable to find 'struts.multipart.saveDir' property setting. Defaulting to javax.servlet.context.tempdir
Nov 27, 2008 2:58:14 AM org.apache.struts2.dispatcher.multipart.JakartaMultiPartRequest parse
SEVERE: org.apache.commons.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (2346064) exceeds the configured maximum (2097152)
Nov 27, 2008 2:58:14 AM org.apache.struts2.interceptor.FileUploadInterceptor intercept
SEVERE: the request was rejected because its size (2346064) exceeds the configured maximum (2097152)
Nov 27, 2008 2:58:15 AM org.apache.catalina.core.StandardWrapperValve invoke
SEVERE: Servlet.service() for servlet default threw exception

With some digging i found that i could increase this limit by adding ""struts.multipart.maxSize=20971520"" to webapps/archiva/ROOT/WEB-INF/classes/struts.properties which i have tested

archiva needs to handle this exception better to the user/server and there needs to be a mechanism to define the max file size in a better solution",Critical,Closed,Duplicate,Brett Porter,brettporter,Chris Anders,canders
MRM-1059,Bug,2009-01-08T01:14:17.75Z,2009-01-08T01:14:17.75Z,2009-01-29T16:00:58.284Z,2009-01-29T16:00:58.284Z,2009-01-29T16:00:58.297Z,2009-01-29T16:00:58.297Z,Bug with upload artifact,"Artifact Data:

Group Id:  org.apache.openjpa	
Artifact Id: openjpa-persistence	
Version: 1.0.0	
Packaging: jar	

When i upload artifact openjpa-persistence there is an error: 

javax.servlet.ServletException: java.lang.NullPointerException
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:515)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)

root cause

java.lang.NullPointerException
	org.apache.maven.archiva.common.utils.VersionUtil.isVersion(VersionUtil.java:92)
	org.apache.maven.archiva.web.action.UploadAction.validate(UploadAction.java:597)
	com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:200)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
	org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:268)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:165)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:75)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)

",Major,Closed,Duplicate,,,Piotr Stawinski,pstawik
MRM-1089,New Feature,2009-02-17T15:44:57.752Z,2009-02-17T15:44:57.752Z,2014-03-02T16:33:35.898Z,2014-03-02T16:33:35.898Z,2014-03-02T16:33:35.815Z,2014-03-02T16:33:35.815Z,LDAP Support and Documentation,It would be very nice to integrate with our corporate LDAP rather than maintain a separate User DB for authentication.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Lou Sacco,occasl
MRM-1049,New Feature,2008-12-18T10:48:27.482Z,2008-12-18T10:48:27.482Z,2008-12-18T10:50:24.713Z,2008-12-18T10:50:24.713Z,2008-12-18T10:50:24.718Z,2008-12-18T10:50:24.718Z,Add statictics pages,"It would be good to have some statictics with eventually graphs in the UI with :
- nb artifacts by repository/global
- size of the repositories
- download/upload statictics (how many by day/by hour/by user)
- ...",Major,Closed,Duplicate,Emmanuel Venisse,evenisse,Emmanuel Venisse,evenisse
MRM-1054,Bug,2008-12-28T15:06:08.003Z,2008-12-28T15:06:08.003Z,2009-12-29T08:23:09.074Z,2009-12-29T08:23:09.074Z,2009-12-29T08:23:09.034Z,2009-12-29T08:23:09.034Z,Error 500 Exception when reseting a password,"When tried to reset a password for a user by clicked on the link sent to the user email. The reset form shows, but then after click submit, I get the following:

HTTP Status 500 -

type Exception report

message

description The server encountered an internal error () that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: fromIndex(0) > toIndex(-1)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:284)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
root cause

java.lang.IllegalArgumentException: fromIndex(0) > toIndex(-1)
	java.util.SubList.<init>(AbstractList.java:604)
	java.util.RandomAccessSubList.<init>(AbstractList.java:758)
	java.util.AbstractList.subList(AbstractList.java:468)
	org.codehaus.plexus.redback.policy.DefaultUserSecurityPolicy.extensionChangePassword(DefaultUserSecurityPolicy.java:250)
	org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:363)
	org.codehaus.plexus.redback.users.cached.CachedUserManager.updateUser(CachedUserManager.java:207)
	org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.updateUser(ConfigurableUserManager.java:161)
	org.codehaus.plexus.redback.xwork.action.PasswordAction.submit(PasswordAction.java:163)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:597)
	com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:122)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)


This happens on 1.1.1, and I just upgraded to 1.1.3 and still shows the same error.",Major,Closed,Won't Fix,,,Zemian Deng,thebugslayer
MRM-1062,Bug,2009-01-13T01:59:30.751Z,2009-01-13T01:59:30.751Z,2009-03-21T21:01:41.028Z,2009-03-21T21:01:41.028Z,2009-03-08T19:56:37.412Z,2009-03-08T19:56:37.412Z,Find Artifact broken,"Find Artifact is broken.

Ubuntu 8.10 + FF3:
After browsing to a file and clicking Search, an error message pops up saying that the file does not exist. Only the basename of the file is part of the error message, despite the full absolute path is shown in the file selection field.

Windows XP + SP3 + IE6:
Absolutely nothing happens when clicking Search. Not even an error message.
",Major,Closed,Fixed,Brett Porter,brettporter,Olle Hallin,olle.hallin
MRM-1094,Task,2009-02-22T20:48:06.198Z,2009-02-22T20:48:06.198Z,2009-03-22T17:32:38.86Z,2009-03-22T17:32:38.86Z,2009-03-14T22:59:57.505Z,2009-03-14T22:59:57.505Z,Update docs on search to reflect the search re-vamp for 1.2-M2,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1023,Bug,2008-11-26T04:52:50.509Z,2008-11-26T04:52:50.509Z,2016-03-15T06:20:45.92Z,2016-03-15T06:20:45.92Z,2016-03-15T06:20:45.896Z,2016-03-15T06:20:45.896Z,UsedBy tab didn't show dependant projects when range are used.,"On our enterprise Archiva we have many dependants projects using range ie :

mycorp-er-go depends on mycorp-mk-rif

Archiva shows us that mycorp-er-go depends on mycorp-mk-rif

 mycorp-er-go
Info Dependencies Dependency Tree Used By Mailing Lists
Downloads

       Jar     181 907
       Pom     2 020
mycorp-mk-rif

: fr / mycorp / mk / mycorp-mk-rif | Version(s): [1.5.0,1.5.1) | Scope: compile
mycorp-er-core

When I goes on mycorp-mk-rif and select Used By :

 mycorp-mk-rif
Info Dependencies Dependency Tree Used By Mailing Lists
Downloads

       Jar     306 099
       Pom     2 556
No results


I suspect sometings weird when range are in use.

Regards",Major,Closed,Fixed,,,Henri Gomez,hgomez
MRM-1074,Improvement,2009-02-03T23:26:42.759Z,2009-02-03T23:26:42.759Z,2009-03-21T21:01:43.57Z,2009-03-21T21:01:43.57Z,2009-02-26T08:40:10.963Z,2009-02-26T08:40:10.963Z,Typo of Legacy Support option on the left nav menu,"Please see attached screen shot. I guess it must be ""Legacy Support"". Thanks! :)",Major,Closed,Fixed,Brett Porter,brettporter,mbaclay,mbaclay
MRM-1065,Improvement,2009-01-19T04:04:27.627Z,2009-01-19T04:04:27.627Z,2016-03-15T05:55:24.624Z,2016-03-15T05:55:24.624Z,2012-04-03T10:54:21.39Z,2012-04-03T10:54:21.39Z,Query dependency tree via xmlrpc,,Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-1083,New Feature,2009-02-11T19:07:23.939Z,2009-02-11T19:07:23.939Z,2009-03-21T21:01:03.265Z,2009-03-21T21:01:03.265Z,2009-02-11T19:08:18.395Z,2009-02-11T19:08:18.395Z,Add artifact search box to the default decorator,"Add artifact search box to the default decorator.

Being able to search from every page highlights the improved search for 1.2 and reduces the amount of clicks to get to the quicksearch page.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1025,Task,2008-11-28T09:14:40.17Z,2008-11-28T09:14:40.17Z,2011-03-29T09:59:39.202Z,2011-03-29T09:59:39.202Z,2010-02-23T01:32:17.215Z,2010-02-23T01:32:17.215Z,remove the archiva database,Initial discussion: http://markmail.org/message/du2f6brwx476aidb,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1010,Bug,2008-11-18T23:13:43.705Z,2008-11-18T23:13:43.705Z,2015-04-05T14:53:51.021Z,2015-04-05T14:53:51.021Z,2008-11-18T23:59:46.109Z,2008-11-18T23:59:46.109Z,Fix close link on main page download popups,"Download popups on the main site page have close links (just added), but there's a problem with them. Attached is a patch that changes the close links to ""[x]"" links on the top right. The patch also inlines the link to previous versions of the documentation.",Major,Closed,Fixed,Brett Porter,brettporter,Martin Cooper,martinc
MRM-1068,Task,2009-01-19T21:24:31.541Z,2009-01-19T21:24:31.541Z,2009-03-21T21:01:41.639Z,2009-03-21T21:01:41.639Z,2009-01-19T23:32:43.488Z,2009-01-19T23:32:43.488Z,Upgrade to redback-1.2-beta-2,Upgrade redback to 1.2-beta-2,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Catherine Tan,ctan
MRM-1078,Bug,2009-02-05T04:11:35.301Z,2009-02-05T04:11:35.301Z,2009-02-09T05:36:02.402Z,2009-02-09T05:36:02.402Z,2009-02-09T05:36:02.407Z,2009-02-09T05:36:02.407Z,SQL Server database gets emptied by repository scanner,"When Using SQL Server as a backing store, the repository scanner regularly empties my database, specifically the ARCHIVA_ARTIFACT table, despite the files still existing on disk. This does NOT happen when using Derby as the backing store.

Strangely, and possibly significantly, the only artifacts left in that table after a scan are the JUnit jar and POM that is recommended as a post-install test in the documentation. 

All the other files in the Maven repo were copied from another server installation. I have seen the other JIRA issues relating to timestamps, but I don't think this is the issue.

As a test, I have truncated the ARCHIVA_REPOSITORY_STATS table, then re-scanned - this does re-populate the ARCHIVA_ARTIFACT table with the 9000+ files I have in my repo, but only temporarily,  subsequent scans empty the table. 

The files on disk are not changing, with the exception of a handful of artifacts that I deploy to the repo periodically via Hudson builds.

I've attached the last contents of my  ARCHIVA_REPOSITORY_STATS table before I switched back to Derby, which works (all files remain visible in Archiva).",Major,Closed,Not A Problem,,,Bob Walker,bob_walker99
MRM-1070,Bug,2009-01-21T03:55:33.938Z,2009-01-21T03:55:33.938Z,2011-03-29T09:59:36.886Z,2011-03-29T09:59:36.886Z,2010-02-23T05:29:52.187Z,2010-02-23T05:29:52.187Z,Dependencies/Dependency Tree/Used by doesn't work correctly with properties in version,"I have a pom with a number of modules. So what I have done is: 
I define a property in this pom:

<properties>
    <version.commons.beanutils>1.7.0</version.commons.beanutils>
</properties>

In some of the module pom's i define the following dependencies:

<dependency>
    <groupId>commons-beanutils</groupId>
    <artifactId>commons-beanutils</artifactId>
    <version>${version.commons.beanutils}</version>
</dependency>

Maven retrieves correctly commons-beanutils (version 1.7.0). 
De pages Dependencies/Dependency Tree/Used by doesn't  work correctly with the use of a property in a dependency version.
If a go to the link ${version.commons.beanutils} in de Dependencies/Dependency Tree, I expected to go the page of commons-beanutils/common-beanutils/1.7.0, but I go to the page of commons-beanutils/common-beanutils/${version.commons.beanutils} that doesn't exist.


",Major,Closed,Fixed,Brett Porter,brettporter,Bastiaan Verhoef,bastiaan01
MRM-1067,Bug,2009-01-19T16:18:11.848Z,2009-01-19T16:18:11.848Z,2010-03-01T00:03:20.248Z,2010-03-01T00:03:20.248Z,2010-03-01T00:03:20.211Z,2010-03-01T00:03:20.211Z,Archiva fails to properly deal with overloaded upstream proxy,"http://java.freehep.org/ is having problems at the moment, but archiva cannot deal with that problem and keeps pounding it with http connections with long timeouts which in turn affects the stability of archiva itself.

If a remote artifact needs to be fetched, can a mutex be used to ensure that the same request is not made multiple times ?

2009-01-19 16:14:47,792 [http-j2ee.m2proxy.atlassian.com%2F127.0.0.104-8080-6] WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""freehep"" for artifact org.springframework:sp
ring-aop:2.0.8:sources:java-source, continuing to next repository. Error message: Download failure on resource [http://java.freehep.org/maven2/org/freehep/freehep-graphics2d/2.1.1//org/springframework/spring-aop/2.0.8/spring-aop
-2.0.8-sources.jar]:Error transferring file (cause: java.io.IOException: Server returned HTTP response code: 502 for URL: http://java.freehep.org/maven2/org/freehep/freehep-graphics2d/2.1.1/org/springframework/spring-aop/2.0.8/s
pring-aop-2.0.8-sources.jar)

",Critical,Closed,Duplicate,Brett Porter,brettporter,davecheney,davecheney
MRM-1073,Bug,2009-01-27T13:10:30.801Z,2009-01-27T13:10:30.801Z,2009-03-21T21:01:40.373Z,2009-03-21T21:01:40.373Z,2009-03-06T03:53:47.938Z,2009-03-06T03:53:47.938Z,Errors on when upgrading from v1.1.3 to v1.2-M1,"{code}
2009-01-27 13:27:42,708 [ContainerBackgroundProcessor[StandardEngine[Catalina]]] ERROR JPOX.RDBMS  - Error thrown executing ALTER TABLE ""ARCHIVA_REPOS
ITORY_STATS"" ADD COLUMN ""TOTAL_PROJECT_COUNT"" int8 NOT NULL : ERROR: column ""TOTAL_PROJECT_COUNT"" contains null values
org.postgresql.util.PSQLException: ERROR: column ""TOTAL_PROJECT_COUNT"" contains null values
        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:1548)
        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1316)
        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:191)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:452)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:337)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:329)
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
        at org.jpox.store.rdbms.table.TableImpl.validateColumns(TableImpl.java:256)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3076)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
        at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1218)
        at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1357)
        at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2328)
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.compileCandidates(JDOQLQuery.java:1114)
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.executionCompile(JDOQLQuery.java:881)
        at org.jpox.store.rdbms.query.JDOQLQuery.performExecute(JDOQLQuery.java:497)
        at org.jpox.store.query.Query.executeWithMap(Query.java:959)
        at org.jpox.store.query.Query.executeWithArray(Query.java:932)
        at org.jpox.store.query.Query.execute(Query.java:868)
        at org.apache.maven.archiva.database.jdo.JdoAccess.processParameterizedQuery(JdoAccess.java:393)
        at org.apache.maven.archiva.database.jdo.JdoAccess.processConstraint(JdoAccess.java:310)
        at org.apache.maven.archiva.database.jdo.JdoAccess.queryObjects(JdoAccess.java:261)
        at org.apache.maven.archiva.database.jdo.JdoArchivaDAO.query(JdoArchivaDAO.java:71)
        at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.isPreviouslyScanned(DefaultArchivaTaskScheduler.java:158)
        at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.start(DefaultArchivaTaskScheduler.java:141)
        at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:234)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCap
ableBeanFactory.java:361)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFa
ctory.java:1428)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:139)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1285)
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:881)
        at org.apache.maven.archiva.web.startup.ArchivaStartup.contextInitialized(ArchivaStartup.java:46)
        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3764)
        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)
        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:626)
        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:553)
        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:488)
        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1217)
        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:293)
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
        at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1306)
        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1570)
        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1579)
        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1559)
        at java.lang.Thread.run(Thread.java:619)

2009-01-27 13:27:42,711 [ContainerBackgroundProcessor[StandardEngine[Catalina]]] ERROR JPOX.RDBMS.Schema  - An exception was thrown while adding/valid
ating class(es) : ERROR: current transaction is aborted, commands ignored until end of transaction block
org.postgresql.util.PSQLException: ERROR: current transaction is aborted, commands ignored until end of transaction block
        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:1548)
        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1316)
        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:191)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:452)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:337)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:236)
        at org.postgresql.jdbc2.AbstractJdbc2DatabaseMetaData.getTables(AbstractJdbc2DatabaseMetaData.java:2002)
        at org.jpox.store.rdbms.table.TableImpl.getExistingCandidateKeys(TableImpl.java:997)
        at org.jpox.store.rdbms.table.TableImpl.validateCandidateKeys(TableImpl.java:615)
        at org.jpox.store.rdbms.table.TableImpl.validateConstraints(TableImpl.java:393)
        at org.jpox.store.rdbms.table.ClassTable.validateConstraints(ClassTable.java:2875)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3123)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
        at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1218)
        at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1357)
        at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2328)
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.compileCandidates(JDOQLQuery.java:1114)
        at org.jpox.store.rdbms.query.JDOQLQuery$Compiler.executionCompile(JDOQLQuery.java:881)
:
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1285)
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:881)
        at org.apache.maven.archiva.web.startup.ArchivaStartup.contextInitialized(ArchivaStartup.java:46)
        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3764)
        at org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)
        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)
        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)
        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)
        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:626)
        at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:553)
        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:488)
        at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1149)
        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)
        at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)
        at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
        at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
        at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
        at org.apache.catalina.core.StandardService.start(StandardService.java:448)
        at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
        at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)
{code}",Major,Closed,Fixed,Brett Porter,brettporter,Steve Matyas,smatyas
MRM-1096,Bug,2009-02-23T02:23:02.468Z,2009-02-23T02:23:02.468Z,2009-04-14T18:33:20.423Z,2009-04-14T18:33:20.423Z,2009-03-21T02:20:06.104Z,2009-03-21T02:20:06.104Z,No icon for maven-plugin on artifact-details view.,"On artifact detail view FOR PLUGINS there is on the right side (download-links for pom, source-files, jar/war/etc) on the link for the maven-plugin-jar no icon.",Trivial,Closed,Fixed,Brett Porter,brettporter,Denis Schettl,dschettl
MRM-1056,Improvement,2009-01-02T14:52:54.863Z,2009-01-02T14:52:54.863Z,2010-01-11T22:13:39.441Z,2010-01-11T22:13:39.441Z,2009-09-17T03:28:41.355Z,2009-09-17T03:28:41.355Z,Option to force scanning of an artifact/repository regardless of file dates,"Often I try to browse an artifact and see ""Unable to find project model"" even though I know the artifact is in the repository.  

By default when Archiva scans a repo, it only ""sees"" files added since the last time the scan was run.

Currently the only way I know to re-set it is to touch the files on disk so they appear newer, or delete the database so that Archiva will start over with scanning, neither of which is ideal.

I need a way to force scanning of artifact(s) or an entire repository, regardless of the file dates.

If the 'Last Scanned' date on the Repositories page were configurable, that would allow me to set the date far back in time so that all files would appear to be ""new"" and it would scan everything again.

Or, some way to give it a groupId or groupId+artifactId and have it go fix its database for that subset of the repo contents.",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-1046,Sub-task,2008-12-15T20:39:32.266Z,2008-12-15T20:39:32.266Z,2009-03-21T21:01:01.269Z,2009-03-21T21:01:01.269Z,2009-02-06T01:18:52.005Z,2009-02-06T01:18:52.005Z,Write some decent tests for SearchAction,,Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1030,Improvement,2008-12-07T17:17:09.046Z,2008-12-07T17:17:09.046Z,2012-09-26T14:57:55.564Z,2012-09-26T14:57:55.564Z,2012-09-26T14:57:55.197Z,2012-09-26T14:57:55.197Z,Change the web context for jetty deliverable to /  (ROOT context),"Hi,

Placing the archiva jetty distribution behind a proxy or web server is tricky at the moment because the web context is /archiva not /. Could this please be fixed ?

Cheers

Dave",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,davecheney,davecheney
MRM-1011,Bug,2008-11-19T01:33:49.48Z,2008-11-19T01:33:49.48Z,2009-03-21T21:02:19.335Z,2009-03-21T21:02:19.335Z,2009-01-09T22:29:24.315Z,2009-01-09T22:29:24.315Z,Organisation link on logo points to somewhere,"the link on the organisation logo in the top right points to somewhere. Shouldn't this point to the organisation url?

Thanks

greets Stefan
",Minor,Closed,Fixed,james.w.dumay,james.w.dumay,hst,hst
MRM-1047,Bug,2008-12-17T17:47:43.906Z,2008-12-17T17:47:43.906Z,2009-03-21T21:02:20.64Z,2009-03-21T21:02:20.64Z,2009-03-19T10:33:47.006Z,2009-03-19T10:33:47.006Z,Archiva allows deployment by user with expired password,"If a user has the repo manager role, he can still deploy artifacts even if his password is expired and/or flagged as must be changed.

An expired password is no longer valid, and Archiva should prevent access to the repository until it is changed.",Minor,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-1055,New Feature,2008-12-30T03:06:33.306Z,2008-12-30T03:06:33.306Z,2009-01-29T16:06:11.325Z,2009-01-29T16:06:11.325Z,,,Automatically detect and upload pom packaged inside artifacts produced by maven,"Maven stores in its artifacts the pom of the project in META-INF/maven/GROUPID/ARTIFACTID
A nice feature could be to have archiva to automatically detect and deploy them when we use its upload page",Minor,Open,,,,Arnaud HERITIER,aheritier
MRM-1064,Bug,2009-01-13T16:27:12.879Z,2009-01-13T16:27:12.879Z,2011-03-29T09:59:34.979Z,2011-03-29T09:59:34.979Z,2010-02-23T04:18:04.281Z,2010-02-23T04:18:04.281Z,Dependency Tree does not show dependencies correctly,"See attached screenshot / POM:

saxon-xpath depends on saxon, but the dependency tree only shows saxon-xpath itself.",Major,Closed,Fixed,Brett Porter,brettporter,Karsten Sperling,ksperling
MRM-1084,Improvement,2009-02-11T23:38:05.819Z,2009-02-11T23:38:05.819Z,2009-03-21T21:01:05.009Z,2009-03-21T21:01:05.009Z,2009-02-12T01:00:02.107Z,2009-02-12T01:00:02.107Z,Upgrade modello maven plugin to 1.0 to support Java 5 generics,Upgrade modello maven plugin to 1.0 to support Java 5 generics.,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1028,Bug,2008-12-04T23:05:15.815Z,2008-12-04T23:05:15.815Z,2009-03-21T21:01:01.808Z,2009-03-21T21:01:01.808Z,2008-12-04T23:29:23.095Z,2008-12-04T23:29:23.095Z,Find Artifact doesn't show up in the navigation menu after migration to struts 2,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1026,Bug,2008-12-01T07:13:28.818Z,2008-12-01T07:13:28.818Z,2009-03-11T12:28:07.176Z,2009-03-11T12:28:07.176Z,2009-03-11T12:28:07.183Z,2009-03-11T12:28:07.183Z,"Repository manager does not see the ""Upload"" link","Hello,

I've users that are ""Repository Manager"".
They do not see the link ""Upload artifact"" in the menu. They have to enter the URL in the browser address bar to go to the upload form. It works but it's not enough ""user-friendly"" for them.

I've looked at the default.jsp file in WEB-INF\jsp\decorators folder. It seems that the user does not match this condition:
<redback:ifAnyAuthorized permissions=""archiva-manage-users,archiva-access-reports,archiva-manage-configuration"">

So, either there is something wrong with the taglib (but I do not think so as the ""admin"" user can see the ""Upload artifact link"") either giving ""Repository manager"" role to a user is not enough.

Please advise.

Thanks,

David",Minor,Closed,Duplicate,Brett Porter,brettporter,David Degardin,nidragedd
MRM-1090,Bug,2009-02-17T15:49:53.766Z,2009-02-17T15:49:53.766Z,2014-04-16T21:06:37.492Z,2014-04-16T21:06:37.492Z,,,Search returns too many results,"When performing a search for a specific artifactId, there will be many other projects that will be returned presumably because they have that defined as a dependency.  I would expect the behavior to be that the artifactId which is defined as a project should be returned only or at least returned as the first entry.  For a common jar, there could be several pages and the ""real"" project is buried somewhere in those pages.

Due to this issue, this makes the UI search interface unusable in many cases.",Critical,Reopened,,,,Lou Sacco,occasl
MRM-1097,Bug,2009-02-23T02:39:00.27Z,2009-02-23T02:39:00.27Z,2011-08-31T10:33:26.841Z,2011-08-31T10:33:26.841Z,2010-12-03T08:12:47.993Z,2010-12-03T08:12:47.993Z,"Error 500 ""too many open files""","In our start-script we have configured ""ulimit -n 10000""
But still, occassionally we get http error 500 ""java.io.FileNotFoundException ... (Too many open files)"" on a Maven-artifact-request.

I suppose the files are not properly closed after they are delivered.",Major,Closed,Fixed,Maria Odea Ching,oching,Marc Lustig,axismundi
MRM-1072,Bug,2009-01-22T17:47:56.05Z,2009-01-22T17:47:56.05Z,2009-03-11T12:40:21.977Z,2009-03-11T12:40:21.977Z,2009-03-08T16:55:53.848Z,2009-03-08T16:55:53.848Z,Unable to download metadata.xml,"Hello,

I am not able to pull down this file.  Any suggestions?

here is error from log
=======================
172.30.63.39 -  -  [22/Jan/2009:22:41:49 +0000] ""GET
/archiva/repository/releases/com/fortinet/fortidb/maven/plugins/maven-metadata.xml
HTTP/1.1"" 500 4434
""http://archiva.fortinet-us.com:7080/archiva/repository/releases/com/fortinet/fortidb/maven/plugins/""
""Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 1.1.4322;
.NET CLR 2.0.50727)""
===============================
here is errror on the browser?

HTTP ERROR: 500
Adding text to an XML document must not be null
RequestURI=/archiva/repository/releases/com/fortinet/fortidb/maven/plugins/maven-metadata.xml

Caused by:
java.lang.IllegalArgumentException: Adding text to an XML document
must not be null
       at org.dom4j.DocumentFactory.createText(DocumentFactory.java:174)
       at org.dom4j.tree.AbstractElement.addText(AbstractElement.java:899)
       at org.dom4j.tree.AbstractElement.setText(AbstractElement.java:1120)
       at org.apache.maven.archiva.repository.metadata.RepositoryMetadataWriter.write(RepositoryMetadataWriter.java:77)
       at org.apache.maven.archiva.repository.metadata.RepositoryMetadataWriter.write(RepositoryMetadataWriter.java:55)
       at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.writeMergedMetadataToFile(ArchivaDavResourceFactory.java:987)
       at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:349)
       at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:118)
       at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
       at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
       at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
       at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
       at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
       at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
       at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
       at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
       at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
       at org.mortbay.jetty.Server.handle(Server.java:324)
       at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
       at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
       at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
       at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
       at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
       at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
       at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)

Powered by Jetty://

=====================================================================

Hey Dan,
Archiva is trying to merge the metadata file with the existing metadata on your file system (if there is any).

What version of Archiva is this? From memory, the repository metadata writer class got a good rewrite in trunk. Can you file an issue?

Thanks
James",Major,Closed,Duplicate,Brett Porter,brettporter,Dan Tran,dantran
MRM-1002,Bug,2008-11-14T03:12:42.444Z,2008-11-14T03:12:42.444Z,2015-04-07T18:54:12.684Z,2015-04-07T18:54:12.684Z,2010-01-18T13:22:43.302Z,2010-01-18T13:22:43.302Z,Website navigation links don't work as expected,"I would expect the logo in the top left corner of each page to link back to the main page, i.e. http://archiva.apache.org/.

However, it does not so this on many pages I tested - often the links are back to the same page, or a sub-page.

E.g.

http://archiva.apache.org/docs/1.2-M1/tour/index.html - logo links to http://archiva.apache.org/docs/

Given that the image url is relative, and works, it ought to be possible to generate the correct relative link as well.
Otherwise just use absolute links for both?

However, it does work on http://archiva.apache.org/docs/1.2-M1/release-notes.html

Likewise, the breadcrumb trail does not always work.

On the page http://archiva.apache.org/docs/1.2-M1/tour/index.html the last crumb is 1.2-M1 which points to http://archiva.apache.org/docs/1.2-M1/docs/1.2-M1 which does not exist.


Other issues:

http://archiva.apache.org/docs/ does not have an index page - it just shows a directory listing.

There are is no ""Download"" link in the lhs navigation links on (m)any pages.

http://archiva.apache.org/docs/1.2-M1/index.html

The system requirements for using Archiva are present on the download page, but are right at the bottom where they are easy to miss.
It would be better to move them closer to the current release, i.e. before the section of previous versions - or at least add a link to the introduction or current version section.

",Minor,Closed,Fixed,Maria Odea Ching,oching,Sebb,sebb@apache.org
MRM-1048,Bug,2008-12-18T02:38:58.157Z,2008-12-18T02:38:58.157Z,2009-01-29T15:56:35.016Z,2009-01-29T15:56:35.016Z,2009-01-29T15:56:35.023Z,2009-01-29T15:56:35.023Z,upload is stalling if file size exceeds limit,"When uploading (using web interace)  file bigger then max upload file limit browser is handling (waiting for response) and in server logs I can read:
[#|2008-12-18T01:30:39.415-0700|SEVERE|sun-appserver9.1|org.apache.struts2.dispatcher.multipart.MultiPartRequest|_ThreadID=59;_ThreadName=httpSSLWorkerThread-8282-12;_RequestID=d94472f6-52f7-49b9-a2f5-388beca13572;|org.apache.commons.fileupload.FileUploadBase$SizeLimitExceededException: the request was rejected because its size (15692801) exceeds the configured maximum (2097152)|#]

[#|2008-12-18T01:30:39.431-0700|SEVERE|sun-appserver9.1|org.apache.struts2.interceptor.FileUploadInterceptor|_ThreadID=59;_ThreadName=httpSSLWorkerThread-8282-12;_RequestID=d94472f6-52f7-49b9-a2f5-388beca13572;|the request was rejected because its size (15692801) exceeds the configured maximum (2097152)|#]

[#|2008-12-18T01:30:40.590-0700|SEVERE|sun-appserver9.1|javax.enterprise.system.container.web|_ThreadID=59;_ThreadName=httpSSLWorkerThread-8282-12;_RequestID=d94472f6-52f7-49b9-a2f5-388beca13572;|StandardWrapperValve[default]: PWC1406: Servlet.service() for servlet default threw exception
java.lang.NullPointerException
        at org.apache.maven.archiva.common.utils.VersionUtil.isVersion(VersionUtil.java:92)
        at org.apache.maven.archiva.web.action.UploadAction.validate(UploadAction.java:597)
        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:200)
        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
        at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
        at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
        at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
        at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
                                                                                                   ",Major,Closed,Duplicate,,,Tomasz Pik,pikus
MRM-1022,Improvement,2008-11-25T18:55:51.038Z,2008-11-25T18:55:51.038Z,2009-03-18T05:24:20.773Z,2009-03-18T05:24:20.773Z,2009-03-18T05:24:05.909Z,2009-03-18T05:24:05.909Z,Add 'Advanced Search' link below the quick search box in search results page,,Trivial,Closed,Duplicate,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1044,Sub-task,2008-12-15T20:09:51.371Z,2008-12-15T20:09:51.371Z,2009-03-21T21:01:07.361Z,2009-03-21T21:01:07.361Z,2009-02-06T02:22:27.407Z,2009-02-06T02:22:27.407Z,class/package search is still flaky ,,Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1066,Bug,2009-01-19T10:09:08.507Z,2009-01-19T10:09:08.507Z,2015-04-05T14:54:17.079Z,2015-04-05T14:54:17.079Z,2010-05-20T08:42:05.12Z,2010-05-20T08:42:05.12Z,Shutdown of Tomcat causes Exception when running Archiva Project,"It looks like the Quartz thread is still running because the web-context has been unloaded before.
This could maybe happen because the Quartz threads are not yet under Spring control (http://jira.springframework.org/browse/SPR-5065).


Exception summary :

INFO: Illegal access: this web application instance has been stopped already.  Could not load org.quartz.StatefulJob.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.
java.lang.IllegalStateException
	at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1273)
	at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1233)
	at java.lang.ClassLoader.loadClassInternal(Unknown Source)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Unknown Source)
	at org.quartz.JobDetail.class$(JobDetail.java:59)
	at org.quartz.JobDetail.isStateful(JobDetail.java:396)
	at org.quartz.simpl.RAMJobStore.triggerFired(RAMJobStore.java:1207)
	at org.quartz.core.QuartzSchedulerThread.run(QuartzSchedulerThread.java:307)
Exception in thread ""defaultScheduler_QuartzSchedulerThread"" java.lang.NoClassDefFoundError: org.quartz.StatefulJob",Blocker,Closed,Fixed,Maria Odea Ching,oching,Marcus Dimand,dimand
MRM-1060,Bug,2009-01-08T03:29:34.768Z,2009-01-08T03:29:34.768Z,2016-03-15T06:21:32.002Z,2016-03-15T06:21:32.002Z,2016-03-15T06:21:31.981Z,2016-03-15T06:21:31.981Z,build problem because of use of jarsigner with a path with spaces,"This is the error that occures:

[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Building Archiva Web :: Applet
[INFO]    task-segment: [clean, install]
[INFO] ------------------------------------------------------------------------
Downloading: http://DE254081:8080/archiva/repository/internal/org/codehaus/mojo/keytool-maven-plugin/1.0-beta-1/keytool-maven-plugin-1.0-beta-1.pom
2K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/codehaus/mojo/mojo/9/mojo-9.pom
5K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/codehaus/mojo/keytool-maven-plugin/1.0-beta-1/keytool-maven-plugin-1.0-beta-1.jar
11K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/plugins/maven-jar-plugin/2.1/maven-jar-plugin-2.1.pom
2K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/plugins/maven-jar-plugin/2.1/maven-jar-plugin-2.1.jar
18K downloaded
[INFO] artifact org.codehaus.mojo:cobertura-maven-plugin: checking for updates from central
Downloading: http://DE254081:8080/archiva/repository/internal/org/codehaus/mojo/cobertura-maven-plugin/2.2/cobertura-maven-plugin-2.2.pom
5K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/codehaus/mojo/cobertura-maven-plugin/2.2/cobertura-maven-plugin-2.2.jar
28K downloaded
[INFO] [clean:clean]
[INFO] [enforcer:enforce {execution: default}]
[INFO] [plexus:descriptor {execution: generate}]
[INFO] Setting property: classpath.resource.loader.class =&gt; 'org.codehaus.plexus.velocity.ContextClassLoaderResourceLoader'.
[INFO] Setting property: velocimacro.messages.on =&gt; 'false'.
[INFO] Setting property: resource.loader =&gt; 'classpath'.
[INFO] Setting property: resource.manager.logwhenfound =&gt; 'false'.
[INFO] [remote-resources:process {execution: default}]
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/maven-plugin-api/2.0-beta-3/maven-plugin-api-2.0-beta-3.pom
6K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/codehaus/plexus/plexus-utils/1.2/plexus-utils-1.2.jar
168K downloaded
[INFO] [keytool:clean {execution: default}]
[WARNING] Keystore file 'C:\Program Files\apache-continuum-1.2.2\data\working-directory\82/target/keystore' doesn't exist.
[INFO] [keytool:genkey {execution: default}]
[INFO] [resources:resources]
[INFO] Using default encoding to copy filtered resources.
[INFO] [compiler:compile]
[INFO] Compiling 1 source file to C:\Program Files\apache-continuum-1.2.2\data\working-directory\82\target\classes
[INFO] [resources:testResources]
[INFO] Using default encoding to copy filtered resources.
[INFO] [compiler:testCompile]
[INFO] No sources to compile
[INFO] [surefire:test]
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/surefire/surefire-junit/2.4.2/surefire-junit-2.4.2.pom
1K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/surefire/surefire-providers/2.4.2/surefire-providers-2.4.2.pom
1K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/surefire/surefire-junit/2.4.2/surefire-junit-2.4.2.jar
14K downloaded
[INFO] Surefire report directory: C:\Program Files\apache-continuum-1.2.2\data\working-directory\82\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
There are no tests to run.

Results :

Tests run: 0, Failures: 0, Errors: 0, Skipped: 0

Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/maven-archiver/2.2/maven-archiver-2.2.pom
1K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/shared/maven-shared-components/3/maven-shared-components-3.pom
1K downloaded
Downloading: http://DE254081:8080/archiva/repository/internal/org/apache/maven/maven-archiver/2.2/maven-archiver-2.2.jar
9K downloaded
[INFO] [jar:jar]
[INFO] Building jar: C:\Program Files\apache-continuum-1.2.2\data\working-directory\82\target\archiva-applet-1.2-SNAPSHOT.jar
[INFO] [jar:sign {execution: default}]
[debug] jarsigner executable=[C:\Program Files\Java\jdk1.5.0_11\jre\..\bin\jarsigner.exe]
[debug] Executing: &quot;C:\Program Files\Java\jdk1.5.0_11\jre\..\bin\jarsigner.exe&quot; -verify &quot;C:\Program Files\apache-continuum-1.2.2\data\working-directory\82\target\archiva-applet-1.2-SNAPSHOT.jar&quot;
[warn] Der Befehl &quot;C:\Program&quot; ist entweder falsch geschrieben oder
[warn] konnte nicht gefunden werden.
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Result of &quot;C:\Program Files\Java\jdk1.5.0_11\jre\..\bin\jarsigner.exe&quot; -verify &quot;C:\Program Files\apache-continuum-1.2.2\data\working-directory\82\target\archiva-applet-1.2-SNAPSHOT.jar&quot; execution is: '1'.
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 37 seconds
[INFO] Finished at: Wed Jan 07 11:26:27 CET 2009
[INFO] Final Memory: 16M/29M
[INFO] ------------------------------------------------------------------------

It tries to execute ""C:\Program"" instead of  ""C:\Program Files\Java\jdk1.5.0_11\jre\..\bin\jarsigner.exe"" and this causes the signing to fail.
Is this a problem of archiva or continuum or maven or something else?
Best regards,
Carsten 
",Minor,Closed,Won't Fix,,,Carsten Hammer,chammer
MRM-1081,Improvement,2009-02-09T23:29:11.895Z,2009-02-09T23:29:11.895Z,2009-03-22T17:32:36.645Z,2009-03-22T17:32:36.645Z,2009-02-09T23:48:14.868Z,2009-02-09T23:48:14.868Z,Archiva model should be updated so that the ARTIFACT table includes repositoryId as a primary key,"Archiva model should be updated so that the ARTIFACT table includes repositoryId as a primary key.

Multiple repositories can contain the same artifacts which may be available only to certain principals.

For example:
if commons-lang 2.3 is in a repository called ""internal"" and in another repository called ""public"" both repositories were scanned (public first, then internal) the artifact will no longer be accessible to the users of the public repository as the artifact reference is not considered unique.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1093,Improvement,2009-02-20T12:03:37.638Z,2009-02-20T12:03:37.638Z,2015-04-05T14:53:57.846Z,2015-04-05T14:53:57.846Z,2009-03-20T11:15:22.309Z,2009-03-20T11:15:22.309Z,Log configuration and repository changes made.,"Log the changes made to the configurations and repositories.

Added logging to the following operations:
- purge (artifacts being removed)
- repository scanning configurations
- database scanning configurations
- add, edit, and delete of managed and remote repositories
- add and delete repository groups (including add and delete of repository from group)

Changes are logged in archiva-audit.log.",Major,Closed,Fixed,Brett Porter,brettporter,jzurbano,jzurbano
MRM-1015,Improvement,2008-11-19T22:10:57.931Z,2008-11-19T22:10:57.931Z,2009-03-21T21:01:04.306Z,2009-03-21T21:01:04.306Z,2009-02-15T20:17:28.215Z,2009-02-15T20:17:28.215Z,Move consumer API's from plexus to spring,Move consumers and related API's to Spring. This is a prerequisite for the plugin work as we cannot define plexus in spring components from within plugins.,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1076,Bug,2009-02-04T04:11:18.57Z,2009-02-04T04:11:18.57Z,2009-05-19T05:43:42.453Z,2009-05-19T05:43:42.453Z,2009-02-18T00:51:24.372Z,2009-02-18T00:51:24.372Z,NPE in NexusIndexConsumer when executed when an artifact is deployed in the Archiva repository,"Error in the logs:

java.lang.NullPointerException
	at org.apache.lucene.index.IndexWriter.init(IndexWriter.java:1053)
	at org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:908)
	at org.sonatype.nexus.index.context.NexusIndexWriter.<init>(NexusIndexWriter.java:35)
	at org.sonatype.nexus.index.context.DefaultIndexingContext.getIndexWriter(DefaultIndexingContext.java:363)
	at org.sonatype.nexus.index.creator.DefaultIndexerEngine.endIndexing(DefaultIndexerEngine.java:63)
	at org.apache.archiva.consumers.lucene.NexusIndexerConsumer.completeScan(NexusIndexerConsumer.java:194)
	at org.apache.archiva.repository.scanner.functors.TriggerScanCompletedClosure.execute(TriggerScanCompletedClosure.java:48)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:264)
	at org.apache.maven.archiva.webdav.ArchivaDavResource.addMember(ArchivaDavResource.java:310)
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPut(AbstractWebdavServlet.java:516)
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(AbstractWebdavServlet.java:244)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:125)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:842)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:648)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1035,Bug,2008-12-10T16:31:55.605Z,2008-12-10T16:31:55.605Z,2010-03-01T03:14:09.182Z,2010-03-01T03:14:09.182Z,2010-03-01T03:14:09.146Z,2010-03-01T03:14:09.146Z,"Remote, legacy (Maven 1) repositories appear to be consulted for all artifacts, even if no appropriate proxy connector has been defined. ","- We have a number of remote repositories configured, including one legacy (maven 1) repository (https://maven-repository.dev.java.net/nonav/repository).
- We have two managed repositories configured, one for external artifacts, one for internally produced artifacts.
- We have a proxy connector that links each of the external repositories into the managed repository for external artifacts. The proxy connector explicitly excludes our group prefix (e.g. org/foo/**). We have configured the proxy connectors to cache-errors.

While tailing the logs, I have noticed that *every* request seems to be proxied through to the legacy maven 1 repository, even requests for artifacts that come from our managed repository for internally produced artifacts (note that there is *no* proxy defined for this repository). These fail (of course), and eventually show up in the logs as such:

2008-12-10 22:14:11,043 [btpool0-52] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on https://maven-repository.dev.java.net/nonav/repository/com.ea.nucleus/poms/profanity-1.1.2.pom : NO to fetch, check-failures detected previous failure on url: https://maven-repository.dev.java.net/nonav/repository/org.foo/poms/profanity-1.1.2.pom",Minor,Closed,Duplicate,Brett Porter,brettporter,Thomas Dewire,tomdewire
MRM-1032,Bug,2008-12-07T20:38:05.968Z,2008-12-07T20:38:05.968Z,2009-03-21T21:01:41.832Z,2009-03-21T21:01:41.832Z,2009-03-15T01:50:39.758Z,2009-03-15T01:50:39.758Z,Pick Report - Repository Statistics: End Date can be set earlier than Start Date,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1021,New Feature,2008-11-25T02:30:55.954Z,2008-11-25T02:30:55.954Z,2011-02-23T14:42:06.453Z,2011-02-23T14:42:06.453Z,2011-02-23T14:42:06.303Z,2011-02-23T14:42:06.303Z,Add support for temporary repositories used for staging,"Something like in Nexus Pro :
http://blogs.sonatype.com/people/brian/2008/11/20/announcing-nexus-maven-repository-manager-pro-beta/
",Major,Closed,Fixed,,,Arnaud HERITIER,aheritier
MRM-1079,Task,2009-02-06T03:34:32.548Z,2009-02-06T03:34:32.548Z,2009-03-22T17:32:37.156Z,2009-03-22T17:32:37.156Z,2009-02-20T01:10:26.927Z,2009-02-20T01:10:26.927Z,Update LuceneCleanupRemoveIndexerConsumer to use the new index format,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1061,Bug,2009-01-08T06:41:21.635Z,2009-01-08T06:41:21.635Z,2011-03-29T09:59:40.332Z,2011-03-29T09:59:40.332Z,2010-02-28T23:08:44.791Z,2010-02-28T23:08:44.791Z,'Used By' page incorrect and 'Dependency Tree' page  crash when specifying dependency version using <dependencyManagement> in parent POM.,"In our projects we specify the versions of artifacts/dependencies in a parent POM using the <dependencyManagement> mechanism. This enables us to easily specify the version of an artifact to be used for all the modules in our project. However, when looking at the 'Dependencies' page of such a module in Archiva, the versions of the dependencies are not listed. Furthermore, when opening the 'Dependency Tree' screen, it crashes with the following error:

{quote}
org.apache.maven.archiva.common.ArchivaException: Unable to generate graph for [com.fortis.fffj:FFFJ-Integration:1.1.1-20090105.220705-5] : Unable to create ArchivaArtifact with empty version [junit:junit:null::pom]
{quote}

Another problem,  that is probably a result of this issue, is that when looking at an artifact's 'Used By' page (for example JUNIT), the page does not list the modules that use the artifact if the artifact's version is specified in the modules parent POM using the <dependencyManagement> mechanism.",Major,Closed,Fixed,Brett Porter,brettporter,Duncan Doyle,mccloud
MRM-1098,Improvement,2009-02-23T23:54:33.098Z,2009-02-23T23:54:33.098Z,2009-03-21T21:01:02.921Z,2009-03-21T21:01:02.921Z,2009-02-24T18:10:37.207Z,2009-02-24T18:10:37.207Z,upgrade to wagon 1.0-beta-5,this will allow removing a workaround for MRM-631 in archiva-proxy,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1037,Improvement,2008-12-15T20:05:02.487Z,2008-12-15T20:05:02.487Z,2009-03-21T21:01:05.935Z,2009-03-21T21:01:05.935Z,2009-02-17T21:40:14.413Z,2009-02-17T21:40:14.413Z,Search Usability,"Taken from Bretts email to the list
{noformat}
   - [ ] improve the search results page
       - [ ] remove metadata files
       - [ ] merge versions in search results
       - [ ] for snapshots, just show SNAPSHOT, not timestamps
       - [ ] show hits in the results (this may not be possible or needed with better results, however)

   - [ ] existing JIRA complaints
       - [ ] MRM-732 (tokenizing)
       - [ ] MRM-495 (weighting)
       - [ ] MRM-609 (windows bug - may be fixed)
       - [ ] MRM-933 (hit count, pagination completely busted)

   - [ ] advanced search
       - [ ] improve appearance and flexibility, maybe change to ""add term"" buttons on the default search
       - [ ] class/package search is still flaky
           - [ ] might be the analyzer rules, etc. for splitting on '.'

- [ ] browse improvements
   - [ ] artifact version list should show basic shared project information rather than having to drill into one version
   - [ ] snapshot should go to a page that shows a list of versions
         (go to latest, but list previous snapshots)
{noformat}",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1058,Bug,2009-01-05T09:14:26.177Z,2009-01-05T09:14:26.177Z,2010-12-29T07:01:38.66Z,2010-12-29T07:01:38.66Z,2010-12-29T07:01:38.438Z,2010-12-29T07:01:38.438Z,Error 500 Unable to load class for JSP,"Twice now after Archiva 1.2-M1 has been running for a while on my laptop (including several sleep/wake cycles), I get this error when visiting the main page.  The logs appear normal.  Restarting the app ""fixes"" it.

HTTP ERROR: 500

Unable to load class for JSP

RequestURI=/archiva/
Caused by:

org.apache.jasper.JasperException: Unable to load class for JSP
	at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:598)
	at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:147)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:315)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:285)
	at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)
	at org.mortbay.jetty.servlet.DefaultServlet.doGet(DefaultServlet.java:463)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
Caused by: java.lang.ClassNotFoundException: org.apache.jsp.index_jsp
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:133)
	at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:65)
	at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:596)
	... 41 more

Caused by:

java.lang.ClassNotFoundException: org.apache.jsp.index_jsp
	at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
	at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:133)
	at org.apache.jasper.servlet.JasperLoader.loadClass(JasperLoader.java:65)
	at org.apache.jasper.JspCompilationContext.load(JspCompilationContext.java:596)
	at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:147)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:315)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:362)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:285)
	at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)
	at org.mortbay.jetty.servlet.DefaultServlet.doGet(DefaultServlet.java:463)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)

Powered by Jetty://




",Major,Closed,Duplicate,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-1009,Bug,2008-11-18T10:31:18.709Z,2008-11-18T10:31:18.709Z,2008-11-19T13:00:58.386Z,2008-11-19T13:00:58.386Z,2008-11-19T13:00:58.407Z,2008-11-19T13:00:58.407Z,Creating new network proxy fails,"Hi,

I have a fresh Archiva install, version 1.2-M1. At my company all outbound web access must go through a proxy. This is why I would like to configure Archiva to use this corporate proxy when accessing remote repositories. However, when I fill the Add Network Proxy from in Administration -> Network Proxies -> Add Network Proxy, I get the following exception.

java.lang.IllegalArgumentException: URI is not hierarchical
	at java.io.File.<init>(File.java:363)
	at com.opensymphony.xwork2.validator.ValidatorFactory.parseValidators(ValidatorFactory.java:323)
	at com.opensymphony.xwork2.validator.ValidatorFactory.<clinit>(ValidatorFactory.java:230)
	at com.opensymphony.xwork2.validator.ValidatorFileParser.addValidatorConfigs(ValidatorFileParser.java:192)
	at com.opensymphony.xwork2.validator.ValidatorFileParser.parseActionValidatorConfigs(ValidatorFileParser.java:72)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.loadFile(AnnotationActionValidatorManager.java:361)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildAliasValidatorConfigs(AnnotationActionValidatorManager.java:244)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildValidatorConfigs(AnnotationActionValidatorManager.java:343)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.getValidators(AnnotationActionValidatorManager.java:69)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:138)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:113)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:100)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doBeforeInvocation(ValidationInterceptor.java:142)
	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:148)
	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:165)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:75)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
	at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:70)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:70)
	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
	at com.caucho.server.dispatch.FilterFilterChain.doFilter(FilterFilterChain.java:70)
	at com.caucho.server.webapp.WebAppFilterChain.doFilter(WebAppFilterChain.java:173)
	at com.caucho.server.dispatch.ServletInvocation.service(ServletInvocation.java:229)
	at com.caucho.server.http.HttpRequest.handleRequest(HttpRequest.java:274)
	at com.caucho.server.port.TcpConnection.run(TcpConnection.java:511)
	at com.caucho.util.ThreadPool.runTasks(ThreadPool.java:520)
	at com.caucho.util.ThreadPool.run(ThreadPool.java:442)
	at java.lang.Thread.run(Thread.java:619)",Major,Closed,Not A Problem,,,Tuomas Jormola,tjormola
MRM-1007,Bug,2008-11-18T07:12:16.223Z,2008-11-18T07:12:16.223Z,2009-07-30T01:22:45.973Z,2009-07-30T01:22:45.973Z,2009-07-30T01:22:45.991Z,2009-07-30T01:22:45.991Z,Missing links to older versions in repository group,"I made a repository group with two repositories inside. In both are the same artifact in a different version.

The maven-metadata.xml file is merged correctly with both artifact versions, but the index in the browser just shows me version of the artifact. If I change the url manually to the other version, i can reach the artifact.

Is it possible to show all available versions of an artifact in the index of the artifact, not just one?


An other issue: 

the link on the organisation logo in the top right points to somewhere. Shouldn't this point to the organisation url?


Thanks a lot


greets Stefan",Minor,Closed,Cannot Reproduce,,,hst,hst
MRM-1051,Bug,2008-12-22T04:01:54.318Z,2008-12-22T04:01:54.318Z,2009-03-08T16:08:34.977Z,2009-03-08T16:08:34.977Z,2009-03-08T16:08:35.023Z,2009-03-08T16:08:35.023Z,Archiva didn't works with IBM SDK,"I had to reinstalled Archiva 1.1.3, in webapp version, under a new box Suse Linux box under Tomcat 6.0.16 and using IBM SDK 6.0 SR2.

INFO: Starting Servlet Engine: Apache Tomcat/6.0.16
22 d?c. 2008 10:15:04 org.apache.catalina.core.StandardContext addApplicationListener
INFO: The listener ""org.springframework.web.context.ContextLoaderListener"" is already configured for this context. The duplicate definition has been ignored.
22 d?c. 2008 10:15:04 org.apache.catalina.core.StandardContext addApplicationListener
INFO: The listener ""org.apache.maven.archiva.web.startup.ArchivaStartup"" is already configured for this context. The duplicate definition has been ignored.
22 d?c. 2008 10:15:04 org.springframework.web.context.ContextLoader initWebApplicationContext
INFO: Root WebApplicationContext: initialization started
22 d?c. 2008 10:15:04 org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.codehaus.plexus.spring.PlexusWebApplicationContext@506c506c: display name [Root WebApplicationContext]; startup date [Mon Dec 22 10:15:04 CET 2008]; root of context hierarchy
log4j:WARN No appenders could be found for logger (org.codehaus.plexus.spring.PlexusApplicationContextDelegate).
log4j:WARN Please initialize the log4j system properly.
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/classes/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-artifact-reports-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-configuration-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-core-consumers-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-database-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-database-consumers-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-indexer-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-lucene-consumers-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-policies-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-proxy-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-report-manager-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-repository-layer-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-rss-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-scheduled-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-security-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-webdav-1.1.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-cache-api-1.0-alpha-2.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-cache-ehcache-1.0-alpha-2.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-digest-1.1.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-ehcache-1.0-alpha-2.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-expression-evaluator-1.0-rc1.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-mail-sender-javamail-1.0-alpha-6.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-quartz-1.0-alpha-3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-registry-commons-1.0-alpha-2.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-velocity-1.1.2.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/plexus-xwork-integration-1.0-alpha-7.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-authentication-api-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-authentication-keys-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-authentication-ldap-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-authentication-users-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-authorization-rbac-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-common-jdo-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-common-ldap-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-configuration-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-keys-cached-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-keys-jdo-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-policy-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-rbac-cached-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-rbac-jdo-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-rbac-role-manager-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-system-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-users-cached-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-users-configurable-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-users-jdo-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-users-ldap-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/redback-xwork-integration-1.0.3.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'environmentCheck#required-roles': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'userSecurityPolicy': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'jdoFactory#users': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/wagon-file-1.0-beta-4.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/wagon-http-lightweight-1.0-beta-4.jar!/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-policies-1.1.3.jar!/META-INF/spring-context.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from URL [jar:file:/home/archiva/tomcat6/webapps/archiva/WEB-INF/lib/archiva-proxy-1.1.3.jar!/META-INF/spring-context.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/classes/META-INF/plexus/application.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'registry#commons-configuration': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'mailSender': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'jdoFactory#users': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'environmentCheck#locked-admin-check': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions
INFO: Loading XML bean definitions from ServletContext resource [/WEB-INF/classes/META-INF/plexus/components.xml]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#editOrganisationInfo': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#organisationInfo': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#addProxyConnectorAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#deleteProxyConnectorAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#editProxyConnectorAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#proxyConnectorsAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#sortProxyConnectorsAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#databaseAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#addLegacyArtifactPathAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#deleteLegacyArtifactPathAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#legacyArtifactPathAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#configureNetworkProxyAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#networkProxiesAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#addManagedRepositoryAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#addRemoteRepositoryAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
22 d?c. 2008 10:15:06 org.springframework.beans.factory.support.DefaultListableBeanFactory registerBeanDefinition
INFO: Overriding bean definition for bean 'action#deleteManagedRepositoryAction': replacing [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] with [Generic bean: class [org.codehaus.plexus.spring.PlexusComponentFactoryBean]; scope=singleton; abstract=false; lazyInit=true; autowireCandidate=true; autowireMode=0; dependencyCheck=0; factoryB",Blocker,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1020,Bug,2008-11-23T14:38:24.473Z,2008-11-23T14:38:24.473Z,2015-04-05T14:53:44.846Z,2015-04-05T14:53:44.846Z,2008-11-23T21:16:41.698Z,2008-11-23T21:16:41.698Z,Fix the crazy alpaca on Windows,"The banner message with the cute alpaca in it contains hard-coded Unix line ends, which deprives many Windows users of the pleasure of seeing him each time Archiva starts. The attached patch fixes that so that everyone can see him in all his glory. The patch also fixes a typo in the message (possessive should be plural).

Patch attached.",Minor,Closed,Fixed,james.w.dumay,james.w.dumay,Martin Cooper,martinc
MRM-1034,Bug,2008-12-09T19:28:46.201Z,2008-12-09T19:28:46.201Z,2009-03-21T21:01:01.123Z,2009-03-21T21:01:01.123Z,2008-12-09T19:30:17.09Z,2008-12-09T19:30:17.09Z,Browse artifact error does not show correct error message,"Any problem that occurs on artifact browse is reported as ""Unable to find project model for blah"" instead of the real error message ""Unable to find artifact blah for in observable repository for current user"".",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1043,Sub-task,2008-12-15T20:09:30.684Z,2008-12-15T20:09:30.684Z,2009-03-21T21:01:05.15Z,2009-03-21T21:01:05.15Z,2009-02-16T01:33:36.08Z,2009-02-16T01:33:36.08Z,"improve appearance and flexibility of Advanced search (maybe change to ""add term"" buttons on the default search)",,Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1017,Bug,2008-11-19T23:46:00.905Z,2008-11-19T23:46:00.905Z,2011-03-29T09:59:32.979Z,2011-03-29T09:59:32.979Z,2010-02-23T05:29:05.275Z,2010-02-23T05:29:05.275Z,quicksearch should not NPE without completeQueryString,"http://vmbuild.apache.org/archiva/quickSearch.action?q=bytecode%3ALogFactory

java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.SearchAction.isEqualToPreviousSearchTerm(SearchAction.java:259)
	at org.apache.maven.archiva.web.action.SearchAction.quickSearch(SearchAction.java:158)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)

",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1001,Improvement,2008-11-13T18:50:10.022Z,2008-11-13T18:50:10.022Z,2010-02-23T01:50:37.429Z,2010-02-23T01:50:37.429Z,2010-02-23T01:50:27.013Z,2010-02-23T01:50:27.013Z,Allow for easier database upgrade,See http://www.nabble.com/-VOTE--Release-Archiva-1.2-M1-tt20388177.html#a20427310 for more details.,Major,Closed,Won't Fix,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1095,Bug,2009-02-22T23:37:19.549Z,2009-02-22T23:37:19.549Z,2009-03-21T21:01:44.396Z,2009-03-21T21:01:44.396Z,2009-03-05T22:30:34.465Z,2009-03-05T22:30:34.465Z,"Archiva keeps scanning repositories, even if scanning disabled in the web UI","Archiva logs show: 

{noformat}
2009-02-23 12:15:01,837 [pool-2-thread-1] INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Finished repository task: 
.\ Scan of internal \.__________________________________________
  Repository Dir    : /home/archiva/trunk/archiva-modules/archiva-web/archiva-webapp/appserver-base/data/repositories/internal
  Repository Name   : Archiva Managed Internal Repository
  Repository Layout : default
  Known Consumers   : (6 configured)
                      metadata-updater
                      auto-remove
                      auto-rename
                      update-db-artifact
                      create-missing-checksums
                      index-content
  Invalid Consumers : <none>
  Duration          : 173 Milliseconds
  When Gathered     : 2/23/09 12:15 PM
  Total File Count  : 7
  Avg Time Per File : 24 Milliseconds
{noformat} 

Even though scanning is disabled for that particular repository in the web UI.
Even after Archiva restart, the problem persists.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Gwen Harold Autencio,gautencio
MRM-1008,Improvement,2008-11-18T07:12:21.039Z,2008-11-18T07:12:21.039Z,2012-10-13T16:31:26.314Z,2012-10-13T16:31:26.314Z,,,Upload artifact should be able to retrieve informtion from uploaded POM,"The 'Upload Artifact' forces the user to enter a 'Group ID', 'Artifact ID', etc., even when a POM file is uploaded along with the artifact. It would be nice to have a feature (for example a checkbox 'use POM information') which would allow the POM information to be used when uploading an artifact and POM.",Minor,Open,,,,Duncan Doyle,mccloud
MRM-1053,New Feature,2008-12-26T21:12:31.059Z,2008-12-26T21:12:31.059Z,2016-03-15T06:21:09.624Z,2016-03-15T06:21:09.624Z,2016-03-15T06:21:09.601Z,2016-03-15T06:21:09.601Z,Search and Destroy artifacts according to originating remote proxy,It would be helpful to query artifacts based on the source/originating remote proxy. It would also be helpful if the associated artifacts could be deleted. ,Major,Closed,Won't Fix,,,b v j,bvj
MRM-1014,Bug,2008-11-19T15:41:59.885Z,2008-11-19T15:41:59.885Z,2008-11-21T00:32:23.136Z,2008-11-21T00:32:23.136Z,2008-11-21T00:32:23.143Z,2008-11-21T00:32:23.143Z,Database corrupt on restart,"I installed the WAR distribution of 1.2-M1 on a tomcat 6 instance.

It starts up fine, but when tomcat is restarted archive can no longer access the derby database.
This may be caused by a crash (Archive seemed to stop responding and failed on restart)

Here is what looks like the important part of the stack trace:

Caused by: java.sql.SQLException: Failed to start database '/var/emineo/archiva/users', see the next exception for details.
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)
	... 96 more
Caused by: java.sql.SQLException: Another instance of Derby may have already booted the database /var/emineo/archiva/users.
	at org.apache.derby.impl.jdbc.SQLExceptionFactory.getSQLException(Unknown Source)
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.wrapArgsForTransportAcrossDRDA(Unknown Source)
	at org.apache.derby.impl.jdbc.SQLExceptionFactory40.getSQLException(Unknown Source)
	at org.apache.derby.impl.jdbc.Util.generateCsSQLException(Unknown Source)
	... 93 more
Caused by: ERROR XSDB6: Another instance of Derby may have already booted the database /var/emineo/archiva/users.
	at org.apache.derby.iapi.error.StandardException.newException(Unknown Source)
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.privGetJBMSLockOnDB(Unknown Source)
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.run(Unknown Source)
	at java.security.AccessController.doPrivileged(Native Method)
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.getJBMSLockOnDB(Unknown Source)
	at org.apache.derby.impl.store.raw.data.BaseDataFileFactory.boot(Unknown Source)
",Blocker,Closed,Duplicate,,,Brill Pappin,brill
MRM-1077,Bug,2009-02-05T03:57:54.858Z,2009-02-05T03:57:54.858Z,2011-09-12T08:11:06.673Z,2011-09-12T08:11:06.673Z,2011-09-12T08:11:06.646Z,2011-09-12T08:11:06.646Z,Exception trying to change Passwort,trying to change the passwort results in exception as shown in ghe screenshot,Critical,Closed,Cannot Reproduce,,,Marc Lustig,axismundi
MRM-1006,Task,2008-11-18T02:06:09.304Z,2008-11-18T02:06:09.304Z,2011-09-12T11:45:24.856Z,2011-09-12T11:45:24.856Z,2011-09-12T11:45:24.843Z,2011-09-12T11:45:24.843Z,Add chkconfig related info for runlevel start and stop,"Add support for runlevel start and stop  by creating symbolic links to bin/archiva script

# ln -s $ARCHIVA_BASE/bin/archiva  /etc/init.d/archiva
# ln -s /etc/init.d/archiva /usr/sbin/rcarchiva
# chkconfig archiva on


On my system, it was necessary to set JAVA_HOME to a recent JVM and also make sure the JVM was the first JVM in the PATH envar.  Established exports local to archiva startup.



",Trivial,Closed,Incomplete,,,b v j,bvj
MRM-1088,New Feature,2009-02-17T14:43:08.957Z,2009-02-17T14:43:08.957Z,2011-10-27T16:56:27.759Z,2011-10-27T16:56:27.759Z,2011-10-27T16:56:27.739Z,2011-10-27T16:56:27.739Z,Oracle DB Support,"Can there be consideration to use Oracle as DB provider for Archiva?  This is our standard to ease adoption of this tool across the enterprise.  Also, it would be much easier to configure a multi-node environment instead of using Derby.",Major,Closed,Not A Problem,,,Lou Sacco,occasl
MRM-1099,Improvement,2009-02-25T21:12:38.438Z,2009-02-25T21:12:38.438Z,2015-04-05T14:53:59.179Z,2015-04-05T14:53:59.179Z,2009-03-14T23:54:51.277Z,2009-03-14T23:54:51.277Z,Updated Archiva User Guide,"Updated/Added the following sections:

* Browsing
* Deploying an Artifact
* Identifying an Artifact
* Deleting an Artifact",Minor,Closed,Fixed,Maria Odea Ching,oching,Lani Sara,lanisara
MRM-1004,Bug,2008-11-16T19:32:38.139Z,2008-11-16T19:32:38.139Z,2015-04-05T14:54:17.046Z,2015-04-05T14:54:17.046Z,2008-11-16T19:40:19.767Z,2008-11-16T19:40:19.767Z,RepositoryServlet tests fail intermittently on Windows,"The repository servlet tests (e.g. RepositoryServletProxiedRelocatedTest) fail on Windows due to a bug in a Maven class (MavenXpp3Reader) that Archiva is using. The bug is that MavenXpp3Reader does not close the Reader after reading the content of a POM. Thus the file is left open until the MavenXpp3Reader instance is garbage collected. Since the garbage collector is run whenever the JVM feels like it, the problem is intermittent rather than being consistent.

Although the root of the problem is with Maven's MavenXpp3Reader class, there is a simple workaround that can be applied to the Archiva code. That is to close the reader explicitly, after the POM content has been read. This will not cause a problem when the Maven bug is fixed, since closing an already-closed Reader is a no-op.

Patch attached.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Martin Cooper,martinc
MRM-1003,Task,2008-11-14T03:22:59.619Z,2008-11-14T03:22:59.619Z,2011-09-16T08:38:17.272Z,2011-09-16T08:38:17.272Z,2011-09-16T08:38:17.214Z,2011-09-16T08:38:17.214Z,Repackage sources from org.apache.maven.archiva.. to org.apache.archiva..,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1080,Task,2009-02-09T23:23:55.788Z,2009-02-09T23:23:55.788Z,2010-01-11T22:13:40.307Z,2010-01-11T22:13:40.307Z,2009-10-12T04:08:14.03Z,2009-10-12T04:08:14.03Z,Update SearchServiceImplTest so that it uses the new search API,SearchServiceImplTest,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1000,Bug,2008-11-12T23:40:11.193Z,2008-11-12T23:40:11.193Z,2015-04-05T14:54:08.923Z,2015-04-05T14:54:08.923Z,2008-11-13T00:00:11.032Z,2008-11-13T00:00:11.032Z,AdministrationServiceImplTest fails on Windows,"The AdministrationServiceImplTest fails on Windows due to path separator issues. When test data is recorded into the legacy repo, a Unix path separator is hard-coded into the data. This later fails to match a native file system path in matchesArtifactPattern, causing the test itself to fail.

The fix is to create the test data using the system path separator (File.separator) instead of hard-coding it. Patch attached.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Martin Cooper,martinc
MRM-1086,Bug,2009-02-12T04:04:36.049Z,2009-02-12T04:04:36.049Z,2011-09-12T11:42:39.326Z,2011-09-12T11:42:39.326Z,2011-09-12T11:42:39.248Z,2011-09-12T11:42:39.248Z,"HTTP ERROR: 500, No bean named 'wagon#  file' is defined","I am migrating archiva to 1.1.3 but one of the libraries gets the following error. I cannot see anything wrong with the xml and grep ""file"" * returns nothing for this directory.

HTTP ERROR: 500

No bean named 'wagon# 	file' is defined

RequestURI=/archiva/repository/snapshots/com/mycom/mylib/1.1-SNAPSHOT/maven-metadata.xml
Caused by:

org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'wagon# 	file' is defined
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:378)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1012)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:168)
	at org.springframework.beans.factory.config.ServiceLocatorFactoryBean$ServiceLocatorInvocationHandler.invokeServiceLocatorMethod(ServiceLocatorFactoryBean.java:375)
	at org.springframework.beans.factory.config.ServiceLocatorFactoryBean$ServiceLocatorInvocationHandler.invoke(ServiceLocatorFactoryBean.java:359)
	at $Proxy0.getWagon(Unknown Source)
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:602)
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:277)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchMetadataFromProxies(ArchivaDavResourceFactory.java:568)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:523)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:439)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:256)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:118)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)

Powered by Jetty://",Major,Closed,Duplicate,,,Peter Lawrey,peter_lawrey
MRM-1027,Bug,2008-12-01T19:43:07.656Z,2008-12-01T19:43:07.656Z,2016-03-15T05:55:25.923Z,2016-03-15T05:55:25.923Z,2008-12-02T07:02:08.938Z,2008-12-02T07:02:08.938Z,Indices are not cleaned up when deleting artifact via web services,,Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1029,Bug,2008-12-05T00:02:54.357Z,2008-12-05T00:02:54.357Z,2011-03-29T09:59:31.992Z,2011-03-29T09:59:31.992Z,2010-02-23T01:54:00.35Z,2010-02-23T01:54:00.35Z,Download box doesn't appear in the DependencyTree tab,,Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1042,Sub-task,2008-12-15T20:08:53.258Z,2008-12-15T20:08:53.258Z,2009-03-21T21:01:06.397Z,2009-03-21T21:01:06.397Z,2009-02-17T21:39:22.171Z,2009-02-17T21:39:22.171Z,"snapshot should go to a page that shows a list of versions (go to latest, but list previous snapshots)",,Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1052,Bug,2008-12-22T04:56:07.86Z,2008-12-22T04:56:07.86Z,2012-09-26T08:56:00.326Z,2012-09-26T08:56:00.326Z,2012-09-26T08:56:00.251Z,2012-09-26T08:56:00.251Z,Archiva problem with SQL schemas,"After a system restart, the Archiva 1.1.3 system didn't works anymore on our Linux box. It consumes up to 100% CPU without any 'visible' system activity.

We decided to switch from the previous derby DB to Mysql.

I set MySQL like this in context.xml 

...

  <Resource name=""jdbc/users""
            auth=""Container""
            type=""javax.sql.DataSource""
            username=""archiva""
            password=""somepwd""
            driverClassName=""com.mysql.jdbc.Driver""
            url=""jdbc:mysql://localhost:3306/archiva-users?autoReconnect=true""/>

  <Resource name=""jdbc/archiva""
            auth=""Container""
            type=""javax.sql.DataSource""
            username=""archiva""
            password=""somepwd""
            driverClassName=""com.mysql.jdbc.Driver""
            url=""jdbc:mysql://localhost:3306/archiva?autoReconnect=true""/>

...

Created the archiva database on the local mysql DB, created archiva user and grant it access to archiva DB.

Archiva 1.1.3 created the table at startup time and seems to start.

I created the admin user, but after trying to create another user, archiva is stuck with SQL schema :

ATTENTION: Caught OgnlException while setting property 'principal' on type 'com.opensymphony.webwork.dispatcher.ServletActionRedirectResult'.
ognl.NoSuchPropertyException: com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.principal
        at ognl.ObjectPropertyAccessor.setProperty(ObjectPropertyAccessor.java:132)
        at com.opensymphony.xwork.util.OgnlValueStack$ObjectAccessor.setProperty(OgnlValueStack.java:67)
        at ognl.OgnlRuntime.setProperty(OgnlRuntime.java:1656)
        at ognl.ASTProperty.setValueBody(ASTProperty.java:101)
        at ognl.SimpleNode.evaluateSetValueBody(SimpleNode.java:177)
        at ognl.SimpleNode.setValue(SimpleNode.java:246)
        at ognl.Ognl.setValue(Ognl.java:476)
        at com.opensymphony.xwork.util.OgnlUtil.setValue(OgnlUtil.java:188)
        at com.opensymphony.xwork.util.OgnlUtil.internalSetProperty(OgnlUtil.java:362)
        at com.opensymphony.xwork.util.OgnlUtil.setProperties(OgnlUtil.java:78)
        at com.opensymphony.xwork.util.OgnlUtil.setProperties(OgnlUtil.java:51)
        at com.opensymphony.xwork.ObjectFactory.buildResult(ObjectFactory.java:186)
        at com.opensymphony.xwork.DefaultActionInvocation.createResult(DefaultActionInvocation.java:173)
        at com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:310)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:208)
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:159)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:122)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)

org.codehaus.plexus.redback.rbac.RbacObjectNotFoundException: Unable to find RBAC Object 'userone' of type org.codehaus.plexus.redback.rbac.jdo.JdoUserAssignment using fetch-group 'null'
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:316)
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.getUserAssignment(JdoRbacManager.java:568)
        at org.codehaus.plexus.redback.rbac.AbstractRBACManager.getAssignedRoles(AbstractRBACManager.java:533)
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.getAssignedRoles(CachedRbacManager.java:251)
        at org.codehaus.plexus.redback.xwork.action.admin.AssignmentsAction.show(AssignmentsAction.java:189)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:159)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:122)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)

Caused by: javax.jdo.JDOObjectNotFoundException: No such database row
FailedObject:userone
        at org.jpox.store.rdbms.request.FetchRequest.execute(FetchRequest.java:194)
        at org.jpox.store.rdbms.table.ClassTable.fetch(ClassTable.java:2552)
        at org.jpox.store.StoreManager.fetch(StoreManager.java:959)
        at org.jpox.state.StateManagerImpl.loadFieldsInFetchPlan(StateManagerImpl.java:1820)
        at org.jpox.state.StateManagerImpl.validate(StateManagerImpl.java:4499)
        at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2726)
        at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2600)
        at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2580)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:306)
        ... 73 more
org.codehaus.plexus.redback.rbac.RbacObjectNotFoundException: Unable to find RBAC Object 'userone' of type org.codehaus.plexus.redback.rbac.jdo.JdoUserAssignment using fetch-group 'null'
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:316)
        at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.getUserAssignment(JdoRbacManager.java:568)
        at org.codehaus.plexus.redback.rbac.AbstractRBACManager.getAssignedRoles(AbstractRBACManager.java:533)
        at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.getAssignedRoles(CachedRbacManager.java:251)
        at org.codehaus.plexus.redback.xwork.action.admin.AssignmentsAction.show(AssignmentsAction.java:189)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:159)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:122)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)

Caused by: javax.jdo.JDOObjectNotFoundException: No such database row
FailedObject:userone
        at org.jpox.store.rdbms.request.FetchRequest.execute(FetchRequest.java:194)
        at org.jpox.store.rdbms.table.ClassTable.fetch(ClassTable.java:2552)
        at org.jpox.store.StoreManager.fetch(StoreManager.java:959)
        at org.jpox.state.StateManagerImpl.loadFieldsInFetchPlan(StateManagerImpl.java:1820)
        at org.jpox.state.StateManagerImpl.validate(StateManagerImpl.java:4499)
        at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2726)
        at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2600)
        at org.jpox.AbstractPersistenceManager.getObjectById(AbstractPersistenceManager.java:2580)
        at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:306)
        ... 73 more

I had to restart the tomcat hosting archiva.

After restart I see in Archiva log :

2008-12-22 11:54:08,034 [main] ERROR JPOX.RDBMS  - An exception was thrown while adding/validating class(es) : You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-users.`SECURITY_USERASSIGNMENT_ROLENAMES` ADD CONSTRAINT `SECURITY_USERASSIGNME' at line 1
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '-users.`SECURITY_USERASSIGNMENT_ROLENAMES` ADD CONSTRAINT `SECURITY_USERASSIGNME' at line 1
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
        at com.mysql.jdbc.Util.getInstance(Util.java:381)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1030)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3491)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3423)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1936)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2060)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2536)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)
        at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:734)
        at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:264)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.TableImpl.validateForeignKeys(TableImpl.java:463)
        at org.jpox.store.rdbms.table.TableImpl.validateConstraints(TableImpl.java:388)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3123)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)

",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Henri Gomez,hgomez
MRM-1016,Improvement,2008-11-19T23:24:25.996Z,2008-11-19T23:24:25.996Z,2015-04-05T14:53:52.587Z,2015-04-05T14:53:52.587Z,2008-11-19T23:30:02.218Z,2008-11-19T23:30:02.218Z,Minor usability enhancement for the web app footer,"Each page of the web app has a footer with links to the Archiva web site and to the main ASF web site. It's a little annoying that these targets come up in the same browser window / tab as the Archiva app itself, rendering the app inaccessible (unless and until the user hits the back button). The attached patch causes these links to open their targets in a new browser window / tab instead.

Also, for the link to the main ASF web site, only the text ""The Apache Software Foundation"" is linked rather than the entire copyright notice.

Patch attached.",Minor,Closed,Fixed,Brett Porter,brettporter,Martin Cooper,martinc
MRM-1085,Bug,2009-02-12T03:09:24.926Z,2009-02-12T03:09:24.926Z,2009-08-17T03:37:18.138Z,2009-08-17T03:37:18.138Z,2009-08-17T03:37:18.144Z,2009-08-17T03:37:18.144Z,CLONE -Failing to startup due to invalid bean definition,"After doing a war install, running Tomcat yields the following exception:

org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'archivaConfiguration' defined in null: Could not resolve placeholder 'appserver.base'
	at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:252)
	at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:75)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:542)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:516)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:348)
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:261)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3727)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4162)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)
	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:603)
	at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:535)
	at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:470)
	at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1118)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1020)
	at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)
	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:442)
	at org.apache.catalina.core.StandardService.start(StandardService.java:450)
	at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:551)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:275)
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)
",Major,Closed,Fixed,Maria Odea Ching,oching,bernd,bernd
MRM-1087,Improvement,2009-02-16T05:34:23.905Z,2009-02-16T05:34:23.905Z,2011-09-12T08:12:02.424Z,2011-09-12T08:12:02.424Z,,,Document how to set up a redundant mirror configuration of Archiva,"I have tried setting up on archiva and pointing to another, but this doesn't work.
Could someone document how to set a redundant pair of servers, or to point to where this is covered as I could not find it?",Critical,Open,,,,Peter Lawrey,peter_lawrey
MRM-1031,Task,2008-12-07T20:32:07.001Z,2008-12-07T20:32:07.001Z,2009-03-21T21:01:06.12Z,2009-03-21T21:01:06.12Z,2008-12-07T20:39:58.641Z,2008-12-07T20:39:58.641Z,Upgrade to jackrabbit-webdav 1.5.0,Upgrade to jackrabbit-webdav 1.5.0,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1039,Sub-task,2008-12-15T20:07:26.115Z,2008-12-15T20:07:26.115Z,2009-03-21T21:01:06.726Z,2009-03-21T21:01:06.726Z,2009-02-17T20:47:02.102Z,2009-02-17T20:47:02.102Z,remove metadata files from search results,,Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1071,New Feature,2009-01-21T04:30:10.175Z,2009-01-21T04:30:10.175Z,2011-10-03T01:07:02.945Z,2011-10-03T01:07:02.945Z,,,Clean up old versions feature,"I like to clean up old versions in our company maven2 repository.

I can do it on the filesystem, but that costs a lot of time to find the versions/groupIds.
I like to see a solutions in archiva. (I have seen that artifactory has also such a functionality.",Major,Open,,,,Bastiaan Verhoef,bastiaan01
MRM-1036,Task,2008-12-11T19:58:13.162Z,2008-12-11T19:58:13.162Z,2009-03-22T17:32:37.863Z,2009-03-22T17:32:37.863Z,2009-03-19T02:22:57.078Z,2009-03-19T02:22:57.078Z,Add documentation on how to use Archiva web services,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1050,Bug,2008-12-19T07:13:14.586Z,2008-12-19T07:13:14.586Z,2015-04-05T21:12:45.813Z,2015-04-05T21:12:45.813Z,2009-03-08T20:52:23.212Z,2009-03-08T20:52:23.212Z,Unable to remove user,In User Management i can't remove user. When i clik on red cross there is no action; only url is changed from http://localhost:8085/archiva/security/userlist.action to http://localhost:8085/archiva/security/userlist.action#userdeleteUrl,Major,Closed,Fixed,,,Piotr Stawinski,pstawik
MRM-1033,Bug,2008-12-07T21:49:24.403Z,2008-12-07T21:49:24.403Z,2010-01-11T22:13:34.846Z,2010-01-11T22:13:34.846Z,2009-11-20T02:44:01.82Z,2009-11-20T02:44:01.82Z,Changing the location of a scanned repository results to the contents of the new location not getting indexed,"For example, you have a repository 'test' which already has contents and is located at '../test/'. The repository has already been scanned and indexed. Now, you would like to point repository 'test' to a different repository. So you change it's location to '../another.repository/'. You wouldn't be able to index the artifacts in ../another.repository since the 'test' repository is already considered 'scanned' and the time stamp of the artifacts are older than the last scanning.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1069,Improvement,2009-01-20T13:41:28.608Z,2009-01-20T13:41:28.608Z,2010-02-23T00:44:34.771Z,2010-02-23T00:44:34.771Z,2010-02-23T00:44:23.469Z,2010-02-23T00:44:23.469Z,Archiva should clean bad UTF-8 data in poms,"Archiva should have a mechanism to clean the repository of bad poms that contain improper UTF8 data.

Possible places for this to occur:

1) During the repository scan for content.
   Have a process that reads the xml data as a stream (not as an xml document) and process out any improper UTF8 characters with appropriate XML latin entities. (example: changing ""ø"" to ""%oslash;"")

2) During pom download, check the pom and clean it inline on the way down to the user.",Major,Closed,Won't Fix,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-1012,Bug,2008-11-19T06:26:27.265Z,2008-11-19T06:26:27.265Z,2008-11-25T17:29:50.161Z,2008-11-25T17:29:50.161Z,2008-11-25T06:44:38.168Z,2008-11-25T06:44:38.168Z,Delays in searching proxies due to blacklist not being honoured,"All my proxy connectors have com/catlin/** as a blacklist item which should mean that our own internal artifacts are not searched for through our proxy. However, the logs show this is happening, and this is slowing down or builds considerably. Is this an Archiva bug or a config bug on my part?

2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://snapshots.repository.codehaus.org//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://snapshots.repository.codehaus.org//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1
2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://mirrors.ibiblio.org/pub/mirrors/maven2//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://mirrors.ibiblio.org/pub/mirrors/maven2//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1
2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://junitee.sourceforge.net/repository//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://junitee.sourceforge.net/repository//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1
2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://repo1.maven.org/maven2//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://repo1.maven.org/maven2//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1
2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://people.apache.org/repo/m2-snapshot-repository//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://people.apache.org/repo/m2-snapshot-repository//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1
2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://repository.jboss.com/maven2//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://repository.jboss.com/maven2//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1
2008-11-19 11:45:53,569 [btpool0-4] INFO  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer not attempted on http://gwt-maven.googlecode.com/svn/trunk/mavenrepo//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1 : NO to fetch, check-failures detected previous failure on url: http://gwt-maven.googlecode.com/svn/trunk/mavenrepo//com/catlin/scm/ProcessLaunch/1.0-SNAPSHOT/maven-metadata.xml.sha1",Critical,Closed,Not A Problem,,,Andrew Heald,drewpuppy
MRM-1038,Sub-task,2008-12-15T20:07:04.05Z,2008-12-15T20:07:04.05Z,2009-03-21T21:01:03.404Z,2009-03-21T21:01:03.404Z,2008-12-15T20:31:57.958Z,2008-12-15T20:31:57.958Z,merge versions in search results,,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-1005,Bug,2008-11-17T23:21:11.975Z,2008-11-17T23:21:11.975Z,2011-09-12T09:22:16.126Z,2011-09-12T09:22:16.126Z,2011-09-12T09:22:16.078Z,2011-09-12T09:22:16.078Z,Certain remote Maven2  artifacts require special leading slash in whitelist filter,"Problem
-------------------
Unable to initialize/setup m2 repository with archiva as the default mirror

Debug observation
-----------------------------
With log4j debug settings enabled (./apps/archiva/WEB-INF/classes/log4j.xml), hints about the problem surfaced. I did not look any further into the code to determine the exact cause of the problem. 

Here's the archiva log entry:
-------------------------------
2008-11-17 23:47:30,144 [btpool0-4] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Path [/org/apache/maven/plugins/maven-metadata.xml] is not part of defined whitelist (skipping transfer from repository [Central Repository]).

Remedy/Work-around
-------------------------------
Added   the following to the whitelist  filter set:
  /**/*  

Steps to reproduce (DO NOT FOLLOW unless you're willing to lose local & archiva m2 data!)
-------------------------------------------------------------------------------------------------------------
1) move/hide client  .m2/repository to temporary location
2) move/hide server [archiva]/data/repositories/internal/*  files and subdirectories to temporary locaton
3) Rescan ""Archiva Managed Internal Repository"" - should show zero entries
4) ""Update Database Now""
5) Make sure the ""Central Repository"" proxy connector whitelist only contains the default fiter:  **/*
6) To initialize local m2, run from client:   mvn -X -e -U -up archetype:create -DgroupId=com.mycompany.app -DartifactId=my-appp

The client throws the following:
   org.apache.maven.lifecycle.LifecycleExecutionException: The plugin 'org.apache.maven.plugins:maven-archetype-plugin' does not exist or  no valid version could be found

Remedy/Work-around
-------------------------------
Added  the following entry to the whitelist filter set:
  /**/*  

Remember to click  ""Save Proxy Connector""   after defining the extra pattern/filter

The connector whitelist now has the following entries

  **/*
  /**/*
 
Rerun step #6 above and the local m2 repo should build properly.
",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,b v j,bvj
MRM-1041,Sub-task,2008-12-15T20:08:40.609Z,2008-12-15T20:08:40.609Z,2009-03-21T21:01:05.294Z,2009-03-21T21:01:05.294Z,2009-02-17T20:24:46.159Z,2009-02-17T20:24:46.159Z,artifact version list should show basic shared project information rather than having to drill into one version ,,Major,Closed,Fixed,Maria Odea Ching,oching,James William Dumay,jameswdumay
MRM-1082,Task,2009-02-10T23:44:56.315Z,2009-02-10T23:44:56.315Z,2009-03-21T21:01:06.261Z,2009-03-21T21:01:06.261Z,2009-02-10T23:46:26.438Z,2009-02-10T23:46:26.438Z,Upgrade from plexus-maven-plugin to the plexus-component-metadata plugin,"Upgrade from plexus-maven-plugin to the plexus-component-metadata plugin

Its a lot more friendly to things like Enums and annotations in Java5",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-877,Bug,2008-07-16T13:40:52.864Z,2008-07-16T13:40:52.864Z,2008-07-16T15:35:50.229Z,2008-07-16T15:35:50.229Z,2008-07-16T15:25:34.575Z,2008-07-16T15:25:34.575Z,Impossible to login with a created account.,"Impossible to login with a created account event if admin account works perfectly well !

-----------------------------------------------------------------------
Step to reproduce:

1- Login with admin account
2- create the following account

user: test
password: a1

(see the complete configuration in attachment)

3- Logout 
4- try login with test/a1
 5- YOU CAN'T LOGIN !!!

-----------------------------------------------------------------------
Diagnostic: It seems like the users are created in the database but are not read properly at login time.

",Major,Closed,Duplicate,Wendy Smoak,wsmoak,Martin Letendre,cb791585
MRM-860,Bug,2008-07-04T05:15:44.562Z,2008-07-04T05:15:44.562Z,2009-03-08T16:49:48.658Z,2009-03-08T16:49:48.658Z,2009-03-08T16:49:48.665Z,2009-03-08T16:49:48.665Z,maven metadata partly updated,"When i deploy a release or snapshot, to archiva, the metadata gets corrupted.

The scenario is:

I have a maven project with lets say 2 nested module
1. root project
    1.1 nested 1
    1.2 nested 2

1. When uploading the project
    1.1 the metadata gets 'reset' by maven (with no release, latest etc.)
2. the scaning process is set to every 1 minute
    2.2 the scanner corrects/updates the maven metadata
          2.2.1 the 'root project' is correct
          2.2.2 the 'nested 1' is INCORRECT (with no release, latest etc.) the scanner has't touched it
          2.2.3 the 'nested 2' is correct

I don't know if it is a coincidens that it is the first nested module hows metadata don't get updated. but that is what i have noticed in several projects.",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Anders Dvinge,dvinge
MRM-847,Bug,2008-06-24T03:17:05.539Z,2008-06-24T03:17:05.539Z,2008-06-24T06:57:10.021Z,2008-06-24T06:57:10.021Z,2008-06-24T06:57:10.026Z,2008-06-24T06:57:10.026Z,DependencyTreeGeneratorConsumerTest fails under windows due to line ending,"To fix it, assertEquals should be done on the xml object and not on the xml string.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Emmanuel Venisse,evenisse
MRM-851,Bug,2008-06-26T09:59:23.403Z,2008-06-26T09:59:23.403Z,2008-07-01T22:26:37.09Z,2008-07-01T22:26:37.09Z,2008-07-01T22:26:37.094Z,2008-07-01T22:26:37.094Z,wrong taglib short-name causes deployment error on Geronimo,"taglib short-name should not contain spaces according to the DTD comments

<!--
Defines a short (default) short-name to be used for tags and
variable names used/created by this tag library.  Do not use
white space, and do not start with digits or underscore.

#PCDATA ::= NMTOKEN
-->

<!ELEMENT short-name      (#PCDATA) >


This causes deployment error on Geronimo
/usr/local/jboss/geronimo-tomcat6-javaee5-2.1/repository/default/archiva/1214491550010/archiva-1214491550010.war/WEB-INF/classes/META-INF/taglib.tld:8:4: error: cvc-datatype-valid.1.1: string value 'Archiva Taglib' does not match pattern for tld-canonical-nameType in namespace http://java.sun.com/xml/ns/javaee
",Major,Closed,Fixed,Maria Odea Ching,oching,Michal Borowiecki,mihbor@wp.pl
MRM-817,Improvement,2008-05-23T03:05:37.527Z,2008-05-23T03:05:37.527Z,2015-04-05T14:53:48.805Z,2015-04-05T14:53:48.805Z,2008-08-05T21:29:15.133Z,2008-08-05T21:29:15.133Z,Artifact information screen should indicate the name of repository in which the artifact resides,Click Browse and click any artifact. It would be nice if the repository location of the artifact is also displayed.,Minor,Closed,Fixed,Maria Odea Ching,oching,agramirez,agramirez
MRM-855,Bug,2008-07-01T23:08:29.482Z,2008-07-01T23:08:29.482Z,2008-07-08T22:28:42.287Z,2008-07-08T22:28:42.287Z,2008-07-01T23:12:04.164Z,2008-07-01T23:12:04.164Z,java.lang.NoClassDefFoundError: org/apache/xml/serialize/OutputFormat,"Xerces was excluded and banned from the Archiva dependency tree.

We need to remove the excludes and change the enforcer plugin rules.

Exception that caused this was:
{code}
java.lang.NoClassDefFoundError: org/apache/xml/serialize/OutputFormat
	at org.apache.jackrabbit.webdav.WebdavResponseImpl.sendXmlResponse(WebdavResponseImpl.java:155)
	at org.apache.jackrabbit.webdav.WebdavResponseImpl.sendMultiStatus(WebdavResponseImpl.java:106)
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doPropFind(AbstractWebdavServlet.java:435)
	at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(AbstractWebdavServlet.java:231)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:113)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:491)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1074)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1065)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1065)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1065)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:365)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:185)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:689)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:391)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:146)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:285)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:457)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:751)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:500)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:209)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:357)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:329)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)
{code}",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-890,Bug,2008-07-25T22:27:16.978Z,2008-07-25T22:27:16.978Z,2009-09-17T03:43:27.669Z,2009-09-17T03:43:27.669Z,2009-09-17T03:43:27.678Z,2009-09-17T03:43:27.678Z,make it possible to reindex / rescan without clearing database,"flushing the database not only takes a long time, but it resets a number of useful attributes (such as RSS times - though this could be helped by adding artifacts with their file system timestamp), and also makes search/browse for the repo fail or be incomplete during the period. It should be possible to force a rescan.",Major,Closed,Duplicate,,,Brett Porter,brettporter
MRM-810,Bug,2008-05-17T12:30:57.825Z,2008-05-17T12:30:57.825Z,2008-07-02T00:03:15.676Z,2008-07-02T00:03:15.676Z,2008-07-02T00:03:15.682Z,2008-07-02T00:03:15.682Z,Uploads done through the Web UI are not reported in the audit log,Uploads done through the Web UI are not reported in the audit log.  (In fact they are not logged at all.),Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-807,Bug,2008-05-15T04:06:36.944Z,2008-05-15T04:06:36.944Z,2008-09-03T02:22:29.75Z,2008-09-03T02:22:29.75Z,2008-09-03T02:22:29.765Z,2008-09-03T02:22:29.765Z,Deployed dll won't be indexed,"I deployed a dll with the following command:

mvn deploy:deploy-file -Dfile=D:\Common\m2-repository\jlicensure\sjarcl-dll\0.9.15\sjarcl-dll-0.9.15.dll 
  -DartifactId=sjarcl-dll 
  -Dversion=0.9.15 
  -Dpackaging=dll 
  -DgroupId=jlicensure 
  -DrepositoryId=archiva.internal 
  -Durl=dav:http://develop:8080/archiva/repository/internal/

The deployment was OK and the dll is in the repository. In archiva ""Repository Scanning"" section I added **/*.dll. When I browse the repository I see the pom but I can't download the dll. It is not visible.",Critical,Closed,Fixed,Maria Odea Ching,oching,Andreas Schneider,schnandr
MRM-802,Improvement,2008-05-13T02:05:12.591Z,2008-05-13T02:05:12.591Z,2008-05-22T05:37:18.009Z,2008-05-22T05:37:18.009Z,2008-05-22T05:37:18.014Z,2008-05-22T05:37:18.014Z,Display the url for the repository group,It would be helpful to have the url of the repository group in the Repository Groups page so that users can just copy and paste it to their settings.xml.,Minor,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-848,Improvement,2008-06-24T10:03:02.671Z,2008-06-24T10:03:02.671Z,2015-04-05T14:54:12.881Z,2015-04-05T14:54:12.881Z,2008-08-14T02:04:08.459Z,2008-08-14T02:04:08.459Z,Pre-configured repositories initially appear to be empty,"If you pre-configure a populated repository, Archiva does not display the content immediately when you start the application.

I think it should scan and index the repositories on startup, or possibly on the 'first' startup (when the database and index are empty.)",Minor,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-800,Bug,2008-05-11T23:12:19.275Z,2008-05-11T23:12:19.275Z,2008-07-02T00:32:28.085Z,2008-07-02T00:32:28.085Z,2008-07-02T00:32:28.09Z,2008-07-02T00:32:28.09Z,Admin user account user lockout via Webdav only?,"We've setup Archiva fairly basically here.  Out of the box unpack, no additional users, so pretty much the admin user does everything.

So, we setup the admin user with a simple password.  If someone however uses Maven to attempt to deploy using this account, but has the admin password wrong, it appears even after just one attempt, the admin user account is locked.  We cannot even login to the web page anymore let alone deploy.  We have been forced to trash the user/database directory and restart archiva and reissue a new password.

What is totally bizarre is that despite repeated attempts to enter incorrect password details into the login page of Archiva I can't get it to trip this same behaviour. It's as if only during the Maven deploy stage (which goes through the WebDAV connector presumably) does this behaviour exhibit itself.

Of course getting the password reset then causes further problems because the when you try to get everyone to update their local Maven settings.xml, if one person forgets and tries to deploy, then the admin account is locked again, and we go through the whole cycle once more.

Fits more in annoying side, just can't work out why this lockout happens only in deploy mode.  I can't see anything in the logs either about this account of interest.
",Major,Closed,Cannot Reproduce,james.w.dumay,james.w.dumay,Paul Smith,psmith
MRM-832,Task,2008-06-10T21:40:05.736Z,2008-06-10T21:40:05.736Z,2011-10-27T16:58:11.453Z,2011-10-27T16:58:11.453Z,,,Investigate future Security framework options ,"This is just a stub ticket as we have been rumbling about replacing/improving our choice of security framework in 1.2

Ideally it should be _very_ easy for administrators of Archiva to back auth onto a variety of systems - LDAP, Active Directory, Atlassian Crowd, OpenSSO, etc 

Possible frameworks:
* Redback (Current, could do with some love) - http://redback.codehaus.org
* Spring-Security  (was ACEGI) - http://static.springframework.org/spring-security/site/
* JSecurity (new Apache Incubator project) - http://www.jsecurity.org/",Major,Open,,,,James William Dumay,jameswdumay
MRM-888,Bug,2008-07-25T22:21:34.233Z,2008-07-25T22:21:34.233Z,2008-07-28T23:18:55.482Z,2008-07-28T23:18:55.482Z,2008-07-28T23:18:55.487Z,2008-07-28T23:18:55.487Z,add notes on reindexing to the upgrade docs,"this is needed to take advantage of new index features, such as the java class indexing",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-821,Improvement,2008-05-30T12:08:12.527Z,2008-05-30T12:08:12.527Z,2010-11-18T19:07:09.371Z,2010-11-18T19:07:09.371Z,2008-06-04T02:47:44.643Z,2008-06-04T02:47:44.643Z,Encrypt network proxy password on archiva.xml,"It is common to most of companies to provide Internet Services through network proxies. But it is unlikely to have anonymous access on such nodes. 
Archiva stores passwords in a plain text format, generating a security risk or security flaw.

It is really critical to have a encrypted password on Archiva's configuration file.

",Major,Closed,Won't Fix,james.w.dumay,james.w.dumay,Felipe Requeno,megathor
MRM-835,Bug,2008-06-12T02:55:01.841Z,2008-06-12T02:55:01.841Z,2008-07-02T00:21:52.92Z,2008-07-02T00:21:52.92Z,2008-07-02T00:21:52.924Z,2008-07-02T00:21:52.924Z,Checksum search appears broken,I tried to use the checksum search feature on trunk r666965 and it broke. See attached exception.,Major,Closed,Cannot Reproduce,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-874,Improvement,2008-07-15T17:15:05.579Z,2008-07-15T17:15:05.579Z,2008-09-07T20:53:24.564Z,2008-09-07T20:53:24.564Z,2008-09-07T20:53:24.569Z,2008-09-07T20:53:24.569Z,POM snippet for plugins should be <plugin> not <dependency>,"On the browse page for a plugin, the pom snippet should be a <plugin> element, not a <dependency> with type maven-plugin.

The text ""POM Dependency Snippet"" should probably be changed to just ""POM Snippet"" so that it works for both.
",Minor,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-893,Bug,2008-07-28T00:01:44.4Z,2008-07-28T00:01:44.4Z,2015-04-05T14:53:55.46Z,2015-04-05T14:53:55.46Z,2008-08-12T02:56:49.536Z,2008-08-12T02:56:49.536Z,Illegal browse operation allow ,"http://archiva.openqa.org/repository/releases/org/openqa/selenium/client-drivers/selenium-client-drivers/0.9.2/selenium-client-drivers-0.9.2-tests.jar/   <-- note the last forward slash

return the jar  which is illegal

http://repo1.maven.org/maven2/HTTPClient/HTTPClient/0.3-3/HTTPClient-0.3-3.jar/

return http 404  which is correct.

This bug crashes maven-staging-plugin with wagon-beta-3  since it tries to pass the content of the jar to 
the html parser and crashes with ArrayOutOfIndex exception.



see http://jira.codehaus.org/browse/MRM-891 for details.  

Sorry I am not able provide patch at this moment.",Minor,Closed,Fixed,Maria Odea Ching,oching,Dan Tran,dantran
MRM-822,Improvement,2008-05-31T10:16:16.177Z,2008-05-31T10:16:16.177Z,2008-05-31T10:26:25.786Z,2008-05-31T10:26:25.786Z,2008-05-31T10:26:25.794Z,2008-05-31T10:26:25.794Z,"add org/jvnet/**, com/sun/** to the whitelist for the default java.net repository",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-866,Bug,2008-07-07T10:38:43.584Z,2008-07-07T10:38:43.584Z,2008-07-07T11:04:20.374Z,2008-07-07T11:04:20.374Z,2008-07-07T11:04:20.382Z,2008-07-07T11:04:20.382Z,Archiva doesn't read metadata file for SNAPSHOTS with webdav,"When the snapshot repository doesn't contain -SNAPSHOT files but timestamped files with a metadata file that describe the timestamp and build number to use, Archiva doesn't locate files artifactId-1.0-timestamp-buildnumber.pom",Blocker,Closed,Cannot Reproduce,Emmanuel Venisse,evenisse,Emmanuel Venisse,evenisse
MRM-845,Bug,2008-06-19T18:53:28.514Z,2008-06-19T18:53:28.514Z,2008-06-19T20:48:33.112Z,2008-06-19T20:48:33.112Z,2008-06-19T20:48:33.116Z,2008-06-19T20:48:33.116Z,Continuous Loop when you click a repository group link ,"Steps to reproduce:

1. Created a repository group called ""repoGroup""
2. Click link http://localhost:9091/repository/repoGroup/

Using Firefox:
The page isn't redirecting properly
Firefox has detected that the server is redirecting the request for this address in a way that will never complete.

Using IE:
Blank page",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Catherine Tan,ctan
MRM-898,Bug,2008-07-31T07:39:58.63Z,2008-07-31T07:39:58.63Z,2008-08-11T10:48:38.356Z,2008-08-11T10:48:38.356Z,2008-08-01T08:37:30.694Z,2008-08-01T08:37:30.694Z,"Archiva requires DNS lookup on URLs for remote repositories, even with http proxy","Archiva seems to require to be able to perform DNS lookups on remote repositories even if a http proxy is defined - which is unfortunate in restricted network setups.  MavenProxy handles this well, leaving Archiva 1.1 out as an alternative to migrate from in such environments.

At work we use MavenProxy, and that works quite ok - but we have had a wish to migrate to Archiva for better administration GUI etc.  Tested the 1.1-release yesterday and setup was easy, but connects to remote repositories failed for some reason when Archiva tried to retrieve artifacts.  Our server uses an http (network) proxy, which was specified in Archiva. Tried all sorts of things, and in the end I installed Ethereal and sniffed the network card to find out what was going on.  Ethereal indicated that no http traffic was performed by Archiva towards any server.  If I understand the Ethereal output correctly, Archiva performs a DNS lookup on remote addresses (e.g. on download.java.net or repo1.maven.org) prior to any http traffic.  As the DNS lookup is rejected by the (internal) DNS used by the server (it has access to a limited DNS for security reasons etc), the rejection fails the communication with the remote repository.

Is it necessary for Archiva to perform DNS lookup on addresses which will be proxied by an http network proxy?  Perhaps I am a bit confused there, but if a network proxy is specified - could it not also leave the DNS lookup to the network proxy for the external addresses?  It seems quite unnecessary for Archiva to perform it in that scenario, and this may make Archiva unsuitable to some network setups/environments (like ours).  MavenProxy does not perform any DNS lookup on the remote repository when a proxy is defined (checked with ethereal) - it just fires away the http request to the network proxy defined and leaves it up to that to perform further lookups.

I may be wrong here, so this issue should probably be verified by someone - but it should be quite easy to test.  (Install Archiva, specify http proxy, install and start a network sniffer/ethereal, run a request for an artifact in a remote repository and verify that archiva performs a DNS lookup prior to any http requests to the proxy).

Solving this would make it easier for environments with restricted network setups and http proxies like us to migrate from mavenproxy to archiva.  Perhaps this is already fixed in the fixes for 1.1.1 by Brett?  As a temporary workaround for affected environment it would perhaps be possible to add hosts-file entries with ips of all the remote repositories etc. on Windows to make Archiva work, but...",Major,Closed,Duplicate,Brett Porter,brettporter,Einar Laurits Rossebo,rossebo
MRM-870,Bug,2008-07-08T16:43:56.661Z,2008-07-08T16:43:56.661Z,2008-07-12T03:29:58.632Z,2008-07-12T03:29:58.632Z,2008-07-08T23:27:38.928Z,2008-07-08T23:27:38.928Z,addRepositoryToGroup.action => AbstractMethodError on DeferredDocumentImpl.getXmlStandalone() ,"HTTP ERROR: 500

INTERNAL_SERVER_ERROR

RequestURI=/archiva/admin/addRepositoryToGroup.action
Caused by:

java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:51)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:159)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
Caused by: java.lang.AbstractMethodError: org.apache.xerces.dom.DeferredDocumentImpl.getXmlStandalone()Z
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.setDocumentInfo(DOM2TO.java:373)
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:127)
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:94)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:662)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:708)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)
	at org.apache.commons.configuration.XMLConfiguration.save(XMLConfiguration.java:637)
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.save(AbstractHierarchicalFileConfiguration.java:380)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:514)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:481)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:448)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:422)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:370)
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.save(AbstractHierarchicalFileConfiguration.java:166)
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.save(CommonsConfigurationRegistry.java:166)
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.save(DefaultArchivaConfiguration.java:490)
	at org.apache.maven.archiva.web.action.admin.repositories.AbstractRepositoriesAdminAction.saveConfiguration(AbstractRepositoriesAdminAction.java:89)
	at org.apache.maven.archiva.web.action.admin.repositories.RepositoryGroupsAction.addRepositoryToGroup(RepositoryGroupsAction.java:162)
	... 82 more

Caused by:

java.lang.AbstractMethodError: org.apache.xerces.dom.DeferredDocumentImpl.getXmlStandalone()Z
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.setDocumentInfo(DOM2TO.java:373)
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:127)
	at com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:94)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:662)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:708)
	at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)
	at org.apache.commons.configuration.XMLConfiguration.save(XMLConfiguration.java:637)
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.save(AbstractHierarchicalFileConfiguration.java:380)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:514)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:481)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:448)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:422)
	at org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:370)
	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.save(AbstractHierarchicalFileConfiguration.java:166)
	at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.save(CommonsConfigurationRegistry.java:166)
	at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.save(DefaultArchivaConfiguration.java:490)
	at org.apache.maven.archiva.web.action.admin.repositories.AbstractRepositoriesAdminAction.saveConfiguration(AbstractRepositoriesAdminAction.java:89)
	at org.apache.maven.archiva.web.action.admin.repositories.RepositoryGroupsAction.addRepositoryToGroup(RepositoryGroupsAction.java:162)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:51)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:159)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)

Powered by Jetty://
",Major,Closed,Fixed,james.w.dumay,james.w.dumay,leahpar,leahpar
MRM-819,Bug,2008-05-27T01:06:45.128Z,2008-05-27T01:06:45.128Z,2008-05-27T06:39:26.588Z,2008-05-27T06:39:26.588Z,2008-05-27T06:39:26.595Z,2008-05-27T06:39:26.595Z,"ERROR 404 page when clicking the URL of Repository Group with identifier i.e. ""test/test""","1. Click on Repository Group
2. Enter value ""test/test"" on identifier field then click ""Add Group""
3. Click on the URL of the newly created Repo Group(IME, http://localhost:9091/repository/test/test)

Actual result will display HTTP ERROR 404 page.",Major,Closed,Fixed,Maria Odea Ching,oching,mbaclay,mbaclay
MRM-882,Bug,2008-07-21T21:24:56.926Z,2008-07-21T21:24:56.926Z,2008-11-07T07:58:31.444Z,2008-11-07T07:58:31.444Z,2008-08-19T01:36:26.308Z,2008-08-19T01:36:26.308Z,checksum validation reports invalid checksum when checksum is correct,"checksum validation reports invalid checksum when checksum is correct

{quote}
2008-07-21 20:20:33,964 [TP-Processor340] INFO
org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  -
Transfer invalidated from
https://maven.atlassian.com/private-snapshot/com/atlassian/confluence/confluence-project/2.9-SNAPSHOT/confluence-project-2.9-20080722.004353-472.pom : Checksums do not match, policy set to FAIL, deleting checksum files and local file /opt/archiva/repodata/internal/com/atlassian/confluence/confluence-project/2.9-SNAPSHOT/confluence-project-2.9-20080722.004353-472.pom.
{quote}

When downloaded directly from the remote repository the checksum is:
{code}
320c0085b46f604b36bd818cc0bbdc47
{code}

The .md5 from the remote repository contains
{code}
320c0085b46f604b36bd818cc0bbdc47
{code}


When the checksum policy is ignore on Archiva the checksum for the file is:
{code}
320c0085b46f604b36bd818cc0bbdc47
{code}
",Blocker,Closed,Cannot Reproduce,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-820,Bug,2008-05-30T04:51:02.434Z,2008-05-30T04:51:02.434Z,2008-07-02T02:01:40.951Z,2008-07-02T02:01:40.951Z,2008-07-02T02:01:40.955Z,2008-07-02T02:01:40.955Z,404 when the dav url of an Archiva default repository (internal or snapshots) is accessed,"To reproduce:
1. Install Archiva as a war. In this case, I used Tomcat.
2. Start the server
3. Go to the Repositories page and click the Webdav URL of any of the default repositories. 
4. This results to 'HTTP Status 404 - Not a valid request path layout, too short.'

This is caused by the 'location' (/data/repositories/snapshots and /data/repositories/internal) set in the default repositories. When I changed the location to '../data/repositories/internal', it became [TOMCAT_INSTALLATION]/data/repositories/internal when the config was saved and the repository can now be browsed via the webdav url. Maybe we should change the default to '../data/repositories/internal'. But we should also take note that MRM-789 won't happen. ",Major,Closed,Not A Problem,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-838,Bug,2008-06-13T21:03:34.691Z,2008-06-13T21:03:34.691Z,2008-06-13T21:04:17.501Z,2008-06-13T21:04:17.501Z,,,Thread count for schedule is not configurable,"Their are 15 Quartz worker threads in the default configuration,  In environment swhere the number of threads per process is limited, for example HP-UX 11.x's default limit is 64, this may prevent the including of Continuum in an existing Servlet engine, i.e. Tomcat.  It appears the number of thread was configurable in components.xml, but that changed around 16-may-2006[1].

This issue is a result of the thread titled 'Getting ""java.lang.OutOfMemoryError: unable to create new native thread""Link to this message"" on the continuum user mailing list.

[1]http://svn.apache.org/viewvc/continuum/trunk/continuum-core/src/main/resources/META-INF/plexus/components.xml?r1=344177&r2=406895&diff_format=h
",Major,Open,,,,Paul Spencer,paulsp
MRM-857,Improvement,2008-07-02T08:03:29.726Z,2008-07-02T08:03:29.726Z,2008-07-02T08:03:53.3Z,2008-07-02T08:03:53.3Z,2008-07-02T08:03:53.308Z,2008-07-02T08:03:53.308Z,set a user agent for proxy HTTP requests,"it would be good to be able to set this to, say: Apache Archiva/1.1",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-881,Bug,2008-07-21T03:45:11.112Z,2008-07-21T03:45:11.112Z,2009-02-12T03:14:07.249Z,2009-02-12T03:14:07.249Z,2008-08-12T03:42:19.458Z,2008-08-12T03:42:19.458Z,Failing to startup due to invalid bean definition,"After doing a war install, running Tomcat yields the following exception:

org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'archivaConfiguration' defined in null: Could not resolve placeholder 'appserver.base'
	at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:252)
	at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:75)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:542)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:516)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:348)
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:261)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3727)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4162)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:759)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:739)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:524)
	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:603)
	at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:535)
	at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:470)
	at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1118)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:310)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1020)
	at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)
	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:442)
	at org.apache.catalina.core.StandardService.start(StandardService.java:450)
	at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:551)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:275)
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)
",Major,Closed,Not A Problem,Maria Odea Ching,oching,Michael Mallete,mykol
MRM-804,Improvement,2008-05-14T01:27:28.364Z,2008-05-14T01:27:28.364Z,2008-06-10T08:09:19.356Z,2008-06-10T08:09:19.356Z,2008-06-10T08:08:46.566Z,2008-06-10T08:08:46.566Z,"When uploading artifacts to the repo, they should be added to the index instantly",,Minor,Closed,Fixed,Wendy Smoak,wsmoak,Luke Daley,ldaley
MRM-885,Bug,2008-07-23T06:00:39.648Z,2008-07-23T06:00:39.648Z,2008-11-07T07:58:33.762Z,2008-11-07T07:58:33.762Z,2008-08-13T22:25:58.648Z,2008-08-13T22:25:58.648Z,incorrect metadata generated from merge,"I got this for log4j:

<?xml version=""1.0"" encoding=""UTF-8""?>

<metadata>
  <groupId></groupId>
  <artifactId>log4j</artifactId>
  <version>log4j</version>
</metadata>

",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Brett Porter,brettporter
MRM-823,Bug,2008-06-01T21:30:43.152Z,2008-06-01T21:30:43.152Z,2008-06-02T01:52:22.001Z,2008-06-02T01:52:22.001Z,2008-06-02T01:52:22.006Z,2008-06-02T01:52:22.006Z,Deleted repository still shows up in the repo group,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-844,Bug,2008-06-19T04:53:12.855Z,2008-06-19T04:53:12.855Z,2008-11-07T07:58:33.552Z,2008-11-07T07:58:33.552Z,2008-10-10T23:00:48.287Z,2008-10-10T23:00:48.287Z,"""Unable to create ArchivaArtifact with empty version"" in dependency tree.","I got the following when asking a dependency tree for org.springframework:spring:1.2.8 (mirrored from
http://repo1.maven.org/maven2/org/springframework/spring/1.2.8/spring-1.2.8.pom), or anything that depends on it.

It's clear that the spring-1.2.8 POM is invalid, since it refers to dependencies without versions, but Archiva should fail more gracefully and show at least the rest of the graph. It could perhaps show invalid leafs with an error icon on it.

org.apache.maven.archiva.common.ArchivaException: Unable to generate graph for [org.springframework:spring:1.2.8] : Unable to create ArchivaArtifact with empty version [log4j:log4j:null::pom]
at org.apache.maven.archiva.web.tags.DependencyTree.fetchGraph(DependencyTree.java:253)
at org.apache.maven.archiva.web.tags.DependencyTree.gatherTreeList(DependencyTree.java:144)
at org.apache.maven.archiva.web.tags.DependencyTreeTag.doStartTag(DependencyTreeTag.java:134)
at org.apache.jsp.WEB_002dINF.jsp.artifact.dependencyTree_jsp._jspx_meth_archiva_dependency$1tree_0(dependencyTree_jsp.java:93)
at org.apache.jsp.WEB_002dINF.jsp.artifact.dependencyTree_jsp._jspService(dependencyTree_jsp.java:64)
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)
... 35 more
Caused by: org.apache.maven.archiva.dependency.graph.GraphTaskException: Unable to create ArchivaArtifact with empty version [log4j:log4j:null::pom]
at org.apache.maven.archiva.dependency.DependencyGraphFactory.getGraph(DependencyGraphFactory.java:151)
at org.apache.maven.archiva.web.tags.DependencyTree.fetchGraph(DependencyTree.java:245)
... 87 more
Caused by: java.lang.IllegalArgumentException: Unable to create ArchivaArtifact with empty version [log4j:log4j:null::pom]
at org.apache.maven.archiva.model.ArchivaArtifact.(ArchivaArtifact.java:56)
at org.apache.maven.archiva.repository.project.resolvers.ManagedRepositoryProjectResolver.resolveProjectModel(ManagedRepositoryProjectResolver.java:54)
at org.apache.maven.archiva.repository.project.resolvers.ProjectModelResolverStack.findProject(ProjectModelResolverStack.java:96)
at org.apache.maven.archiva.repository.project.dependencies.ProjectModelBasedGraphBuilder.resolveModel(ProjectModelBasedGraphBuilder.java:84)
at org.apache.maven.archiva.repository.project.dependencies.ProjectModelBasedGraphBuilder.resolveNode(ProjectModelBasedGraphBuilder.java:71)
at org.apache.maven.archiva.dependency.graph.tasks.ResolveGraphTask.executeTask(ResolveGraphTask.java:84)
at org.apache.maven.archiva.dependency.graph.tasks.PopulateGraphMasterTask.executeTask(PopulateGraphMasterTask.java:60)
at org.apache.maven.archiva.dependency.DependencyGraphFactory.getGraph(DependencyGraphFactory.java:137)
... 88 more
",Major,Closed,Fixed,,,Geert Pante,greyfairer
MRM-862,Improvement,2008-07-06T21:18:00.198Z,2008-07-06T21:18:00.198Z,2012-10-17T22:17:05.126Z,2012-10-17T22:17:05.126Z,2012-10-17T22:17:04.28Z,2012-10-17T22:17:04.28Z,Paginate Dependencies Page,in new UI only,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-852,Improvement,2008-06-30T00:37:36.028Z,2008-06-30T00:37:36.028Z,2008-09-13T21:43:45.481Z,2008-09-13T21:43:45.481Z,2008-09-13T21:43:45.488Z,2008-09-13T21:43:45.488Z,internationlisation of Archiva,we should make Archiva mostly internationlisable,Major,Closed,Duplicate,,,Brett Porter,brettporter
MRM-850,Bug,2008-06-25T11:43:03.594Z,2008-06-25T11:43:03.594Z,2010-05-10T16:06:11.006Z,2010-05-10T16:06:11.006Z,2008-10-28T15:34:34.147Z,2008-10-28T15:34:34.147Z,"Unable to download from certain repositories, 403 Forbidden","I cant download from the central repository, repo1.maven.org.  I cant find any documentation on what settings I can change that relate to this.  this is what Archiva gives:


jvm 1    | Jun 25, 2008 9:25:53 AM org.mortbay.jetty.servlet.ServletHandler handle
jvm 1    | WARNING: /archiva/repository/internal/org/apache/felix/felix/1.0.0/felix-1.0.0.pom: 
jvm 1    | org.apache.maven.archiva.policies.ProxyDownloadException: Failures occurred downloading from some remote repositories:
jvm 1    |  central: Download failure on resource [http://repo1.maven.org/maven2/org/apache/felix/felix/1.0.0/felix-1.0.0.pom]:Error transferring file
jvm 1    |  at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:197)
jvm 1    |  at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxies(ProxiedDavServer.java:355)
jvm 1    |  at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:188)
jvm 1    |  at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
jvm 1    |  at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
jvm 1    |  at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
jvm 1    |  at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
jvm 1    |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
jvm 1    |  at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
jvm 1    |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1    |  at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
jvm 1    |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1    |  at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
jvm 1    |  at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1    |  at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
jvm 1    |  at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
jvm 1    |  at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
jvm 1    |  at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
jvm 1    |  at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
jvm 1    |  at org.mortbay.http.HttpServer.service(HttpServer.java:909)
jvm 1    |  at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
jvm 1    |  at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
jvm 1    |  at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
jvm 1    |  at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
jvm 1    |  at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
jvm 1    |  at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)



If I add -U NoSuchBrowser/1.0 to wget, I can download from the site.   

BUT,  if I use the regular wget command: wget --debug http://repo1.maven.org/maven2/org/apache/felix/felix/1.0.0/felix-1.0.0.pom

this is what I get:


DEBUG output created by Wget 1.10 on linux-gnu.

--09:38:16--  http://repo1.maven.org/maven2/org/apache/felix/felix/1.0.0/felix-1.0.0.pom
           => `felix-1.0.0.pom.1'
Resolving proxy.ext.ray.com... 199.46.245.226
Caching proxy.ext.ray.com => 199.46.245.226
Connecting to proxy.ext.ray.com|199.46.245.226|:80... connected.
Created socket 3.
Releasing 0x08090888 (new refcount 1).

---request begin---
GET http://repo1.maven.org/maven2/org/apache/felix/felix/1.0.0/felix-1.0.0.pom HTTP/1.0
User-Agent: Wget/1.10
Accept: */*
Host: repo1.maven.org

---request end---
Proxy request sent, awaiting response... 
---response begin---
HTTP/1.1 403 Forbidden
Content-Type: text/html; charset=iso-8859-1
Date: Wed, 25 Jun 2008 16:38:42 GMT
Proxy-Connection: close
Server: Apache/2.0.52 (Red Hat)
X-Cache: MISS from tus-proxy1

---response end---
403 Forbidden
Closed fd 3
09:38:41 ERROR 403: Forbidden.


",Major,Closed,Fixed,,,Renee Rivas,rnrivas
MRM-811,Improvement,2008-05-17T21:03:01.372Z,2008-05-17T21:03:01.372Z,2011-03-29T09:59:28.419Z,2011-03-29T09:59:28.419Z,2010-02-23T05:28:22.617Z,2010-02-23T05:28:22.617Z,Improve error message when pom does not match the artifact's location in the repo,"When the information in the pom does not match the artifact's location in the repository, Archiva gives the generic

Error Occurred

    * Unable to find project model for [com.example:other:3.3.3].

The log file describes the actual problem.  This info should be displayed to the user.

2008-05-17 18:54:33,338 [btpool0-3] WARN  org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer  - File other-3.3.3.pom has an invalid project model [groupId:commons-chain|artifactId:commons-chain|version:1.1|packaging:jar]: The model artifactId [commons-chain] does not match the artifactId portion of the filename: other
2008-05-17 18:54:33,382 [btpool0-3] WARN  org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer  - Invalid or corrupt pom. Project model not added to database - commons-chain:commons-chain:1.1

",Minor,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-829,Improvement,2008-06-04T02:59:10.977Z,2008-06-04T02:59:10.977Z,2008-07-05T04:27:08.435Z,2008-07-05T04:27:08.435Z,2008-07-05T03:41:48.068Z,2008-07-05T03:41:48.068Z,Replace Company POM feature with simple Appearence customisation,"See http://www.nabble.com/MRM-604---Company-POM-for-Appearance-td17395296.html

This feature will be replaced with a simple form that allows you to set your organisation image, url and name.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-803,New Feature,2008-05-14T01:02:03.33Z,2008-05-14T01:02:03.33Z,2016-03-15T06:14:21.347Z,2016-03-15T06:14:21.347Z,2016-03-15T06:14:21.324Z,2016-03-15T06:14:21.324Z,Rss feeds for the virtual repositories/repo groups,,Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-897,Bug,2008-07-30T00:59:36.427Z,2008-07-30T00:59:36.427Z,2014-09-26T02:05:45.374Z,2014-09-26T02:05:45.374Z,2014-08-07T23:38:50.229Z,2014-08-07T23:38:50.229Z,confusing handling of browser-based webdav access for security,"steps to reproduce:
- access a repository that has read restriction, log in via the HTTP challenge response and successfully access it
- restart server
- access an artifact URL (do not browse the repository) from the same browser session.

The logs show:

{code}
2008-07-30 15:51:41,083 [btpool0-9] INFO  org.apache.maven.archiva.security.ArchivaServletAuthenticator  - Authorization Denied [ip=0:0:0:0:0:0:0:1%0,
isWriteRequest=false,permission=archiva-read-repository,repo=testing] : no matching permissions
{code}

This is a result of the first request coming through such that a null result is passed to isAuthenticated. The code for that is:

{code}
if ( result != null && !result.isAuthenticated() )
{
    throw new AuthenticationException( ""User Credentials Invalid"" );
}

return true;
{code}

As you can see, a null result is treated as being ""authenticated"", though there is really no information as to whether that is the case.

The request later works, so I don't know if this is a bug or not, or just poor logging.",Minor,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-869,Bug,2008-07-08T07:07:01.345Z,2008-07-08T07:07:01.345Z,2008-07-12T03:29:59.6Z,2008-07-12T03:29:59.6Z,2008-07-09T09:00:46.505Z,2008-07-09T09:00:46.505Z,many empty folders created in managed repos with proxy connectors when used in a group,"my repository conf is  :

{noformat} 
(group) ""maven"" =
    |__  (managed) ""releases""
    |        |_ proxy connector to central, jboss ...
    |__  (managed) ""internal""
             |_ proxy to some private repositories...
{noformat} 

When I ask for artifacts on the group, many useless empty folders are created in both ""releases"" and ""internal"" repository. Every artifact request to a repository of the group creates the requested artifact directory structure, beeing foudn or not.",Minor,Closed,Fixed,nicolas de loof,ndeloof,nicolas de loof,ndeloof
MRM-876,Bug,2008-07-16T07:27:33.554Z,2008-07-16T07:27:33.554Z,2008-11-07T07:58:29.168Z,2008-11-07T07:58:29.168Z,2008-07-18T00:55:50.717Z,2008-07-18T00:55:50.717Z,Archiva does not proxy .asc files,"I think that it assumes all supplemental files must be retrieved with the original artifact and not passed through.

This happens to work for checksums in Maven, however the downside is that if the logic is changed to request the supplemental file first (which is the case for signatures and may later be for checksums), then it won't work.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-808,Bug,2008-05-16T10:35:46.08Z,2008-05-16T10:35:46.08Z,2008-09-14T20:49:02.846Z,2008-09-14T20:49:02.846Z,2008-09-13T21:37:56.575Z,2008-09-13T21:37:56.575Z,POM snippet doesn't reflect correct protocol,"We have our Archiva instance running over SSL, and when I view the POM snippet for our repositories, the protocol is http.  It should be https.",Minor,Closed,Cannot Reproduce,,,Michael Johns,arabull
MRM-859,Improvement,2008-07-03T09:08:38.331Z,2008-07-03T09:08:38.331Z,2008-07-03T09:18:25.553Z,2008-07-03T09:18:25.553Z,2008-07-03T09:18:25.557Z,2008-07-03T09:18:25.557Z,Use File.createTempFile() when downloading files from a remote repository,"Use File.createTempFile() when downloading artifacts from a remote repository during a proxy request.

Currently when a file is downloaded it is saved in a temporary location before being moved in place. If a second request for the same artifact is made it will try and write to the same location as the first request at the same time. This causes the repository server to return an error.

This is common in use cases where Archiva is proxying a large file from a slow connecton.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-896,Bug,2008-07-28T11:36:08.416Z,2008-07-28T11:36:08.416Z,2008-08-06T22:04:35.795Z,2008-08-06T22:04:35.795Z,2008-08-06T06:00:01.887Z,2008-08-06T06:00:01.887Z,classifier is appended to pom filename after artifact upload,"example:

groupId: common-daemons
artifactId:jsvc
classifier:linux-x86
packaging:uexe
version:1.0.1

after upload jsvc-1.0.1-linux-x86.pom is created instead of jsvc-1.0.1.pom

",Major,Closed,Fixed,Maria Odea Ching,oching,Dan Tran,dantran
MRM-854,Improvement,2008-06-30T22:43:25.597Z,2008-06-30T22:43:25.597Z,2012-09-06T07:38:07.639Z,2012-09-06T07:38:07.639Z,2012-04-03T11:02:47.66Z,2012-04-03T11:02:47.66Z,Changing ProxyConnector sorting is painful with many remote repsitories.,"Changing ProxyConnector sorting is painful with many remote repsitories.

It would be nice if we could simply drag these around to change their order.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,James William Dumay,jameswdumay
MRM-861,Sub-task,2008-07-06T21:16:54.552Z,2008-07-06T21:16:54.552Z,2008-07-12T03:29:59.487Z,2008-07-12T03:29:59.487Z,2008-07-11T02:53:01.388Z,2008-07-11T02:53:01.388Z,Paginate Search Results page,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-886,Bug,2008-07-23T15:05:47.492Z,2008-07-23T15:05:47.492Z,2008-07-23T19:31:37.784Z,2008-07-23T19:31:37.784Z,2008-07-23T19:31:37.795Z,2008-07-23T19:31:37.795Z,Network proxy does not work for version 1.1,"With the default setup of archiva (after following instructions about how to setup archiva in tomcat) I am unable to use a network proxy. The id is devproxy, the protocol is http, the host is devproxy (dns entry for the proxy server) and the port is 80. I've left the repositories the same as in the default setup, and in the proxy connectors I've changed central from (direct connection) to devproxy.

This  same setup worked in 1.0.2.",Critical,Closed,Duplicate,,,Christian Rigdon,oakie3cr
MRM-899,Bug,2008-07-31T08:57:21.241Z,2008-07-31T08:57:21.241Z,2016-03-24T04:11:22.175Z,2016-03-24T04:11:22.175Z,2016-03-24T04:11:22.108Z,2016-03-24T04:11:22.108Z,login fails,"Under certain circumstances it is impossible to login, even thou the login data is valid. 
Exception:
17866 [http-8081-10] WARN  com.opensymphony.xwork.util.OgnlUtil  - Caught OgnlException while setting property 'infoMessage' on type 'com.opensymphony.webwork.dispatcher.ServletActionRedirectResult'.
ognl.NoSuchPropertyException: com.opensymphony.webwork.dispatcher.ServletActionRedirectResult.infoMessage
	at ognl.ObjectPropertyAccessor.setProperty(ObjectPropertyAccessor.java:132)
	at com.opensymphony.xwork.util.OgnlValueStack$ObjectAccessor.setProperty(OgnlValueStack.java:67)
	at ognl.OgnlRuntime.setProperty(OgnlRuntime.java:1656)

I haven't figured out any rules. Sometimes reloading the webapp helps, but not always.
It's very annoying as you cannot login when you have to.",Major,Closed,Auto Closed,,,Marc Lustig,axismundi
MRM-830,Bug,2008-06-09T05:12:00.169Z,2008-06-09T05:12:00.169Z,2017-07-12T17:08:00.325Z,2017-07-12T17:08:00.325Z,2014-02-25T19:30:48.192Z,2014-02-25T19:30:48.192Z,Archiva is very slow when remote repository is unreachable,If a remote repository is not available (e.g. network error) then ALL artifact downloads (even from different remote repos) from clients are very slow. If the remote repo is removed from the config everything works again.,Critical,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Thilo Tanner,thilo
MRM-836,Bug,2008-06-12T19:43:30.257Z,2008-06-12T19:43:30.257Z,2015-04-05T14:54:13.031Z,2015-04-05T14:54:13.031Z,2009-03-09T10:28:36.006Z,2009-03-09T10:28:36.006Z,The organization is incorrect when displaying an artifacts's Info via browsing or searching.,"The organization is incorrect when displaying an artifacts's Info via browsing or searching. In my case the artifact org.apache.apache version 3 displays ""20"" for the organization instead of ""Apache Software ",Major,Closed,Fixed,Brett Porter,brettporter,Paul Spencer,paulsp
MRM-883,Bug,2008-07-22T10:56:31.448Z,2008-07-22T10:56:31.448Z,2008-07-25T05:48:36.05Z,2008-07-25T05:48:36.05Z,2008-07-25T05:48:36.054Z,2008-07-25T05:48:36.054Z,RSS syndication java.lang.ArrayIndexOutOfBoundsException,"when I click the RSS feed icon, for a artifact or a repo I have the error 

---------------------------------------------------------------
Etat HTTP 500 -

type Rapport d'exception

message

description Le serveur a rencontré une erreur interne () qui l'a empêché de satisfaire la requête.

exception

java.lang.ArrayIndexOutOfBoundsException
---------------------------------------------------------------


But sometimes not !


",Major,Closed,Fixed,Maria Odea Ching,oching,Fabrice Scoyer,fabrice
MRM-813,Bug,2008-05-21T08:12:10.119Z,2008-05-21T08:12:10.119Z,2014-11-27T04:42:58.887Z,2014-11-27T04:42:58.887Z,2014-10-20T01:09:21.451Z,2014-10-20T01:09:21.451Z,"Audit log is reporting ""Modify File (proxied)"" when no proxy connectors exist and the file has not changed","The Archiva audit log is reporting that files have been modified and proxied, when no proxy connectors are configured.  For example:

{noformat}
2008-01-02 13:47:27 sandbox guest 127.0.0.1 ""/org/apache/maven/plugins/maven-resources-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 third-party guest 127.0.0.1 ""/org/apache/maven/plugins/maven-resources-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 sandbox guest 127.0.0.1 ""/org/apache/maven/plugins/maven-compiler-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 third-party guest 127.0.0.1 ""/org/apache/maven/plugins/maven-compiler-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 sandbox guest 127.0.0.1 ""/org/apache/maven/plugins/maven-surefire-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 third-party guest 127.0.0.1 ""/org/apache/maven/plugins/maven-surefire-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 sandbox guest 127.0.0.1 ""/org/apache/maven/plugins/maven-jar-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 third-party guest 127.0.0.1 ""/org/apache/maven/plugins/maven-jar-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 sandbox guest 127.0.0.1 ""/org/apache/maven/plugins/maven-install-plugin/maven-metadata.xml"" ""Modify File (proxied)""
2008-01-02 13:47:27 third-party guest 127.0.0.1 ""/org/apache/maven/plugins/maven-install-plugin/maven-metadata.xml"" ""Modify File (proxied)""
{noformat}

Administration -> Proxy Connectors (copy/paste):
...
Repository Proxy Connectors
No Repository Proxy Connectors Defined. 

Administration -> Repositories (copy/paste):
...
Remote Repositories
There are no remote repositories configured yet.

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Wendy Smoak,wsmoak
MRM-841,Bug,2008-06-17T02:55:56.212Z,2008-06-17T02:55:56.212Z,2008-09-03T02:21:24.09Z,2008-09-03T02:21:24.09Z,2008-09-03T02:21:24.114Z,2008-09-03T02:21:24.114Z,Introducing a new scannable artifact file type requires restart in order for some consumers to work ,"to replicate:

1. copied Nunit artifact (see attached zip file) to internal repository
2. removed metadata and checksums of the artifact
3  execute 'touch' to the artifact folder recursively: find NUnit.Framework | xargs touch
4. add ""**/*.dll"" to Repository Scanning -> File Types -> artifacts
5. click 'Scan Repository' 
6. Checksums of the dll artifact are not generated.

restarting Archiva and repeating steps 2 to 5 will produce the checksums of the dll artifact.",Major,Closed,Fixed,Maria Odea Ching,oching,jancajas,jancajas
MRM-826,Bug,2008-06-03T06:39:43.477Z,2008-06-03T06:39:43.477Z,2008-06-04T20:49:42.722Z,2008-06-04T20:49:42.722Z,2008-06-04T03:04:33.653Z,2008-06-04T03:04:33.653Z,[regression] Creating a company pom results to error 500,"To reproduce:
1. In the Appearance page, click 'Select Company Pom'
2. Fill up the group id & artifact id in the company pom form, then save.
3. Error 500 shows up


Below is the error page:
HTTP ERROR: 500

No bean named 'wagon#http' is defined

RequestURI=/archiva/admin/configureAppearance.action
Caused by:

org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'wagon#http' is defined
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:378)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1012)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:227)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:888)
	at org.codehaus.plexus.spring.PlexusContainerAdapter.lookup(PlexusContainerAdapter.java:422)
	at org.apache.maven.artifact.manager.DefaultWagonManager.getWagon(DefaultWagonManager.java:124)
	at org.apache.maven.artifact.manager.DefaultWagonManager.getRemoteFile(DefaultWagonManager.java:390)
	at org.apache.maven.artifact.manager.DefaultWagonManager.getArtifactMetadata(DefaultWagonManager.java:363)
	at org.apache.maven.artifact.repository.metadata.DefaultRepositoryMetadataManager.resolveAlways(DefaultRepositoryMetadataManager.java:364)
	at org.apache.maven.artifact.repository.metadata.DefaultRepositoryMetadataManager.resolve(DefaultRepositoryMetadataManager.java:97)
	at org.apache.maven.project.artifact.MavenMetadataSource.retrieveAvailableVersions(MavenMetadataSource.java:392)
	at org.apache.maven.shared.app.company.DefaultCompanyPomHandler.getCompanyPomModel(DefaultCompanyPomHandler.java:120)
	at org.apache.maven.shared.app.company.DefaultCompanyPomHandler.getCompanyPomModel(DefaultCompanyPomHandler.java:90)
	at org.apache.maven.archiva.web.action.admin.appearance.ConfigureAppearanceAction.prepare(ConfigureAppearanceAction.java:85)
	at com.opensymphony.xwork.interceptor.PrepareInterceptor.before(PrepareInterceptor.java:106)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:30)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
",Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-846,Bug,2008-06-23T08:16:44.098Z,2008-06-23T08:16:44.098Z,2008-07-06T20:29:02.548Z,2008-07-06T20:29:02.548Z,2008-07-06T20:29:02.553Z,2008-07-06T20:29:02.553Z,"""Repository Purge By Retention Count"" option not working","from http://archiva.apache.org/docs/1.0.2/adminguide/repositories.html:
""If the repository purge by retention count field is set to 2, then only the artifacts artifact-x-20070113.034619-3.jar, artifact-x-20070113.034619-3.pom, artifact-x-20070203.028902-4.jar and artifact-x-20070203.028902-4.pom will be retained in the repository. The oldest snapshots will be deleted maintaining only a number of snapshots equivalent to the set retention count.""

This is not working here. The value for ""Repository Purge By Retention Count"" is ignored, at least for the Snapshot-managed-repo.
Old artifacts are not deleted.
We are building new snaphot's on hourly basis using Continuum.
The disk-space is heavily increasing and nothing is purged.
",Critical,Closed,Fixed,Maria Odea Ching,oching,Marc Lustig,axismundi
MRM-834,Bug,2008-06-11T16:49:01.038Z,2008-06-11T16:49:01.038Z,2008-09-11T19:31:11.677Z,2008-09-11T19:31:11.677Z,2008-09-11T19:31:11.726Z,2008-09-11T19:31:11.726Z,Wrong repository url when archiva is used behind Apache with mof_proxy,The repository url is http:localhost:8080/archiva/repository/repoName instead of http(s)://apache.host/archiva/repository/repoName,Major,Closed,Fixed,Brett Porter,brettporter,Emmanuel Venisse,evenisse
MRM-831,Improvement,2008-06-10T08:06:39.821Z,2008-06-10T08:06:39.821Z,2008-07-02T06:14:04.178Z,2008-07-02T06:14:04.178Z,2008-07-02T06:14:04.183Z,2008-07-02T06:14:04.183Z,"When deploying artifacts to the repo, they should be added to the index instantly",,Minor,Closed,Fixed,Brett Porter,brettporter,Luke Daley,ldaley
MRM-889,Bug,2008-07-25T22:24:28.74Z,2008-07-25T22:24:28.74Z,2017-04-05T19:11:46.068Z,2017-04-05T19:11:46.068Z,,,track consumers in use and index version to know when an repository needs to be reindexed,"currently if you add consumers, it will not trigger a re-scan of the repository. By tracking the ones in use we should be able to trigger full scans of the repository as appropriate, also making upgrades easier",Major,Open,,,,Brett Porter,brettporter
MRM-843,Bug,2008-06-18T10:05:35.247Z,2008-06-18T10:05:35.247Z,2010-02-23T04:28:07.496Z,2010-02-23T04:28:07.496Z,2010-02-23T04:28:07.406Z,2010-02-23T04:28:07.406Z,Fails to read pom.,"I attached the log file and the pom that make it fails.

The pom.xml was created using MavenXpp3Writer and has the ""Project"" tag on the same line as the xml header. I suppose this make it fails.
<?xml version=""1.0"" encoding=""UTF-8""?><project xmlns=""http://maven.apache.org/POM/4.0.0"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd""> ",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Benoit Decherf,decherfb
MRM-895,Bug,2008-07-28T05:49:23.847Z,2008-07-28T05:49:23.847Z,2008-08-13T21:15:31.859Z,2008-08-13T21:15:31.859Z,2008-08-13T21:15:31.863Z,2008-08-13T21:15:31.863Z,Archiva version doesn't appear on the footer when it is installed on Tomcat,,Minor,Closed,Fixed,james.w.dumay,james.w.dumay,Emmanuel Venisse,evenisse
MRM-856,Bug,2008-07-02T00:16:44.539Z,2008-07-02T00:16:44.539Z,2008-07-02T00:18:38.999Z,2008-07-02T00:18:38.999Z,2008-07-02T00:18:31.648Z,2008-07-02T00:18:31.648Z,"Artifact Upload replaces all instances of the name ""jar"" with ""pom"" when trying to change the file extension","Artifact Upload replaces all instances of the name ""jar"" with ""pom"" when trying to change the file extension",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-863,Improvement,2008-07-06T21:19:53.335Z,2008-07-06T21:19:53.335Z,2012-10-18T06:45:07.895Z,2012-10-18T06:45:07.895Z,2012-10-18T06:45:07.55Z,2012-10-18T06:45:07.55Z,Paginate Used By page,in new UI only,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-827,Improvement,2008-06-04T00:21:57.228Z,2008-06-04T00:21:57.228Z,2008-09-13T21:24:03.916Z,2008-09-13T21:24:03.916Z,2008-09-13T21:24:03.923Z,2008-09-13T21:24:03.923Z,"Use a ""work"" directory for the repo path (e.g. if the repo definition root is mydir/ then put the actually repo under /mydir/repository)","See discussion here: MRM-789

Note:
Review the pros and cons of this setup.",Major,Closed,Won't Fix,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-892,Bug,2008-07-27T20:45:58.683Z,2008-07-27T20:45:58.683Z,2008-07-28T21:55:59.183Z,2008-07-28T21:55:59.183Z,2008-07-28T21:55:59.191Z,2008-07-28T21:55:59.191Z,Search for java classes and package names is broken,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-815,New Feature,2008-05-21T23:04:10.574Z,2008-05-21T23:04:10.574Z,2011-11-08T14:51:47.513Z,2011-11-08T14:51:47.513Z,2011-11-08T14:51:47.423Z,2011-11-08T14:51:47.423Z,aggregate indices for repository groups,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-801,Sub-task,2008-05-13T01:43:09.489Z,2008-05-13T01:43:09.489Z,2008-05-20T22:46:06.297Z,2008-05-20T22:46:06.297Z,2008-05-20T22:46:06.304Z,2008-05-20T22:46:06.304Z,Create documentation for virtual repositories,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-809,Bug,2008-05-16T13:55:44.496Z,2008-05-16T13:55:44.496Z,2010-02-28T21:37:48.528Z,2010-02-28T21:37:48.528Z,2010-02-28T21:37:48.487Z,2010-02-28T21:37:48.487Z,metadata-updater does not add missing plugin versions to maven-metadata.xml file,"With the metadata-updater enabled, the maven-metadata.xml files are not updated to include plugin versions that are on the filesystem but not in the metadata file.

We periodically copy one repo into another, which overwrites the metadata files.  The source repository typically contains only one version of each plugin, whil we have multiple versions in the target repo.  I expected Archiva to fix the metadata files in the target repo so that they list all of the versions again.

(This probably applies to normal artifacts as well, but I've only been working with plugins.)",Major,Closed,Won't Fix,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-837,Bug,2008-06-13T11:11:59.52Z,2008-06-13T11:11:59.52Z,2015-02-16T04:59:55.751Z,2015-02-16T04:59:55.751Z,2015-02-16T04:59:55.183Z,2015-02-16T04:59:55.183Z,Cannot download SNAPSHOT version,"Hi all,
Our versioning is quite special, I agree : 2.1.0.beta-2.SNAPSHOT at the moment.

The thing is: archiva accepts that this kind of artifact version be deployed, but then it doesn't allow you to download it...
In fact, when trying to download, say, the artifactId-2.1.0.beta-2.20080613.125403-1.jar artifact, archiva throws the following exception:

Error 404 Not Found

The following resource does not exist: http://archiva:4000/repository//mm/socle-technique/2.1.0.beta-2.SNAPSHOT/socle-technique-2.1.0.beta-2.20080613.125403-1.jar

org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at java.lang.Throwable.(Throwable.java:57)
	at java.lang.Throwable.(Throwable.java:68)
	at org.apache.maven.archiva.common.ArchivaException.(ArchivaException.java:38)
	at org.apache.maven.archiva.repository.layout.LayoutException.(LayoutException.java:39)
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:134)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:121)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePath(RepositoryRequest.java:271)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:163)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
	at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:167)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)

I guess the versioning we used there is quite wrong (in a release process, I think we should not suffix SNAPSHOT after a qualifier...), but the thing is: IMO, archiva should be coherent: 
if this naming scheme is incorrect, then archiva should reject the artifact when trying to deploy it (we use the archiva webdav interface when doing mvn deploy).
In fact, it's quite puzzling to having successfully deployed an artifact, but being unable to download it.

Cheers.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Baptiste MATHUS,mathus.b@mipih.fr
MRM-865,Bug,2008-07-07T04:45:50.965Z,2008-07-07T04:45:50.965Z,2008-07-07T10:39:07.993Z,2008-07-07T10:39:07.993Z,2008-07-07T10:34:36.659Z,2008-07-07T10:34:36.659Z,Upload snapshot should work like a deploy,"Actually, if I upload a snapshot, the file is stored with the current filename and timestamp/lastUpdated field aren't stored in metadata file.

It would be better to store the snapshot with a timestamp and a build number like the maven deploy plugin do it.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Emmanuel Venisse,evenisse
MRM-871,Bug,2008-07-08T22:29:25.753Z,2008-07-08T22:29:25.753Z,2008-07-12T03:29:59.249Z,2008-07-12T03:29:59.249Z,2008-07-08T22:30:09.432Z,2008-07-08T22:30:09.432Z,jetty.host and jetty.port properties are set by default in jetty.xml preventing user from using other hostname if user is not aware of these properties,See http://www.nabble.com/Archiva-1.1-standalone-version-quick-installation-remarks-td18342570.html,Blocker,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-825,Bug,2008-06-03T04:14:58.56Z,2008-06-03T04:14:58.56Z,2008-06-03T13:10:14.778Z,2008-06-03T13:10:14.778Z,2008-06-03T13:10:14.786Z,2008-06-03T13:10:14.786Z,Error in archiva-webapp during 'mvn site',"Build log:

[INFO] [compiler:compile]
[INFO] Nothing to compile - all classes are up to date
[WARNING] POM for 'jpox:jpox:pom:1.1.9:compile' is invalid. It will be ignored for artifact resolution. Reason: Not a v4.0.0 POM. for project jpox:jpox at /home/deng/.m2/repository/jpox/jpox/1.1.9/jpox-1.1.9.pom
[WARNING] POM for 'jpox:jpox:pom:1.1.9:compile' is invalid. It will be ignored for artifact resolution. Reason: Not a v4.0.0 POM. for project jpox:jpox at /home/deng/.m2/repository/jpox/jpox/1.1.9/jpox-1.1.9.pom
[WARNING] POM for 'jpox:jpox:pom:1.1.9:compile' is invalid. It will be ignored for artifact resolution. Reason: Not a v4.0.0 POM. for project jpox:jpox at /home/deng/.m2/repository/jpox/jpox/1.1.9/jpox-1.1.9.pom
[WARNING] POM for 'jpox:jpox:pom:1.1.9:compile' is invalid. It will be ignored for artifact resolution. Reason: Not a v4.0.0 POM. for project jpox:jpox at /home/deng/.m2/repository/jpox/jpox/1.1.9/jpox-1.1.9.pom
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error configuring: org.apache.maven.plugins:maven-war-plugin. Reason: ERROR: Cannot override read-only parameter: classesDirectory in goal: war:inplace
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------


Wendy encountered this before (see http://www.nabble.com/Trouble-with-'mvn-site'-for-archiva-trunk-td14550166.html), but the problem seemed to have gone away after downgrading the site plugin version. The current version of the site plugin in archiva-webapp is 2.0.1.
",Major,Closed,Duplicate,,,Maria Odea Ching,oching
MRM-840,Bug,2008-06-15T19:21:46.879Z,2008-06-15T19:21:46.879Z,2008-07-01T20:29:26.557Z,2008-07-01T20:29:26.557Z,2008-07-01T20:29:26.561Z,2008-07-01T20:29:26.561Z,Wagon HTTP deadlocks under high load,"See WAGON-220 for more information.

This is a blocker for the 1.1 release.",Blocker,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-878,Bug,2008-07-16T21:48:16.046Z,2008-07-16T21:48:16.046Z,2008-09-13T21:38:32.534Z,2008-09-13T21:38:32.534Z,2008-09-13T21:38:32.541Z,2008-09-13T21:38:32.541Z,release backup files were included in archiva 1.1 source bundle,,Minor,Closed,Cannot Reproduce,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-872,Bug,2008-07-10T01:36:09.568Z,2008-07-10T01:36:09.568Z,2008-07-16T04:00:41.735Z,2008-07-16T04:00:41.735Z,2008-07-16T04:00:41.74Z,2008-07-16T04:00:41.74Z,empty metadatas frmo a repository group,"Here is my configuration :

{noformat} 
group repository ""maven""
  +-- managed repository ""releases""
        +-- proxy connector to central
        +-- proxy connector to dev.java.net
        +-- proxy connector to jboss ...
  +-- managed repository ""private""
        +-- proxy connector to corporate repository
        +-- proxy connector to second corporate repository
{noformat} 

From a fresh new install, requesting ""mvn eclipse:eclipse"" fails with error :
No versions are present in the repository for the artifact with a range [3.1.0,4.0.0)
org.eclipse.core:resources:jar:null

Browsing archvia/repository/maven/org/eclipse/core/resources/maven-metadata.xml returns a metadatafile with no entry.

The metadata file in the ""releases"" repo (that merges all connectors metadatas) is correct with the expected versions available from central.

",Major,Closed,Fixed,Maria Odea Ching,oching,nicolas de loof,ndeloof
MRM-887,Bug,2008-07-24T12:20:13.07Z,2008-07-24T12:20:13.07Z,2014-04-10T02:58:26.483Z,2014-04-10T02:58:26.483Z,2014-04-10T02:58:26.341Z,2014-04-10T02:58:26.341Z,"Start script has no valid ""uname"" option ","Start script has no valid ""uname"" option ""-p"". The concrete line is:

DIST_ARCH=`uname -p | tr [:upper:] [:lower:] | tr -d [:blank:]`

I resolved this issue replacing the option ""-p"" with ""-m"".
",Major,Closed,Won't Fix,Eric Barboni,skygolanur,Antonio Manuel Muñiz Martín,amuniz
MRM-842,Bug,2008-06-17T06:48:21.844Z,2008-06-17T06:48:21.844Z,2009-03-21T21:01:42.127Z,2009-03-21T21:01:42.127Z,2009-03-09T10:28:23.73Z,2009-03-09T10:28:23.73Z,Issue tracker is incorrect when displaying an artifacts's Info via browsing or searching.,"The organization is incorrect when displaying an artifacts's Info via browsing or searching. In my case the artifact org.apache.apache version 3 displays ""20"" for the organization instead of ""Apache Software ",Major,Closed,Fixed,Brett Porter,brettporter,Benoit Decherf,decherfb
MRM-884,Bug,2008-07-23T04:34:07.337Z,2008-07-23T04:34:07.337Z,2008-08-04T10:45:20.799Z,2008-08-04T10:45:20.799Z,2008-07-27T10:22:33.797Z,2008-07-27T10:22:33.797Z,network proxy fails after upgrading to archiva 1.1,"I'm trying to upgrade from 1.0 to 1.1. I use a network proxy to access remote repos. When using 1.0, I get no error, and when using 1.1, I get this error. 
I double checked my configuration, and there is no differences between my 1.0's config and my 1.1's config. 

http://www.nabble.com/Upgrade-from-1.0-to-1.1-%3A-network-problem-td18587462.html

2008-07-22 15:02:40,099 [btpool0-7] DEBUG org.apache.maven.archiva.policies.AbstractUpdatePolicy  - OK to update, snapshot policy does not apply for non-snapshot versions. 
2008-07-22 15:02:40,099 [btpool0-7] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - No authentication for remote repository needed 
2008-07-22 15:02:40,114 [btpool0-7] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Retrieving org/apache/maven/plugins/maven-site-plugin/2.0-beta-6/maven-site-plugin-2.0-beta-6.pom from Central Repository 
2008-07-22 15:02:57,395 [btpool0-7] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [propagate-errors-on-update] policy with [artifact not already present] 
2008-07-22 15:02:57,395 [btpool0-7] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Applying [propagate-errors] policy with [queue error] 
2008-07-22 15:02:57,395 [btpool0-7] WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""central"" for artifact org.apache.maven.plugins:maven-site-plugin:2.0-beta-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-site-plugin/2.0-beta-6/maven-site-plugin-2.0-beta-6.pom]:Error transferring file 
2008-07-22 15:02:57,410 [btpool0-7] DEBUG org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Full stack trace 
org.apache.maven.archiva.proxy.ProxyException: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-site-plugin/2.0-beta-6/maven-site-plugin-2.0-beta-6.pom]:Error transferring file 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:747) 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:564) 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:171) 
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:520) 
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:423) 
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:251) 
        at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:119) 
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) 
        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487) 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093) 
        at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189) 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084) 
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39) 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084) 
        at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88) 
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084) 
        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360) 
        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216) 
        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181) 
        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722) 
        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404) 
        at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206) 
        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114) 
        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139) 
        at org.mortbay.jetty.Server.handle(Server.java:324) 
        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505) 
        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828) 
        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514) 
        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211) 
        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380) 
        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395) 
        at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450) 
Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring file 
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:136) 
        at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116) 
        at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88) 
        at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61) 
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:704) 
        ... 31 more 
Caused by: java.net.UnknownHostException: repo1.maven.org 
        at java.net.PlainSocketImpl.connect(Unknown Source) 
        at java.net.Socket.connect(Unknown Source) 
        at java.net.Socket.connect(Unknown Source) 
        at sun.net.NetworkClient.doConnect(Unknown Source) 
        at sun.net.www.http.HttpClient.openServer(Unknown Source) 
        at sun.net.www.http.HttpClient.openServer(Unknown Source) 
        at sun.net.www.http.HttpClient.<init>(Unknown Source) 
        at sun.net.www.http.HttpClient.New(Unknown Source) 
        at sun.net.www.http.HttpClient.New(Unknown Source) 
        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(Unknown Source) 
        at sun.net.www.protocol.http.HttpURLConnection.plainConnect(Unknown Source) 
        at sun.net.www.protocol.http.HttpURLConnection.connect(Unknown Source) 
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source) 
        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115) 
        ... 35 more",Major,Closed,Fixed,Brett Porter,brettporter,Dominique Jean-Prost,djeanprost
MRM-868,Bug,2008-07-08T04:24:56.517Z,2008-07-08T04:24:56.517Z,2008-11-07T07:58:32.531Z,2008-11-07T07:58:32.531Z,2008-09-12T18:50:27.768Z,2008-09-12T18:50:27.768Z,Include sources bundle during deployment (in release:perform),"When I prepared the release for Archiva 1.1, the sources weren't deployed so I had to deploy it in the staging repo using 'mvn gpg:sign-and-deploy-file ...'
This used to be included in the deployment during previous archiva releases.",Minor,Closed,Cannot Reproduce,,,Maria Odea Ching,oching
MRM-875,New Feature,2008-07-16T02:43:26.988Z,2008-07-16T02:43:26.988Z,2012-09-05T09:12:47.079Z,2012-09-05T09:12:47.079Z,2012-09-05T09:12:46.933Z,2012-09-05T09:12:46.933Z,Allow uploading multiple artifacts,"Just a suggestion. In cases like uploading 10 or more artifacts, it's hassle uploading 1 artifact at a time.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,mbaclay,mbaclay
MRM-839,Improvement,2008-06-13T22:02:46.953Z,2008-06-13T22:02:46.953Z,2008-09-03T23:02:59.181Z,2008-09-03T23:02:59.181Z,2008-08-21T03:16:37.835Z,2008-08-21T03:16:37.835Z,change RSS URLs,"I thik this would be a nice cosmetic improvement:

- from /rss/rss_feeds?repoId=[repositoryId] to /repository/feeds/[repositoryId]
- from /rss/rss_feeds?groupId=[groupId]&artifactId=[artifactId] to /feeds/groupId/artifactId

Or similar. Ideally, /feeds/ would equate to how /browse/ is used.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-873,Bug,2008-07-13T07:13:22.89Z,2008-07-13T07:13:22.89Z,2015-04-05T14:54:15.54Z,2015-04-05T14:54:15.54Z,2008-08-03T22:58:59.182Z,2008-08-03T22:58:59.182Z,repository groups - move up/down should not show when it's not possible,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-818,Bug,2008-05-27T00:52:57.563Z,2008-05-27T00:52:57.563Z,2008-05-27T03:38:13.959Z,2008-05-27T03:38:13.959Z,2008-05-27T03:38:13.963Z,2008-05-27T03:38:13.963Z,[Repository Group] Page will be broken if entered identifier is too long,See screen shot attached.,Major,Closed,Fixed,Maria Odea Ching,oching,mbaclay,mbaclay
MRM-853,Bug,2008-06-30T04:54:45.244Z,2008-06-30T04:54:45.244Z,2008-07-02T03:30:04.111Z,2008-07-02T03:30:04.111Z,2008-07-01T23:53:57.504Z,2008-07-01T23:53:57.504Z,HTTP Error 500 when uploading artifact with Windows OS,"Artifact Repository > Upload Artifact

Group Id: junit
Artifact Id: junit
Version: 4.4
Packaging: jar
Classifier:
set Generate Maven 2 POM
Artifact File: [I was pointing this to my junit-4.4.jar]
Repository Id: releases

Click ""Submit"" button

*Actual Result:*
HTTP Error 500 page
String index out of range: -1

*Here's the log:*
jvm 1 | 2008-06-30 17:43:15,140 [SocketListener0-1] INFO FreemarkerManager - Instantiating Freemarker ConfigManager!, com.opensymphon
y.webwork.views.freemarker.FreemarkerManager
jvm 1 | 2008-06-30 17:49:41,812 [SocketListener0-1] INFO DispatcherUtils - Unable to find 'webwork.multipart.saveDir' property sett
ing. Defaulting to javax.servlet.context.tempdir
jvm 1 | 2008-06-30 17:49:42,000 [SocketListener0-1] WARN MultiPartRequest - Item is a file upload of 0 size, ignoring
jvm 1 | 2008-06-30 17:49:42,000 [SocketListener0-1] ERROR DispatcherUtils - Error setting character encoding to 'UTF-8' - ignoring.
jvm 1 | java.lang.IllegalStateException: getReader() or getInputStream() called
jvm 1 | at org.mortbay.jetty.servlet.ServletHttpRequest.setCharacterEncoding(ServletHttpRequest.java:602)
jvm 1 | at javax.servlet.ServletRequestWrapper.setCharacterEncoding(ServletRequestWrapper.java:112)
jvm 1 | at com.opensymphony.webwork.dispatcher.DispatcherUtils.prepare(DispatcherUtils.java:438)
jvm 1 | at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:160)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1 | at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
jvm 1 | at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1 | at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
jvm 1 | at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
jvm 1 | at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
jvm 1 | at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
jvm 1 | at org.mortbay.http.HttpServer.service(HttpServer.java:909)
jvm 1 | at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
jvm 1 | at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
jvm 1 | at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
jvm 1 | at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
jvm 1 | at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
jvm 1 | at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
jvm 1 | 2008-06-30 17:49:42,062 [SocketListener0-1] INFO FileUploadInterceptor - File artifact application/java-archive junit-4.4.jar D:\
Maestro\1.6.2\maestro-1.6.2\project-server\bin\windows-x86-32\..\..\temp\Jetty_0_0_0_0_8080_archiva\upload6a57e3dd_11ad8bd9bf7_7fcc_00000006.tmp
jvm 1 | 2008-06-30 17:49:42,937 [SocketListener0-1] INFO FileUploadInterceptor - File artifact application/java-archive junit-4.4.jar D:\
Maestro\1.6.2\maestro-1.6.2\project-server\bin\windows-x86-32\..\..\temp\Jetty_0_0_0_0_8080_archiva\upload6a57e3dd_11ad8bd9bf7_7fcc_00000006.tmp
jvm 1 | Jun 30, 2008 5:49:46 PM org.mortbay.jetty.servlet.ServletHandler handle
jvm 1 | WARNING: /archiva/upload!doUpload.action:
jvm 1 | java.lang.StringIndexOutOfBoundsException: String index out of range: -1
jvm 1 | at java.lang.String.substring(String.java:1768)
jvm 1 | at org.apache.maven.archiva.web.action.UploadAction.getMetadata(UploadAction.java:467)
jvm 1 | at org.apache.maven.archiva.web.action.UploadAction.doUpload(UploadAction.java:398)
jvm 1 | at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
jvm 1 | at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
jvm 1 | at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
jvm 1 | at java.lang.reflect.Method.invoke(Method.java:585)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
jvm 1 | at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:238)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
jvm 1 | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
jvm 1 | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:67)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:165)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:194)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
jvm 1 | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
jvm 1 | at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:238)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:172)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:92)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
jvm 1 | at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
jvm 1 | at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
jvm 1 | at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
jvm 1 | at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1 | at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
jvm 1 | at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1 | at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
jvm 1 | at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
jvm 1 | at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
jvm 1 | at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
jvm 1 | at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
jvm 1 | at org.mortbay.http.HttpServer.service(HttpServer.java:909)
jvm 1 | at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
jvm 1 | at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
jvm 1 | at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
jvm 1 | at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
jvm 1 | at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
jvm 1 | at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)",Major,Closed,Fixed,james.w.dumay,james.w.dumay,mbaclay,mbaclay
MRM-891,Bug,2008-07-26T00:27:44.487Z,2008-07-26T00:27:44.487Z,2008-07-28T00:39:57.365Z,2008-07-28T00:39:57.365Z,2008-07-28T00:39:57.37Z,2008-07-28T00:39:57.37Z,Unable to use archiva as http source with maven-stage-plugin,"great - feel free to file a bug in Archiva too - though it's not
incorrect, it'd be better without it and we can probably fix this more
easily than getting the updated version to the maven client.
- Hide quoted text -

2008/7/26 Dan Tran <dantran@gmail.com>:
> I look the html contents for repo1.apache.org/maven2 and the archiva
> at http://archiva.openqa.org/repository/releases/
>
> the repo1 shows
> <img src=""/icons/folder.gif"" alt=""[DIR]""> <a href=""abbot/"">abbot/</a>
>    31-Oct-2005 23:09    -
>
> the archiva shows
>
> <li><a href=""./org/"">org/</li>
>
>
> So the problem  area seems to be at the extra ""./"" at archiva.
>
> will write up a test case for this.
>
> -D
>
> On Fri, Jul 25, 2008 at 10:01 PM, Dan Tran <dantran@gmail.com> wrote:
>> sure, i will look into it
>>
>> thanks
>>
>> -D
>>
>> On Fri, Jul 25, 2008 at 9:57 PM, Brett Porter <brett.porter@gmail.com> wrote:
>>> Yes, that'd be the place to look (it's just that it's on the end of
>>> the stage plugin where it is occurring :)
>>>
>>> 2008/7/26 Dan Tran <dantran@gmail.com>:
>>>> you mean http wagon?
>>>>
>>>> -D
>>>>
>>>> On Fri, Jul 25, 2008 at 9:45 PM, Brett Porter <brett.porter@gmail.com> wrote:
>>>>> That would be an issue with the stage plugin I think - the HTML on
>>>>> Archiva looks fine to me.
>>>>>
>>>>> 2008/7/26 Dan Tran <dantran@gmail.com>:
>>>>>> From the other post, is it is same error for both 1.1( mine) and 1.0.2
>>>>>> (other user)  archiva.  When the stage plugin asks for a list
>>>>>> of files available at source repo ( ie the staging repo), it gets a
>>>>>> list of one item ( a space )
>>>>>>
>>>>>> on windows, the error is access deny, and unix it complains about cant
>>>>>> not create directory.
>>>>>>
>>>>>> -D
>>>>>>
>>>>>> On Fri, Jul 25, 2008 at 9:33 PM, Brett Porter <brett.porter@gmail.com> wrote:
>>>>>>> The stage plugin doesn't support http targets, that's correct.
>>>>>>>
>>>>>>> There was previously some bugs in the HTML rendering, but they should
>>>>>>> be fine under 1.1. Is that what you are seeing?
>>>>>>>
>>>>>>> Cheers,
>>>>>>> Brett
>>>>>>>
>>>>>>> 2008/7/26 Dan Tran <dantran@gmail.com>:
>>>>>>>> Dont think it is a bug, but worth to ask.
>>>>>>>>
>>>>>>>> see http://www.nabble.com/Re%3A-error-plugin-stage-to16634443.html
>>>>>>>>
>>>>>>>> I am using archiva 1.1 on linux
>>>>>>>>
>>>>>>>> -D
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Brett Porter
>>>>>>> Blog: http://blogs.exist.com/bporter/
>>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Brett Porter
>>>>> Blog: http://blogs.exist.com/bporter/
>>>>>
>>>>
>>>
>>>
>>>
>>> --
>>> Brett Porter
>>> Blog: http://blogs.exist.com/bporter/
>>>
>>
>
",Major,Closed,Fixed,Brett Porter,brettporter,Dan Tran,dantran
MRM-828,Improvement,2008-06-04T02:49:53.808Z,2008-06-04T02:49:53.808Z,2008-06-30T00:29:25.043Z,2008-06-30T00:29:25.043Z,,,Fix obscure Webdav Litmus tests,"The current litmus test results:
{code}
-> running `basic':
 0. init.................. pass
 1. begin................. pass
 2. options............... pass
 3. put_get............... pass
 4. put_get_utf8_segment.. pass
 5. mkcol_over_plain...... pass
 6. delete................ pass
 7. delete_null........... pass
 8. delete_fragment....... WARNING: DELETE removed collection resource with Request-URI including fragment; unsafe
    ...................... pass (with 1 warning)
 9. mkcol................. pass
10. mkcol_again........... pass
11. delete_coll........... pass
12. mkcol_no_parent....... pass
13. mkcol_with_body....... FAIL (MKCOL with weird body must fail (RFC2518:8.3.1))
14. finish................ pass
<- summary for `basic': of 15 tests run: 14 passed, 1 failed. 93.3%
-> 1 warning was issued.
{code}

",Major,Open,,,,James William Dumay,jameswdumay
MRM-880,Bug,2008-07-21T01:16:33.315Z,2008-07-21T01:16:33.315Z,2012-01-23T00:58:43.105Z,2012-01-23T00:58:43.105Z,2008-08-12T02:23:31.6Z,2008-08-12T02:23:31.6Z,Archiva does not start up on Solaris 64-Bit,"Updated from Archiva 1.0.1 to Archiva 1.1:

bin/archiva
Unable to locate any of the following binaries:
  /maven/archiva/apache-archiva-1.1/bin/./wrapper-solaris-sparc-32
  /maven/archiva/apache-archiva-1.1/bin/./wrapper-solaris-sparc-64
  /maven/archiva/apache-archiva-1.1/bin/./wrapper

The files are not contained in apache-archiva-1.1-bin.tar.gz.",Blocker,Closed,Fixed,Maria Odea Ching,oching,Dennis Kieselhorst,deki
MRM-833,Bug,2008-06-11T08:54:44.809Z,2008-06-11T08:54:44.809Z,2016-03-15T06:15:24.576Z,2016-03-15T06:15:24.576Z,2016-03-15T06:15:24.552Z,2016-03-15T06:15:24.552Z,Mispelling in the browse repository page,"Organization is spelled ""Organisation"" in the browse repository page.",Trivial,Closed,Won't Fix,,,EJ Ciramella,ejciramella
MRM-814,Bug,2008-05-21T09:00:30.186Z,2008-05-21T09:00:30.186Z,2008-08-05T00:54:27.592Z,2008-08-05T00:54:27.592Z,2008-08-05T00:54:27.596Z,2008-08-05T00:54:27.596Z,Invalid cron expressions are accepted in Database Scanning,"Invalid Cron Expressions are still accepted in Database - Unprocessed Artifacts Scanning

I entered ""asdf"" in Cron and clicked on the Update Cron button; invalid value was accepted. ",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-867,Bug,2008-07-07T20:27:47.93Z,2008-07-07T20:27:47.93Z,2008-07-07T20:28:59.898Z,2008-07-07T20:28:59.898Z,2008-07-07T20:28:59.906Z,2008-07-07T20:28:59.906Z,500 on HEAD method,"Doing a HTTP HEAD on a resource sends a 500 response.

This is because we are not checking outputcontext.hasStream before trying to write to a stream and a NPE is thrown.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-858,Bug,2008-07-02T23:03:34.312Z,2008-07-02T23:03:34.312Z,2008-07-02T23:07:52.542Z,2008-07-02T23:07:52.542Z,2008-07-02T23:07:52.55Z,2008-07-02T23:07:52.55Z,last-modified header is missing,last-modified header is missing. Wagon (and other clients) use this to determine a files freshness.,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-879,Bug,2008-07-17T14:25:17.704Z,2008-07-17T14:25:17.704Z,2009-04-14T18:33:33.662Z,2009-04-14T18:33:33.662Z,2009-04-14T18:33:33.697Z,2009-04-14T18:33:33.697Z,Broken image for Dll in the Downloads box,"When we deploy dlls to Archiva, the browse page for the artifact has a broken image next to 'Dll'.

Since users can deploy new types that we don't know about in advance, there should be a generic image to be used in the absence of a specific one.
",Minor,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-805,New Feature,2008-05-15T01:45:42.397Z,2008-05-15T01:45:42.397Z,2009-03-05T22:56:01.617Z,2009-03-05T22:56:01.617Z,,,Support RELEASE and LATEST in 'browsing' section,"It would be nice to be able to use URLs like

{code}
http://archiva/browse/myorg/myartifact/RELEASE
{code}

OR 

{code}
http://archiva/browse/myorg/myartifact/LATEST
{code}

Where the semantics of RELEASE and LATEST are the same as within maven itself.",Minor,Open,,,,Luke Daley,ldaley
MRM-864,New Feature,2008-07-06T21:49:01.127Z,2008-07-06T21:49:01.127Z,2008-07-16T03:49:36.82Z,2008-07-16T03:49:36.82Z,2008-07-16T03:49:36.837Z,2008-07-16T03:49:36.837Z,Searching within search results,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-824,Bug,2008-06-03T00:06:07.224Z,2008-06-03T00:06:07.224Z,2008-06-03T21:03:11.627Z,2008-06-03T21:03:11.627Z,2008-06-03T21:03:11.671Z,2008-06-03T21:03:11.671Z,dependency cleanup,"looking at WEB-INF/lib,at least the following dependences can probably be removed:
- xalan
- xml-apis
- xmlunit (may already be removed?)
- wstx can be replaced by the stax RI?
- velocity-dep",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-894,Bug,2008-07-28T03:41:09.611Z,2008-07-28T03:41:09.611Z,2009-02-26T08:27:18.827Z,2009-02-26T08:27:18.827Z,2008-10-21T09:15:39.127Z,2008-10-21T09:15:39.127Z,Archiva MySQL bit datatype incompatible,"The tables are created with data-type BIT to represent boolean type fields.

Before MySQL 5.0.3, BIT was a synonym for TINYINT(1) which works fine.

However 5.0.3 and later versions of MySQL treat the BIT datatype differently.

This leads to problems with all the sql fields that are supposed to represent boolean values. It becomes a big mess.

An example is the column PERMANENT in a lot of the tables.
Also the FROM_PARENT and TRANSITIVE columns in ARCHIVA_DEPENDENCY.

When changing the column data-type in MySQL for existing data, the conversion of the actual data does not take place correctly because it was not inserted correctly in the first place.

Would it not be possible to change the data-types in the code to boolean or another data-type so that when the tables are created in MySQL they have columns that represent boolean values.

This also appears in Continuum.
",Major,Closed,Won't Fix,,,dandare100,dandare100
MRM-816,Bug,2008-05-22T20:21:09.952Z,2008-05-22T20:21:09.952Z,2011-03-29T09:59:25.381Z,2011-03-29T09:59:25.381Z,2010-02-23T04:47:41.596Z,2010-02-23T04:47:41.596Z,Resolution parameters in URL are not expanded,"When proxying /org/mortbay/jetty/maven-jetty-plugin/7.0.0pre1/maven-jetty-plugin-7.0.0pre1.jar I receive the following exception:

{code}
java.lang.IllegalArgumentException: Invalid uri 'https://maven.atlassian.com/private/org/mortbay/jetty/jetty-maven-plugin/${project.version}/jetty-maven-plugin-${project.version}.jar': escaped absolute path not valid
	org.apache.commons.httpclient.HttpMethodBase.<init>(HttpMethodBase.java:222)
	org.apache.commons.httpclient.methods.GetMethod.<init>(GetMethod.java:89)
	org.apache.maven.wagon.providers.http.HttpWagon.get(HttpWagon.java:237)
	org.apache.maven.wagon.providers.http.HttpWagon.get(HttpWagon.java:208)
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:700)
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:563)
	org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:171)
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:255)
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:169)
	org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:115)
	org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:106)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
{code}",Major,Closed,Fixed,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-812,New Feature,2008-05-20T04:41:23.567Z,2008-05-20T04:41:23.567Z,2011-09-12T09:40:23.235Z,2011-09-12T09:40:23.235Z,2011-09-12T09:40:23.21Z,2011-09-12T09:40:23.21Z,artifact level security,"I would like to know if it is possible to manage access control to a specific path of repository .

Example: user ""A"" will access to only org/maven/apache/* of a repository but this path will be forbidden for user B.

I think white list and black list will be for all users. 
Do you have an idea of how can I do that? 
If I create a specific repository to user ""A"", I will duplicate the artifacts. I don't think it's a good solution.

I guess it would be possible with an Apache in front of Archiva but I would prefer to manage this in the application.
",Major,Closed,Duplicate,,,Franck HUGOT,fhugot
MRM-806,Improvement,2008-05-15T03:47:51.185Z,2008-05-15T03:47:51.185Z,2016-03-15T06:14:42.488Z,2016-03-15T06:14:42.488Z,2016-03-15T06:14:42.465Z,2016-03-15T06:14:42.465Z,add last-modified / if-modified-since / etag handling to RSS,"see: http://fishbowl.pastiche.org/2002/10/21/http_conditional_get_for_rss_hackers
",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1816,Bug,2014-03-05T18:51:27.012Z,2014-03-05T18:51:27.012Z,2014-04-05T13:33:43.141Z,2014-04-05T13:33:43.141Z,,,Archiva loses connection to Active Directory group,"I've been able to successfully configure Archiva to work with Microsoft Active Directory, however Archiva seems to lose its ability to fetch my AD group after a few hours.

I can temporarily resolve this issue by stopping the Tomcat Windows service and starting it, however this cycle needs to be perpetually repeated.

I've attached a screen shot with the error message.",Critical,Open,,,,Chris Harris,Chris Harris
MRM-1867,New Feature,2014-11-03T02:55:45.206Z,2014-11-03T02:55:45.206Z,2015-01-12T20:35:24.622Z,2015-01-12T20:35:24.622Z,2015-01-12T20:35:18.809Z,2015-01-12T20:35:18.809Z,Adding a find jar by checksum functionality to the REST api,"In 1.3.x versions, an applet gave us the possibility to know if a jar (on our local disk) was already in the repo, using the checksum files.

I would like to have this useful functionality back in v2.x,, but through a REST service : I provide a checksum code, and I get the list of artifacts that correspond to this checksum.

Thanks !",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Guimiot Isabelle,iguimiot
MRM-1879,Bug,2015-03-23T05:18:24.952Z,2015-03-23T05:18:24.952Z,2015-03-23T05:54:16.108Z,2015-03-23T05:54:16.108Z,2015-03-23T05:54:16.063Z,2015-03-23T05:54:16.063Z,Bug in create-missing-checksum consumer,"I noticed that checksum files were always created again on all the artifacts during each repo scanning. In the log, I could see messages like :

 Created missing checksum file /archiva_install/repositories/internal/com/company/project/myjar/1.2/myjar-1.2.jarsha1

There's a dot missing at the end of the path, should be myjar-1.2.jar.sha1 instead of myjar-1.2.jarsha1 , and I think this issue comes from this line in the code, file ArtifactMissingChecksumsConsumer.java :

{code}
File checksumFile = new File( this.repositoryDir, path + checksumAlgorithm[0].getExt() );
{code}

It should be :

{code}
File checksumFile = new File( this.repositoryDir, path + ""."" + checksumAlgorithm[0].getExt() );
{code}

Because without the dot, it doesn't find the checksum file, wrongly thinks it's missing, and re-creates it ! It's not a blocker bug, but it slows down large repos scanning...",Minor,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Guimiot Isabelle,iguimiot
MRM-1862,Bug,2014-09-18T11:02:07.589Z,2014-09-18T11:02:07.589Z,2014-09-18T11:02:07.589Z,2014-09-18T11:02:07.589Z,,,Can't login as admin after upgrade from 1.3.5 to 2.1.1,"After upgrading from version 1.3.5 to 2.1.1 it is not possible to log in with the admin user. The archiva.log shows a message indicating this behaviour: ""user admin not validated"". The same applies for the guest user.

The reason is, that this account is a permanent account and not flagged as ""validated"" in the existing user database. 

The solution for me was to login with another account with admin permissions and check the ""validated"" box. 
",Critical,Open,,,,Daniel Schwarz,dschwarz
MRM-1807,Bug,2014-02-20T06:44:19.498Z,2014-02-20T06:44:19.498Z,2014-11-27T04:42:57.837Z,2014-11-27T04:42:57.837Z,2014-11-05T04:40:09.665Z,2014-11-05T04:40:09.665Z,Archiva wrapper fail to start,"*Install*
download and untar or unzip depending on packaging

*procedure*
{{cd bin}}
execute 
{{./archiva start}}

open browser and hit http://localhost:8080/ show error 503.
in {{logs}} folder
{{wrapper***}} logs show massive exception.
 

everything fine on windows,or on updated archiva..",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Eric Barboni,skygolanur
MRM-1875,Bug,2015-03-01T17:16:00.691Z,2015-03-01T17:16:00.691Z,2017-04-05T19:53:42.99Z,2017-04-05T19:53:42.99Z,,,merge repository action doesn't copy signatures files,,Critical,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1838,Improvement,2014-04-30T02:13:53.4Z,2014-04-30T02:13:53.4Z,2017-04-06T22:16:39.946Z,2017-04-06T22:16:39.946Z,,,"Add a time based hold on ""delete released snapshots""","It would be nice, if the ""delete released snapshots"" flag could preserve recently build snapshots for a while. 

In general the idea is, that when we release an artifact we want to give the consumers a few days to update their POMs - If we delete the snapshot right away a lot of builds will be failing. It would be nice if one could define a number of days where snapshots should still be available (e.g. only delete snapshots which are older than e.g. 30 days or so) ",Major,Open,,,,Sascha Vogt,saschavogt
MRM-1872,Bug,2014-12-19T03:01:29.68Z,2014-12-19T03:01:29.68Z,2014-12-19T03:01:29.68Z,2014-12-19T03:01:29.68Z,,,browseGroupId returns null artifactId with json call,"When browsing a group sometimes the artifacts are not recognized as such and just as folders.

I checked and the browseGroupId json call returns artifactIds as null for those, but the xml api returns them not null",Major,Open,,,,Carlos Sanchez,carlos
MRM-1888,Bug,2015-05-08T15:07:30.786Z,2015-05-08T15:07:30.786Z,2015-05-08T15:57:42.065Z,2015-05-08T15:57:42.065Z,2015-05-08T15:57:42.031Z,2015-05-08T15:57:42.031Z,Syntax error in DOAP file release section,"DOAP files can contain details of multiple release Versions, however each must be listed in a separate release section, for example:

<release>
      <Version>
        <name>Apache XYZ</name>
        <created>2015-02-16</created>
        <revision>1.6.2</revision>
      </Version>
</release>
<release>
      <Version>
        <name>Apache XYZ</name>
        <created>2014-09-24</created>
        <revision>1.6.1</revision>
      </Version>
</release>

Please can the project DOAP be corrected accordingly?

Thanks.",Major,Closed,Invalid,,,Sebb,sebb@apache.org
MRM-1830,Bug,2014-04-15T19:05:02.378Z,2014-04-15T19:05:02.378Z,2014-04-15T23:33:21.15Z,2014-04-15T23:33:21.15Z,2014-04-15T23:33:19.552Z,2014-04-15T23:33:19.552Z,Charset applied to binary repository HTTP responses,"I am trying to set up a Karaf Cave proxy of an Archiva repository filled with OSGi bundles, and noticed that Cave would not find any OSGi bundles after scanning the repository (e.g. by traversing the URLs under the */repository/* path). When investigating why, I noticed that Archiva sends in the HTTP response Content-Type header

{noformat}
Content-Type: application/java-archive;charset=UTF-8
{noformat}

The {{;charset=UTF-8}} caught me eye, and then I looked in Cave's source and noticed it performs a full string comparison, looking for just {{application/java-archive}}. I thought perhaps the error was more on the Archiva side, as sending the charset for the binary payload seems incorrect.

To be clear, I expected to see the following header:

{noformat}
Content-Type: application/java-archive
{noformat}

Looking in Archiva's *apps/archiva/WEB-INF/web.xml* I saw why the charset parameter was provided:

{noformat}
  <filter-mapping>
    <filter-name>encodingFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
{noformat}

That filter forcibly applies the charset parameter to all responses.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Matt Magoffin,msqr
MRM-1824,Bug,2014-04-05T06:30:16.063Z,2014-04-05T06:30:16.063Z,2014-04-05T06:30:31.03Z,2014-04-05T06:30:31.03Z,2014-04-05T06:30:31.012Z,2014-04-05T06:30:31.012Z,metadata storage using Cassandra,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1889,Improvement,2015-05-11T09:25:30.645Z,2015-05-11T09:25:30.645Z,2017-04-05T20:02:01.012Z,2017-04-05T20:02:01.012Z,,,Add feedback when remote check failed,"If remote checks fail there's a cloud and a warning sign only currently. It'd be useful to get some feedback why the remote check failed in the web frontend.

Referencing the log file should be find (as long as it's copyable, not too space consuming in the web frontend and really contains helpful information (i.e. please don't add `An error occured. Please check the logs`, but `The error ""[useful error title] occured because [useful error cause]. Please check the log file [full path to log file] for details`)",Major,Open,,,,Karl Richter,krichter
MRM-1877,Bug,2015-03-22T21:46:41.791Z,2015-03-22T21:46:41.791Z,2015-03-23T05:54:01.284Z,2015-03-23T05:54:01.284Z,2015-03-22T22:33:07.082Z,2015-03-22T22:33:07.082Z,Checksum files always recreated,"Checksum files are always created for each repo scan due to a wrong File path.
See http://markmail.org/message/44uoeqxhleatxvvw",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1822,Bug,2014-04-03T05:41:35.595Z,2014-04-03T05:41:35.595Z,2014-08-07T23:27:37.232Z,2014-08-07T23:27:37.232Z,2014-08-07T23:27:37.173Z,2014-08-07T23:27:37.173Z,reset admin password in MySQL,To copy and paste the password hash on the MySQL database does not work. ,Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Andreas Ernst,andreas_ernst
MRM-1858,Bug,2014-09-03T08:09:57.053Z,2014-09-03T08:09:57.053Z,2014-09-03T18:46:01.677Z,2014-09-03T18:46:01.677Z,2014-09-03T18:45:45.085Z,2014-09-03T18:45:45.085Z,Javascript error when no archiva_login cookie present,"When the archiva_login cookie is not present the method to retrieve the user session fails with a javascript error.  This causes the main page to not load correctly.

Adding the snippet below fixes the issue - but probably doesn't conform to your style guidelines.

js/archiva/main.js:68
{code}
    if(!cookieContent) return null;
{code}

The underlying problem is that cookieContent is undefined and the call to {code}$.parseJSON(cookieContent);{code} requires valid JSON.

{quote}
http://api.jquery.com/jquery.parsejson/
Prior to jQuery 1.9, $.parseJSON returned null instead of throwing an error if it was passed an empty string, null, or undefined, even though those are not valid JSON.
{quote}",Major,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Derek Bodin,bodinda
MRM-1835,Improvement,2014-04-24T03:45:58.069Z,2014-04-24T03:45:58.069Z,2014-04-24T03:45:58.069Z,2014-04-24T03:45:58.069Z,,,Improvements to search,"Currently the search only returns at max 30 artifacts and then duplicates the results for each version (if the version was not part of the search query).

This as a few drawbacks:
1. It hides that you hit a search limit and that there might be more results (because the hit count changes depending on how many versions a found artifact has)
2. It is hard to see which artifacts have been found as there are many duplicate entries 

Proposal:
Use a similar way as on search.maven.org -> Only display the latest version found and display a link next to it, which shows the version overview of this artifact and the number of existing versions",Major,Open,,,,Sascha Vogt,saschavogt
MRM-1871,Bug,2014-11-22T09:58:37.648Z,2014-11-22T09:58:37.648Z,2014-11-27T04:42:57.002Z,2014-11-27T04:42:57.002Z,2014-11-24T16:45:46.183Z,2014-11-24T16:45:46.183Z,ConcurrentModificationException in DefaultRepositoryProxyConnectors,"Hi,

we use Archiva version 2.1.1, and have serious errors. We get randomly but
several times Server Error 500 if we are getting artifacts from the
repository. In the archiva logs I see a lot of such errors:

    java.util.
ConcurrentModificationException
      at java.util.ArrayList$Itr.checkForComodification(Unknown Source)
      at java.util.ArrayList$Itr.next(Unknown Source)
      at
org.apache.archiva.proxy.DefaultRepositoryProxyConnecto
rs.fetchMetatadaFromProxies(DefaultRepositoryProxyConnectors.java:460)
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.
fetchContentFromProxies(ArchivaDavResourceFactory.java:795)
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.processRepository(
ArchivaDavResourceFactory.java:629)
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.
processRepositoryGroup(ArchivaDavResourceFactory.java:494)
      at
org.apache.archiva.webdav.ArchivaDavResourceFactory.createResource(
ArchivaDavResourceFactory.java:263)
      at
org.apache.archiva.webdav.RepositoryServlet.service(
RepositoryServlet.java:125)
      at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
      at
org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)
      at
org.eclipse.jetty.servlet.ServletHandler.doHandle(
ServletHandler.java:501)
      at
org.eclipse.jetty.server.handler.ScopedHandler.handle(
ScopedHandler.java:137)
      at
org.eclipse.jetty.security.SecurityHandler.handle(
SecurityHandler.java:557)
      at
org.eclipse.jetty.server.session.SessionHandler.
doHandle(SessionHandler.java:231)
      at
org.eclipse.jetty.server.handler.ContextHandler.
doHandle(ContextHandler.java:1086)
      at
org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)
      at
org.eclipse.jetty.server.session.SessionHandler.
doScope(SessionHandler.java:193)
      at
org.eclipse.jetty.server.handler.ContextHandler.
doScope(ContextHandler.java:1020)
      at
org.eclipse.jetty.server.handler.ScopedHandler.handle(
ScopedHandler.java:135)
      at
org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(
ContextHandlerCollection.java:255)
      at
org.eclipse.jetty.server.handler.HandlerCollection.
handle(HandlerCollection.java:154)
      at
org.eclipse.jetty.server.handler.HandlerWrapper.handle(
HandlerWrapper.java:116)
      at org.eclipse.jetty.server.Server.handle(Server.java:370)
      at
org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(
AbstractHttpConnection.java:494)
      at
org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(
AbstractHttpConnection.java:971)
      at
org.eclipse.jetty.server.AbstractHttpConnection$
RequestHandler.headerComplete(AbstractHttpConnection.java:1033)
      at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)
      at
org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
      at
org.eclipse.jetty.server.AsyncHttpConnection.handle(
AsyncHttpConnection.java:82)
      at
org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(
SelectChannelEndPoint.java:667)
      at
org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(
SelectChannelEndPoint.java:52)
      at
org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(
QueuedThreadPool.java:608)
      at
org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(
QueuedThreadPool.java:543)
      at java.lang.Thread.run(Unknown Source)

Is this a configuration problem, or a bug in the archiva code?

Regards,
Franky

Frank GÃ¡bor",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Dave Brosius,dbrosius
MRM-1834,Improvement,2014-04-23T08:42:21.317Z,2014-04-23T08:42:21.317Z,2014-04-23T21:05:16.141Z,2014-04-23T21:05:16.141Z,2014-04-23T21:05:16.123Z,2014-04-23T21:05:16.123Z,Add limit to index search query to prevent unnecessary calculations,"The MavenRespositorySearch doesn't set the max count within the FlatSearchRequest which might result in queries returning many thousands of results which the UI is silently discarding. 

Worse: These searches can totally kill the server.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1857,Bug,2014-08-01T00:06:46.346Z,2014-08-01T00:06:46.346Z,2014-08-01T00:10:13.129Z,2014-08-01T00:10:13.129Z,2014-08-01T00:10:12.54Z,2014-08-01T00:10:12.54Z,RSS feeds do not work after Struts upgrade,Struts is grabbing them and not finding the feeds servlet. May also impact the XMLRPC interface.,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1881,Bug,2015-04-08T11:16:05.034Z,2015-04-08T11:16:05.034Z,2016-09-12T14:43:17.624Z,2016-09-12T14:43:17.624Z,,,Release 2.2.0 does not work with PostgreSQL,"It seems that support for PostgreSQL is broken and mostly undocumented.

There a few things that need to be addressed:
* Include PostgreSQL ODBC driver in the build, no need to keep it outside only to make the installation harder. 
* Include commented out PostreSQL database configuration inside /conf/jetty.conf  including 

{noformat}
<New id=""users"" class=""org.eclipse.jetty.plus.jndi.Resource"">
    <Arg>jdbc/users</Arg>
    <Arg>
      <New class=""org.apache.tomcat.jdbc.pool.DataSource"">
        <Set name=""driverClassName"">org.postgresql.Driver</Set>
        <Set name=""url"">jdbc:postgresql://localhost/archiva</Set>
        <Set name=""name"">ArchivaApp</Set>
        <Set name=""username"">archiva</Set>
        <Set name=""password"">archivasecret</Set>
        <Set name=""maxWait"">10000</Set>
        <Set name=""removeAbandonedTimeout"">10000</Set>
        <Set name=""initialSize"">15</Set>
        <Set name=""maxActive"">30</Set>        
        <Set name=""removeAbandoned"">true</Set>
        <Set name=""logAbandoned"">true</Set>
        <Set name=""testOnBorrow"">true</Set>
        <Set name=""validationQuery"">select 1</Set>
        <Set name=""testOnReturn"">false</Set>
        <Set name=""defaultTransactionIsolation"">8</Set>
      </New>
    </Arg>
  </New>
{noformat}

Also even with these changes being made it seems that Archiva is not properly initialized. The database tables are created with the default admin account but we cannot validate the admin account (email confirmation fails). We will attach the logs.

Here are few excerpts from the logs:
{noformat}
INFO   | jvm 1    | 2015/04/07 17:34:15 | 2015-04-07 17:34:15.209:WARN:oejw.WebAppContext:Failed startup of context o.e.j.w.WebAppContext{/,file:/opt/archiva/apps/archiva/},/opt/archiva/apps/archiva
INFO   | jvm 1    | 2015/04/07 17:34:15 | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaServices': Cannot resolve reference to bean 'authenticationInterceptor
INFO   | jvm 1    | 2015/04/07 17:34:15 |   at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)
INFO   | jvm 1    | 2015/04/07 17:34:15 |   at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)
INFO   | jvm 1    | 2015/04/07 17:34:15 |   at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/04/07 17:34:15 | Caused by:
INFO   | jvm 1    | 2015/04/07 17:34:15 | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationInterceptor#rest': Injection of autowired dependencies failed;
INFO   | jvm 1    | 2015/04/07 17:34:15 |   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)

2015-04-07 17:34:13,313 [WrapperSimpleAppMain] INFO  org.apache.archiva.web.security.ArchivaRbacManager [] - use rbacManagerIds: '[jdo]'
2015-04-07 17:34:13,452 [WrapperSimpleAppMain] WARN  JPOX.Plugin [] - Extension Point ""org.eclipse.jdt.apt.core.annotationProcessorFactory"" not registered, but plugin """" defined in jar:file:/opt/archiva/apps
/archiva/WEB-INF/lib/org.eclipse.sisu.inject-0.0.0.M2a.jar!/plugin.xml refers to it.
2015-04-07 17:34:13,471 [WrapperSimpleAppMain] WARN  JPOX.Plugin [] - Extension Point ""org.eclipse.jdt.apt.core.annotationProcessorFactory"" not registered, but plugin """" defined in jar:file:/opt/archiva/apps
/archiva/WEB-INF/lib/org.eclipse.sisu.inject-0.0.0.M2a.jar!/plugin.xml refers to it.
2015-04-07 17:34:13,660 [WrapperSimpleAppMain] INFO  org.apache.archiva.redback.role.DefaultRoleManager [] - loading System
2015-04-07 17:34:14,867 [WrapperSimpleAppMain] INFO  org.apache.archiva.redback.role.processor.DefaultRoleModelProcessor [] - time to process roles model: 191 ms
2015-04-07 17:34:14,873 [WrapperSimpleAppMain] INFO  org.apache.archiva.redback.role.DefaultRoleManager [] - loading Archiva
2015-04-07 17:34:15,129 [WrapperSimpleAppMain] INFO  org.apache.archiva.redback.role.processor.DefaultRoleModelProcessor [] - time to process roles model: 156 ms
2015-04-07 17:34:15,130 [WrapperSimpleAppMain] INFO  org.apache.archiva.redback.role.DefaultRoleManager [] - DefaultRoleManager initialize time 1527
2015-04-07 17:34:15,165 [WrapperSimpleAppMain] WARN  org.springframework.web.context.support.XmlWebApplicationContext [] - Exception encountered during context initialization - cancelling refresh attempt
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaServices': Cannot resolve reference to bean 'authenticationInterceptor#rest' while setting bean property 'provid
ers' with key [1]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationInterceptor#rest': Injection of autowired dependencies failed; nes
ted exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.users.UserManager org.apache.archiva.redback.rest.services.interceptors.
AuthenticationInterceptor.userManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userManager#archiva': Injection of autowired dependencies fa
iled; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.admin.model.runtime.RedbackRuntimeConfigurationAdmin org.apache.archiva
.web.security.ArchivaConfigurableUsersManager.redbackRuntimeConfigurationAdmin; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redbackRuntimeConfi
gurationAdmin#default': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private java.util.List org.apache.ar
chiva.admin.repository.AbstractRepositoryAdmin.auditListeners; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'auditListener#metadata': Injection o
f autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.metadata.repository.RepositorySessionFactory
 org.apache.archiva.audit.MetadataAuditListener.repositorySessionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repositorySessionFactory#
jcr': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.metadata.repository.Metadat
aResolver org.apache.archiva.metadata.repository.jcr.JcrRepositorySessionFactory.metadataResolver; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '
metadataResolver#default': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.metada
ta.repository.storage.RepositoryStorage org.apache.archiva.metadata.repository.DefaultMetadataResolver.repositoryStorage; nested exception is org.springframework.beans.factory.BeanCreationException: Error cr
eating bean with name 'repositoryStorage#maven2': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private or
g.apache.archiva.admin.model.managed.ManagedRepositoryAdmin org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryStorage.managedRepositoryAdmin; nested exception is org.springframework.beans
.factory.BeanCreationException: Error creating bean with name 'managedRepositoryAdmin#default': Invocation of init method failed; nested exception is org.apache.archiva.admin.model.RepositoryAdminException:
Cannot forcefully unlock a NativeFSLock which is held by another indexer component: /opt/archiva/repositories/repositories/snapshots/repositories/snapshots/.indexer/write.lock
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359) ~[spring-beans-4.1.4.RELEASE.jar:4.1.4.RELEASE]
{noformat}

",Critical,Open,,,,Sorin Sbarnea,sbarnea
MRM-1821,Improvement,2014-04-01T17:47:46.09Z,2014-04-01T17:47:46.09Z,2014-04-01T17:47:46.09Z,2014-04-01T17:47:46.09Z,,,Use appassembler plugin 1.7 (better wrapper selection),"Appassembler scripts of 1.3.x branches were not able to start on x64 arch due to usage of 1.0 appassembler plugin.

I migrate to very last version (1.7 at the time) so windows x64 wrapper is now usable.
2.0.x branches http://svn.apache.org/r1583810
1.3.x branches http://svn.apache.org/r1583496

No possibility to test on solaris and macosx",Major,Open,,,,Eric Barboni,skygolanur
MRM-1811,Bug,2014-03-05T12:35:44.454Z,2014-03-05T12:35:44.454Z,2014-11-27T04:43:02.042Z,2014-11-27T04:43:02.042Z,2014-10-14T13:36:06.636Z,2014-10-14T13:36:06.636Z,Users - Manage section: pagination needs to change,"Hi.  I've configured Archiva to pull users from Active Direcotry.

The number of users being returned results in 2001 boxes being populated under the users table.

I'm trying to find my AD user, but I have to click on each page navigation box.  This gets to be a real pain having to scroll down to the bottom, click the link, and then scroll back to the top.  Since the table re-renders via AJAX, there was no indication that the current page had changed.

It seems like a better approach would be to have the pagination UI controlled via a:
<First Page Previous Page Next Page Last Page>
...setup or something similar.",Major,Closed,Fixed,Eric Barboni,skygolanur,Chris Harris,Chris Harris
MRM-1800,Bug,2014-01-29T13:12:51.599Z,2014-01-29T13:12:51.599Z,2014-01-29T13:12:51.599Z,2014-01-29T13:12:51.599Z,,,"""filename format is invalid, should start with artifactId as stated in path""","As reported on the mailing list, I am trying to configure Apache Archiva 1.3.6 as a proxy, but it will not cache the file:
  http://repo1.maven.org/maven2/com/earldouglas/xsbt-web-plugin_2.10_0.13/0.6.0/xsbt-web-plugin-0.6.0.pom

My path to the file seems to be:
  http://myserver/archiva/repository/internal/com/earldouglas/xsbt-web-plugin_2.10_0.13/0.6.0/xsbt-web-plugin-0.6.0.pom

It replies with the error:
==============
Problem accessing
/archiva/repository/internal/com/earldouglas/xsbt-web-plugin_2.10_0.13/0.6.0/xsbt-web-plugin-0.6.0.pom.
Reason:
    Invalid path to Artifact: filename format is invalid, should start
with artifactId as stated in path.
==============
",Major,Open,,,,Kim Hansen,kimrthansen
MRM-1893,Bug,2015-06-21T13:25:02.111Z,2015-06-21T13:25:02.111Z,2016-05-24T23:04:37.034Z,2016-05-24T23:04:37.034Z,2015-06-22T08:22:53.375Z,2015-06-22T08:22:53.375Z,Please delete old releases from mirroring system,"To reduce the load on the ASF mirrors, projects are required to delete old releases [1]

Please can you remove all non-current releases?
i.e. 2.1.1
Thanks!

[1] http://www.apache.org/dev/release.html#when-to-archive
",Major,Closed,Fixed,Eric Barboni,skygo,Sebb,sebb@apache.org
MRM-1802,Improvement,2014-02-09T16:35:01.282Z,2014-02-09T16:35:01.282Z,2014-04-05T06:22:27.735Z,2014-04-05T06:22:27.735Z,2014-04-01T23:04:27.359Z,2014-04-01T23:04:27.359Z,Find a cache solution for browsing part (especially root browsing),"Browse page can be very slow (especially when browing root).
We need to find a caching solution for that.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1814,Bug,2014-03-05T15:01:29.648Z,2014-03-05T15:01:29.648Z,2014-09-03T18:46:28.816Z,2014-09-03T18:46:28.816Z,2014-09-03T18:46:28.707Z,2014-09-03T18:46:28.707Z,Apache Archiva 2.0.0 - Deployment Issue,"However, when I try to deploy the artifact through eclipse (Kepler) Im getting the below error.

Error code 405, HTTP method PUT is not supported by this URL

For more details pls refer http://stackoverflow.com/questions/19313521/apache-archiva-1-4-m4-deployment-issue",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,BK Lau,bklau2006
MRM-1823,Bug,2014-04-05T06:21:32.736Z,2014-04-05T06:21:32.736Z,2014-04-05T06:23:04.239Z,2014-04-05T06:23:04.239Z,2014-04-05T06:23:04.127Z,2014-04-05T06:23:04.127Z,java 1.7 as prerequisite,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1899,Bug,2015-08-27T16:00:58.348Z,2015-08-27T16:00:58.348Z,2017-04-05T20:00:00.909Z,2017-04-05T20:00:00.909Z,,,Artifact checksums not always generated for remote proxy,"Archiva sometimes does not create checksums (and metadata) for proxied POM-only artifacts from remote repository when they are downloaded for the first time. It downloads the .pom and writes the pom's content to .sha1 and .md5 files.

Any tool using the checksum files will fail, because they do not contain checksums but are corrupt (i. e. they contain the XML content from the POM).

Running a directory scan on the managed repository fixes the checksum files and creates the metadata.

I can reproduce this behaviour everytime on an empty repository, when I try to download artifacts from Maven Central proxy with Gradle. I've attached the Archiva logs (with INFO level enabled). You can see that checksums for org/apache/apache/13/apache-13.pom are only created after manually starting a directory scan.",Major,Open,,,,Gwyn Connor,gwyn
MRM-1806,Bug,2014-02-17T18:04:45.307Z,2014-02-17T18:04:45.307Z,2016-03-25T23:06:11.134Z,2016-03-25T23:06:11.134Z,,,Filelock unit test issue on windows file system,"DefaultFileLockManagerTimeoutTest testTimeout is failing on line 78
because of an execption raised in FileUtils.copyFile

java.io.IOException: The process cannot access the file because another process has locked a portion of the file
FileUtils.copyFile( largeJar, lock.getFile() );

It's disrupting behaviour of plugin on windows 8.1.


https://issues.apache.org/jira/browse/IO-376 is showing similar symptom.",Major,Open,,,,Eric Barboni,skygolanur
MRM-1842,Bug,2014-05-05T21:15:17.735Z,2014-05-05T21:15:17.735Z,2014-05-05T21:33:27.357Z,2014-05-05T21:33:27.357Z,2014-05-05T21:33:27.132Z,2014-05-05T21:33:27.132Z,Remove per default log4j2 Async Logging,Due to some complain on cpu usage the default async logging will be removed,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1833,Bug,2014-04-23T08:36:08.101Z,2014-04-23T08:36:08.101Z,2014-04-23T21:05:01.467Z,2014-04-23T21:05:01.467Z,2014-04-23T21:05:01.13Z,2014-04-23T21:05:01.13Z,"Nullpointer when browsing artifacts which have dependencies with scope ""import""","When browsing artifacts with dependencies with scope ""import"" the following NPE occurs.

Caused by: java.lang.NullPointerException
        at org.apache.archiva.metadata.repository.storage.maven2.RepositoryModelResolver.resolveModel(RepositoryModelResolver.java:129) ~[maven2-repository-2.0.1.jar:?]
        at org.apache.maven.model.building.DefaultModelBuilder.readParentExternally(DefaultModelBuilder.java:813) ~[maven-model-builder-3.0.5.jar:3.0.5]


This seems to be caused by the RepositoryModelResolver.newCopy() method, which uses the ""small"" constructor instead of the full constructor. 
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1884,Bug,2015-04-26T12:47:11.789Z,2015-04-26T12:47:11.789Z,2015-04-27T12:31:27.651Z,2015-04-27T12:31:27.651Z,,,"org.apache.archiva.admin.repository.ValidatorTest.organisationInfoUpdate fails with ""junit.framework.AssertionFailedError: Expected: <null> but was: http://foo.com/bar.png""","see attached build log

experienced with git commit e5500cce83acba6a3a756b38620c510f3d00263e",Major,Open,,,,Karl Richter,krichter
MRM-1886,Bug,2015-04-29T14:41:05.358Z,2015-04-29T14:41:05.358Z,2016-05-24T23:04:46.358Z,2016-05-24T23:04:46.358Z,2015-05-05T00:52:40.793Z,2015-05-05T00:52:40.793Z,View Artifact Content Action does not Work ,"When browsing artifacts and selecting a particular artifact version and selecting ""Artifacts"" tab the list of artifacts is correctly shown. However when clicking on the magnifying glass icon (""View Artifact Content"") nothing is shown in the File Content area. This used to work in 2.1.1 for packaging jar and pom at least.",Minor,Closed,Fixed,Eric Barboni,skygo,Nenad Kovacevic,nenadk
MRM-1826,Bug,2014-04-08T08:49:31.229Z,2014-04-08T08:49:31.229Z,2014-04-11T07:51:10.99Z,2014-04-11T07:51:10.99Z,2014-04-10T02:42:33.981Z,2014-04-10T02:42:33.981Z,Force Internet Explorer into Standards Mode,"In our company, IE9 is configured under Tools | Compatibility View Settings to  display all Intranet Sites in Compatibility View.

This causes Archiva to display issues, such as a progress indicator which never goes away.

I think the fix for this may be to force standard behavior via this addition to index.html:

<meta http-equiv=""X-UA-Compatible"" content=""IE=edge"">",Minor,Closed,Fixed,Eric Barboni,skygolanur,deckrider,deckrider
MRM-1803,Bug,2014-02-11T04:17:25.893Z,2014-02-11T04:17:25.893Z,2014-03-05T22:29:16.568Z,2014-03-05T22:29:16.568Z,2014-03-05T22:29:16.409Z,2014-03-05T22:29:16.409Z,ClassCastException: org.apache.xalan.processor.TransformerFactoryImpl,"Caused by: java.lang.ClassCastException:
org.apache.xalan.processor.TransformerFactoryImpl incompatible with
javax.xml.transform.TransformerFactory
        at javax.xml.transform.TransformerFactory.newInstance(Unknown
Source) ~[xml-apis-1.4.01.jar:?]
        at
org.apache.commons.configuration.XMLConfiguration.createTransformer(XMLConfiguration.java:1031)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.XMLConfiguration.save(XMLConfiguration.java:969)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.AbstractHierarchicalFileConfiguration$FileConfigurationDelegate.save(AbstractHierarchicalFileConfiguration.java:570)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:557)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:524)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:474)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.AbstractFileConfiguration.save(AbstractFileConfiguration.java:414)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.save(AbstractHierarchicalFileConfiguration.java:214)
~[commons-configuration-1.9.jar:1.9]
        at
org.apache.archiva.redback.components.registry.commons.CommonsConfigurationRegistry.save(CommonsConfigurationRegistry.java:173)
~[spring-registry-commons-2.2.jar:?]
        at
org.apache.archiva.configuration.DefaultArchivaConfiguration.save(DefaultArchivaConfiguration.java:527)
~[archiva-configuration-2.0.0.jar:?]
        at
org.apache.archiva.admin.repository.runtime.DefaultRedbackRuntimeConfigurationAdmin.updateRedbackRuntimeConfiguration(DefaultRedbackRuntimeConfigurationAdmin.java:291)
~[archiva-repository-admin-default-2.0.0.jar:?]
        at
org.apache.archiva.admin.repository.runtime.DefaultRedbackRuntimeConfigurationAdmin.getList(DefaultRedbackRuntimeConfigurationAdmin.java:672)
~[archiva-repository-admin-default-2.0.0.jar:?]
        at
org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.configurePolicy(DefaultUserSecurityPolicy.java:137)
~[redback-policy-2.2.jar:2.2]
        at
org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.initialize(DefaultUserSecurityPolicy.java:103)
~[redback-policy-2.2.jar:2.2]
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
~[?:1.6.0]
        at
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)
~[?:1.6.0]
        at
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
~[?:1.6.0]
        at java.lang.reflect.Method.invoke(Method.java:600) ~[?:1.6.0]
        at
org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
~[spring-beans-4.0.1.RELEASE.jar:4.0.1.RELEASE]
        at",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1808,Bug,2014-03-03T18:27:16.017Z,2014-03-03T18:27:16.017Z,2014-03-05T23:03:30.977Z,2014-03-05T23:03:30.977Z,2014-03-05T23:03:30.931Z,2014-03-05T23:03:30.931Z,Cannot drag and drop UI blocks in General tab of Users Runtime Configuration section,"I can't ""grab"" the boxes within the General tab of the Users Runtime Configuration using Waterfox.  I can drag and drop the boxes using Chrome and Safari on Win7 and OS X.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1810,Bug,2014-03-05T12:27:16.516Z,2014-03-05T12:27:16.516Z,2014-11-27T04:43:01.609Z,2014-11-27T04:43:01.609Z,2014-10-08T20:11:05.748Z,2014-10-08T20:11:05.748Z,LDAP - groups config not available in Users Runtime Configuration - Properties,"When attempting to get Archiva working with Microsoft Active Directory, I had to manually modify archiva.xml.

I had to locate:
<ldap>
    <config>
         <groups>
              <member>blah blah</member>
              <class>blah blah</class>
         </groups>
    </config>
</ldap>

...and change the config values to ""member"" & ""group"" respectively.

This config should be UI-configurable in the Properties section.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1820,Task,2014-03-29T20:06:38.775Z,2014-03-29T20:06:38.775Z,2014-03-29T20:07:02.988Z,2014-03-29T20:07:02.988Z,2014-03-29T20:07:02.717Z,2014-03-29T20:07:02.717Z,Upgrade Struts to 2.3.16.1,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1860,Bug,2014-09-11T19:54:50.428Z,2014-09-11T19:54:50.428Z,2014-11-27T04:42:58.683Z,2014-11-27T04:42:58.683Z,2014-09-11T19:55:30.611Z,2014-09-11T19:55:30.611Z,ClassNotFound exception with JBoss,The redback-integration artifact still contains some references on taglibs which doesn't exist anymore this cause a failure when deploying in jboss.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1890,Bug,2015-05-18T17:24:26.388Z,2015-05-18T17:24:26.388Z,2015-05-21T01:08:53.628Z,2015-05-21T01:08:53.628Z,2015-05-20T08:38:12.237Z,2015-05-20T08:38:12.237Z,remote index download url doubled?,"there might be a problem with the remote repository indexing. once  i press scan immediately, it just stops without any progress. when i check the archiva.log file it listed that archiva tries to access the wrong url

Caused by: java.io.FileNotFoundException: File: http://repo.maven.apache.org/maven2/.index/nexus-maven-repository-index.properties/nexus-maven-repository-index.properties , ReasonPhrase:Not Found.

as you can see, the phrase ""nexus-maven-repository-index.properties"" got doubled at the end. this is the result no matter what i type in the remote index url field in the remote repository settings",Major,Closed,Not A Problem,,,irfani arief,funster
MRM-1812,Bug,2014-03-05T12:39:59.182Z,2014-03-05T12:39:59.182Z,2014-05-06T02:14:38.291Z,2014-05-06T02:14:38.291Z,2014-05-06T01:59:35.007Z,2014-05-06T01:59:35.007Z,"Users - Manage section needs Sort by User Name, Sort by Full Name, and Sort by Email buttons","The Manage page only has a Sort by Name button.  As to which field the button actually sorts by is not clear.  It could sort by User Name or Full Name.

I think that there should be 3 buttons:
""Sort by User Name""
""Sort by Full Name""
""Sort by Email""",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1850,Bug,2014-07-09T11:11:58.873Z,2014-07-09T11:11:58.873Z,2014-07-09T11:11:58.873Z,2014-07-09T11:11:58.873Z,,,NPE while browsing artifact with missing pom,"The browsing page for some artifacts is failing with the following error:

An error has happened you must contact the administrator to check the logs.

2014-07-09 12:02:13,855 [http-apr-8080-exec-265] ERROR org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver [] - Error occurred during error handling, give up!
org.apache.cxf.interceptor.Fault
        at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:162) ~[AbstractInvoker.class:2.6.13]
        at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:128) ~[AbstractInvoker.class:2.6.13]
        at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:165) ~[JAXRSInvoker.class:2.6.13]
        at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:89) ~[JAXRSInvoker.class:2.6.13]
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:57) ~[ServiceInvokerInterceptor$1.class:2.6.13]
        at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:93) ~[ServiceInvokerInterceptor.class:2.6.13]
        at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263) [PhaseInterceptorChain.class:2.6.13]
        at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121) [ChainInitiationObserver.class:2.6.13]
        at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:237) [AbstractHTTPDestination.class:2.6.13]
        at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:239) [ServletController.class:2.6.13]
        at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:213) [ServletController.class:2.6.13]
        at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:131) [CXFNonSpringServlet.class:2.6.13]
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:266) [AbstractHTTPServlet.class:2.6.13]
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:191) [AbstractHTTPServlet.class:2.6.13]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:618) [servlet-api.jar:?]
        at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:242) [AbstractHTTPServlet.class:2.6.13]
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291) [catalina.jar:8.0.9]
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.9]
        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-websocket.jar:8.0.9]
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.9]
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.9]
        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) [CharacterEncodingFilter.class:4.0.2.RELEASE]
        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:108) [OncePerRequestFilter.class:4.0.2.RELEASE]
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239) [catalina.jar:8.0.9]
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) [catalina.jar:8.0.9]
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219) [catalina.jar:8.0.9]
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [catalina.jar:8.0.9]
        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503) [catalina.jar:8.0.9]
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:136) [catalina.jar:8.0.9]
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [catalina.jar:8.0.9]
        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:610) [catalina.jar:8.0.9]
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [catalina.jar:8.0.9]
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:526) [catalina.jar:8.0.9]
        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1078) [tomcat-coyote.jar:8.0.9]
        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:655) [tomcat-coyote.jar:8.0.9]
        at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:277) [tomcat-coyote.jar:8.0.9]
        at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2381) [tomcat-coyote.jar:8.0.9]
        at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2370) [tomcat-coyote.jar:8.0.9]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [?:1.7.0_09]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [?:1.7.0_09]
        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-util.jar:8.0.9]
        at java.lang.Thread.run(Unknown Source) [?:1.7.0_09]
Caused by: java.lang.NullPointerException
        at org.apache.archiva.metadata.repository.storage.maven2.RepositoryModelResolver.resolveModel(RepositoryModelResolver.java:129) ~[RepositoryModelResolver.class:?]
        at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagement(DefaultModelBuilder.java:953) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:400) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:371) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:362) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagement(DefaultModelBuilder.java:985) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:400) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:371) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:362) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:232) ~[DefaultModelBuilder.class:3.0.5]
        at org.apache.archiva.metadata.repository.storage.maven2.Maven2RepositoryStorage.readProjectVersionMetadata(Maven2RepositoryStorage.java:287) ~[Maven2RepositoryStorage.class:?]
        at org.apache.archiva.metadata.repository.DefaultMetadataResolver.resolveProjectVersions(DefaultMetadataResolver.java:319) ~[DefaultMetadataResolver.class:2.0.1]
        at org.apache.archiva.rest.services.DefaultBrowseService.getVersions(DefaultBrowseService.java:240) ~[DefaultBrowseService.class:?]
        at org.apache.archiva.rest.services.DefaultBrowseService.getProjectVersionMetadata(DefaultBrowseService.java:312) ~[DefaultBrowseService.class:?]
        at sun.reflect.GeneratedMethodAccessor517.invoke(Unknown Source) ~[?:?]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.7.0_09]
        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.7.0_09]
        at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180) ~[AbstractInvoker.class:2.6.13]
        at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96) ~[AbstractInvoker.class:2.6.13]
        ... 40 more

When I check the artifact in questions in the repository health section, it appears that for some reason the pom.xml for the artifact is missing.  I suspect that is causing the NPE.
",Major,Open,,,,Jeffrey Hagelberg,jnhagelb
MRM-1818,Task,2014-03-26T07:04:42.401Z,2014-03-26T07:04:42.401Z,2015-04-07T18:54:10.34Z,2015-04-07T18:54:10.34Z,2014-03-26T07:18:24.607Z,2014-03-26T07:18:24.607Z,Please delete old releases from mirroring system,"To reduce the load on the ASF mirrors, projects are required to delete old releases [1]

Please can you remove all non-current releases?

Thanks!

[Note that older releases are always available from the ASF archive server]

[1] http://www.apache.org/dev/release.html#when-to-archive",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sebb,sebb@apache.org
MRM-1883,Bug,2015-04-26T12:23:01.107Z,2015-04-26T12:23:01.107Z,2015-04-26T17:53:36.727Z,2015-04-26T17:53:36.727Z,,,appserver.home and appserver.base in WEB-INF/classes/application.properties aren't picked up,"specifying 

    appserver.base=/path/to/base
    appserver.home=/path/to/base

in `webapps/archiva/WEB-INF/classes/archiva.properties` as recommended in http://archiva.apache.org/docs/2.2.0/adminguide/webapp.html causes the error 

    Apr 26, 2015 1:45:36 PM org.apache.catalina.core.StandardContext listenerStop
    SCHWERWIEGEND: Exception sending context destroyed event to listener instance of class org.apache.archiva.web.startup.ArchivaStartup
    org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'jcr-config' defined in URL [file:/var/lib/archiva/apache-tomcat-7.0.61/webapps/apache-archiva-2.2.0/WEB-INF/classes/META-INF/spring-context.xml]: Could not resolve placeholder 'appserver.base' in string value ""${appserver.base}/conf/repository.xml""; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'appserver.base' in string value ""${appserver.base}/conf/repository.xml""
	    at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:211)
	    at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:223)
	    at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:86)
	    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:265)
	    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:162)
	    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:606)
	    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:462)
	    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)
	    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)
	    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)
	    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)
	    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5528)
	    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
	    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
	    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)
	    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1090)
	    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1900)
	    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	    at java.lang.Thread.run(Thread.java:745)
    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'appserver.base' in string value ""${appserver.base}/conf/repository.xml""
	    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	    at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer$PlaceholderResolvingStringValueResolver.resolveStringValue(PropertyPlaceholderConfigurer.java:259)
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitGenericArgumentValues(BeanDefinitionVisitor.java:159)
	    at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:85)
	    at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:208)
	    ... 22 more

The start occurs with `bin/catalina.sh run` after setting up `archiva` according to the referenced installation guide.",Major,Open,,,,Karl Richter,krichter
MRM-1845,Bug,2014-06-03T12:00:25.651Z,2014-06-03T12:00:25.651Z,2014-06-04T03:48:31.328Z,2014-06-04T03:48:31.328Z,,,Virtual repository not accessible behind https reverse proxy,"+Context+ : 
* Company with multiple repositories (internet/proxied ... snapshot/release) => a virtual repository is configured to provide central access. 
* No credentials configured to access to Archiva (except admin).
* This _virtual_ repository is used from internet (suppliers, personal dev, etc) in *https*, a IT reverse proxy bind https internet url to intranet Archiva url.

+Use case+ : 

|| Url || Result ||
| http://repository.company-intranet.com/repository/company-releases/groupId/artifactId | works |
| http://repository.company-intranet.com/repository/virtual/groupId/artifactId | works |
| https://repository.company-internet.com/repository/company-releases/groupId/artifactId | works (with proxy credentials ... browser or maven) |
| https://repository.company-internet.com/repository/virtual/groupId/artifactId | *don't works : HTTP 401* |

_Virtual_ respository from https wan't credentials, with domain : *Repository Archiva Managed virtual Repository* (Powered by _Jetty_).

After some tests and http call analysis, _virtual_ repository has inconvenience with the header : 
{code}
Authorization: Basic Zm9vOm5pY2VUcnkh
{code}

This header is filled by reverse proxy.

_virtual_ repository has no reason to have a different security strategy compared to _classic_ repository => whence this bug.

----
+Workaround+ : If an Apache is in front of Archiva, you could cancel this problem with this configuration rule in _VirtualHost_ context (prerequisite : _headers_module_): 

{code}
RequestHeader unset Authorization
{code}",Major,Open,,,,Alix Lourme,axel3rd
MRM-1861,Bug,2014-09-17T03:44:14.788Z,2014-09-17T03:44:14.788Z,2017-05-05T11:01:06.601Z,2017-05-05T11:01:06.601Z,2017-04-05T20:09:01.413Z,2017-04-05T20:09:01.413Z,Proxy behaviour issue migrating from 1.3.x to 2.x,"Two users   (Olivier Erhart [1], Tzur Turkenitz [2]) has trouble with proxy settings trying to configure archiva 2.1.1  and had to downgrade to archiva 1.3x

{quote}
The steps to reproduce:
1) Install or upgrade archiva to 2.1.1
2) Set up a proxy
3) Set the proxy to a proxy connector
{quote}

{quote}
I'm following these simple steps:
1)      Network Proxies - Adding a new network proxy; protocol: http, host: example.proxy.com, port: 8080

2) Proxy Connectors - Add the network proxy between the Managed and Remote repositories
             i.      For some reason, when clicking on the question mark icon in the 'Proxy Connector Settings' column shows 'Network Proxy: None', even though it is set correctly and when checking the archiva.xml file under /conf it is listed there properly.

3)      Repositories -- > Remote Repositories Management, on remote check there's an icon that circles and does not resolve into a check mark.
{quote}

[1] https://www.mail-archive.com/users@archiva.apache.org/msg02757.html
[2] https://www.mail-archive.com/users@archiva.apache.org/msg02676.html",Major,Resolved,Fixed,,,Eric Barboni,skygolanur
MRM-1836,Improvement,2014-04-24T03:49:05.33Z,2014-04-24T03:49:05.33Z,2014-05-02T00:54:53.736Z,2014-05-02T00:54:53.736Z,2014-05-02T00:54:53.48Z,2014-05-02T00:54:53.48Z,Make search limit (maxCount) configurable via UI,Currently the search only returns at max 30 entries. This should be configurable when using the advanced search.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1876,Bug,2015-03-03T03:14:20.98Z,2015-03-03T03:14:20.98Z,2015-05-05T11:08:09.605Z,2015-05-05T11:08:09.605Z,,,LDAP Group Role Mappings,"I set up LDAP security for Active Directory on a fresh Archiva installation on a new server.  I'm able to see my groups listed in the LDAP/Roles Mapping tab of the Users Runtime Configuration section.  I've mapped my AD group to the System Administrator role alongside the other default role listed, which is my AD group's name.

I'm able to log in as my AD user account, however I do not have the permissions of the System Administrator role.  I can verify this fact by clicking on the Roles link and looking at the roles Parent Roles, Child Roles, and Permissions, which are all empty.  I can also verify this fact by clicking on Manage, finding my user account, and looking at the Effective Roles, which are also empty.",Major,Open,,,,Chris Harris,Chris Harris
MRM-1844,Improvement,2014-05-23T10:21:11.059Z,2014-05-23T10:21:11.059Z,2014-11-27T04:42:58.079Z,2014-11-27T04:42:58.079Z,2014-10-08T20:10:53.674Z,2014-10-08T20:10:53.674Z,Allow LDAP groupOfNames,"Redback does support only groupOfUniqueNames.
I would like to use *groupOfNames* too.

Thanks in advance",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Fabian Trampusch,trampi
MRM-1856,Bug,2014-07-29T19:19:13.159Z,2014-07-29T19:19:13.159Z,2014-07-30T00:22:46.385Z,2014-07-30T00:22:46.385Z,2014-07-30T00:22:46.169Z,2014-07-30T00:22:46.169Z,archiva-cli does not work,Multiple failures due to missing dependencies / spring configuration.,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1869,Task,2014-11-07T03:21:22.046Z,2014-11-07T03:21:22.046Z,2014-11-12T07:23:33.918Z,2014-11-12T07:23:33.918Z,,,Update to indexer 6.0,Maven indexer has some API breaking changes. I have a branch where I fixed them.,Minor,Open,,,,Carlos Sanchez,carlos
MRM-1854,Bug,2014-07-18T16:41:39.841Z,2014-07-18T16:41:39.841Z,2014-08-31T23:07:48.191Z,2014-08-31T23:07:48.191Z,2014-08-31T23:07:47.999Z,2014-08-31T23:07:47.999Z,Last modified date is epoch on directory listing for a group,"Correct for individual repositories, but is set to the epoch on a group.

# Start a new version of Archiva 2.0.1
# Create an all group with internal + snapshots

{code}
$ curl -S -I http://localhost:8080/repository/all/
HTTP/1.1 200 OK
Date: Fri, 18 Jul 2014 21:41:01 GMT
...
Last-Modified: Thu, 01 Jan 1970 00:00:00 GMT
{code}

See: https://issues.sonatype.org/browse/NEXUS-6701",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1847,Task,2014-06-04T16:08:00.808Z,2014-06-04T16:08:00.808Z,2015-04-07T18:54:29.668Z,2015-04-07T18:54:29.668Z,2014-06-04T16:50:33.199Z,2014-06-04T16:50:33.199Z,Please create a DOAP file for your TLP,"Please can you set up a DOAP for your project and get it added to files.xml?

Please see http://projects.apache.org/create.html

Once you have created the DOAP and committed it to your source code repository, please submit it for inclusion in the Apache projects listing as per:

http://projects.apache.org/create.html#submit

Remember, if you ever move or rename the doap file in future, please
ensure that files.xml is updated to point to the new location.

Thanks!",Major,Closed,Fixed,,,Sebb,sebb@apache.org
MRM-1892,Bug,2015-05-19T23:13:27.282Z,2015-05-19T23:13:27.282Z,2015-05-19T23:55:20.597Z,2015-05-19T23:55:20.597Z,2015-05-19T23:55:20.559Z,2015-05-19T23:55:20.559Z,Only One Page of Proxy Connector Rules Shown,"According to discussion in mailing list
http://www.mail-archive.com/users@archiva.apache.org/msg02866.html",Major,Closed,Fixed,Eric Barboni,skygo,Eric Barboni,skygo
MRM-1849,Bug,2014-06-30T17:20:07.646Z,2014-06-30T17:20:07.646Z,2014-07-10T01:43:26.241Z,2014-07-10T01:43:26.241Z,2014-07-02T20:35:06.554Z,2014-07-02T20:35:06.554Z,Unable to download -SNAPSHOT jars after 2.0.1 Upgrade,"We previously had SNAPSHOT artifacts that were uploaded to Archiva 1.3.6 and stored without a timestamp in the name.  The repository directory for these looks something like this:

root@somehostname:/apt/iis-maven-repo/archiva-managed-repositories/snapshots/com/whatever/my-artifact/9.1.0.2-SNAPSHOT$ ls -al
total 44
drwxr-xr-x 2 root root 4096 Jun  7  2013 .
drwxr-xr-x 9 root root 4096 Oct 21  2013 ..
-rw-r--r-- 1 root root 2274 Jun  7  2013 my-artifact-9.1.0.2-SNAPSHOT.jar
-rw-r--r-- 1 root root   77 Jun 30 17:37 my-artifact-9.1.0.2-SNAPSHOT.jar.md5
-rw-r--r-- 1 root root   85 Jun 30 17:37 my-artifact-9.1.0.2-SNAPSHOT.jar.sha1
-rw-r--r-- 1 root root  417 Jun  7  2013 my-artifact-9.1.0.2-SNAPSHOT.pom
-rw-r--r-- 1 root root   77 Jun 30 17:37 my-artifact-9.1.0.2-SNAPSHOT.pom.md5
-rw-r--r-- 1 root root   85 Jun 30 17:37 my-artifact-9.1.0.2-SNAPSHOT.pom.sha1
-rw-r--r-- 1 root root  327 Jun 30 17:37 maven-metadata.xml
-rw-r--r-- 1 root root   52 Jun  7  2013 maven-metadata.xml.md5
-rw-r--r-- 1 root root   60 Jun  7  2013 maven-metadata.xml.sha1

With Archiva 1.3.6, we were able to download this jar by adding a dependency on it:

<dependency>
    <groupId>com.whatever</groupId>
    <artifactId>my-artifact</artifactId>
    <version>9.1.0.2-SNAPSHOT</version>
</dependency>

After the upgrade to 2.0.1, maven is unable to download the artifact.  When I try to download it manually, by entering the URL for the artifact into the web browser, it is redirected to a URL that is definitely incorrect.

I enter the following URL into the web browser:

http://somehostnamecom:8080/archiva/repository/snapshots/com/whatever/my-artifact/9.1.0.2-SNAPSHOT/my-artifact-9.1.0.2-SNAPHSOT.jar

Archiva redirects the URL to this:

http://somehostnamecom:8080/archiva/repository/snapshots/com/whatever/my-artifact/9.1.0.2-SNAPSHOT/my-artifact-9.1.0.2-null-0.jar

This fails as follows:

HTTP Status 404 - Not a valid artifact path in a Maven 2 repository, filename 'connectoraccess-client-9.1.0.2-null-0.jar' doesn't contain a timestamped version matching snapshot '9.1.0.2-SNAPSHOT'

type Status report

message Not a valid artifact path in a Maven 2 repository, filename 'connectoraccess-client-9.1.0.2-null-0.jar' doesn't contain a timestamped version matching snapshot '9.1.0.2-SNAPSHOT'

description The requested resource is not available.

Apache Tomcat/8.0.9

Note the ""null"" in the filename we were redirected to.  There should not be any redirection in this case because the file we're referencing exists!

It seems we will have to re-upload a whole lot of jars to Archiva using a timestampped version unless this is fixed.",Critical,Closed,Duplicate,,,Jeffrey Hagelberg,jnhagelb
MRM-1827,Improvement,2014-04-10T02:25:26.859Z,2014-04-10T02:25:26.859Z,2017-05-24T11:48:03.864Z,2017-05-24T11:48:03.864Z,2017-05-24T11:48:03.819Z,2017-05-24T11:48:03.819Z,Redback core fail with jdk 1.7 (compiler target 1.7),"testFindUserByEmptyUsername(org.apache.archiva.redback.users.jdo.JdoUserManagerTest)  Time elapsed: 0.229 sec  <<< ERROR!
java.lang.VerifyError: Expecting a stackmap frame at branch target 20
Exception Details:
  Location:
    org/apache/archiva/redback/users/jdo/UserDatabase.jdoPreSerialize()V @4: ifnull
  Reason:
    Expected stackmap frame at this location.
  Bytecode:
    0000000: 2ab4 0067 c600 102a b400 672a b900 7f02
    0000010: 00a7 0003 b1                           

	at java.lang.Class.getDeclaredFields0(Native Method)
	at java.lang.Class.privateGetDeclaredFields(Class.java:2397)
	at java.lang.Class.getDeclaredFields(Class.java:1806)
	at org.jpox.metadata.ClassMetaData.addPropertiesNotInMetaData(ClassMetaData.java:347)
	at org.jpox.metadata.ClassMetaData.populate(ClassMetaData.java:239)
	at org.jpox.metadata.MetaDataManager.populateFileMetaData(MetaDataManager.java:1060)
	at org.jpox.metadata.JDOMetaDataManager.loadMetaDataForClass(JDOMetaDataManager.java:608)
	at org.jpox.metadata.JDOMetaDataManager.getMetaDataForClassInternal(JDOMetaDataManager.java:313)
	at org.jpox.metadata.MetaDataManager.getMetaDataForClass(MetaDataManager.java:377)
	at org.jpox.metadata.MetaDataManager.getMetaDataForClass(MetaDataManager.java:348)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.getReferencedClasses(RDBMSManager.java:2894)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTables(RDBMSManager.java:2808)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3322)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
	at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
	at org.jpox.SchemaTool.createSchemaTables(SchemaTool.java:346)
	at org.apache.archiva.redback.users.jdo.JdoUserManagerTest.setUp(JdoUserManagerTest.java:92)
",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1843,Improvement,2014-05-16T10:22:18.908Z,2014-05-16T10:22:18.908Z,2014-05-21T00:24:21.48Z,2014-05-21T00:24:21.48Z,2014-05-21T00:24:21.081Z,2014-05-21T00:24:21.081Z,provide mechanism to obtain the latest version of an artifact,"It will be very useful and convenient for a user to be able to download the ""latest"" version of an artifact. Sonatype Nexus provides such a mechanism, please see http://stackoverflow.com/questions/7911620/using-the-nexus-rest-api-to-get-latest-artifact-version-for-given-groupid-artfic and https://maven.java.net/nexus-core-documentation-plugin/core/docs/rest.artifact.maven.redirect.html

Thanks!",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1880,Bug,2015-04-07T06:50:56.316Z,2015-04-07T06:50:56.316Z,2015-04-08T09:32:53.293Z,2015-04-08T09:32:53.293Z,2015-04-08T09:32:53.251Z,2015-04-08T09:32:53.251Z,Test Notif,,Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1831,Bug,2014-04-17T16:36:12.33Z,2014-04-17T16:36:12.33Z,2014-04-17T16:36:12.33Z,2014-04-17T16:36:12.33Z,,,Repository directory path overwritten when using network path,"Setting the Directory and Index Directory to a network path works for a day, but the configuration gets re-written nightly with a bad path (not sure why the archiva.xml file is getting re-written nightly when no changes have occurred).

Example: Enter the following network path for the repository

Directory: \\mynetwork\some\folder
Index Directory: \\mynetwork\some\folder\index

The next day, the path will show as follows:

Directory: \mynetwork\some\folder
Index Directory: \mynetwork\some\folder\index

So it has now become a local relative path instead of a network path.  

This bug does not occur in 1.3.6.",Major,Open,,,,Stefan Jonasson,sjonasson
MRM-1898,Question,2015-08-14T13:50:50.602Z,2015-08-14T13:50:50.602Z,2015-11-30T06:05:56.937Z,2015-11-30T06:05:56.937Z,2015-11-30T06:05:56.902Z,2015-11-30T06:05:56.902Z,"Archiva, tomcat 7 and apache reverse proxy configuration","I installed and configured the Archiva 2.2.0 on tomcat 7 using the war file and so, all features work perfectly when I access the application directly by the IP and port .

However , when I access the application through apache server redirecting (reverse proxy), administrative functions are not displayed. Below are the reverse proxy configurations.

<VirtualHost *:80>

        ServerName archiva.company.com
        ProxyRequests Off
        ProxyPreserveHost On

        <Proxy *>
              Order deny,allow
              Allow from all
        </Proxy>


        ProxyPass / http://localhost:8075/archiva/
        ProxyPassReverse / http://localhost:8075/archiva/

</VirtualHost>





















",Major,Closed,Not A Problem,,,Keven Andrade,keven
MRM-1853,Bug,2014-07-17T08:47:31.667Z,2014-07-17T08:47:31.667Z,2014-07-23T21:09:55.915Z,2014-07-23T21:09:55.915Z,2014-07-23T21:09:55.713Z,2014-07-23T21:09:55.713Z,"On first start up, you get a perpetual loading indicator.","Unpack a brand new Archiva installation of 2.1.0, and start it up, then navigate to the home page.

You'll see the loading indicator spinning forever, even after creating the admin and navigating around behind it.

If you refresh the page, it no longer comes back.

Looks like a failed initial request that doesn't reset the Javascript?",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1828,Improvement,2014-04-13T22:53:04.114Z,2014-04-13T22:53:04.114Z,2017-05-21T23:31:52.872Z,2017-05-21T23:31:52.872Z,2017-05-21T23:31:52.832Z,2017-05-21T23:31:52.832Z,upgrade to jetty 9.4.x,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1887,Bug,2015-05-08T15:05:16.936Z,2015-05-08T15:05:16.936Z,2016-05-24T23:04:29.933Z,2016-05-24T23:04:29.933Z,2015-07-23T22:56:48.024Z,2015-07-23T22:56:48.024Z,Syntax error in DOAP file release section; wrong bug-database URL,"DOAP files can contain details of multiple release Versions, however each must be listed in a separate release section, for example:

<release>
      <Version>
        <name>Apache XYZ</name>
        <created>2015-02-16</created>
        <revision>1.6.2</revision>
      </Version>
</release>
<release>
      <Version>
        <name>Apache XYZ</name>
        <created>2014-09-24</created>
        <revision>1.6.1</revision>
      </Version>
</release>

Please can the project DOAP be corrected accordingly?

Also the DOAP still references Codehaus 

Thanks.",Major,Closed,Fixed,Eric Barboni,skygo,Sebb,sebb@apache.org
MRM-1851,Bug,2014-07-15T02:22:41.533Z,2014-07-15T02:22:41.533Z,2014-11-27T04:42:58.604Z,2014-11-27T04:42:58.604Z,2014-09-30T19:42:14.486Z,2014-09-30T19:42:14.486Z,generic metadata GUI broken,"Using the 2.0.1 version of archiva - freshly downloaded and launched (standalone) - running as the admin user, I'm unable to attach generic metadata to an artifact.  Clicking save simply results in an error that says:

""You must select a groupId ""

There is no place in the GUI to enter a groupID, nor does it seem that it should be necessary.",Major,Closed,Fixed,Eric Barboni,skygolanur,Dan Armbrust,armbrust
MRM-1897,Bug,2015-08-11T05:08:03.317Z,2015-08-11T05:08:03.317Z,2015-08-25T09:05:46.846Z,2015-08-25T09:05:46.846Z,,,Creation of maven repositories is SLOW,"I am creating 142 maven repositories using Archiva REST Api and a script. Repository creation is Slow (+2 hours)

CPU usage raise 100+

I replaced Derby Database with Postgresql, but it did not solve the speed problem.

Attached is an output of the screen with log + top command.

Below is a stack trace dump I got when repositories are being created. IT seems there is some kind of lock, but I am not sure how/if can be solved by config modification.

{code:xml}
pablo@mvnrepository:~$ 
==> /opt/apache-archiva-2.2.0/logs/wrapper-20150810.log <==
INFO   | jvm 1    | 2015/08/10 13:52:40 | 2015-08-10 13:52:40
INFO   | jvm 1    | 2015/08/10 13:52:40 | Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.51-b03 mixed mode):
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""Attach Listener"" #149 daemon prio=9 os_prio=0 tid=0x00007fbacc0cd800 nid=0x5130 runnable [0x0000000000000000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: RUNNABLE
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""qtp437362782-148"" #148 prio=5 os_prio=0 tid=0x00007fbadc152000 nid=0x512f runnable [0x00007fbae0cf7000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: RUNNABLE
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.mapping.CharRDBMSMapping.getString(CharRDBMSMapping.java:238)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.mapping.SingleFieldMapping.getString(SingleFieldMapping.java:208)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.fieldmanager.ResultSetGetter.fetchStringField(ResultSetGetter.java:100)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.replacingStringField(StateManagerImpl.java:2934)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoResource.jdoReplaceField(JdoResource.java)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoResource.jdoReplaceFields(JdoResource.java)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.replaceFields(StateManagerImpl.java:3170)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- eliminated <0x00000000e5c51290> (a org.jpox.state.StateManagerImpl)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.replaceFields(StateManagerImpl.java:3188)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e5c51290> (a org.jpox.state.StateManagerImpl)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.mapping.PersistenceCapableMapping$1.fetchFields(PersistenceCapableMapping.java:965)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.loadFieldValues(StateManagerImpl.java:836)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.<init>(StateManagerImpl.java:440)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerFactory.newStateManager(StateManagerFactory.java:72)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.AbstractPersistenceManager.getObjectByAID(AbstractPersistenceManager.java:2461)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e5a9d358> (a org.jpox.PersistenceManagerImpl)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.mapping.PersistenceCapableMapping.getObjectForApplicationIdentity(PersistenceCapableMapping.java:959)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.mapping.PersistenceCapableMapping.getObject(PersistenceCapableMapping.java:620)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.fieldmanager.ResultSetGetter.fetchObjectField(ResultSetGetter.java:115)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.replacingObjectField(StateManagerImpl.java:2951)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoPermission.jdoReplaceField(JdoPermission.java)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoPermission.jdoReplaceFields(JdoPermission.java)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.replaceFields(StateManagerImpl.java:3170)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e5c50970> (a org.jpox.state.StateManagerImpl)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.query.PersistentIDROF$1.fetchFields(PersistentIDROF.java:294)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.state.StateManagerImpl.loadFieldValues(StateManagerImpl.java:836)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.AbstractPersistenceManager.getObjectByAID(AbstractPersistenceManager.java:2469)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e5a9d358> (a org.jpox.PersistenceManagerImpl)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.query.PersistentIDROF.getObjectByAID(PersistentIDROF.java:289)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.query.PersistentIDROF.getObject(PersistentIDROF.java:221)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.query.ForwardQueryResult.nextResultSetElement(ForwardQueryResult.java:140)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.store.rdbms.query.ForwardQueryResult$QueryResultIterator.next(ForwardQueryResult.java:300)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e5bd80d0> (a org.jpox.store.rdbms.query.ForwardQueryResult)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.jpox.AbstractPersistenceManager.detachCopyAll(AbstractPersistenceManager.java:2036)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e5a9d358> (a org.jpox.PersistenceManagerImpl)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:230)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:197)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.jdo.JdoRbacManager.getAllPermissions(JdoRbacManager.java:319)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.web.security.ArchivaRbacManager.getAllPermissions(ArchivaRbacManager.java:385)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.rbac.AbstractRBACManager.permissionExists(AbstractRBACManager.java:292)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.role.template.DefaultRoleTemplateProcessor.processPermissions(DefaultRoleTemplateProcessor.java:377)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.role.template.DefaultRoleTemplateProcessor.processTemplate(DefaultRoleTemplateProcessor.java:182)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.role.template.DefaultRoleTemplateProcessor.create(DefaultRoleTemplateProcessor.java:77)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.role.DefaultRoleManager.verifyTemplatedRole(DefaultRoleManager.java:543)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.web.startup.SecuritySynchronization.syncRepoConfiguration(SecuritySynchronization.java:149)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.web.startup.SecuritySynchronization.afterConfigurationChange(SecuritySynchronization.java:107)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.components.registry.commons.ConfigurationListenerDelegate.configurationChanged(ConfigurationListenerDelegate.java:60)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.commons.configuration.event.EventSource.fireEvent(EventSource.java:243)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.commons.configuration.HierarchicalConfiguration.setProperty(HierarchicalConfiguration.java:768)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.setProperty(AbstractHierarchicalFileConfiguration.java:177)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000eb27f4d8> (a org.apache.commons.configuration.Lock)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.components.registry.commons.CommonsConfigurationRegistry.setString(CommonsConfigurationRegistry.java:287)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeManagedRepositoryConfiguration(ConfigurationRegistryWriter.java:393)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.configuration.io.registry.ConfigurationRegistryWriter.writeConfiguration(ConfigurationRegistryWriter.java:94)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.configuration.io.registry.ConfigurationRegistryWriter.write(ConfigurationRegistryWriter.java:45)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.configuration.DefaultArchivaConfiguration.save(DefaultArchivaConfiguration.java:529)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000eb076938> (a org.apache.archiva.configuration.DefaultArchivaConfiguration)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.admin.repository.AbstractRepositoryAdmin.saveConfiguration(AbstractRepositoryAdmin.java:83)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.admin.repository.managed.DefaultManagedRepositoryAdmin.deleteManagedRepository(DefaultManagedRepositoryAdmin.java:463)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.admin.repository.managed.DefaultManagedRepositoryAdmin.deleteManagedRepository(DefaultManagedRepositoryAdmin.java:340)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.rest.services.DefaultManagedRepositoriesService.deleteManagedRepository(DefaultManagedRepositoriesService.java:99)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.reflect.Method.invoke(Method.java:497)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:181)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:97)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:200)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:99)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000e88805f8> (a org.apache.cxf.phase.PhaseInterceptorChain)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:251)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:290)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doGet(AbstractHTTPServlet.java:214)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:735)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:265)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.Server.handle(Server.java:370)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""qtp437362782-99"" #99 prio=5 os_prio=0 tid=0x00007fbaf0237000 nid=0xef6 waiting on condition [0x00007fbabd21d000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000eaaf3d80> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""qtp437362782-98"" #98 prio=5 os_prio=0 tid=0x00007fbadc16a800 nid=0xef5 waiting on condition [0x00007fbaf4104000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000eaaf3d80> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.BlockingArrayQueue.poll(BlockingArrayQueue.java:342)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.idleJobPoll(QueuedThreadPool.java:526)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool.access$600(QueuedThreadPool.java:44)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""pool-5-thread-1"" #96 prio=5 os_prio=0 tid=0x00007fbacc001000 nid=0xef3 waiting on condition [0x00007fbabd81f000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000ec183970> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""pool-6-thread-1"" #95 prio=5 os_prio=0 tid=0x00007fbaf0236000 nid=0xef2 waiting on condition [0x00007fbaf4a24000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000ec183a20> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""Scanner-0"" #94 daemon prio=5 os_prio=0 tid=0x00007fbad9d8d000 nid=0xeef in Object.wait() [0x00007fbabdb20000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (on object monitor)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Object.wait(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.TimerThread.mainLoop(Timer.java:552)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000ec6260e0> (a java.util.TaskQueue)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.TimerThread.run(Timer.java:505)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""Thread-49"" #93 daemon prio=5 os_prio=0 tid=0x00007fbada342800 nid=0xeee runnable [0x00007fbabdc21000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000eb585170> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue.poll(DefaultTaskQueue.java:146)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:94)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""springScheduler-2"" #92 prio=5 os_prio=0 tid=0x00007fbad400b800 nid=0xeed waiting on condition [0x00007fbabdd22000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000eb1cdbe8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""springScheduler-1"" #91 prio=5 os_prio=0 tid=0x00007fbada349800 nid=0xeec waiting on condition [0x00007fbabde23000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000eb1cdbe8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""Thread-48"" #90 daemon prio=5 os_prio=0 tid=0x00007fbada6b3000 nid=0xeeb runnable [0x00007fbabe425000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000ebd21f58> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:467)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue.poll(DefaultTaskQueue.java:146)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:94)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""Statistics Thread-ldapRoles-1"" #89 daemon prio=5 os_prio=0 tid=0x00007fbad9e33800 nid=0xeea waiting on condition [0x00007fbabe324000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000ebd22158> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""ldapRoles"" #87 daemon prio=5 os_prio=0 tid=0x00007fbad9e31800 nid=0xee8 in Object.wait() [0x00007fbabe627000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (on object monitor)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Object.wait(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- waiting on <0x00000000ebd223c8> (a java.util.TaskQueue)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.TimerThread.mainLoop(Timer.java:552)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- locked <0x00000000ebd223c8> (a java.util.TaskQueue)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.TimerThread.run(Timer.java:505)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""Statistics Thread-ldapUserDnCache-1"" #86 daemon prio=5 os_prio=0 tid=0x00007fbad9ef9000 nid=0xee7 waiting on condition [0x00007fbabe526000]
INFO   | jvm 1    | 2015/08/10 13:52:40 |    java.lang.Thread.State: TIMED_WAITING (parking)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at sun.misc.Unsafe.park(Native Method)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	- parking to wait for  <0x00000000ebd22568> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 	at java.lang.Thread.run(Thread.java:745)
INFO   | jvm 1    | 2015/08/10 13:52:40 | 
INFO   | jvm 1    | 2015/08/10 13:52:40 | ""ldapUserDnCache"" #84 daemon prio=5 os_prio=0 tid=0x00007fbad9ef4800 nid=0xee5 in Object.wait() [0x00007fbabe829000]
INFO   | jvm 1    | 2",Major,Closed,Fixed,Eric Barboni,skygo,Sebb,sebb@apache.org
MRM-1815,Bug,2014-03-05T18:46:23.183Z,2014-03-05T18:46:23.183Z,2014-08-07T23:40:25.674Z,2014-08-07T23:40:25.674Z,2014-08-07T23:40:25.632Z,2014-08-07T23:40:25.632Z,Cannot change password containing %,,Minor,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1832,Bug,2014-04-22T02:55:07.508Z,2014-04-22T02:55:07.508Z,2014-04-22T19:10:34.319Z,2014-04-22T19:10:34.319Z,2014-04-22T19:10:34.104Z,2014-04-22T19:10:34.104Z,RepositoryScannerTest#testDefaultRepositoryScanner fails on Linux with src release zip,"Running mvn clean install on the Archiva 2.0.1 source zip causes one
test to fail:

testDefaultRepositoryScanner(org.apache.archiva.repository.scanner.RepositoryScannerTest)
 Time elapsed: 0.028 sec  <<< FAILURE!
junit.framework.AssertionFailedError: Processed Count (of invalid
items) expected:<6> but was:<5>
    at junit.framework.Assert.fail(Assert.java:57)
    at junit.framework.Assert.failNotEquals(Assert.java:329)
    at junit.framework.Assert.assertEquals(Assert.java:78)
    at junit.framework.Assert.assertEquals(Assert.java:234)
    at junit.framework.TestCase.assertEquals(TestCase.java:401)
    at org.apache.archiva.repository.scanner.RepositoryScannerTest.testDefaultRepositoryScanner(RepositoryScannerTest.java:255)

Results :

Failed tests:
  RepositoryScannerTest.testDefaultRepositoryScanner:255 Processed
Count (of invalid items) expected:<6> but was:<5>

All other tests pass.

Could this be an OS-specific issue?",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jeroen Hoek,jdhoek
MRM-1866,Bug,2014-10-28T19:37:39.993Z,2014-10-28T19:37:39.993Z,2014-10-29T18:00:26.624Z,2014-10-29T18:00:26.624Z,2014-10-29T18:00:26.574Z,2014-10-29T18:00:26.574Z,"No LDAP groups to map to roles, cannot login with LDAP authentication","- connection to LDAP server tested using buttons on UsersRuntimeConfiguration -> LDAP tab. It is working.
- on UsersRuntimeConfiguration -> LDAP/Roles Mapping I am not able to find any LDAP group to map
- I am not able to login any LDAP user. When logging in, 12 lines with ""INFO  org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator [] - user 'test' authenticated"" are logged into logs/archiva.log and another 12 messages ""[Could not find object. Type 'org.apache.archiva.redback.users.jdo.JdoUser'. Id: 'test'.]"" are shown in login dialog as red error messages
",Major,Closed,Not A Problem,,,Miroslav ZaÅ¥ko,mireczatko
MRM-1840,Bug,2014-05-02T04:12:26.707Z,2014-05-02T04:12:26.707Z,2017-05-09T15:58:52.334Z,2017-05-09T15:58:52.334Z,,,Metadata generation issues when dependencies have version ranges,"I have many published artifacts with dependencies that have version ranges, e.g.

{code:xml}
    <dependency>
      <groupId>net.solarnetwork.node</groupId>
      <artifactId>net.solarnetwork.node</artifactId>
      <version>[1.20,2.0)</version>
      <scope>compile</scope>
    </dependency>
{code:xml}

It seems any dependency specified as a range is causing metadata scanning to fail and cause erratic behavior. I see errors in the log such as

{noformat}
org.apache.jackrabbit.spi.commons.conversion.MalformedPathException: 'net.solarnetwork.node;net.solarnetwork.node-[1.20,2.0).jar' is not a valid path. '?' not a valid name character.
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parse(PathParser.java:327) ~[jackrabbit-spi-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parse(PathParser.java:122) ~[jackrabbit-spi-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.spi.commons.conversion.ParsingPathResolver.getQPath(ParsingPathResolver.java:90) ~[jackrabbit-spi-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.spi.commons.conversion.CachingPathResolver.getQPath(CachingPathResolver.java:98) ~[jackrabbit-spi-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.spi.commons.conversion.CachingPathResolver.getQPath(CachingPathResolver.java:77) ~[jackrabbit-spi-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.spi.commons.conversion.DefaultNamePathResolver.getQPath(DefaultNamePathResolver.java:82) ~[jackrabbit-spi-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.core.SessionImpl.getQPath(SessionImpl.java:648) ~[jackrabbit-core-2.6.5.jar:2.6.5]
	at org.apache.jackrabbit.core.session.SessionContext.getQPath(SessionContext.java:338) ~[jackrabbit-core-2.6.5.jar:2.6.5]
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativePath(NodeImpl.java:237) ~[jackrabbit-core-2.6.5.jar:2.6.5]
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativeNodePath(NodeImpl.java:222) ~[jackrabbit-core-2.6.5.jar:2.6.5]
	at org.apache.jackrabbit.core.NodeImpl.hasNode(NodeImpl.java:2277) ~[jackrabbit-core-2.6.5.jar:2.6.5]
	at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:515) ~[jackrabbit-jcr-commons-2.6.5.jar:?]
	at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:493) ~[jackrabbit-jcr-commons-2.6.5.jar:?]
	at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateProjectVersion(JcrMetadataRepository.java:310) ~[metadata-store-jcr-2.0.1.jar:?]
{noformat}

and

{noformat}
org.sonatype.aether.resolution.VersionRangeResolutionException: No versions available for net.solarnetwork.node:net.solarnetwork.node:jar:[1.20,2.0) within specified range
        at org.sonatype.aether.impl.internal.DefaultDependencyCollector.process(DefaultDependencyCollector.java:376) ~[aether-impl-1.13.1.jar:?]
        at org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:240) ~[aether-impl-1.13.1.jar:?]
        ... 54 more
{noformat}
",Major,Open,,,,Matt Magoffin,msqr
MRM-1895,New Feature,2015-07-07T13:55:26.193Z,2015-07-07T13:55:26.193Z,2017-04-05T20:01:20.802Z,2017-04-05T20:01:20.802Z,,,Add support for Oracle's Maven repository,"Please add support for Oracle's Maven repository - http://maven.oracle.com.
Both Artifactory and Nexus already support the peculiarities of this repository.
If Archiva already supports the Oracle Maven Repository, please update the documentation with the needed settings.",Major,Open,,,,Monique Maker,mmaker1234
MRM-1868,Bug,2014-11-05T10:30:12.783Z,2014-11-05T10:30:12.783Z,2014-11-05T10:30:54.66Z,2014-11-05T10:30:54.66Z,,,UI shows some artifacts as folders and can't see the artifact page,"If you go to https://archiva-repository.apache.org/archiva/index.html?request_lang=en#browse/org.apache.archiva you'll see that there are some entries with the artifact icon (folder with loupe) and some with the folder icon, when they are all artifacts.

Clicking on the folder one causes the UI to keep navigating through inexistent versions, e.g. https://archiva-repository.apache.org/archiva/index.html?request_lang=en#browse/org.apache.archiva.archiva-applet.1.3.10-SNAPSHOT

In this case the artifacts are duplicated, listed both as a folder and as an artifact, but I have an Archiva instance where they only show as folders, so I can't see the browse artifact page for those anymore",Major,Open,,,,Carlos Sanchez,carlos
MRM-1863,Bug,2014-09-24T01:21:48.901Z,2014-09-24T01:21:48.901Z,2014-11-27T04:43:01.522Z,2014-11-27T04:43:01.522Z,2014-10-15T17:45:01.747Z,2014-10-15T17:45:01.747Z,RepositoryGroup URL is not build using the Application URL,"The link to a Repository Group shown in the edit dialog is shown correctly but the underlying URL does not use the defined Application URL as prefix but the current URL of the browser.

The page shown in the attached screenshot was called using a direct URL of ""http://bgh-build-dev:8081/repo"" but the Application URL was defined as ""https://intranet.mycomp.com/repo"" which points to our intranet proxy that is routing the request to the direct URL.",Minor,Closed,Fixed,Eric Barboni,skygolanur,Alex Hinrichs,brownsea
MRM-1805,Bug,2014-02-17T04:46:21.018Z,2014-02-17T04:46:21.018Z,2014-03-03T18:46:00.364Z,2014-03-03T18:46:00.364Z,,,Sortable html items cannot be drag and drop - random,"Editing order on #proxyconnectors pages is sometimes not possible due to error [1].  
This issue is not 100% reachable.

The major impact is on #redbackruntimeconfig as you cannot select user managment.

[1]
On console output the following happens:
TypeError: $element.sortable is not a function
console link to  knockout-sortable line 219",Major,Open,,,,Eric Barboni,skygolanur
MRM-1841,Bug,2014-05-05T04:07:33.378Z,2014-05-05T04:07:33.378Z,2014-05-22T20:25:16.623Z,2014-05-22T20:25:16.623Z,2014-05-22T20:25:16.362Z,2014-05-22T20:25:16.362Z,"""Remember me"" not working","The remember me feature doesn't seem to work. I get logged out quite frequently (didn't use a stopwatch, but about 10-15 minutes of inactivity are sufficient to log me out)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1859,Bug,2014-09-10T05:29:29.83Z,2014-09-10T05:29:29.83Z,2017-05-05T11:01:05.668Z,2017-05-05T11:01:05.668Z,2017-04-14T16:53:58.411Z,2017-04-14T16:53:58.411Z,Error upon viewing 'Artifacts' tab when browsing an artifact ,"The following error shows up in the logs:

{quote}
org.apache.cxf.interceptor.Fault: Not a valid artifact path in a Maven 2 repository, filename 'resolver-status.properties' doesn't start with artifact ID 'my-app-isat'
{quote}

Upon investigating, properties files are not included in the filter when retrieving the list of artifacts in the repository directory causing the error to occur. Only metadata, checksums, and signature files are currently included in the filter.

Additional note: the resolver-status.properties file gets created when the dependency tree is built for snapshot artifacts in browse.",Major,Resolved,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1848,Bug,2014-06-27T17:23:29.263Z,2014-06-27T17:23:29.263Z,2014-11-27T04:42:59.349Z,2014-11-27T04:42:59.349Z,2014-11-21T10:26:30.548Z,2014-11-21T10:26:30.548Z,download links for files mult-dot extensions incorrect in Browse view,"We've found that the download links for tar.gz and .tar.bz2 files is missing the ""tar"" in the download link in the latest version of Archiva.  We recently upgraded from Archiva 1.3.6 to 2.0.1.  This issue occurs both for artifacts that were uploaded before the upgrade as well as for artifacts uploaded after the upgrade.

To illustrate this, I created a simple test case where I uploaded a sample .tar.gz (with and without a classifer) and .tar.bz2 file with different SNAPSHOT versions.  When navigating the repository directory structure directly, we can see that the files were uploaded correctly.  The tree SNAPSHOT directories are shown as following in my web browser:

Collection: /com/mydomain/test/jna/1.0-SNAPSHOT

com/mydomain/test/jna (Parent)
Name	Size (Bytes)	Last Modified
jna-1.0-20140627.220523-1-aix.tar.gz	963951  	6/27/14 6:05 PM
jna-1.0-20140627.220523-1-aix.tar.gz.md5	32  	6/27/14 6:05 PM
jna-1.0-20140627.220523-1-aix.tar.gz.sha1	40  	6/27/14 6:05 PM
jna-1.0-20140627.220523-1.pom	427  	6/27/14 6:05 PM
jna-1.0-20140627.220523-1.pom.md5	32  	6/27/14 6:05 PM
jna-1.0-20140627.220523-1.pom.sha1	40  	6/27/14 6:05 PM
maven-metadata.xml	799  	6/27/14 6:05 PM
maven-metadata.xml.md5	32  	6/27/14 6:05 PM
maven-metadata.xml.sha1	40  	6/27/14 6:05 PM

Collection: /com/mydomain/test/jna/1.1-SNAPSHOT

com/mydomain/test/jna (Parent)
Name	Size (Bytes)	Last Modified
jna-1.1-20140627.220555-1.pom	427  	6/27/14 6:05 PM
jna-1.1-20140627.220555-1.pom.md5	32  	6/27/14 6:05 PM
jna-1.1-20140627.220555-1.pom.sha1	40  	6/27/14 6:05 PM
jna-1.1-20140627.220555-1.tar.gz	963951  	6/27/14 6:05 PM
jna-1.1-20140627.220555-1.tar.gz.md5	32  	6/27/14 6:05 PM
jna-1.1-20140627.220555-1.tar.gz.sha1	40  	6/27/14 6:05 PM
maven-metadata.xml	762  	6/27/14 6:06 PM
maven-metadata.xml.md5	32  	6/27/14 6:06 PM
maven-metadata.xml.sha1	40  	6/27/14 6:06 PM


Collection: /com/mydomain/test/jna/1.2-SNAPSHOT

com/mydomain/test/jna (Parent)
Name	Size (Bytes)	Last Modified
jna-1.2-20140627.220629-1.pom	428  	6/27/14 6:06 PM
jna-1.2-20140627.220629-1.pom.md5	32  	6/27/14 6:06 PM
jna-1.2-20140627.220629-1.pom.sha1	40  	6/27/14 6:06 PM
jna-1.2-20140627.220629-1.tar.bz2	934159  	6/27/14 6:06 PM
jna-1.2-20140627.220629-1.tar.bz2.md5	32  	6/27/14 6:06 PM
jna-1.2-20140627.220629-1.tar.bz2.sha1	40  	6/27/14 6:06 PM
maven-metadata.xml	763  	6/27/14 6:06 PM
maven-metadata.xml.md5	32  	6/27/14 6:06 PM
maven-metadata.xml.sha1	40  	6/27/14 6:06 PM


When we choose the Browse option, navigate to the artifacts, go to the ""Artifacts"" tab, and try to download the archives, though, none of the links for the .tar.gz and .tar.bz2 files are correct.  Here is what the links are for each case (and what the Artifacts tab shows):

1.0-SNAPSHOT:

display:
tar.gz:1.0-20140627.220523-1 - 941.36 K

link:
http://www.myarchiva.com:8080/archiva/repository/snapshots/com/mydomain/test/jna/1.0-SNAPSHOT/jna-1.0-20140627.220523-1-aix.gz

1.1-SNAPSHOT:

display:
tar.gz:1.1-20140627.220555-1 - 941.36 K

link:
http://www.myarchiva.com:8080/archiva/repository/snapshots/com/mydomain/test/jna/1.1-SNAPSHOT/jna-1.1-20140627.220555-1.gz

1.2-SNAPSHOT:

display:
tar.bz2:1.2-20140627.220629-1 - 912.26 K

link:
http://www.myarchiva.com:8080/archiva/repository/snapshots/com/mydomain/test/jna/1.2-SNAPSHOT/jna-1.2-20140627.220629-1.bz2


Note that .tar is missing from all of the links.",Major,Closed,Fixed,Carlos Sanchez,carlos,Jeffrey Hagelberg,jnhagelb
MRM-1809,Bug,2014-03-05T12:20:41.241Z,2014-03-05T12:20:41.241Z,2014-05-06T01:13:20.795Z,2014-05-06T01:13:20.795Z,2014-05-06T01:13:20.391Z,2014-05-06T01:13:20.391Z,Users - Manage section sort by name doesn't work as expected,"Recently, I was able to get Archiva working with Microsoft Active Directory.

The mapped BaseDn for groups returns a very large number of users (although that BaseDn is way further down in the tree than the BaseDn that I actually need).  As a result, the ""Manage"" page has 2001 boxes rendering at the bottom of the screen for page navigation.

Archiva is telling me that my AD user account is locked, but it isn't.  I can still use my AD account credentials for other apps, such as Continuum, Bloodhound, and Jenkins.  So, now I'm trying to find my user by clicking on each of the 2001 pages.

I tried to use Sort by Name, however it doesn't seem to sort Names alphabetically.  Actually, ""Name"" could imply ""User Name"" or ""Full Name"".

I've attached a screen shot post-sort.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1839,Improvement,2014-04-30T23:31:13.689Z,2014-04-30T23:31:13.689Z,2017-04-05T19:34:51.697Z,2017-04-05T19:34:51.697Z,,,rewrite RepositoryContentConsumer api,"To avoid issues such as MRM-1837
",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1801,Bug,2014-01-30T04:33:33.772Z,2014-01-30T04:33:33.772Z,2017-04-05T20:10:49.365Z,2017-04-05T20:10:49.365Z,,,Customised guest user for LDAP not working,"When using the following:

{code}
redback.default.guest=archivaguest
{code}

I was unable to download anything without authentication. Renaming the LDAP user to {{guest}} and then changing the configuration solved the problem.

(Note, it would still be great to not require this user at all, and just let 'guest' be built-in instead)",Major,Open,,,,Brett Porter,brettporter
MRM-1874,Bug,2015-02-11T05:26:42.435Z,2015-02-11T05:26:42.435Z,2017-05-05T11:01:08.839Z,2017-05-05T11:01:08.839Z,2016-09-09T12:35:45.228Z,2016-09-09T12:35:45.228Z,Login Dialog triggers multiple events (+messages),"Steps to reproduce:
* Open Archiva
* Open Login
* Enter wrong credentials

With every failed login the messages
a) are shown twice
b) multiply after every attempt (first 2 messages, then 4 messages, then 8).

The action seems to be triggered more than once. After using false credentials 2 times, clicking on ""Password reset"", I got 6 mails from archiva.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Oliver E,thunderhook
MRM-1870,Bug,2014-11-19T15:05:28.147Z,2014-11-19T15:05:28.147Z,2015-04-05T14:53:46.304Z,2015-04-05T14:53:46.304Z,2014-11-19T15:08:39.105Z,2014-11-19T15:08:39.105Z,Urls are not correctly constructed for artifacts with multiple extensions,For instance foo-1.0.pom.zip will assume extension is zip,Major,Closed,Duplicate,Carlos Sanchez,carlos,Carlos Sanchez,carlos
MRM-1829,Improvement,2014-04-14T18:01:40.187Z,2014-04-14T18:01:40.187Z,2014-04-16T18:38:26.082Z,2014-04-16T18:38:26.082Z,2014-04-16T18:38:25.766Z,2014-04-16T18:38:25.766Z,Change default value of of AysncLogger strategy for log4j async,Block looks to be a better strategy to use.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1817,Improvement,2014-03-13T07:59:19.295Z,2014-03-13T07:59:19.295Z,2014-03-13T08:09:19.397Z,2014-03-13T08:09:19.397Z,2014-03-13T08:04:26.843Z,2014-03-13T08:04:26.843Z,Consumer Archetype not GAV not customisable,"Using consumer archetype this way:

mvn archetype:generate \
   -DarchetypeRepository=repo1.maven.org \
   -DarchetypeGroupId=org.apache.archiva \
   -DarchetypeArtifactId=archiva-consumer-archetype \
   -DarchetypeVersion=2.0.0 

leads to a archetype created with GAV from release of archiva not the one you specify in the CLI or in IDE.

",Critical,Closed,Fixed,Eric Barboni,skygolanur,Eric Barboni,skygolanur
MRM-1837,Bug,2014-04-30T01:43:10.539Z,2014-04-30T01:43:10.539Z,2014-09-01T21:02:25.919Z,2014-09-01T21:02:25.919Z,2014-04-30T23:31:48.28Z,2014-04-30T23:31:48.28Z,DefaultArchivaConfiguration holds references to classes,,Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1878,Improvement,2015-03-23T05:14:15.964Z,2015-03-23T05:14:15.964Z,2017-04-05T20:02:23.794Z,2017-04-05T20:02:23.794Z,,,Duplicate artifacts consumer : search in all the repositories,"Currently, it seems that duplcate-artifact consumer only seeks duplicate artifacts in the same repo, see the line below, from DuplicateArtifactsConsumer.java :

{code}
results = metadataRepository.getArtifactsByChecksum( repoId, checksumSha1 );
{code}

""repoId"" is specified in the method's arguments, so it means that the result only contains identical artifacts from *this* repo ...

When we have several repos (not only one ""internal"" and one ""snapshots""), it would be really interested to look for duplications of the current artifact in all the ""release"" repos (if the artifact is a release), or in all the ""snapshots"" repos (if the artifact is a snapshot), not only in the repo of the current artifact.",Minor,Open,,,,Guimiot Isabelle,iguimiot
MRM-1819,Bug,2014-03-26T07:20:05.707Z,2014-03-26T07:20:05.707Z,2015-04-07T18:54:34.241Z,2015-04-07T18:54:34.241Z,,,Typos on download page,"There are several typos etc. on the download page.

""No minimum requirement""
change to: ""Disk space required""

""Last Release serie 1.3.x:""
serie => series

However it is misleading to call it the ""Last"" Release.
Perhaps the writer meant ""Latest""?
But that would also be misleading.
Why not call it

""Preview Release series 1.3.x:""

After all, that is what the comment says.

The download tables have the headings

Mirrors 	Checksum 	Signature
Mirros ...

The ""Mirro[r]s"" column name is confusing. 
It would be better to rename it as ""Download from MIrror""
But at the very least please fix the mis-spelt ""Mirros"" ...",Minor,Open,,,,Sebb,sebb@apache.org
MRM-1885,Documentation,2015-04-26T17:51:57.318Z,2015-04-26T17:51:57.318Z,2015-04-26T17:51:57.318Z,2015-04-26T17:51:57.318Z,,,online documentation doesn't explain how to set the administrator password,There's only the hint that `archiva` uses `redback`. It'd be nice to be able to get a clue how to change the admin password from the installation guide.,Major,Open,,,,Karl Richter,krichter
MRM-1865,Task,2014-10-10T14:36:00.269Z,2014-10-10T14:36:00.269Z,2014-11-27T04:42:59.238Z,2014-11-27T04:42:59.238Z,2014-10-10T16:28:29.257Z,2014-10-10T16:28:29.257Z,remove isPermanent from Consumer API,"ispermanent optionion in 2.x branch is not used at all. 

User can enable or disable any of the consumer regardless the value (true or false of the flag)",Minor,Closed,Fixed,Eric Barboni,skygolanur,Eric Barboni,skygolanur
MRM-1882,Bug,2015-04-24T07:11:18.366Z,2015-04-24T07:11:18.366Z,2015-05-24T12:07:00.558Z,2015-05-24T12:07:00.558Z,2015-05-24T12:07:00.504Z,2015-05-24T12:07:00.504Z,automatical deletion of snapshot artifacts not working ,"In 'Repositories Administration' (web admin interface), when I edit the snapshot repository settings as follows:

Cron Expression: 0 0,30 * * * ?
Days Older:      15
Retention Count: 2

The number of versions held of a given snapshot artifact is 4, both after waiting for one day and after a new snapshot deployment. My understanding is that with the given setting it should be 2 instead.",Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,Konrad Wulf,jacomac
MRM-1891,Bug,2015-05-19T22:35:29.54Z,2015-05-19T22:35:29.54Z,2015-05-20T00:19:16.607Z,2015-05-20T00:19:16.607Z,,,DOAP contains obsolete SVNRepository entries,"The DOAP for the project contains both SVNRepository and GitRepository entries.

However when a project moves to Git, the SVN repo is made read-only and is not kept up to date.

It is misleading to continue to publish SVN URIs which are not actually maintained.

The only exception might be where some parts of the source (e.g. website) have not been migrated to Git. In that case, there might be a case for including URIs that point to the part of the SVN repo that is still being maintained.

Please can you update the project DOAP accordingly?

Thanks",Major,Open,,,,Sebb,sebb@apache.org
MRM-1804,Bug,2014-02-14T18:06:33.985Z,2014-02-14T18:06:33.985Z,2014-02-16T07:13:07.57Z,2014-02-16T07:13:07.57Z,2014-02-16T07:13:07.443Z,2014-02-16T07:13:07.443Z,IndexOutOfBoundsException when browsing a group with 0 or 1 repo ,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1855,Bug,2014-07-23T13:23:48.272Z,2014-07-23T13:23:48.272Z,2015-04-05T14:53:45.865Z,2015-04-05T14:53:45.865Z,2014-07-23T21:10:18.253Z,2014-07-23T21:10:18.253Z,"""Loading"" button never disappears when no one is logged in in some browsers","I saw this in the following browsers:

Google Chrome 36.0.1985.125 m
Firefox ESR 24.2


I debugged this in my browser to a problem in main.js handling the case when the archiva_login cookie is not set (and so $.cookie('archiva_login') is not defined).  In that case, Archiva is trying to parse an undefined value and failing.  This causes getUserFromLogicCookie (and startArchivaApplication(...) to terminate abnormally.  As a result, the Loading div never gets hidden.

I've created a patch which fixes the issue for me.

Patch is for apps\archiva\js\archiva\main.js",Major,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Jeffrey Hagelberg,jnhagelb
MRM-1894,Bug,2015-07-01T11:32:01.696Z,2015-07-01T11:32:01.696Z,2015-07-03T09:51:16.178Z,2015-07-03T09:51:16.178Z,2015-07-03T09:51:16.153Z,2015-07-03T09:51:16.153Z,"Service Unavailable(HTTP ERROR: 503) even after ""service archiva restart""","My Archiva service is running but when go to the archiva url i get the message:

HTTP ERROR: 503

Problem accessing /. Reason:

    Service Unavailable
Powered by Jetty://

logs file attached.

Please advice,",Major,Resolved,Won't Fix,,,aviad shiber,aviadArchiva
MRM-1873,Bug,2015-02-10T05:37:03.25Z,2015-02-10T05:37:03.25Z,2015-06-08T10:51:41.389Z,2015-06-08T10:51:41.389Z,2015-06-08T10:51:41.358Z,2015-06-08T10:51:41.358Z,archiva doesn't recognise ldap-group to ldap-users mapping,"Archiva doesn't recognize ldap-group to ldap-users mapping...
It seems that archiva doesn't know how mapping group-users in LDAP is done.
I defined mapping ldap-group to archiva-roles, however no ldap-user is authorized to read repository
{{2015-02-10 12:30:55,648 [http-nio-9380-exec-7] INFO  org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator [] - user 'mzatko' authenticated
2015-02-10 12:30:55,649 [http-nio-9380-exec-7] INFO  org.apache.archiva.security.ArchivaServletAuthenticator [] - Authorization Denied [ip=0:0:0:0:0:0:0:1,permission=archiva-read-repository,repo=internal] : no matching permissions
}}",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Miroslav ZaÅ¥ko,mireczatko
MRM-1846,Bug,2014-06-04T04:11:15.294Z,2014-06-04T04:11:15.294Z,2014-11-27T04:43:01.175Z,2014-11-27T04:43:01.175Z,2014-09-14T23:55:26.415Z,2014-09-14T23:55:26.415Z,Regression in 2.0.1 : uniqueVersion false not supported,"When using maven 2.2.1 and defining in the pom a snapshot repo configured with uniqueVersion=false, the artifacts are published as artifact-x.y.z-null-[buildNumber].jar, instead of artifact-x.y.z-SNAPSHOT.jar.

It used to work fine in 1.3.x and 1.4-M4.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Guimiot Isabelle,iguimiot
MRM-1825,Bug,2014-04-07T07:22:43.364Z,2014-04-07T07:22:43.364Z,2014-04-18T23:29:27.713Z,2014-04-18T23:29:27.713Z,2014-04-18T23:29:26.926Z,2014-04-18T23:29:26.926Z,MD5 hashes are for wrong file name,"It seems that the provided MD5 file references the wrong filename. This is might be caused by repackaging the jar after build.

see:
https://twitter.com/archiva/status/452782345968316416

in MD5:
543cddc544d304cf75147e732172e534  archiva-jetty-2.0.1-bin.tar.gz

should be:
543cddc544d304cf75147e732172e534  apache-archiva-2.0.1-bin.tar.gz

",Trivial,Closed,Fixed,Brett Porter,brettporter,Thomas Müllerleile,thomas_tm
MRM-1864,Bug,2014-10-09T03:04:00.067Z,2014-10-09T03:04:00.067Z,2014-11-27T04:42:59.782Z,2014-11-27T04:42:59.782Z,2014-10-09T03:05:11.355Z,2014-10-09T03:05:11.355Z,Default configuration for central should now use SSL,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1852,Bug,2014-07-17T00:03:01.566Z,2014-07-17T00:03:01.566Z,2014-07-17T00:03:01.566Z,2014-07-17T00:03:01.566Z,,,Text files are no longer indexed,"Even though {{**/*.txt}} is listed in {{indexable-content}}, uploading a text file (I used http://git.apache.org/authors.txt), then searching for content within it finds no results.

Is this no longer possible after the move to Maven indexer, or is something broken?",Major,Open,,,,Brett Porter,brettporter
MRM-1813,Bug,2014-03-05T12:44:01.705Z,2014-03-05T12:44:01.705Z,2014-06-03T07:09:10.467Z,2014-06-03T07:09:10.467Z,2014-06-03T07:09:10.404Z,2014-06-03T07:09:10.404Z,Users - Manage section filters don't seem to work,"Hi.  Since I've connected Archiva to Microsoft AD, I've been trying to find my user within the data table of users.  I can log in, so I know it has to be somewhere in there.  However, my current data set consists of 2001 pages and will get bigger if Archiva can eventually handle larger user data sets.

Filtering has been very erratic for me.  Most of the time, filtering doesn't work for me at all.  Sometimes, I've had it only filter the current user table page I'm on.  Other times, I've had it filter the entire data table, however not return my AD user.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-5,Bug,2005-05-10T08:13:13.407Z,2005-05-10T08:13:13.407Z,2007-05-25T14:20:39.221Z,2007-05-25T14:20:39.221Z,2005-06-08T15:16:23.908Z,2005-06-08T15:16:23.908Z,repository tools don't convert RELEASE files,,Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-26,Bug,2005-11-08T16:38:04.85Z,2005-11-08T16:38:04.85Z,2007-05-25T14:20:25.345Z,2007-05-25T14:20:25.345Z,2005-11-23T22:38:45.614Z,2005-11-23T22:38:45.614Z,Convert ${pom.currentVersion} to ${pom.version},,Major,Closed,Fixed,Brett Porter,brettporter,Carlos Sanchez,carlos
MRM-61,New Feature,2006-01-11T21:17:17.978Z,2006-01-11T21:17:17.978Z,2007-05-25T14:20:40.457Z,2007-05-25T14:20:40.457Z,2006-02-03T19:57:33.936Z,2006-02-03T19:57:33.936Z,Searcher for metadata index,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-76,Task,2006-02-02T09:35:24.77Z,2006-02-02T09:35:24.77Z,2007-05-25T14:20:37.589Z,2007-05-25T14:20:37.589Z,2006-08-25T01:01:21.742Z,2006-08-25T01:01:21.742Z,Front End web user interface for configuring multiple repository proxy,For configuring multiple repository proxy.,Major,Closed,Fixed,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-2,New Feature,2005-03-14T20:56:20.406Z,2005-03-14T20:56:20.406Z,2015-04-05T21:46:11.818Z,2015-04-05T21:46:11.818Z,2005-12-09T17:38:55.967Z,2005-12-09T17:38:55.967Z,repository: transitive dependency report,"repository tool to ensure that transitive dependencies will work. 

we basically need to know that every artifact that
is referenced in one POM is actually in the repository along with its
POM. We need to know that the dependency relationships among
all artifacts in the repository form a closed set. otherwise the
transitive dependency mechanism in m2 will break and we need to be wary
of this. eventually i would like to create graphical representations of
the dependencies amongst projects but this can come later. ",Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Brett Porter,brettporter
MRM-92,New Feature,2006-02-06T11:18:52.585Z,2006-02-06T11:18:52.585Z,2007-06-02T07:11:14.87Z,2007-06-02T07:11:14.87Z,2006-07-23T19:51:57.974Z,2006-07-23T19:51:57.974Z,some random ideas about the repository manager,"Heard about the repo manager on #maven today. Sounds like a great idea. I am ""encouraging"" the myGrid and OMII people here in the UK to use m2 as their standard build platform. They are developing a semanticaly-aware directory component - URIs (such as ws end-points) are annotated in the directory and then clients can discover URIs of the type or with the properties that they would like. It would help myGrid to contribute to maven synergystically if a couple of bits of tech could be in-place in the repo manager.

* An RSS feed of all updates

* Full web-service interface to the repo manager

* M2 build-time support for attaching .owl or .rdf documents to artifacts, providing a semantic description of the artifact, which could then be imported into the directory. Perhaps part of the .owl / .rdf would be auto-generated by plugins and part would be under src/main/semanticDescription.

We have hired a team of 5 developers and a manager to re-write the myGrid code - they have an explicit brief to do sw engineering rather than accademic coding. I would expect that if they use m2 extensively, that they would contribute to the project by submitting patches etc. like any good os citizens.

Sorry about the management speak - got my project managers hat on today.

http://www.mygrid.org.uk/
http://www.omii.ac.uk/",Major,Closed,Duplicate,Brett Porter,brettporter,Matthew Pocock,dozer
MRM-21,Improvement,2005-10-07T04:10:02.217Z,2005-10-07T04:10:02.217Z,2007-06-02T07:11:17.256Z,2007-06-02T07:11:17.256Z,2005-11-23T22:13:56.603Z,2005-11-23T22:13:56.603Z,<type>plugin</type> should be ignored,,Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-36,Sub-task,2005-11-29T21:04:59.545Z,2005-11-29T21:04:59.545Z,2007-05-25T14:20:42.34Z,2007-05-25T14:20:42.34Z,2006-03-02T03:55:56.613Z,2006-03-02T03:55:56.613Z,integration with discovery and scheduling,"I presume the regular indexer will process an individual file and add it to the index, or remove a file from the index. This should integrated with the discovery mechanism so that it can trigger the indexing of files (or removal - though this is not currently in the discovery mechanism).

As for scheduling, it may be that the index updates are processed on a scheduled interval so that integration might be needed.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-67,Task,2006-02-02T03:48:54.962Z,2006-02-02T03:48:54.962Z,2007-05-25T14:20:27.253Z,2007-05-25T14:20:27.253Z,2006-06-15T21:13:41.955Z,2006-06-15T21:13:41.955Z,Index maintenance,"Update of index is triggered by discovery, which is a scheduled task. A configuration file that contains the execution schedule of the discoverer will be retrieved and read. These values will be passed/set on the scheduler.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-13,New Feature,2005-07-21T18:04:17.367Z,2005-07-21T18:04:17.367Z,2007-05-25T14:20:32.039Z,2007-05-25T14:20:32.039Z,2006-02-22T02:23:06.368Z,2006-02-22T02:23:06.368Z,utilise repository relocation information during conversion of an artifact,"we should allow some extra metdata in the m1 pom that can be recognised as relocation information:

<properties>
  <relocated.groupId />
  <relocated.artifactId />
  <relocated.version />
  <relocated.message />
</properties>

when encountering this, the converted POM and JAR will go to the new location in the m2 repository, and the marker POM (just the relocation information) should go to the old location (and any artifact there should be removed)

This would allow us to move Jakarta commons en mass to the dotted groupId layout for example.",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-97,Task,2006-02-15T03:04:27.873Z,2006-02-15T03:04:27.873Z,2007-05-25T14:20:29.503Z,2007-05-25T14:20:29.503Z,2006-02-20T00:02:03Z,2006-02-20T00:02:03Z,Allow hard-fail configuration for a remote repository,see maven-proxy configuration http://cvs.maven-proxy.codehaus.org/maven-proxy/core/src/test/resources/org/apache/maven/proxy/config/PropertyLoaderTest1.properties?rev=1.1&view=markup,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-87,Task,2006-02-02T10:38:07.29Z,2006-02-02T10:38:07.29Z,2007-11-08T16:41:59.637Z,2007-11-08T16:41:59.637Z,2007-11-08T16:41:59.643Z,2007-11-08T16:41:59.643Z,Place a lockfile to prevent repository operations when there is a long ongoing process,"Place a lockfile in the root of the repository that prevents deployment or other repository operations when there is a long, ongoing process.",Major,Closed,Won't Fix,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-56,Bug,2006-01-08T22:23:00.657Z,2006-01-08T22:23:00.657Z,2007-05-25T14:20:34.638Z,2007-05-25T14:20:34.638Z,2006-01-23T01:28:36.13Z,2006-01-23T01:28:36.13Z,ability to delete documents from the index,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-32,New Feature,2005-11-29T20:52:00.67Z,2005-11-29T20:52:00.67Z,2007-05-25T14:20:28.874Z,2007-05-25T14:20:28.874Z,2006-03-02T21:17:30.675Z,2006-03-02T21:17:30.675Z,Repository Indexing,Create a repository indexer using Lucene,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-22,Improvement,2005-10-13T23:04:01.207Z,2005-10-13T23:04:01.207Z,2007-05-25T14:20:42.72Z,2007-05-25T14:20:42.72Z,2005-11-23T22:10:20.758Z,2005-11-23T22:10:20.758Z,"if no directory in <resources>, assume '.'",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-11,Task,2004-07-22T12:12:27Z,2004-07-22T12:12:27Z,2015-04-07T18:28:11.883Z,2015-04-07T18:28:11.883Z,2007-03-19T09:36:37.225Z,2007-03-19T09:36:37.225Z,Security policy for uploads must be in place,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Jason van Zyl,jvanzyl
MRM-81,Task,2006-02-02T09:45:28.533Z,2006-02-02T09:45:28.533Z,2007-05-25T14:20:39.514Z,2007-05-25T14:20:39.514Z,2006-03-01T05:40:37.474Z,2006-03-01T05:40:37.474Z,Search web user interface,General search page and search result page.,Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-44,Sub-task,2005-11-29T21:38:55.451Z,2005-11-29T21:38:55.451Z,2007-05-25T14:20:31.919Z,2007-05-25T14:20:31.919Z,2006-01-05T19:44:58.422Z,2006-01-05T19:44:58.422Z,"search by group, artifact and version",,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-39,New Feature,2005-11-29T21:15:17.011Z,2005-11-29T21:15:17.011Z,2007-05-25T14:20:28.997Z,2007-05-25T14:20:28.997Z,2006-01-06T01:49:11.508Z,2006-01-06T01:49:11.508Z,caching repository query interface,"need to be able to query the repository to see if artifacts exist, what versions are available, etc. This needs to interoperate with the indexing, and where applicable should cache information, balancing the need to keep a low memory overhead but avoid repetitive disk reads on metadata files.",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-46,Task,2005-11-29T21:43:49.358Z,2005-11-29T21:43:49.358Z,2007-05-25T14:20:43.754Z,2007-05-25T14:20:43.754Z,2006-07-23T19:26:29.389Z,2006-07-23T19:26:29.389Z,create application structure,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-93,Task,2006-02-08T23:32:16.846Z,2006-02-08T23:32:16.846Z,2007-06-02T07:11:13.279Z,2007-06-02T07:11:13.279Z,2006-07-23T19:33:48.75Z,2006-07-23T19:33:48.75Z,Use wagon for local cache operations,"Currently, the proxy module uses File operations for the local repository because wagon does not support path-based file retrieval.  As of now, wagon supports only Artifact and Metadata retrieval among its public methods.",Major,Closed,Duplicate,Brett Porter,brettporter,Edwin Punzalan,elpunzalan
MRM-37,Improvement,2005-11-29T21:10:07.536Z,2005-11-29T21:10:07.536Z,2007-10-15T06:20:54.858Z,2007-10-15T06:20:54.858Z,2007-10-15T06:20:54.861Z,2007-10-15T06:20:54.861Z,discover the deletion of artifacts,"currently, the discovery mechanism is geared to walking a source repository and insert into the target repository. However, there is no way to determine if an artifact has been removed. We may need to track this - potentially using metadata or the repository index.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-10,Improvement,2005-04-06T09:02:59.321Z,2005-04-06T09:02:59.321Z,2010-02-23T08:24:35.407Z,2010-02-23T08:24:35.407Z,2010-02-23T02:07:35.536Z,2010-02-23T02:07:35.536Z,syncopate needs to validate the incoming directory layout,"we need to validate a couple of things:

1) that the incoming content from sources is in the correct layout, and error on stuff that isn't. dist.codehaus.org are often offenders here (eg http://www.ibiblio.org/maven/non-codehaus/)

2) we should probably restrict the group IDs synced, to prevent - for example - codehaus uploading Apache artifacts over the official ones

",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-70,Task,2006-02-02T04:08:36.521Z,2006-02-02T04:08:36.521Z,2007-06-02T07:11:16.766Z,2007-06-02T07:11:16.766Z,2006-02-23T00:45:21.091Z,2006-02-23T00:45:21.091Z,Browse by Group/Artifact/Version,,Major,Closed,Duplicate,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-48,Sub-task,2005-11-29T23:23:06.793Z,2005-11-29T23:23:06.793Z,2007-05-25T14:20:40.188Z,2007-05-25T14:20:40.188Z,2006-01-05T19:51:27.408Z,2006-01-05T19:51:27.408Z,search by checksum,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-49,Test,2005-11-30T04:25:14.107Z,2005-11-30T04:25:14.107Z,2007-05-25T14:20:29.96Z,2007-05-25T14:20:29.96Z,2005-11-30T19:35:32.596Z,2005-11-30T19:35:32.596Z,Skeleton Unit tests for implementation of interfaces,Skeleton unit tests as preperation for implementing interfaces. Will use methods from maven-repository-discovery so it was added to the dependency and dependency management of parent pom.,Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-91,New Feature,2006-02-03T20:27:20.29Z,2006-02-03T20:27:20.29Z,2007-05-25T14:20:27.632Z,2007-05-25T14:20:27.632Z,2006-02-28T06:31:43.085Z,2006-02-28T06:31:43.085Z,"create a second index with a subset of information, and have it compressed",required for the eclipse plugin. Will need to follow up with Jason on exactly what data is required.,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-29,Improvement,2005-11-23T23:38:05.9Z,2005-11-23T23:38:05.9Z,2015-04-05T21:46:11.899Z,2015-04-05T21:46:11.899Z,2005-11-27T19:36:44.174Z,2005-11-27T19:36:44.174Z,Factorize pom conversion out of repoclean,"Take the conversion classes and move them to a separate project or maven model so they can be reused in other places, eg. a m1->m2 plugin",Major,Closed,Fixed,Brett Porter,brettporter,Carlos Sanchez,carlos
MRM-96,Task,2006-02-15T03:02:32.604Z,2006-02-15T03:02:32.604Z,2007-05-25T14:20:42.81Z,2007-05-25T14:20:42.81Z,2006-02-17T01:27:41.048Z,2006-02-17T01:27:41.048Z,Enable the use of http proxies when mrm is restricted to browse directly over the net,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-38,New Feature,2005-11-29T21:12:41.889Z,2005-11-29T21:12:41.889Z,2007-05-25T14:20:26.109Z,2007-05-25T14:20:26.109Z,2006-02-22T20:34:28.603Z,2006-02-22T20:34:28.603Z,add a background task scheduler,"we need to be able to schedule tasks. We should use quartz, and reuse code from Continuum that does similarly.

There needs to be a way to add/remove/configure scheduled tasks such as indexing, report execution and syncing",Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Brett Porter,brettporter
MRM-90,New Feature,2006-02-03T19:59:56.554Z,2006-02-03T19:59:56.554Z,2008-11-07T07:58:28.968Z,2008-11-07T07:58:28.968Z,2008-09-16T21:56:15.08Z,2008-09-16T21:56:15.08Z,add advanced search options,we need to add the ability to query on particular fields and across some ranges.,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-3,Bug,2005-05-26T11:25:31.297Z,2005-05-26T11:25:31.297Z,2007-05-25T14:20:29.385Z,2007-05-25T14:20:29.385Z,2005-06-08T15:15:40.494Z,2005-06-08T15:15:40.494Z,NPE in repoclean,"There was wrong logic in src/main/java/org/apache/maven/tools/repoclean/artifact/metadata/ProjectMetadata.java it returns null and it causes NPE. It should return information from artifact. 
Simple patch fixed this bug.",Major,Closed,Fixed,,,Anatol Pomozov,anatolikus
MRM-99,Bug,2006-03-02T20:36:05.874Z,2006-03-02T20:36:05.874Z,2007-05-25T14:20:30.082Z,2007-05-25T14:20:30.082Z,2006-03-02T21:24:38.484Z,2006-03-02T21:24:38.484Z,Use RepositoryIndexSearchLayer for searching in Packages,Update PackageSearchAction to use RepositoryIndexSearchLayer and change search result page to use SearchResult class.,Major,Closed,Fixed,Maria Odea Ching,oching,Ernesto S. Tolentino Jr.,jtolentino
MRM-64,Task,2006-01-19T21:16:28.755Z,2006-01-19T21:16:28.755Z,2007-05-25T14:20:37.859Z,2007-05-25T14:20:37.859Z,2006-07-23T19:31:42.043Z,2006-07-23T19:31:42.043Z,write page flows,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-55,Bug,2006-01-08T22:18:34.028Z,2006-01-08T22:18:34.028Z,2007-05-25T14:20:44.57Z,2007-05-25T14:20:44.57Z,2006-01-25T01:16:38.335Z,2006-01-25T01:16:38.335Z,don't add duplicates to the index,currently indexing an artifact that is already in the index will add it again. It should recognise its existence and update the existing record.,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-59,New Feature,2006-01-09T17:52:00.349Z,2006-01-09T17:52:00.349Z,2007-05-25T14:20:41.698Z,2007-05-25T14:20:41.698Z,2006-02-24T19:41:09.546Z,2006-02-24T19:41:09.546Z,Proxy should work transparently with either maven 1.x or 2.x repositories.,"Have the maven-proxy act as either a maven 1.x or maven 2.x repository, depending on which client accesses it. Brett believed this should be managable with aliasing.

This was originally posted as a maven-proxy feature at http://jira.codehaus.org/browse/MAVENPROXY-39
",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,clem clem,clem
MRM-28,Bug,2005-11-20T19:20:31.197Z,2005-11-20T19:20:31.197Z,2010-02-23T08:24:35.23Z,2010-02-23T08:24:35.23Z,2010-02-23T01:37:15.1Z,2010-02-23T01:37:15.1Z,sync shouldn't use file sizes as basis - updated checksums are not resynced,"currently the sync from a partner repo does not reget checksums that have changed, so if they are created mistakenly they are not updated.

That said, we should be warned of an occurrence where such a file changes.",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-78,Task,2006-02-02T09:37:20.404Z,2006-02-02T09:37:20.404Z,2007-06-02T07:11:14.491Z,2007-06-02T07:11:14.491Z,2006-07-23T19:33:44.467Z,2006-07-23T19:33:44.467Z,Repository Indexing web user interface,,Major,Closed,Duplicate,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-85,Task,2006-02-02T10:35:33.566Z,2006-02-02T10:35:33.566Z,2007-05-22T14:40:05.918Z,2007-05-22T14:40:05.918Z,2007-05-22T14:40:05.925Z,2007-05-22T14:40:05.925Z,Repository access should be done through Wagon,"Most likely using the file wagon.

When wagon doesn't handle something, we need to make a call on whether to add it to its interface, or write custom handling based on local filesystem.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Ernesto S. Tolentino Jr.,jtolentino
MRM-94,Improvement,2006-02-11T20:52:58.801Z,2006-02-11T20:52:58.801Z,2007-05-25T14:20:39.367Z,2007-05-25T14:20:39.367Z,2006-08-01T23:47:36.365Z,2006-08-01T23:47:36.365Z,report on duplicate jars in different parts of the repository,"maybe this should be a pre-condition to adding. I want to check that nobody adds a known JAR under their own group ID.

btw, I'm not sure how the indexing will cope with this in terms of checksums if it is allowed to be added twice.

Might also try to detect some other similarities when the jars don't match exactly but are out of place.",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-98,Improvement,2006-03-02T20:28:25.785Z,2006-03-02T20:28:25.785Z,2007-05-25T14:20:26.663Z,2007-05-25T14:20:26.663Z,2006-03-02T20:43:47.854Z,2006-03-02T20:43:47.854Z,Use the plexus configuration for index and repository path,Use same plexus configuration code in GeneralSearch for PackageSearchAction.,Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-8,Improvement,2005-03-17T18:04:32.875Z,2005-03-17T18:04:32.875Z,2007-05-25T14:20:41.313Z,2007-05-25T14:20:41.313Z,2005-07-31T22:39:32.186Z,2005-07-31T22:39:32.186Z,"Remove generated model source code from repoclean project, use model dependencies instead.","currently relies on generated model source which has been copied into the tool source tree. This can be cleaned up and two dependencies added for the two models, provided we find a way to have two maven:maven-model:xxx artifacts side-by-side without generating a conflict and having only one added to the classpath.

This is housekeeping, since it works now.",Minor,Closed,Fixed,Brett Porter,brettporter,John Casey,jdcasey
MRM-65,Improvement,2006-01-28T15:03:38.925Z,2006-01-28T15:03:38.925Z,2007-05-25T14:20:31.578Z,2007-05-25T14:20:31.578Z,2006-01-30T18:13:23.042Z,2006-01-30T18:13:23.042Z,deploy-bundle: license files is unused in upload bundle (should not be required),"License files are not uploaded anymore to the repo now that we switched to the m2 repository layout (license is only specifed with an url in pom.xml), so a LICENSE.txt file should not be required in upload bundles.
The attached path removes the check for LICENSE.txt from the script.",Minor,Closed,Fixed,Carlos Sanchez,carlos,fabrizio giustina,fgiust
MRM-86,Task,2006-02-02T10:37:26.218Z,2006-02-02T10:37:26.218Z,2011-09-12T08:59:37.696Z,2011-09-12T08:59:37.696Z,2011-09-12T08:59:37.652Z,2011-09-12T08:59:37.652Z,The operations on the repository must be transactional,,Major,Closed,Fixed,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-35,Sub-task,2005-11-29T20:57:24.716Z,2005-11-29T20:57:24.716Z,2007-05-25T14:20:37.727Z,2007-05-25T14:20:37.727Z,2006-01-17T20:36:34.606Z,2006-01-17T20:36:34.606Z,add repository metadata indexer,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-34,Sub-task,2005-11-29T20:56:37.33Z,2005-11-29T20:56:37.33Z,2007-05-25T14:20:29.134Z,2007-05-25T14:20:29.134Z,2006-01-06T01:25:40.33Z,2006-01-06T01:25:40.33Z,add pom indexer,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-17,Task,2005-09-20T02:16:45.647Z,2005-09-20T02:16:45.647Z,2007-05-25T14:20:28.507Z,2007-05-25T14:20:28.507Z,2005-12-09T16:09:31.656Z,2005-12-09T16:09:31.656Z,reporting: report on mismatched checksums,"this should be reported on, not auto-fixed, to indicate a possible sync issue. if they are missing they should also be reported on.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-73,Task,2006-02-02T09:32:22.491Z,2006-02-02T09:32:22.491Z,2007-06-02T07:11:12.854Z,2007-06-02T07:11:12.854Z,2006-07-23T19:29:00.501Z,2006-07-23T19:29:00.501Z,Artifact Management web user interface,,Major,Closed,Won't Fix,Allan Ramirez,aramirez,Ernesto S. Tolentino Jr.,jtolentino
MRM-77,Task,2006-02-02T09:35:51.355Z,2006-02-02T09:35:51.355Z,2007-05-25T14:20:34.15Z,2007-05-25T14:20:34.15Z,2006-09-09T07:43:03.939Z,2006-09-09T07:43:03.939Z,Reporting web user interface,,Major,Closed,Fixed,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-53,Task,2005-12-09T17:53:48.929Z,2005-12-09T17:53:48.929Z,2007-05-25T14:20:39.088Z,2007-05-25T14:20:39.088Z,2005-12-14T02:56:50.008Z,2005-12-14T02:56:50.008Z,repoort on invalid POMs,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-30,Bug,2005-11-24T04:01:58.04Z,2005-11-24T04:01:58.04Z,2007-05-25T14:20:41.878Z,2007-05-25T14:20:41.878Z,2005-11-24T06:58:41.926Z,2005-11-24T06:58:41.926Z,use post commit hook instead of svn update for poms,"svn cat the newly committed file as a post commit hook and save it directly to the ""to-ibiblio"" directory, then create the checksums

the svn update is excessively slow and choking the box",Critical,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-58,Bug,2006-01-09T02:23:29.914Z,2006-01-09T02:23:29.914Z,2007-05-25T14:20:33.554Z,2007-05-25T14:20:33.554Z,2006-02-21T23:39:58.957Z,2006-02-21T23:39:58.957Z,create a search result class for returning from search," instead of returning artifacts, return a search result class including artifact, classes, packages and files",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-66,Task,2006-02-02T03:43:33.934Z,2006-02-02T03:43:33.934Z,2007-05-25T14:20:43.952Z,2007-05-25T14:20:43.952Z,2006-07-23T19:27:12.501Z,2006-07-23T19:27:12.501Z,Repository configuration,"A configuration file will be retrieved and read by the Administration module. Then the values will be set on the specific class(es) that will use this configuration. Configurable fields: repositories, location of local cache and if repositories are browsable.",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-20,Improvement,2005-10-07T04:09:40.262Z,2005-10-07T04:09:40.262Z,2007-06-02T07:11:12.29Z,2007-06-02T07:11:12.29Z,2005-11-04T17:38:05.011Z,2005-11-04T17:38:05.011Z,<type>test</type> should be converted to <type>jar</type> <scope>test</scope>,,Major,Closed,Won't Fix,Carlos Sanchez,carlos,Brett Porter,brettporter
MRM-43,Task,2005-11-29T21:35:21.331Z,2005-11-29T21:35:21.331Z,2007-05-25T14:20:44.365Z,2007-05-25T14:20:44.365Z,2006-02-08T23:46:19.162Z,2006-02-08T23:46:19.162Z,integrate maven-proxy and/or proximity,"http://maven-proxy.codehaus.org/
https://is-micro.myip.hu/projects/ismicro-commons/proximity/",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-62,Bug,2006-01-19T15:31:18.53Z,2006-01-19T15:31:18.53Z,2007-05-25T14:20:31.106Z,2007-05-25T14:20:31.106Z,2006-02-23T01:20:22.687Z,2006-02-23T01:20:22.687Z,read maven-proxy configuration,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-68,Task,2006-02-02T03:55:31.436Z,2006-02-02T03:55:31.436Z,2007-05-25T14:20:43.356Z,2007-05-25T14:20:43.356Z,2006-02-09T19:40:57.904Z,2006-02-09T19:40:57.904Z,"Accomodate ""query everything"" in the index",Index must accomodate google-like search wherein the keyword or term can be searched on all the fields in the index.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-52,Sub-task,2005-12-08T22:14:16.382Z,2005-12-08T22:14:16.382Z,2007-05-25T14:20:41.403Z,2007-05-25T14:20:41.403Z,2006-02-03T21:33:25.545Z,2006-02-03T21:33:25.545Z,integrate with indexing,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-9,Task,2005-04-11T08:54:07.156Z,2005-04-11T08:54:07.156Z,2007-05-25T14:20:36.487Z,2007-05-25T14:20:36.487Z,2006-01-27T19:09:43.111Z,2006-01-27T19:09:43.111Z,migrate converter to repository manager,'nuff said!,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-72,Task,2006-02-02T04:26:50.924Z,2006-02-02T04:26:50.924Z,2007-06-02T07:11:13.977Z,2007-06-02T07:11:13.977Z,2006-07-23T19:31:16.108Z,2006-07-23T19:31:16.108Z,Administration web user interface,,Major,Closed,Duplicate,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-16,Task,2005-09-20T02:15:14.817Z,2005-09-20T02:15:14.817Z,2007-05-25T14:20:34.272Z,2007-05-25T14:20:34.272Z,2005-12-05T01:15:19.85Z,2005-12-05T01:15:19.85Z,reporting: report on bad metadata files,"missing versions, extra versions, etc.",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-15,Bug,2005-08-01T03:51:02.228Z,2005-08-01T03:51:02.228Z,2007-05-25T14:20:41.604Z,2007-05-25T14:20:41.604Z,2006-02-23T01:30:53.694Z,2006-02-23T01:30:53.694Z,partial POM written even on exception,"I found I Was getting an CCE in the translator, and a partial pom was still written out to disk.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-7,Bug,2005-05-27T19:06:45.075Z,2005-05-27T19:06:45.075Z,2007-06-02T07:11:15.441Z,2007-06-02T07:11:15.441Z,2005-06-08T15:09:28.23Z,2005-06-08T15:09:28.23Z,postgresql-7.4.1-jdbc3.pom badly converted,The m1 postgresql-7.4.1-jdbc3.pom was renamed to postgresql-7.4.1.pom in m2,Major,Closed,Won't Fix,,,Carlos Sanchez,carlos
MRM-57,Bug,2006-01-09T02:18:33.892Z,2006-01-09T02:18:33.892Z,2007-05-25T14:20:36.359Z,2007-05-25T14:20:36.359Z,2006-02-21T23:38:48.216Z,2006-02-21T23:38:48.216Z,"ability to retrieve matched portion of classes, packages and files fields","If searching by ""org.apache"", it would be good to just obtain the portions of the field that matched. This might require indexing one record per class. Need to investigate some more, and determine whether we are using that or can do something else.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-89,Task,2006-02-02T20:38:46.061Z,2006-02-02T20:38:46.061Z,2007-05-25T14:20:43.052Z,2007-05-25T14:20:43.052Z,2006-06-05T07:11:20.319Z,2006-06-05T07:11:20.319Z,add sitemesh to webapp,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-83,Task,2006-02-02T10:28:11.18Z,2006-02-02T10:28:11.18Z,2007-06-02T07:11:12.567Z,2007-06-02T07:11:12.567Z,2006-09-08T03:34:20.609Z,2006-09-08T03:34:20.609Z,Reports should be passed a listener to be able to log their discoveries,"- There will be different types of listeners passed in - web page, mail, etc.

- There may be more than one listener, which can be achieved through an aggregate listener rather than crowding the interface with collections",Major,Closed,Won't Fix,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-42,Task,2005-11-29T21:28:30.627Z,2005-11-29T21:28:30.627Z,2007-05-25T14:20:30.767Z,2007-05-25T14:20:30.767Z,2006-03-02T03:24:42.176Z,2006-03-02T03:24:42.176Z,discover repository metadata,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-25,Improvement,2005-11-01T03:01:29.912Z,2005-11-01T03:01:29.912Z,2007-05-25T14:20:31.223Z,2007-05-25T14:20:31.223Z,2005-11-23T15:47:40.23Z,2005-11-23T15:47:40.23Z,Handle java sources in upload bundles,"The attached patches will allow uploading of java sources to m1/m2 repositories

Patches for:
- deploy-bundle: handles upload bundles with sources and move them to the appropriare location in a m1 repo
- repoclean: handles the ""sources"" classifier in order to sync the m2 repo
- m2site guide-ibiblio-upload apt: explain how to generate an upload bundles with sources
- m1site repository-upload doc: adds the source jar to the artifact list in the upload bundle jar
",Major,Closed,Fixed,Carlos Sanchez,carlos,fabrizio giustina,fgiust
MRM-41,Task,2005-11-29T21:27:27.589Z,2005-11-29T21:27:27.589Z,2007-05-25T14:20:34.392Z,2007-05-25T14:20:34.392Z,2006-02-27T19:29:52.089Z,2006-02-27T19:29:52.089Z,discover standalone POMs,where the pom is the artifact,Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Brett Porter,brettporter
MRM-40,Task,2005-11-29T21:20:36.812Z,2005-11-29T21:20:36.812Z,2007-05-22T14:56:24.532Z,2007-05-22T14:56:24.532Z,2007-05-22T14:56:24.538Z,2007-05-22T14:56:24.538Z,associate artifacts with their pom and checksums,,Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-79,Task,2006-02-02T09:39:14.266Z,2006-02-02T09:39:14.266Z,2007-06-02T07:11:12.382Z,2007-06-02T07:11:12.382Z,2006-07-23T19:31:50.046Z,2006-07-23T19:31:50.046Z,Repository Interface web user interface,Manual removal of lockfile can be done here.,Major,Closed,Duplicate,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-33,Sub-task,2005-11-29T20:55:07.408Z,2005-11-29T20:55:07.408Z,2007-05-25T14:20:43.458Z,2007-05-25T14:20:43.458Z,2005-12-22T00:45:29.153Z,2005-12-22T00:45:29.153Z,"add based on existing indexer for jar classes, packages and filenames",,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-19,Improvement,2005-09-27T13:52:17.78Z,2005-09-27T13:52:17.78Z,2012-09-25T16:19:28.855Z,2012-09-25T16:19:28.855Z,2012-09-25T16:19:24.914Z,2012-09-25T16:19:24.914Z,Make repoclean transform the m1 poms although jar files didn't change,When changing or creating a pom in m1 repo it doesn't propagate to m2 repo if the jar timestamp is not updated or doesn't exist,Minor,Closed,Won't Fix,,,Carlos Sanchez,carlos
MRM-1,Bug,2005-05-26T20:21:54.683Z,2005-05-26T20:21:54.683Z,2007-05-25T14:20:33.207Z,2007-05-25T14:20:33.207Z,2005-06-08T15:13:55.731Z,2005-06-08T15:13:55.731Z,commons-lang 1.0-b1 not converted,,Major,Closed,Fixed,John Casey,jdcasey,Brett Porter,brettporter
MRM-45,Sub-task,2005-11-29T21:40:08.406Z,2005-11-29T21:40:08.406Z,2007-05-25T14:20:26.331Z,2007-05-25T14:20:26.331Z,2006-01-05T19:48:01.339Z,2006-01-05T19:48:01.339Z,search by class or package name,,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-47,Sub-task,2005-11-29T23:21:59.739Z,2005-11-29T23:21:59.739Z,2007-05-25T14:20:40.321Z,2007-05-25T14:20:40.321Z,2006-01-03T02:16:21.392Z,2006-01-03T02:16:21.392Z,add checksum indexer,add the md5 and sha1 to the index,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Brett Porter,brettporter
MRM-12,Bug,2005-07-04T22:34:10.175Z,2005-07-04T22:34:10.175Z,2007-05-25T14:20:36.732Z,2007-05-25T14:20:36.732Z,2006-06-05T22:49:19.164Z,2006-06-05T22:49:19.164Z,POI directory structure incorrectly converted from m1 repo,"The POI files are in directories like
http://www.ibiblio.org/maven2/poi/poi-2.5.1-final/20040804/
although the pom in m1 repo and the one in the m2 have a correct version tag ""2.5.1-final-20040804""",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Carlos Sanchez,carlos
MRM-54,Task,2006-01-03T01:58:11.546Z,2006-01-03T01:58:11.546Z,2007-05-25T14:20:41.792Z,2007-05-25T14:20:41.792Z,2006-01-03T21:12:42.744Z,2006-01-03T21:12:42.744Z,allow nested search parameters,"Search parameters should be nested to allow searches like  

       ( ( groupId=1 AND artifactId=2 ) AND ( version=1 OR version=2 ) )

",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-60,New Feature,2006-01-10T12:51:38.972Z,2006-01-10T12:51:38.972Z,2007-05-25T14:20:44.163Z,2007-05-25T14:20:44.163Z,2006-09-12T02:22:50.946Z,2006-09-12T02:22:50.946Z,Repository Manager should have a means to remove old snapshot builds,"A nice feature for the MRM to have would be a way to set rules on when older SNAPSHOT builds of the form <name>-<version>-<date>.<time>.<ext> should be removed from the repository.  This could either be time based (e.g. any builds older than a month) or count based (e.g. keep only the newest 5 builds).

In addition to the artifact itself, md5 and sha1 files should also be cleaned out.
",Major,Closed,Fixed,Brett Porter,brettporter,clem clem,clem
MRM-50,Test,2005-12-01T04:04:13.321Z,2005-12-01T04:04:13.321Z,2007-05-25T14:20:31.45Z,2007-05-25T14:20:31.45Z,2005-12-01T19:38:40.912Z,2005-12-01T19:38:40.912Z,Abstraction of Reporting test cases,Please apply junit patch for isolating common features needed in setup and teardown methods and a utility method used for testing.,Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-63,Bug,2006-01-19T21:15:38.248Z,2006-01-19T21:15:38.248Z,2007-05-25T14:20:25.115Z,2007-05-25T14:20:25.115Z,2006-01-20T02:29:10.858Z,2006-01-20T02:29:10.858Z,resolve permissions issues with checksum applet,"It currently requires java.policy to be configured to work on IE.

I get an invocation target exception on Firefox, in addition to the java.policy requirement",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-31,Task,2005-11-29T03:51:46.548Z,2005-11-29T03:51:46.548Z,2007-05-25T14:20:38.803Z,2007-05-25T14:20:38.803Z,2005-11-29T04:23:26.753Z,2005-11-29T04:23:26.753Z,Create Reporting Standard APIs,,Major,Closed,Fixed,Maria Odea Ching,oching,Edwin Punzalan,elpunzalan
MRM-74,Task,2006-02-02T09:33:15.427Z,2006-02-02T09:33:15.427Z,2007-05-25T14:20:37.183Z,2007-05-25T14:20:37.183Z,2006-02-23T00:54:21.815Z,2006-02-23T00:54:21.815Z,Browse web user interface,,Major,Closed,Fixed,Nelson Gonzalez Gonzalez,ngonzalez,Ernesto S. Tolentino Jr.,jtolentino
MRM-82,Task,2006-02-02T10:24:00.94Z,2006-02-02T10:24:00.94Z,2007-05-25T14:20:43.655Z,2007-05-25T14:20:43.655Z,2006-09-08T03:34:57.891Z,2006-09-08T03:34:57.891Z,Reports should be components of their own so that new ones can be dropped in,,Major,Closed,Fixed,Brett Porter,brettporter,Ernesto S. Tolentino Jr.,jtolentino
MRM-95,Task,2006-02-15T03:00:27.295Z,2006-02-15T03:00:27.295Z,2007-05-25T14:20:25.683Z,2007-05-25T14:20:25.683Z,2006-02-23T20:54:12.457Z,2006-02-23T20:54:12.457Z,Allow cache timeout configurations for each proxied remote repository,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-69,Task,2006-02-02T04:00:43.92Z,2006-02-02T04:00:43.92Z,2007-05-25T14:20:29.614Z,2007-05-25T14:20:29.614Z,2006-02-09T02:38:34.497Z,2006-02-09T02:38:34.497Z,"Simple ""query everything"" search",Search keyword/term in any of the fields in the index.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-75,Task,2006-02-02T09:34:27.593Z,2006-02-02T09:34:27.593Z,2007-06-02T07:11:16.267Z,2007-06-02T07:11:16.267Z,2006-08-01T23:50:58.622Z,2006-08-01T23:50:58.622Z,Caching web user interface,,Major,Closed,Won't Fix,Marvin King,pmking,Ernesto S. Tolentino Jr.,jtolentino
MRM-80,Task,2006-02-02T09:43:39.49Z,2006-02-02T09:43:39.49Z,2007-05-25T14:20:34.875Z,2007-05-25T14:20:34.875Z,2006-06-16T04:52:02.366Z,2006-06-16T04:52:02.366Z,Scheduling web user interface,Should allow user to set schedule for checking of repository changes.,Major,Closed,Fixed,Allan Ramirez,aramirez,Ernesto S. Tolentino Jr.,jtolentino
MRM-14,New Feature,2005-07-21T18:08:31.792Z,2005-07-21T18:08:31.792Z,2016-03-15T06:02:23.601Z,2016-03-15T06:02:23.601Z,2016-03-15T06:02:23.579Z,2016-03-15T06:02:23.579Z,utilise repository relocation information to update dependencies,"since repoclean loads up all the poms it can know which have been relocated and automatically update the dependency information of some poms as they are converted.

I think this is appropriate, but maybe the original should be retained?",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-6,New Feature,2005-03-14T20:53:39.657Z,2005-03-14T20:53:39.657Z,2007-05-25T14:20:27.997Z,2007-05-25T14:20:27.997Z,2005-12-13T17:56:40.262Z,2005-12-13T17:56:40.262Z,validator: report if artifacts are out of place,"report if artifacts are out of place. you can tell this because in m2
the POM is packaged with the artifact in META-INF/maven/pom.xml so with
that information you can assess weather the artifact is in the right
location. this should not happen if tools are being used to deploy but
it would be a good check to have.",Trivial,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-84,Task,2006-02-02T10:28:52.841Z,2006-02-02T10:28:52.841Z,2008-11-07T07:58:30.437Z,2008-11-07T07:58:30.437Z,2008-11-04T12:00:52.045Z,2008-11-04T12:00:52.045Z,Basic statistics,,Major,Closed,Fixed,Maria Odea Ching,oching,Ernesto S. Tolentino Jr.,jtolentino
MRM-51,Test,2005-12-02T00:13:57.109Z,2005-12-02T00:13:57.109Z,2007-05-25T14:20:31.336Z,2007-05-25T14:20:31.336Z,2005-12-02T01:16:55.63Z,2005-12-02T01:16:55.63Z,Mock objects and additional classes,New classes and mock objects (MockArtifactReportProcessor and MockRepositoryQueryLayer) for unit tests.,Major,Closed,Fixed,Ernesto S. Tolentino Jr.,jtolentino,Ernesto S. Tolentino Jr.,jtolentino
MRM-23,Improvement,2005-11-04T17:33:58.41Z,2005-11-04T17:33:58.41Z,2007-06-02T07:11:12.651Z,2007-06-02T07:11:12.651Z,2005-11-27T18:08:16.182Z,2005-11-27T18:08:16.182Z,Don't create empty m2 poms when there's no m1 pom,,Major,Closed,Won't Fix,Brett Porter,brettporter,Carlos Sanchez,carlos
MRM-27,Improvement,2005-11-10T19:28:53.507Z,2005-11-10T19:28:53.507Z,2007-05-25T14:20:27.762Z,2007-05-25T14:20:27.762Z,2005-11-23T16:15:27.057Z,2005-11-23T16:15:27.057Z,Handle optional property,"Convert m1

      <properties>
        <optional>true</optional>
      </properties>

to

        <optional>true</optional>
",Major,Closed,Fixed,Carlos Sanchez,carlos,Carlos Sanchez,carlos
MRM-88,Sub-task,2006-02-02T18:47:25.209Z,2006-02-02T18:47:25.209Z,2007-05-25T14:20:32.27Z,2007-05-25T14:20:32.27Z,2006-02-21T21:42:18.355Z,2006-02-21T21:42:18.355Z,search by filename,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-4,Bug,2005-05-15T16:10:39.867Z,2005-05-15T16:10:39.867Z,2007-05-25T14:20:42.53Z,2007-05-25T14:20:42.53Z,2005-06-09T13:21:36.318Z,2005-06-09T13:21:36.318Z,repoclean overwrites valid poms with dummy poms when there was none in m1 repo,"I copied the wagon JARs from the m2 repo to the m1 repo so that m1 users could access them. However, repoclean detected they were newer and ""converted"" them, copying the JARs back to the original location where they already resided, and overwriting valid m2 poms with dummy groupId/artifactId only POMs because there were none in the m1 repo.",Major,Closed,Fixed,John Casey,jdcasey,Brett Porter,brettporter
MRM-907,Improvement,2008-08-12T19:28:00.41Z,2008-08-12T19:28:00.41Z,2009-03-08T16:55:39.962Z,2009-03-08T16:55:39.962Z,2008-09-03T21:37:58.419Z,2008-09-03T21:37:58.419Z,Remove VersionedReference/ProjectReference/ArtifactReference from RepositoryProxyConnectors,"Remove VersionedReference/ProjectReference/ArtifactReference from RepositoryProxyConnectors.

Converting from request paths to VersionedReference/ProjectReference/ArtifactReference is not always 100% correct. ",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-951,Bug,2008-09-16T07:29:00.818Z,2008-09-16T07:29:00.818Z,2010-02-28T20:59:11.899Z,2010-02-28T20:59:11.899Z,2010-02-28T20:58:59.072Z,2010-02-28T20:58:59.072Z,"""Unable to find project model"" although everything seems to be perfectly fine","We had a problem with our m2-repository (which Archiva uses as its ""internal""-repository) in such a way that we could not install artifacts from one of our projects into the repository. We would get the error ""Error installing artifact's metadata: Error installing metadata: Error updating group repository metadata input contained no data"" - obviously something messed up with the maven-metadata.xml or maven-metadata-local.xml. So I deleted this directory from the repository and built the project again - unfortunately (now as before) whenever I try to view the version-properties via ""browse"", I get the following error:

""Unable to find project model for [our.project.version].""

Looking into the log-file I find:

2008-09-16 13:48:34,703 [btpool0-4] ERROR org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer - Unable to process model /root/.m2/repository/our.company.project/version/artifact-version.pom due to : javax.jdo.JDOUserException : Field org.apache.maven.archiva.model.Exclusion.artifactId
 is null, but is mandatory as its described in the jdo metadata
javax.jdo.JDOUserException: Field org.apache.maven.archiva.model.Exclusion.artifactId is null, but is mandatory as its described in the jdo metadata
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:120)
        at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
        at org.apache.maven.archiva.model.Exclusion.jdoProvideField(Exclusion.java)
        at org.apache.maven.archiva.model.Exclusion.jdoProvideFields(Exclusion.java)
        at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3115)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:252) 

So I checked the pom which does not have an artifactId according to Archiva. There I find:

<?xml version=""1.0"" encoding=""UTF-8""?>
<project xmlns=""http://maven.apache.org/POM/4.0.0"" xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""
  xsi:schemaLocation=""http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"">

  <modelVersion>4.0.0</modelVersion>

  <parent>
    ...
  </parent>


  <artifactId>ARTIFACT</artifactId>
  <packaging>war</packaging>
  <name>Name</name>

  <build>
  ...
  </build>
...
</project>

I.e.: there is an artifactId in the pom.",Major,Closed,Duplicate,Brett Porter,brettporter,David Bilge,dbilge
MRM-964,Wish,2008-09-30T11:23:38.8Z,2008-09-30T11:23:38.8Z,2011-09-12T11:52:15.024Z,2011-09-12T11:52:15.024Z,2011-09-12T11:52:15.012Z,2011-09-12T11:52:15.012Z,Method isVersion() for validating an uploaded artifact version is open to criticism,"When uploading an artifact, a validation is made against the 'version' field.
The validation occurs in file $SRC/archiva-modules/archiva-base/archiva-common/src/main/java/org/apache/maven/archiva/common/utils/VersionUtil.java.

I think such a validation algorithm can be discussed, as it does not let the user free to use its own versioning system. Actually, Maven itself does not seem to restrict the string pattern for the version of an artifact (even if the version ranging may not work), so why restricting it at Archiva level?
There are cases where you cannot comply with imposed validation method, and where the change of the version system is not permitted for various reasons. The result is you cannot install the artifact using Archiva.",Critical,Closed,Duplicate,,,Vincent Thévenin,vthevenin
MRM-945,Improvement,2008-09-12T01:57:04.906Z,2008-09-12T01:57:04.906Z,2011-03-29T09:59:21.988Z,2011-03-29T09:59:21.988Z,2010-02-23T04:09:37.392Z,2010-02-23T04:09:37.392Z,Change the prompted message for users who do not have access to the repository,Users that searches for artifacts in archiva that doesn't ha,Major,Closed,Fixed,,,mbaclay,mbaclay
MRM-983,Bug,2008-10-22T19:58:45.015Z,2008-10-22T19:58:45.015Z,2008-10-25T01:21:02.824Z,2008-10-25T01:21:02.824Z,,,switching timezones seems to confuse RSS,"I did the following on my laptop:
- stopped running Archiva
- worked offline for a while
- switched timezones on my laptop
- rebooted, restarting Archiva in the process

I ended up with 400 updates in my RSS feed, dating back to September.

I'm not sure if this is a feed reader problem because the times changed zone, or whether Archiva is setting them incorrectly.",Major,Open,,,,Brett Porter,brettporter
MRM-956,Bug,2008-09-26T08:26:50.964Z,2008-09-26T08:26:50.964Z,2009-03-05T23:01:22.305Z,2009-03-05T23:01:22.305Z,2009-03-05T23:01:22.311Z,2009-03-05T23:01:22.311Z,smtp values in security.properties not being taken into account.,"The SMTP settings (email.smtp.*), listed in the security.properties file are not being taken into account when start Archiva in standalone. 

I was unable to get email to be sent via Archiva using the security.properties file (located in $ARCHIVA_BASE/conf). The ONLY way I was able to get this to work was by updating the jetty.xml file (located in $ARCHIVA_BASE/conf) with the updated smtp host information. From what I read, you should be able to set any SMTP related values in the security.properties. This doesn't seem to be the case. Some email settings could be specified in the security.properties file but it doesn't seem consistent.
",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Michael Delaney,mdelaney
MRM-949,Improvement,2008-09-13T20:51:50.791Z,2008-09-13T20:51:50.791Z,2017-04-05T19:12:26.962Z,2017-04-05T19:12:26.962Z,,,changing the consumers requires a restart,"it seems that at present the configuration notification is not reaching the consumer delegation. The specific one I was enabling was the repository purge.

This may be best targeted at 1.2 and a review of configuration and particularly change notification since there are a few gaps occurring. I believe rather than using a text string it would be better to simply inspect the relevant configuration on every change and let the configured object decide how to handle the event.

It would be best aligned to the upcoming event architecture as well",Major,Open,,,,Brett Porter,brettporter
MRM-957,Bug,2008-09-26T09:55:32.044Z,2008-09-26T09:55:32.044Z,2010-02-28T22:54:00.721Z,2010-02-28T22:54:00.721Z,2010-02-28T22:54:00.655Z,2010-02-28T22:54:00.655Z,Changesof  property value in *security.properties* make Archiva crush,"When I change property *security.policy.password.previous.count* to 0(zero) and property *security.policy.password.encoder* is not defined it makes Archiva crushe with exception which refers to DefaultUserSecurityPolicy (line 250) class from redback-policy library. The exception is not well infirmative and only debugging on library sources let me know where is the problem.

I think there should be any validation of properties in Archiva before they passed to third party libraries to avoid such situations",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Viktor M. Pishchulin,isendel
MRM-966,Improvement,2008-10-02T02:55:28.521Z,2008-10-02T02:55:28.521Z,2015-04-05T14:54:09.311Z,2015-04-05T14:54:09.311Z,2008-10-28T22:16:56.057Z,2008-10-28T22:16:56.057Z,Update documentation for search feature,"Include the following in the documentation:
- changes in search (s.a. searching within search results, pagination, exclusion of metadata.xml files from the index)
- package/class/method name search in quick search
- advanced search ",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-994,Improvement,2008-11-06T01:46:02.553Z,2008-11-06T01:46:02.553Z,2008-11-19T01:21:46.123Z,2008-11-19T01:21:46.123Z,,,Download via browser doesn't respect pom FinalName,"If a pom  of webapp project xxxx-1.0.0 includes a finalName entry yyyy, and i download the war from Archiva using browsing method , the
downloaded file is not called yyyy.war but xxxx-1.0.0.war

FinalName in the pom is set to prevent this. 
When we install/deploy webapps , the war name is in relation with the final application URL
so it is important that this is set correctly



",Major,Open,,,,Luc Willems,luc.willems
MRM-941,Bug,2008-09-11T16:41:49.643Z,2008-09-11T16:41:49.643Z,2010-02-28T23:18:29.528Z,2010-02-28T23:18:29.528Z,2010-02-28T23:18:29.48Z,2010-02-28T23:18:29.48Z,log4j config fails to log all errors,"The current log4j config fails to log all errors. For example, my database update job was failing because of a ClassFormatException thrown when the index-public-methods consumer tried to parse an invalid classfile, but no mention appeared in the log.

This should be fixed as follows:

1. An <appender-ref ref=""rolling""/> should be placed in the <root> logger.
2. The <appender-ref ref=""rolling""/> should be removed from all the other <logger>s.
3. The attribute additivity=""false"" should be added to the <logger name=""org.apache.archiva.AuditLog""> so that the audit logging does not go to the rolling appender despite it being configured on the root logger.

After this is done, any packages which are overly noise at info-level can be selectively overridden to warn-level.",Major,Closed,Duplicate,Brett Porter,brettporter,Max Bowsher,maxb
MRM-909,Bug,2008-08-13T21:35:56.348Z,2008-08-13T21:35:56.348Z,2011-09-12T11:46:10.414Z,2011-09-12T11:46:10.414Z,2011-09-12T11:46:10.377Z,2011-09-12T11:46:10.377Z,Direct connect proxy setting is ignored after undetermined event,"Our Archiva instance has trouble connecting to another internal repository.  I've confirmed via packet sniffing that the HTTP request is going to our proxy server even though I've configured this particular remote repository to use a direct connection.  Archiva works correctly for an undetermined time (last time it was 3 days) and then will suddenly and consistently exhibit the above symptoms.  The exception that is logged is below.  After Archiva is restarted the symptom will go away for a period of time and reappear.  The reappearance is unfortunately unpredictable at this time.

2008-08-13 12:07:28,141 [btpool0-3] WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""wdig.releases"" for artifact com.go.trove:trove:1.7.4::pom, continuing to next repository. Error message: Download failure on resource [http://maven2.corp.dig.com:8080/archiva/repository/internal//com/go/trove/trove/1.7.4/trove-1.7.4.pom]:Error transferring file (cause: java.io.IOException: Server returned HTTP response code: 500 for URL: http://maven2.corp.dig.com:8080/archiva/repository/internal/com/go/trove/trove/1.7.4/trove-1.7.4.pom)
2008-08-13 12:07:28,156 [btpool0-3] ERROR org.apache.maven.archiva.webdav.ArchivaDavResourceFactory  - Failures occurred downloading from some remote repositories:
	wdig.releases: Download failure on resource [http://maven2.corp.dig.com:8080/archiva/repository/internal//com/go/trove/trove/1.7.4/trove-1.7.4.pom]:Error transferring file (cause: java.io.IOException: Server returned HTTP response code: 500 for URL: http://maven2.corp.dig.com:8080/archiva/repository/internal/com/go/trove/trove/1.7.4/trove-1.7.4.pom)
org.apache.maven.archiva.policies.ProxyDownloadException: Failures occurred downloading from some remote repositories:
	wdig.releases: Download failure on resource [http://maven2.corp.dig.com:8080/archiva/repository/internal//com/go/trove/trove/1.7.4/trove-1.7.4.pom]:Error transferring file (cause: java.io.IOException: Server returned HTTP response code: 500 for URL: http://maven2.corp.dig.com:8080/archiva/repository/internal/com/go/trove/trove/1.7.4/trove-1.7.4.pom)
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:191)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:519)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:423)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:251)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)",Major,Closed,Fixed,Brett Porter,brettporter,Brian Jackson,jaxzin
MRM-938,Task,2008-09-09T22:33:10.765Z,2008-09-09T22:33:10.765Z,2009-03-21T21:01:43.924Z,2009-03-21T21:01:43.924Z,2009-03-11T01:12:41.718Z,2009-03-11T01:12:41.718Z,Remove 'redback.default.guest' usage in ArchivaXworkUser once this property is removed in redback,See http://www.nabble.com/Re%3A-svn-commit%3A-r691581---in--archiva-trunk-archiva-modules-archiva-web%3A-archiva-security-src-main-java-org-apache-maven-archiva-security--archiva-webapp-src-main-java-org-apache-maven-archiva-web-action--archiva-webapp-src-main-java-org-apache-maven-td19287763.html,Major,Closed,Fixed,Emmanuel Venisse,evenisse,Maria Odea Ching,oching
MRM-961,Bug,2008-09-30T08:25:48.849Z,2008-09-30T08:25:48.849Z,2008-10-12T23:52:04.055Z,2008-10-12T23:52:04.055Z,,,SMTP exceptions not being logged,"I up'ed the log level for every entry in WEB-INF/classes/log4j.xml to debug and updated the SMTP host (in $ARCHIVA_BASE/conf/jetty.xml) to be 'badhostnamethingy' and yet still no exception in any file (located in $ARCHIVA_BASE/logs).
",Major,Open,,,,Michael Delaney,mdelaney
MRM-924,Improvement,2008-08-25T17:16:55.875Z,2008-08-25T17:16:55.875Z,2008-09-04T22:35:15.291Z,2008-09-04T22:35:15.291Z,,,Artifact information screen should indicate the origin of the artifact ,"Looking at the artifact info screen, there is no information related to how the artifact got there.  It would be great if this information could be tracked and made visible e.g. by which proxy connector was this artifact pulled from or the username if manually deployed.",Minor,Open,,,,Steve Dodge,robododge
MRM-915,Bug,2008-08-19T04:29:39.085Z,2008-08-19T04:29:39.085Z,2008-09-09T22:33:28.13Z,2008-09-09T22:33:28.13Z,2008-09-09T22:33:28.135Z,2008-09-09T22:33:28.135Z,NPE with rss links,"With LDAP, I get the following exception when I use the rss icon on the browse page:

{noformat}
java.lang.NullPointerException
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIds(DefaultUserRepositories.java:76)
	org.apache.maven.archiva.web.rss.RssFeedServlet.getObservableRepos(RssFeedServlet.java:305)
	org.apache.maven.archiva.web.rss.RssFeedServlet.isAllowed(RssFeedServlet.java:267)
	org.apache.maven.archiva.web.rss.RssFeedServlet.doGet(RssFeedServlet.java:124)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:690)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
{noformat}

My guest user have the global repository observer role but the login isn't 'guest' so securitySystem.getUserManager().findUser( principal ) return null

Rss works fine if I use the repoId parameter on RssFessServlet instead of groupId/artifactId.
",Major,Closed,Fixed,Maria Odea Ching,oching,Emmanuel Venisse,evenisse
MRM-908,Bug,2008-08-13T11:06:32.738Z,2008-08-13T11:06:32.738Z,2011-03-29T09:59:42.406Z,2011-03-29T09:59:42.406Z,2010-02-23T05:02:29.608Z,2010-02-23T05:02:29.608Z,pom.xml could not be parsed if it contains an UTF8-BOM,"I have several pom.xml files which contain a UTF8-BOM character at the beginning of the file. These pom.xml files are processed by maven 2.0.9 as expected. I can deploy to the repository as expected, the artifacts are indexed as expeced. But then I try to view the details of an artifact version, I get the message that the pom.xml could not be found. This is wrong.

The UTF8-BOM is an ASCII code ",Major,Closed,Fixed,Brett Porter,brettporter,Carsten Schuette,carstenschuette
MRM-943,Bug,2008-09-11T18:16:03.031Z,2008-09-11T18:16:03.031Z,2008-09-11T18:19:36.88Z,2008-09-11T18:19:36.88Z,2008-09-11T18:19:36.895Z,2008-09-11T18:19:36.895Z,results search option should only be available on results page,"the checkbox makes no sense on the original search page, so only show it on the results page.

In addition, it would be better labelled as ""search within results""",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-993,Bug,2008-11-05T19:36:31.138Z,2008-11-05T19:36:31.138Z,2014-08-07T23:21:46.844Z,2014-08-07T23:21:46.844Z,2014-08-07T23:21:46.735Z,2014-08-07T23:21:46.735Z,Metadata update should honor proxy connector blacklisting,"If I have blacklisted pattern on a proxy connector like so:

/com/atlassian/test/**

When the metadata is updated, it will merge the /com/atlassian/test/** metadata regardless of the blacklist.

MetadataTools should be modified so that metadata is merged only if it does not match an existing blacklist for that repository connector.",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,James William Dumay,jameswdumay
MRM-985,Improvement,2008-10-23T21:03:55.356Z,2008-10-23T21:03:55.356Z,2008-11-07T07:58:34.167Z,2008-11-07T07:58:34.167Z,2008-11-06T17:59:48.396Z,2008-11-06T17:59:48.396Z,Document usage of boolean NOT in quick search,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-984,New Feature,2008-10-23T15:21:15.635Z,2008-10-23T15:21:15.635Z,2008-10-25T01:23:54.408Z,2008-10-25T01:23:54.408Z,2008-10-25T01:23:54.453Z,2008-10-25T01:23:54.453Z,Allow browsing by latest and release as defined in metadata,"Browse currently works by groupId/artifactId/version, as in http://example.com/archiva/browse/org.dbunit/dbunit/2.2.3 

I'd like the following urls to also work, and display the 'latest' and 'release' versions as defined in the metadata (or possibly just redirect?)

http://example.com/archiva/browse/org.dbunit/dbunit/latest

http://example.com/archiva/browse/org.dbunit/dbunit/release
",Major,Closed,Duplicate,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-934,Bug,2008-09-04T04:44:25.89Z,2008-09-04T04:44:25.89Z,2008-09-04T06:19:58.043Z,2008-09-04T06:19:58.043Z,2008-09-04T06:19:58.048Z,2008-09-04T06:19:58.048Z,"For bytecode search, only 1 version of the artifact is returned even if there are more than 1 version of that artifact which matched the search","For example, you have the following artifacts in your internal repository:
- org.apache.archiva:archiva-test:1.1:jar
- org.apache.archiva:archiva-test:1.2:jar

Let's assume that both contains the same method 'getArtifact()' and do a bytecode search with that method as the query term (e.g. bytecode:getArtifact). Only one of the two matched artifacts will be returned in the search results instead of the two of them.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-914,Bug,2008-08-19T01:27:45.668Z,2008-08-19T01:27:45.668Z,2010-02-23T01:43:30.767Z,2010-02-23T01:43:30.767Z,2010-02-23T01:43:11.494Z,2010-02-23T01:43:11.494Z,"...in column ""DESCRIPTION"" that has maximum length of 8192. Please correct your data!","jamba-importer-util-xmlobject:jamba-importer-util|-|/xmlobject jamba-importer-util-base:jamba-importer-util|-|/base jamba-importer-util-model:jamba-importer-util|-|/model jamba-importer-util-common:jamba-importer-util|-|/common jamba-importer-util-controller:jamba-importer-util|-|/controller ###### jamba-importer-util:jamba-importer-util-xmlobject|-|org.codehaus.castor:castor:1.1.2.1:compile:jar jamba-importer-util:jamba-importer-util-xmlobject|-|xerces:xercesImpl:2.6.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|jamba-pom:jamba-pom-connection:1.1-1:compile:jar jamba-importer-util:jamba-importer-util-base|-|jamba-pom:jamba-pom-commons:1.2-3:compile:jar jamba-importer-util:jamba-importer-util-base|-|jamba-importer-util:jamba-importer-util-xmlobject:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-base|-|oro:oro:2.0.7:compile:jar jamba-importer-util:jamba-importer-util-base|-|jdom:jdom:1.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|jamba-lib:jamba-lib-j2ssh-common:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|jamba-lib:jamba-lib-j2ssh-core:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-httpclient:commons-httpclient:3.0.1:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-codec:commons-codec:1.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-net:commons-net:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-logging:commons-logging:1.0.4:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-configuration:commons-configuration:1.3:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-lang:commons-lang:2.1:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-digester:commons-digester:1.6:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-beanutils:commons-beanutils:1.7.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-jxpath:commons-jxpath:1.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|xalan:xalan:2.7.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-collections:commons-collections:3.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|xml-apis:xml-apis:1.0.b2:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-dbcp:commons-dbcp:1.2.1:compile:jar jamba-importer-util:jamba-importer-util-base|-|commons-pool:commons-pool:1.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|xerces:xercesImpl:2.6.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|jakarta-regexp:jakarta-regexp:1.4:compile:jar jamba-importer-util:jamba-importer-util-base|-|concurrent:concurrent:1.0:compile:jar jamba-importer-util:jamba-importer-util-base|-|backport-util-concurrent:backport-util-concurrent:3.1:compile:jar jamba-importer-util:jamba-importer-util-base|-|log4j:log4j:1.2.8:compile:jar jamba-importer-util:jamba-importer-util-base|-|jamba-lib:jamba-lib-log4j-datedFileAppender:1.0.2:compile:jar jamba-importer-util:jamba-importer-util-base|-|org.codehaus.castor:castor:1.1.2.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|org.codehaus.castor:castor:1.1.2.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|javax.mail:mail:1.4:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-importer-util:jamba-importer-util-xmlobject:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-pom:jamba-pom-jaxb:1.1-1:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-pom:jamba-pom-axis:1.2-1:compile:jar jamba-importer-util:jamba-importer-util-common|-|poi:poi:2.5.1-final-20040804:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-importer-util:jamba-importer-util-model:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-common|-|jaxen:jaxen:1.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-importer-util:jamba-importer-util-base:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-common|-|javax.activation:activation:1.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|xerces:xercesImpl:2.6.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|com.sun.xml:jaxb-api:1.0.5:compile:jar jamba-importer-util:jamba-importer-util-common|-|com.sun.xml:jaxb-libs:1.0.5:compile:jar jamba-importer-util:jamba-importer-util-common|-|com.sun.xml:jaxb-impl:1.0.5:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-lib:jamba-lib-jaxrpc:1.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|javax.xml:namespace:1.0.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|com.sun.msv.datatype.xsd:xsdlib:20060615:compile:jar jamba-importer-util:jamba-importer-util-common|-|isorelax:isorelax:20030108:compile:jar jamba-importer-util:jamba-importer-util-common|-|relaxngDatatype:relaxngDatatype:20020414:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-lib:jamba-lib-axis:1.1.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|wsdl4j:wsdl4j:1.6.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-discovery:commons-discovery:0.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-lib:jamba-lib-soap:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|dom4j:dom4j:1.6.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|jdom:jdom:1.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|xml-apis:xml-apis:1.3.02:compile:jar jamba-importer-util:jamba-importer-util-common|-|xom:xom:1.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|xerces:xmlParserAPIs:2.6.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|xalan:xalan:2.6.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|com.ibm.icu:icu4j:2.6.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-pom:jamba-pom-connection:1.1-1:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-httpclient:commons-httpclient:3.0.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-codec:commons-codec:1.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-net:commons-net:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-pom:jamba-pom-commons:1.2-3:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-logging:commons-logging:1.0.4:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-configuration:commons-configuration:1.3:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-lang:commons-lang:2.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-digester:commons-digester:1.6:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-beanutils:commons-beanutils:1.7.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-jxpath:commons-jxpath:1.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-collections:commons-collections:3.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-dbcp:commons-dbcp:1.2.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|commons-pool:commons-pool:1.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|jakarta-regexp:jakarta-regexp:1.4:compile:jar jamba-importer-util:jamba-importer-util-common|-|concurrent:concurrent:1.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|backport-util-concurrent:backport-util-concurrent:3.1:compile:jar jamba-importer-util:jamba-importer-util-common|-|log4j:log4j:1.2.8:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-lib:jamba-lib-log4j-datedFileAppender:1.0.2:compile:jar jamba-importer-util:jamba-importer-util-common|-|oro:oro:2.0.7:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-lib:jamba-lib-j2ssh-common:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-common|-|jamba-lib:jamba-lib-j2ssh-core:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-controller|-|com.oracle:ojdbc14:10.2.0.2.0:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-pom:jamba-pom-jaxb:1.1-1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-pom:jamba-pom-axis:1.2-1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-importer-util:jamba-importer-util-common:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|com.sun.xml:jaxb-api:1.0.5:compile:jar jamba-importer-util:jamba-importer-util-controller|-|com.sun.xml:jaxb-libs:1.0.5:compile:jar jamba-importer-util:jamba-importer-util-controller|-|com.sun.xml:jaxb-impl:1.0.5:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-lib:jamba-lib-jaxrpc:1.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|javax.xml:namespace:1.0.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|com.sun.msv.datatype.xsd:xsdlib:20060615:compile:jar jamba-importer-util:jamba-importer-util-controller|-|isorelax:isorelax:20030108:compile:jar jamba-importer-util:jamba-importer-util-controller|-|relaxngDatatype:relaxngDatatype:20020414:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-lib:jamba-lib-axis:1.1.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|wsdl4j:wsdl4j:1.6.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-discovery:commons-discovery:0.2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-lib:jamba-lib-soap:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-controller|-|org.codehaus.castor:castor:1.1.2.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|javax.mail:mail:1.4:compile:jar jamba-importer-util:jamba-importer-util-controller|-|javax.activation:activation:1.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-importer-util:jamba-importer-util-xmlobject:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|xerces:xercesImpl:2.6.2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|poi:poi:2.5.1-final-20040804:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-importer-util:jamba-importer-util-model:802.0.1-build2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-digester:commons-digester:1.6:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-beanutils:commons-beanutils:1.7.0:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-jxpath:commons-jxpath:1.2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-collections:commons-collections:3.2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-dbcp:commons-dbcp:1.2.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|commons-pool:commons-pool:1.2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jakarta-regexp:jakarta-regexp:1.4:compile:jar jamba-importer-util:jamba-importer-util-controller|-|concurrent:concurrent:1.0:compile:jar jamba-importer-util:jamba-importer-util-controller|-|backport-util-concurrent:backport-util-concurrent:3.1:compile:jar jamba-importer-util:jamba-importer-util-controller|-|log4j:log4j:1.2.8:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-lib:jamba-lib-log4j-datedFileAppender:1.0.2:compile:jar jamba-importer-util:jamba-importer-util-controller|-|oro:oro:2.0.7:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-lib:jamba-lib-j2ssh-common:1.0.0:compile:jar jamba-importer-util:jamba-importer-util-controller|-|jamba-lib:jamba-lib-j2ssh-core:1.0.0:compile:jar ###### ###### ###### ###### ###### ######"" in column ""DESCRIPTION"" that has maximum length of 8192. Please correct your data!
        at org.jpox.store.rdbms.mapping.CharRDBMSMapping.setString(CharRDBMSMapping.java:214)
        at org.jpox.store.mapping.SingleFieldMapping.setString(SingleFieldMapping.java:203)
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:122)
        at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
        at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideField(ArchivaProjectModel.java)
        at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFields(ArchivaProjectModel.java)
        at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3115)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:252)
        at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
        at org.jpox.store.StoreManager.insert(StoreManager.java:938)
        at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3667)
        at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3646)
        at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1206)
        at org.jpox.AbstractPersistenceManager.makePersistent(AbstractPersistenceManager.java:1277)
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:190)
        at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:163)
        at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.saveProjectModel(JdoProjectModelDAO.java:86)
        at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifact(ProjectModelToDatabaseConsumer.java:180)
        at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:50)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:154)
        at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersion(DefaultRepositoryBrowsing.java:126)
        at org.apache.maven.archiva.web.action.ShowArtifactAction.artifact(ShowArtifactAction.java:102)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
        at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:51)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:149)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
        at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
        at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
        at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)

        at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
        at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
        at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
        at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
        at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
        at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
        at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
        at org.mortbay.jetty.Server.handle(Server.java:324)
        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
        at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:828)
        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:514)
        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:211)
        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:395)
        at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)

",Critical,Closed,Won't Fix,Brett Porter,brettporter,Tom Spengler,tom_spengler
MRM-929,Bug,2008-08-28T15:41:53.602Z,2008-08-28T15:41:53.602Z,2011-09-12T11:52:08.344Z,2011-09-12T11:52:08.344Z,,,upload page does not allow certain characters in version string,"Unfortunately, I'm required to have some version numbers like this:

1.2.3.AB,REV=4

This is ok for the mvn deploy mechanism for uploading to archiva, but when uploading from the new UI web page provided by archiva 1.1.1 this causes problems, and will not upload.",Major,Open,,,,deckrider,deckrider
MRM-912,Bug,2008-08-15T05:46:56.193Z,2008-08-15T05:46:56.193Z,2008-09-11T17:22:55.355Z,2008-09-11T17:22:55.355Z,2008-09-11T17:22:55.36Z,2008-09-11T17:22:55.36Z,"rss urls seem to use fixed webcontext ""archiva"" instead of actual webcontext","Hi,

I installed Archiva as a web application with a different web context name called ""librepo"" instead of the default ""archiva"".
So all URLs in Archiva start with http://<host>/librepo in my installation.
I just upgraded from Archiva 1.0.2 to Archiva 1.1.1 and everything works fine.
But when I clicked on an RSS symbol which is offered under ""Browse Repository"", I got the following message ""Not Found - The requested URL /archiva/rss/rss_feeds was not found on this server."" 

Manually changing the url to ""http://host/*librepo*/rss/rss_feeds?..."" doesn't lead to a feed, either. But here I only get a blank page and no error message.
Maybe, there is some more work to do at the new rss functionality, but fixing the web context would be start.

Bye, Stefan
",Major,Closed,Fixed,Maria Odea Ching,oching,Atle Prange,prange
MRM-948,Improvement,2008-09-13T20:39:56.446Z,2008-09-13T20:39:56.446Z,2008-11-07T07:58:30.211Z,2008-11-07T07:58:30.211Z,2008-09-13T20:41:25.029Z,2008-09-13T20:41:25.029Z,allow plugins to handle deletion of artifacts through repository purge,"currently the repository purge directly calls the database and then the index to cleanup after purging artifacts. This couples the core consumers to those modules, and also prevents any plugins that wish to store artifact metadata from doing the same.

Note there are also some issues: the cleanup released snapshots doesn't cleanup after itself.

These can both be fixed by moving the deletion logic to the respective modules and using an event from the purge to trigger their call",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-955,New Feature,2008-09-26T06:19:04.917Z,2008-09-26T06:19:04.917Z,2016-03-15T06:03:30.099Z,2016-03-15T06:03:30.099Z,,,Archiva not only Maven repository manager,"Hi,

Archiva is a Maven repositories manager so there is two types declared : ""Maven 2.x repository"" and ""Maven 1.x repository"".

It could be interesting to add an other type : ""Other"".
When you select this new type, ARCHIVA have not to test the maven directories structure.

Why this new feature ? To permit to ARCHIVA to manage (user access, ...) an Eclipse update site for example without error (ConsumerException: Invalid path to Artifact).

",Trivial,Open,,,,E,em31
MRM-917,Bug,2008-08-20T07:21:20.578Z,2008-08-20T07:21:20.578Z,2008-08-20T08:29:42.449Z,2008-08-20T08:29:42.449Z,2008-08-20T08:29:42.455Z,2008-08-20T08:29:42.455Z,Web site links need correction,"goto http://archiva.apache.org/docs/1.0.2/quick-start.html
the breadcrumb link on the top left says  ""Apache > Maven > Archiva > 1.0.1 "" and links to ""http://archiva.apache.org/docs/1.0.2/docs/1.0.1/""

Other sub pages are probably affected as well.",Minor,Closed,Duplicate,Brett Porter,brettporter,Rocko,rocko
MRM-916,Improvement,2008-08-19T08:33:51.842Z,2008-08-19T08:33:51.842Z,2010-02-28T21:35:43.319Z,2010-02-28T21:35:43.319Z,2010-02-28T21:35:43.267Z,2010-02-28T21:35:43.267Z,Can't access repository using WebDAV and Ant,"I've been asked to create this issue for further investigations:

I'd like to access the archiva repository from an Ant task. 

First, I've tried the Ant Task implementation from the Slide project, like

 <mkcol url=""http://${DAV.server}/${DAV.root}/testdir""
    userid=""${DAV.user}"" password=""${DAV.password}""/>

but I always get following error:

org.apache.webdav.lib.WebdavException: PROPFFIND does not return  resourcetype

Second, I've tried to mount an WebDAV drive in Windows. It seams that there are incompatibilities with the jackrabbit implementation. 

As a consequence, I'm not able to connect to archiva via WebDAV. I've installed also netdrive.exe, without success. Only WebDAV client, like EngInSite DataFreeway, is working.

",Major,Closed,Won't Fix,Brett Porter,brettporter,Kuno Baeriswyl,qnob
MRM-988,Improvement,2008-10-26T22:50:20.935Z,2008-10-26T22:50:20.935Z,2008-11-07T07:58:29.849Z,2008-11-07T07:58:29.849Z,2008-10-26T22:51:55.214Z,2008-10-26T22:51:55.214Z,"remove ""dav:"" from the POM snippet in repositories page",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-971,Bug,2008-10-14T02:41:06.575Z,2008-10-14T02:41:06.575Z,2009-06-22T18:12:10.617Z,2009-06-22T18:12:10.617Z,2009-03-15T22:49:08.022Z,2009-03-15T22:49:08.022Z,ConsumerException while starting up Archiva,"after starting up archiva the logfile contains errors like the one below

2008-10-14 09:05:52,164 [pool-1-thread-1] WARN  org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure  - Unable to process artifact [com.cg.g3his:pac.pam.api:jar:tests:0.0.1-20081014.060438-731] with consumer [index-public-methods]
org.apache.maven.archiva.consumers.ConsumerException: Error encountered while adding artifact to index: Error updating index: Lock obtain timed out: SimpleFSLock@C:\G3ROOT\mvn-repositories\archiva\cg.snapshots\.index\bytecode\write.lock
	at org.apache.maven.archiva.consumers.lucene.IndexJavaPublicMethodsConsumer.processArchivaArtifact(IndexJavaPublicMethodsConsumer.java:162)
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:50)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:154)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllUnprocessed(JdoDatabaseUpdater.java:88)
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:70)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:619)
",Major,Closed,Won't Fix,Brett Porter,brettporter,Sascha Rodekamp,sascha
MRM-958,Improvement,2008-09-29T04:54:14.609Z,2008-09-29T04:54:14.609Z,2016-03-15T06:17:41.915Z,2016-03-15T06:17:41.915Z,2016-03-15T06:17:41.887Z,2016-03-15T06:17:41.887Z,Upgrade tests to use Mockito,Archiva is still using EasyMock 1.2 for Java 1.3. EasyMock 2 has more varieties/types of matchers available which are a lot more flexible for comparing expected method calls with actual calls. (See Flexible Expectations with Argument Matchers in http://www.easymock.org/EasyMock2_4_Documentation.html),Minor,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-999,Bug,2008-11-11T14:58:16.767Z,2008-11-11T14:58:16.767Z,2012-09-05T09:15:36.141Z,2012-09-05T09:15:36.141Z,2012-09-05T09:15:26.696Z,2012-09-05T09:15:26.696Z,After artifact removal the database does not update,"Removed an artifact from the file system, then I went into Administration/Database and clicked on ""Update Database now"", I did it a few times, but the groupId/artifactId are still there !!!!

See http://www.nabble.com/How-to-remove-an-artifact-td15005386.html for more details",Major,Closed,Won't Fix,,,Sonia L,solo11051970
MRM-933,Bug,2008-09-04T02:28:48.377Z,2008-09-04T02:28:48.377Z,2009-03-21T21:01:02.418Z,2009-03-21T21:01:02.418Z,2009-02-03T20:33:33.682Z,2009-02-03T20:33:33.682Z,Incorrect search results hit count (ex. Hits: -6 to 23 of 39) for bytecode search,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-960,Bug,2008-09-30T08:23:55.833Z,2008-09-30T08:23:55.833Z,2016-03-24T04:12:35.641Z,2016-03-24T04:12:35.641Z,2016-03-24T04:12:35.611Z,2016-03-24T04:12:35.611Z,editing proxy connecters creates duplicates,"After creating a proxy connector, if you edit that connected and change it's 'Managed Repository', after saving the proxy connector Archiva will create a copy of the current proxy connect with the new 'Managed Repository' and leave the old proxy connector thus creating a duplicate proxy connects",Minor,Closed,Cannot Reproduce,,,Michael Delaney,mdelaney
MRM-986,Bug,2008-10-24T23:55:16.955Z,2008-10-24T23:55:16.955Z,2008-11-07T07:58:28.599Z,2008-11-07T07:58:28.599Z,2008-10-25T01:19:01.722Z,2008-10-25T01:19:01.722Z,archiva.xml is saved in home directory instead of $ARCHIVA_BASE/conf,"According to http://archiva.apache.org/docs/1.1.3/adminguide/standalone.html 

When Archiva saves it's configuration, all configuration is stored to a single file. The file chosen is by the following rules:

    * If ~/.m2/archiva.xml exists, it is saved there
    * Otherwise, it is saved to $ARCHIVA_BASE/conf/archiva.xml, regardless of whether it previously existed.

With 1.1.3, if no archiva.xml file exists, it incorrectly writes the file to ~/.m2.
",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-928,Bug,2008-08-28T03:38:44.397Z,2008-08-28T03:38:44.397Z,2010-02-23T03:14:35.33Z,2010-02-23T03:14:35.33Z,2010-02-23T03:14:35.142Z,2010-02-23T03:14:35.142Z,Performance problem with repo scanning,"I have 3 repo configured, 
- first one is proxied on external repo on the internet
- the second contains components developped by my company
- the third contains snapshot components of the internal component but is not used at the moment

scan process is configured every minutes on each repo, all consumers are activated.

I have a big problem a CPU occupation by archiva it is always at 99.9% and when I configure process task at 5am for exemple the top command output

top - 10:31:40 up 3 days, 21:12,  2 users,  load average: 0.05, 0.20, 0.76
Tasks:  21 total,   2 running,  19 sleeping,   0 stopped,   0 zombie
Cpu(s):  1.0%us,  0.0%sy,  0.0%ni, 99.0%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
Mem:   8302992k total,   977660k used,  7325332k free,        0k buffers
Swap:        0k total,        0k used,        0k free,        0k cached

  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
11772 root      18   0  837m 193m  25m S  1.0  2.4   1:06.72 java
    1 root      15   0  1596  560  488 S  0.0  0.0   0:00.00 init
15987 root      20   0  2872  768  580 S  0.0  0.0   0:00.24 syslog-ng
19919 root      16   0  4528  940  612 S  0.0  0.0   0:00.00 sshd
20048 root      18   0  3600  700  564 S  0.0  0.0   0:00.17 cron
22351 root      16   0  2372  996  804 S  0.0  0.0   0:00.00 xinetd
10012 root      16   0  7368 2272 1796 S  0.0  0.0   0:00.01 sshd
10051 admin     15   0  7368 1508 1024 S  0.0  0.0   0:00.13 sshd
10052 admin     18   0  4840 1748 1452 S  0.0  0.0   0:00.01 bash
10068 admin     16   0  2252 1080  852 S  0.0  0.0   0:00.45 top
17461 root      23   0  133m 8604 5792 S  0.0  0.1   0:00.79 ACServer
17473 root      18   0 32060 4624 3172 S  0.0  0.1   0:00.01 tptpProcessCont
 7269 root      17   0  7368 2244 1768 S  0.0  0.0   0:00.01 sshd
 7272 admin     15   0  7368 1472  988 S  0.0  0.0   0:00.00 sshd
 7273 admin     16   0  4844 1508 1288 S  0.0  0.0   0:00.00 bash
 7294 root      19   0  7364 2268 1796 S  0.0  0.0   0:00.02 sshd
 7297 admin     15   0  7520 1520 1028 R  0.0  0.0   0:00.00 sshd
 7298 admin     15   0  4840 1748 1452 S  0.0  0.0   0:00.02 bash
 7304 root      16   0  4120 1272  988 S  0.0  0.0   0:00.00 su
 7691 root      15   0  4584 1776 1484 S  0.0  0.0   0:00.01 bash
19667 root      15   0  2256 1080  848 R  0.0  0.0   0:00.00 top

So I think it is linked to the repo scan process task
I try to desactive all consumer but no effects are visible.
I try to reduce the scan frequency every 10 minutes but it is the same thing
I try to profile tomcat but i have some difficulties to analyse results.


",Critical,Closed,Duplicate,,,Fabrice Scoyer,fabrice
MRM-942,Bug,2008-09-11T16:44:32.925Z,2008-09-11T16:44:32.925Z,2010-02-28T23:35:22.581Z,2010-02-28T23:35:22.581Z,2010-02-28T23:35:22.558Z,2010-02-28T23:35:22.558Z,Error in a consumer stops the entire database update job,The IndexPublicMethods consumer threw a ClassFormatException when it tried to parse an invalid classfile - this stopped the entire database update job. Exceptions from one consumer should not stop entire jobs / prevent other consumers from running.,Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Max Bowsher,maxb
MRM-927,Bug,2008-08-27T11:36:08.723Z,2008-08-27T11:36:08.723Z,2011-10-27T16:01:54.151Z,2011-10-27T16:01:54.151Z,2011-10-27T16:01:10.4Z,2011-10-27T16:01:10.4Z,404 errors when attempting to retrieve resource from proxied central repository,"I am evaluating Archiva 1.1.1 at a client where internet access must go through a network proxy. I have successfully used Maven 2.0.9 to access remote repositories. I defined a Network Proxy to Archiva to match the settings used elsewhere (web browsers, Maven, IDEs etc.) and added this Network Proxy to the existing Proxy Connectors for the central and java.net remote repositories. I then attempted to request the junit 3.8.1 jar from the internal repository as described on the Quick Start page. However, at this point I simply received a 404 error. None of the log files contains anything useful.

I am stuck. Without the ability to access remote repositories, this tool - which otherwise looks impressive - will not work at this client.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Gareth Davies,telcontar4
MRM-991,Task,2008-10-28T20:59:32.752Z,2008-10-28T20:59:32.752Z,2009-03-21T21:02:19.668Z,2009-03-21T21:02:19.668Z,2009-03-20T12:27:33.174Z,2009-03-20T12:27:33.174Z,Update screenshots in documentation to reflect the changes in the UI ,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-921,Bug,2008-08-21T05:05:49.443Z,2008-08-21T05:05:49.443Z,2009-03-21T21:01:40.542Z,2009-03-21T21:01:40.542Z,2009-03-18T00:13:39.007Z,2009-03-18T00:13:39.007Z,user management role does not display the user management menu,"Only the user with sys admin role have a menu item user management.

Any user with user admin role should have the menu item user management.

workaround :
if the user have the user management role
bookmark the http://XXXX/archiva/security/userlist.action 
makes the user configuration page reachable",Major,Closed,Fixed,Brett Porter,brettporter,leahpar,leahpar
MRM-976,New Feature,2008-10-19T21:21:30.476Z,2008-10-19T21:21:30.476Z,2009-10-16T08:21:10.464Z,2009-10-16T08:21:10.464Z,,,introduce an event API,it would be better for the current consumer api to migrate towards an event api that can handle more than just database scan processing,Major,Open,,,,Brett Porter,brettporter
MRM-981,Bug,2008-10-22T03:02:18.82Z,2008-10-22T03:02:18.82Z,2008-11-07T07:58:30.842Z,2008-11-07T07:58:30.842Z,2008-10-23T01:33:56.261Z,2008-10-23T01:33:56.261Z,artifactIds with numeric characters aren't found in advanced search,"Assuming 'artifact-test' & 'artifact-test2' have the same groupId and are present in the repository:
- search with artifactId: artifact-test returns artifact-test
- search with artifactId: artifact-test2 returns no result",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-935,Bug,2008-09-08T04:32:14.836Z,2008-09-08T04:32:14.836Z,2015-02-16T04:59:35.749Z,2015-02-16T04:59:35.749Z,2015-02-16T04:59:35.55Z,2015-02-16T04:59:35.55Z,Archiva doesn't supports artifact with <version>SNAPSHOT</version>,"We are using SNAPSHOT version of axiom library. In trunk axiom developers are using ""SNAPSHOT"" string as a version
(not a X.X.X-SNAPSHOT, but just SNAPSHOT). Link below.

http://svn.apache.org/viewvc/webservices/commons/trunk/modules/axiom/pom.xml?view=markup

Archiva doesn't support this kind of version. During repository synchronization and also during downloading the artifact
archiva throws exceptions:

{noformat}
2008-09-08 11:00:39,109 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosur
e  - Consumer [repository-purge] had an error when processing file [/home/maven.repo/data/repositories/snapshots/org/apache/ws
/commons/axiom/axiom-tests/SNAPSHOT/axiom-tests-20070912.093446-2.pom]: String index out of range: -1
java.lang.StringIndexOutOfBoundsException: String index out of range: -1
        at java.lang.String.substring(String.java:1938)
        at org.apache.maven.archiva.repository.content.FilenameParser.expect(FilenameParser.java:107)
        at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:119)
        at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:51)
        at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:323)
        at org.apache.maven.archiva.consumers.core.repository.DaysOldRepositoryPurge.process(DaysOldRepositoryPurge.java:81)
        at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:186)
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:51)
        at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:137)
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
        at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:122)
        at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:66)
        at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:111)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
        at java.lang.Thread.run(Thread.java:619)

{noformat}

{noformat}
HTTP ERROR: 500

String index out of range: -1
RequestURI=/archiva/repository/snapshots/org/apache/ws/commons/axiom/axiom-impl/SNAPSHOT/axiom-impl-20070911.125712-1.pom

Caused by:

java.lang.StringIndexOutOfBoundsException: String index out of range: -1
	at java.lang.String.substring(String.java:1938)
	at org.apache.maven.archiva.repository.content.FilenameParser.expect(FilenameParser.java:107)
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:119)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:79)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:513)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:423)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:251)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1093)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1084)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:360)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:722)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:404)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:206)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:139)
	at org.mortbay.jetty.Server.handle(Server.java:324)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:505)
	at org.mortbay.jetty.ajp.Ajp13Connection.access$2700(Ajp13Connection.java:42)
	at org.mortbay.jetty.ajp.Ajp13Connection$RequestHandler.headerComplete(Ajp13Connection.java:221)
	at org.mortbay.jetty.ajp.Ajp13Parser.parseNext(Ajp13Parser.java:474)
	at org.mortbay.jetty.ajp.Ajp13Parser.parseAvailable(Ajp13Parser.java:142)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:380)
	at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:450)
{noformat}

The issue is critical. Archiva should allow at least downloading.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Michal Stochmialek,michal.stochmialek
MRM-903,Bug,2008-08-07T21:14:41.858Z,2008-08-07T21:14:41.858Z,2008-08-25T22:03:06.844Z,2008-08-25T22:03:06.844Z,2008-08-25T22:03:06.853Z,2008-08-25T22:03:06.853Z,Repository scanning should not stop when encounters error,"here is the reference to the discussion

http://www.nabble.com/Cleanup-Metadata-files-on-Archiva-box-td18873837.html

",Major,Closed,Cannot Reproduce,Maria Odea Ching,oching,Dan Tran,dantran
MRM-930,Improvement,2008-08-30T00:19:30.905Z,2008-08-30T00:19:30.905Z,2008-09-04T22:35:15.034Z,2008-09-04T22:35:15.034Z,,,Each repository should have it's own consumer list,"I'm unable to NOT purge one repository AND have the purge feature turned on in another.

Each repository should have its own set of configuration versus a shared one.

I'm talking about the ""repository scanning"" menu option.

Say we have a snapshot repository and a release repository.  Some artifacts like our cryptography builds change once ever few years (and that isn't set in stone).  I'd like to have the snapshot repository purged every month but can't turn on the purge feature in the repository scanning menu without archiva deleting stuff out of the release repository.

",Major,Open,,,,EJ Ciramella,ejciramella
MRM-980,New Feature,2008-10-21T17:07:49.424Z,2008-10-21T17:07:49.424Z,2011-03-29T09:59:29.879Z,2011-03-29T09:59:29.879Z,2010-09-28T04:18:47.615Z,2010-09-28T04:18:47.615Z,Ability to merge repositories,"Need to be able to merge one repository into another, updating metadata and not overwriting existing artifacts.

The source repository should remain unchanged.

It should produce output listing what was merged and what wasn't.

Additions to the target repo should show in the audit log.

Related thread:  http://www.nabble.com/Merging-repositories-ts19850359.html",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-990,Bug,2008-10-28T06:34:00.722Z,2008-10-28T06:34:00.722Z,2010-02-23T01:52:29.58Z,2010-02-23T01:52:29.58Z,2010-02-23T01:52:29.483Z,2010-02-23T01:52:29.483Z,Archiva hangs with connection pool error,"We are using the internal DB.  We need to restart once every 1-2 days because it hangs when hitting any DB query page.  e.g. browse fails, but an individual pom is still downloadable.

There are no other obvious errors.  

The only errors in the log are to do with some invalid files in the repository that we have not cleared up.",Major,Closed,Won't Fix,Brett Porter,brettporter,Yuri Schimke,yuri
MRM-979,Bug,2008-10-20T05:56:31.397Z,2008-10-20T05:56:31.397Z,2011-09-30T04:47:18.88Z,2011-09-30T04:47:18.88Z,2011-09-30T04:47:18.812Z,2011-09-30T04:47:18.812Z,legacy support: 301 Moved Permanently html document is returned as pom file,"I need the java.net maven 1 repo for com.sun.xml.bind:jaxb-xjc-2.1.7. Configured it with:
URL  	http://maven-repository.dev.java.net/nonav/repository/
Type 	Maven 1.x Repository 

Result is 
[WARNING] POM for 'com.sun.xml.bind:jaxb-xjc:pom:2.1.7:compile' is invalid. It will be ignored for artifact resolution. Reason: Not a v4.0.0 POM. for project com.sun.xml.bind:jaxb-xjc at D:\maven2\repository\com\sun\xml\bind\jaxb-xjc\2.1.7\jaxb-xjc-2.1.7.pom",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Dennis Kieselhorst,deki
MRM-946,Improvement,2008-09-12T18:40:43.676Z,2008-09-12T18:40:43.676Z,2008-11-07T07:58:31.635Z,2008-11-07T07:58:31.635Z,2008-10-05T07:59:20.513Z,2008-10-05T07:59:20.513Z,Upgrade to redback 1.1.1,Redback 1.1 has the new roles page.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-974,Bug,2008-10-17T02:01:05.422Z,2008-10-17T02:01:05.422Z,2011-09-12T08:40:57.886Z,2011-09-12T08:40:57.886Z,2011-09-12T08:40:57.853Z,2011-09-12T08:40:57.853Z,ClassFormatError in taskQueueExecutor,"Hi there,

I have Archiva running under the specified environment. Every hour I see ERROR log messages in the JBoss server logs connected to Archiva. I have attached a ZIP file with loads of different error messages from different files. It is not always the same file. But, the error message always occures when Archiva is processing files from the ""Apache Commons"" project. Coincidence?

Regards,
Leander

",Major,Closed,Won't Fix,,,M.-Leander Reimer,lreimer
MRM-920,Improvement,2008-08-21T04:59:47.787Z,2008-08-21T04:59:47.787Z,2008-09-04T22:35:15.629Z,2008-09-04T22:35:15.629Z,,,new role : read only access to the repository configuration,"It would be great if a new role allows someone to have a READ ONLY access to the configuration of the repository : managed / remote and connector
it allows people to see (but not modify) themselves that this managed repository is filled with theses internet website 

thanks",Major,Open,,,,leahpar,leahpar
MRM-940,Bug,2008-09-10T00:14:30.991Z,2008-09-10T00:14:30.991Z,2010-03-01T00:06:44.694Z,2010-03-01T00:06:44.694Z,,,metadata updater consumer should delete any proxy metadata that it cannot parse.,"metadata updater consumer should delete any proxy metadata that it cannot parse.

The following exception is thrown:
{code}
apache.maven.archiva.repository.metadata.RepositoryMetadataException: Unable to parse metadata xml file:/opt/archiva/repodata/internal/com/atlassian/confluence/confluence-webapp/2.10-SNAPSHOT/maven-metadata-atlasian-contrib.xml: Error on line 1 of document  : White spaces are required between publicId and systemId. Nested exception: White spaces are required between publicId and systemId.
	at org.apache.maven.archiva.repository.metadata.RepositoryMetadataReader.read(RepositoryMetadataReader.java:95)
	at org.apache.maven.archiva.repository.metadata.MetadataTools.readProxyMetadata(MetadataTools.java:414)
	at org.apache.maven.archiva.repository.metadata.MetadataTools.gatherSnapshotVersions(MetadataTools.java:158)
	at org.apache.maven.archiva.repository.metadata.MetadataTools.updateMetadata(MetadataTools.java:769)
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.updateVersionMetadata(MetadataUpdaterConsumer.java:241)
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:167)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:51)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers.executeConsumers(RepositoryContentConsumers.java:284)
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:602)
	at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:161)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:530)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:434)
	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:251)
	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:117)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)
	at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)
	at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283)
	at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:767)
	at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:697)
	at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:889)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)
	at java.lang.Thread.run(Thread.java:619)
Caused by: org.apache.maven.archiva.xml.XMLException: Unable to parse metadata xml file:/opt/archiva/repodata/internal/com/atlassian/confluence/confluence-webapp/2.10-SNAPSHOT/maven-metadata-atlasian-contrib.xml: Error on line 1 of document  : White spaces are required between publicId and systemId. Nested exception: White spaces are required between publicId and systemId.
	at org.apache.maven.archiva.xml.XMLReader.init(XMLReader.java:114)
	at org.apache.maven.archiva.xml.XMLReader.<init>(XMLReader.java:82)
	at org.apache.maven.archiva.repository.metadata.RepositoryMetadataReader.read(RepositoryMetadataReader.java:53)
	... 40 more
Caused by: org.dom4j.DocumentException: Error on line 1 of document  : White spaces are required between publicId and systemId. Nested exception: White spaces are required between publicId and systemId.
	at org.dom4j.io.SAXReader.read(SAXReader.java:482)
	at org.dom4j.io.SAXReader.read(SAXReader.java:365)
	at org.apache.maven.archiva.xml.XMLReader.init(XMLReader.java:110)
	... 42 more
{code}

The proxy metadata looks like this:
{code}
<!DOCTYPE HTML PUBLIC ""-//IETF//DTD HTML 2.0//EN"">
<html><head>
<title>404 Not Found</title>
</head><body>
<h1>Not Found</h1>
<p>The requested URL /private//com/atlassian/confluence/confluence-webapp/2.10-SNAPSHOT/maven-metadata.xml was not found on this server.</p>
<hr>
<address>Apache/2.0.52 (Red Hat) Server at maven.atlassian.com Port 443</address>
</body></html>
HTTP/1.1 404 Not Found^M
Date: Mon, 18 Aug 2008 11:35:31 GMT^M
Server: Apache/2.0.52 (Red Hat)^M
Content-Length: 369^M
Keep-Alive: timeout=15, max=98^M
Connection: Keep-Alive^M
Content-Type: text/html; charset=iso-8859-1^M
^M
<!DOCTYPE HTML PUBLIC ""-//IETF//DTD HTML 2.0//EN"">
<html><head>
<title>404 Not Found</title>
</head><body>
<h1>Not Found</h1>
<p>The requested URL /contrib//com/atlassian/confluence/confluence-webapp/2.10-SNAPSHOT/maven-metadata.xml was not found on this server.</p>
<hr>
<address>Apache/2.0.52 (Red Hat) Server at maven.atlassian.com Port 443</address>
</body></html>
{code}",Major,Open,,,,James William Dumay,jameswdumay
MRM-939,Bug,2008-09-09T23:00:05.845Z,2008-09-09T23:00:05.845Z,2011-10-21T05:59:30.187Z,2011-10-21T05:59:30.187Z,2011-10-21T05:59:30.109Z,2011-10-21T05:59:30.109Z,"For repositories which require authentication, Archiva gets the reverse proxy credentials instead of the Archiva credentials you entered",,Major,Closed,Cannot Reproduce,,,Maria Odea Ching,oching
MRM-996,Bug,2008-11-09T23:45:47.886Z,2008-11-09T23:45:47.886Z,2015-04-05T14:54:06.982Z,2015-04-05T14:54:06.982Z,2008-11-12T23:59:37.006Z,2008-11-12T23:59:37.006Z,HttpProxyTransferTest fails on Windows,"The HttpProxyTransferTest fails on Windows due to line end issues. The test is comparing a file on disk with a mocked up response, but the response is created such that line ends in the content portion vary according to the OS on which the test is run.

The fix is to create the mock response using hard-coded line end characters in the content portion. Patch attached.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Martin Cooper,martinc
MRM-919,Improvement,2008-08-21T04:52:24.957Z,2008-08-21T04:52:24.957Z,2016-03-15T06:16:17.114Z,2016-03-15T06:16:17.114Z,2016-03-15T06:16:17.092Z,2016-03-15T06:16:17.092Z,separates items menus for repository managed and remote,"It would be great if the managed repositories and the remote repositories are not on the same page, with also 2 separates items menus

This is not incompatible with MRM-783

thanks",Minor,Closed,Fixed,,,leahpar,leahpar
MRM-911,Bug,2008-08-14T02:08:10.488Z,2008-08-14T02:08:10.488Z,2008-09-09T22:55:47.003Z,2008-09-09T22:55:47.003Z,2008-09-09T22:55:47.007Z,2008-09-09T22:55:47.007Z,Archiva checks user's credentials before guest's rights on the repository,"In a corporate environment we installed archiva on tomcat & mysql.
A reverse proxy (Apache) is used to protect our intranet applications. (I tried to use mod_proxy and mod_jk to connect apache & tomcat and the behavior is  the same.)
To access to our intranet thought the reverse proxy I have to give my credentials (the RP is using a ldap directory and accessed only in HTTPS).
When I access to the archiva UI, everything is fine. After giving my credentials, I can logon or logout with accounts created in archiva (admin for example).
I configured the guest to be a global Repository Manager & Observer on all our repositories (we don't need to readd a security level in archiva. It's already done by apache).
When I access to a repository (to browse it for example) I receive an authentication dialog box (basic authent) like :
{{A user name and password are being requested by https://xxx.yyy.com. The site says: ""Repository Archiva Managed 3rd-parties Repository""}}
It shouldn't be because guest can browse and write on repositories.

What I suppose is that archiva is retreiving my credentials from apache and tries to logon me, which is failing (i don't have this account in archiva). After having fail it proposes to me to reenter new credentials.
I tried to create a user in archiva as the one I have to logon in apache and it works.
I think archiva should check guest rights before to try to logon the user.",Major,Closed,Fixed,Maria Odea Ching,oching,Arnaud HERITIER,aheritier
MRM-910,Bug,2008-08-13T22:58:08.383Z,2008-08-13T22:58:08.383Z,2012-10-13T16:27:16.248Z,2012-10-13T16:27:16.248Z,2012-10-13T16:27:16.1Z,2012-10-13T16:27:16.1Z,appserver.base property not resolved in log4j.xml when deployed in Tomcat,"Even after setting export CATALINA_OPTS=""-Dappserver.home=$CATALINA_HOME -Dappserver.base=$CATALINA_HOME"" before starting Tomcat, the appserver.base property seems to not have been resolved. 

Here's a short snippet from the console during startup:

INFO: Starting Servlet Engine: Apache Tomcat/6.0.14
Aug 14, 2008 11:49:31 AM org.springframework.web.context.ContextLoader initWebApplicationContext
INFO: Root WebApplicationContext: initialization started
log4j:ERROR setFile(null,true) call failed.
java.io.FileNotFoundException: /logs/archiva.log (No such file or directory)
        at java.io.FileOutputStream.openAppend(Native Method)
        at java.io.FileOutputStream.<init>(FileOutputStream.java:177)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-925,Bug,2008-08-27T02:13:55.62Z,2008-08-27T02:13:55.62Z,2008-11-07T07:58:29.402Z,2008-11-07T07:58:29.402Z,2008-10-23T18:43:20.768Z,2008-10-23T18:43:20.768Z,"Access to maven-metadata.xml without ""groupId"" fails when accessed via a repository group","One of our repositories contains the following maven-metadata.xml

{code}
<metadata>
<plugins>
<plugin>
<name>Maven CDM Plugin</name>
<prefix>cdm</prefix>
<artifactId>maven-cdm-plugin</artifactId>
</plugin>
<plugin>
<name>Maven CDM Flex Plugin</name>
<prefix>cdm-flex</prefix>
<artifactId>maven-cdm-flex-plugin</artifactId>
</plugin>
</plugins>
</metadata>
{code}

Notice that there is *no* ""groupId"" element.

This file will be delivered correctly when it is requested via the URL /archiva/repository/continous-integration/com/icw/cdm/plugins/maven-metadata.xml from the containing repository ""continous-integration"".

Now I tried to use the new feature of repository groups creating a new group named ""overall"" containing the repository ""continous-integration"" and others. None of the other repositories contains the above artifacts.

When Maven or a request from a browser is done to the URL /archiva/repository/overall/com/icw/cdm/plugins/maven-metadata.xml the attached stack trace is shown in the browser.

I searched the source code and at the location RepositoryMetadataWriter.java:77 the following code is executed:
{code}
root.addElement( ""groupId"" ).setText( metadata.getGroupId() );
{code}
This must fail, because the maven-metadata.xml does *not* contain a ""groupId"".

How can I use the repository group feature with such a maven-metadata.xml file?",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Maik Ebert,maik
MRM-954,Bug,2008-09-23T16:23:39.798Z,2008-09-23T16:23:39.798Z,2015-04-05T14:54:15.668Z,2015-04-05T14:54:15.668Z,2008-10-02T08:32:52.014Z,2008-10-02T08:32:52.014Z,Footer doesn't stretch across repositoryGroups page,"The footer doesn't stretch all the way across the page for the repositoryGroups page. This is because of unclosed tags in the jsp file.  Looking at the last few lines of the file http://svn.apache.org/repos/asf/archiva/trunk/archiva-modules/archiva-web/archiva-webapp/src/main/webapp/WEB-INF/jsp/admin/repositoryGroups.jsp

\\
{code:title=repositoryGroups.jsp|borderStyle=solid}
</div> <%-- repository group --%>
</c:forEach>
</div> <%-- admin --%>

</div> <%-- content area --%>
</c:otherwise>
</c:choose>{code}

The contentArea div is closed too early, and the body and html elements are never closed.  These lines should be changed to:

{code:title=repositoryGroups.jsp|borderStyle=solid}
</div> <%-- repository group --%>
</c:forEach>
</div> <%-- admin --%>

</c:otherwise>
</c:choose>
</div> <%-- content area --%>
</body>
</html>
{code}
",Trivial,Closed,Fixed,Maria Odea Ching,oching,Doron Solomon,freeky_d
MRM-936,Improvement,2008-09-08T20:47:34.038Z,2008-09-08T20:47:34.038Z,2008-09-08T20:48:21.345Z,2008-09-08T20:48:21.345Z,,,Allow the user to take all proxy connectors offline and online, Currently you can only take an individual connector offline/online. The UI should be extended to allow all proxy connectors to be enabled or disabled.,Major,Open,,,,James William Dumay,jameswdumay
MRM-987,Improvement,2008-10-25T01:10:35.434Z,2008-10-25T01:10:35.434Z,2008-11-07T07:58:34.066Z,2008-11-07T07:58:34.066Z,2008-10-25T01:11:12.057Z,2008-10-25T01:11:12.057Z,switch from prototype to jquery,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-932,Bug,2008-09-03T01:55:34.67Z,2008-09-03T01:55:34.67Z,2008-09-04T02:34:36.732Z,2008-09-04T02:34:36.732Z,2008-09-04T02:34:36.737Z,2008-09-04T02:34:36.737Z,"Error 500 when clicking the Next or Previous icon of the results of a search, if user is trying to search for java classes, packages or methods.","When user tries to search for java classes, packages or methods.
User types ""bytecode:xxx"" , the results will display but when user clicks the next or previous icon of the results.
Page will then display

HTTP ERROR: 500

INTERNAL_SERVER_ERROR

RequestURI=/quickSearch.action
Caused by:

java.lang.NullPointerException
	at org.apache.maven.archiva.web.action.SearchAction.isEqualToPreviousSearchTerm(SearchAction.java:254)
	at org.apache.maven.archiva.web.action.SearchAction.quickSearch(SearchAction.java:153)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)",Major,Closed,Fixed,Maria Odea Ching,oching,Gwen Harold Autencio,gautencio
MRM-997,New Feature,2008-11-10T17:24:55.567Z,2008-11-10T17:24:55.567Z,2017-04-05T19:13:10.04Z,2017-04-05T19:13:10.04Z,,,"Ability to enable and disable features such as browsing, repository search, dependency graphs and dependency analysis.","Ability to enable and disable features such as browsing, repository search, dependency graphs and dependency analysis.",Major,Open,,,,James William Dumay,jameswdumay
MRM-913,New Feature,2008-08-17T19:48:53.019Z,2008-08-17T19:48:53.019Z,2009-03-21T21:01:42.79Z,2009-03-21T21:01:42.79Z,2009-02-20T03:00:52.225Z,2009-02-20T03:00:52.225Z,Ability to delete an artifact from the web interface,"Sometimes when viewing an artifact through the Archiva Web UI, I'd like to delete it from the repository.

Currently the only way to do this by deleting it from the managed repository filesystem.",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-959,Improvement,2008-09-29T07:49:25.155Z,2008-09-29T07:49:25.155Z,2016-03-15T06:18:03.005Z,2016-03-15T06:18:03.005Z,2016-03-15T06:18:02.974Z,2016-03-15T06:18:02.974Z,Update documentation to include 'how to enable exception logging',Please update the documentation to include how to enable exception logging.(i.e. setting the log level in WEB-INF/classes/log4j.xml to DEBUG).,Minor,Closed,Won't Fix,,,Michael Delaney,mdelaney
MRM-944,Improvement,2008-09-11T19:40:25.09Z,2008-09-11T19:40:25.09Z,2012-10-13T16:27:53.631Z,2012-10-13T16:27:53.631Z,2012-10-13T16:27:53.584Z,2012-10-13T16:27:53.584Z,make it possible to configure the host name used for links,"archiva can generally detect the current URL being used and use that to populate any rendered links to the repository, etc. but it should be possible to make it configurable so that you can always use a specific name.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-904,New Feature,2008-08-07T22:17:29.731Z,2008-08-07T22:17:29.731Z,2008-08-12T03:47:03.082Z,2008-08-12T03:47:03.082Z,,,Ability to see Repo Scanning Errors,"
This is  a better way to monitor what is going on when error happens

see http://www.nabble.com/Cleanup-Metadata-files-on-Archiva-box-td18873837.html",Major,Open,,,,Dan Tran,dantran
MRM-977,Improvement,2008-10-19T22:06:44.715Z,2008-10-19T22:06:44.715Z,2008-11-07T07:58:30.703Z,2008-11-07T07:58:30.703Z,2008-10-19T22:33:07.712Z,2008-10-19T22:33:07.712Z,Upgrade from Webwork 2 to Struts 2,Upgrade from Webwork 2 to Struts 2.,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-989,Bug,2008-10-28T06:19:50.067Z,2008-10-28T06:19:50.067Z,2009-04-14T18:33:20.906Z,2009-04-14T18:33:20.906Z,2009-03-21T02:20:14.739Z,2009-03-21T02:20:14.739Z,download-type-javadoc.png is missing,The javadoc icon in the browser is missing. ,Trivial,Closed,Fixed,Brett Porter,brettporter,Dennis Kieselhorst,deki
MRM-947,Improvement,2008-09-12T18:42:11.396Z,2008-09-12T18:42:11.396Z,2012-09-24T03:25:58.256Z,2012-09-24T03:25:58.256Z,2012-09-24T03:25:58.118Z,2012-09-24T03:25:58.118Z,"Add some screenshots in ""Runtime Configuration"" pages",,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-905,Bug,2008-08-10T13:06:47.646Z,2008-08-10T13:06:47.646Z,2008-08-17T20:46:27.348Z,2008-08-17T20:46:27.348Z,2008-08-17T20:46:27.352Z,2008-08-17T20:46:27.352Z,EL Expression failed with empty/not functions,"After installing as Wiki said, as a tomcat WAR, i get parsing error in some JSP/TAG code.

Some examples :

org.apache.jasper.JasperException: /WEB-INF/jsp/components/companyLogo.jsp(22,0) ""${!empty(organisationLogo)}"" contient d'incorrecte(s) expression(s): javax.el.ELException: Function ':empty' not found
org.apache.jasper.JasperException: /WEB-INF/tags/currentWWUrl.tag(29,0) ""${!empty(action) && !empty(namespace)}"" contient d'incorrecte(s) expression(s): javax.el.ELException: Function ':empty' not found

I've added logs as attachments.

The workaround is very simple : 
replace EL exepressions containing ""empty("" with ""empty ("", and  ""not("" with ""not ("" as EL expression requires.

This is a VERY strange error since i've successufully setup Archiva on my profesionnal server, and i got these error on two distinct personnal systems.

I'll check the professionnal/personnal system differences.
",Blocker,Closed,Fixed,Maria Odea Ching,oching,Fabrice Daugan,fabdouglas
MRM-926,Bug,2008-08-27T10:02:18.089Z,2008-08-27T10:02:18.089Z,2008-09-09T22:33:21.531Z,2008-09-09T22:33:21.531Z,2008-09-09T22:33:21.538Z,2008-09-09T22:33:21.538Z,NPE with search page,"I have the following NPE in the search result page with a LDAP guest user

{noformat}
java.lang.NullPointerException
	org.apache.maven.archiva.security.DefaultUserRepositories.getObservableRepositoryIds(DefaultUserRepositories.java:76)
	org.apache.maven.archiva.web.action.SearchAction.getObservableRepos(SearchAction.java:163)
	org.apache.maven.archiva.web.action.SearchAction.quickSearch(SearchAction.java:93)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:585)
	com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:358)
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:51)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:105)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
{noformat}
",Major,Closed,Fixed,Maria Odea Ching,oching,Emmanuel Venisse,evenisse
MRM-969,Bug,2008-10-10T03:14:19.674Z,2008-10-10T03:14:19.674Z,2012-10-13T16:28:31.43Z,2012-10-13T16:28:31.43Z,2012-10-13T16:28:31.347Z,2012-10-13T16:28:31.347Z,Tomcat will not shutdown,"On both Debian GNU/Linux and Windows, I'm unable to shutdown Apache Tomcat when Archiva is installed. I have to kill the server process to get it to stop. When I execute the shutdown.sh or shutdown.bat scripts, the server starts it shutdown procedure, but hangs. The last line in the log is:
",Major,Closed,Cannot Reproduce,Olivier Lamy (*$^¨%`£),olamy,Duncan Doyle,mccloud
MRM-970,Bug,2008-10-13T11:04:17.526Z,2008-10-13T11:04:17.526Z,2010-02-28T23:05:50.272Z,2010-02-28T23:05:50.272Z,2010-02-28T23:05:39.063Z,2010-02-28T23:05:39.063Z,Backslash in file path in search result from Archiva running on windows OS,"In search results there are files listed with path containing backslash characters. (look on screenshot)
This occurs for maven-metadata.xml, so it has relation to MRM-737 and MRM-650.",Minor,Closed,Duplicate,Brett Porter,brettporter,Norbert Krankilla,soja
MRM-998,Bug,2008-11-11T08:42:31.875Z,2008-11-11T08:42:31.875Z,2016-03-24T04:13:37.373Z,2016-03-24T04:13:37.373Z,2016-03-24T04:13:37.349Z,2016-03-24T04:13:37.349Z,LDAP configuration isn't flexible enough to use in my env (Active Directory) doesnt have a password attribute.,"Hi,
I would love to enable the ldap stuff, I have all manner of apps using ldap (jira,confluence,openfire etc).  I cannot use ldap with Archiva as Active Directory (not my choice) doesn't store user passwords as an attribute, I have to 'connect' with the user credentials in order to verify them.

Please extend LDAP support to remove the reliance on a password atrribute and enable user provided passwords at the login prompt to be used in the ldap connection to validate authentication.

At Archiva startup, it stacks, so is trying to do something tha tit cant.

{noformat}
5422 [WrapperSimpleAppMain] INFO org.quartz.core.QuartzScheduler - Scheduler defaultScheduler_$_NON_CLUSTERED started.
org.codehaus.plexus.redback.common.ldap.connection.LdapException: Could not connect to the server. [Root exception is javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 525, vece]]
	at org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.<init>(LdapConnection.java:81)
	at org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory.getConnection(ConfigurableLdapConnectionFactory.java:130)
	at org.codehaus.plexus.redback.users.ldap.LdapUserManager.newDirContext(LdapUserManager.java:338)
	at org.codehaus.plexus.redback.users.ldap.LdapUserManager.findUser(LdapUserManager.java:214)
{noformat}",Major,Closed,Fixed,,,Andy Brook,javahollic
MRM-978,Bug,2008-10-20T00:16:29.797Z,2008-10-20T00:16:29.797Z,2008-11-07T07:58:32.398Z,2008-11-07T07:58:32.398Z,2008-10-20T00:17:46.291Z,2008-10-20T00:17:46.291Z,showArtifactLink tag is broken,showArtifactLink tag is broken. Was not moved to struts2 correctly.,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-973,Bug,2008-10-15T03:24:55.563Z,2008-10-15T03:24:55.563Z,2010-02-28T21:53:08.254Z,2010-02-28T21:53:08.254Z,2010-02-28T21:53:08.162Z,2010-02-28T21:53:08.162Z,snapshot delete for a released artifact doesn't work if using seperate repositories,"I set up my repositories this way :
id : local-snapshots :  for hosting only my company's snapshots : no release in it
id : local-release : for hosting only my company's releases : no snapshot in it.

I configured archiva to delete released snapshots, but it seems not to work if snapshot are in a different repo than releases. Snapshots are not beeing deleted, although a release is done for an artifact.",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Dominique Jean-Prost,djeanprost
MRM-923,Improvement,2008-08-24T20:20:11.769Z,2008-08-24T20:20:11.769Z,2008-08-24T20:54:36.913Z,2008-08-24T20:54:36.913Z,2008-08-24T20:54:36.919Z,2008-08-24T20:54:36.919Z,Add 64-bin linux wrapper libraries,"Please add linux-x86-64 wrapper support to Archiva.

As more and more users are moving to 64-bit linux distributions, this will become more of an issue.

Attached is a zip file containing the wrapper-linux-x86-64 executable (bin directory) and the libwrapper-linux-x86-64.so library (lib directory). These files were copied from the nexus repository manager distribution.

Tested successfully on Ubuntu 64-bit 8.04 server.

Thanks,

Frank",Minor,Closed,Duplicate,,,Frank Hellwig,fhellwig
MRM-962,Bug,2008-09-30T10:11:37.312Z,2008-09-30T10:11:37.312Z,2015-04-05T14:53:45.284Z,2015-04-05T14:53:45.284Z,2008-12-11T00:28:27.786Z,2008-12-11T00:28:27.786Z,Upload Artifact action should trim its fields,"Fields from 'Upload Artifact' form are not trimmed, resulting in artifacts that may not be reachable afterward.

As an example, see attached archive.

Step_1: inserting an artifact with spaces in the groupId and artifactId fields
Step_2: the artifact is accepted with no error
Step_3: when trying, for example, to browse the artifact, it is of course unreachable

Fields involved are: Group Id, Artifact Id, Packaging, Classifier",Trivial,Closed,Fixed,Martin Cooper,martinc,Vincent Thévenin,vthevenin
MRM-952,Improvement,2008-09-18T09:25:02.487Z,2008-09-18T09:25:02.487Z,2015-04-05T14:54:07.859Z,2015-04-05T14:54:07.859Z,2008-10-10T22:59:25.822Z,2008-10-10T22:59:25.822Z,"Patch for several issues while processing poms (effective model, expressions resolving, storing to database)","I'm submitting a bigger patch for serveral issues that drived my crazy after installation of archiva in our company.
The patch is for 1.1.1 and 1.1.2 releases. 

The patch:
- fixes problems with expression resolving (${pom.version}) in dependencies,
- adds support for parent.{groupId, artifactId, version) properties,
- fixes issues with jdo detachCopy called from ProjectModelToDatabaseListener while creating effective pom,
- fixes inconsistency in key format used in effective model cache,
- add merging parentProject and properties while creating effective pom,
- ArchivaProjectModel.setOrgin(""filesystem"") was moved to readers (where IMO should be),
- adds few new test cases.

I will be very happy if you apply the patch on the code base. It will save me a bit of work 
with merging my changes with new releases in the future.


",Major,Closed,Fixed,Maria Odea Ching,oching,Michal Stochmialek,michal.stochmialek
MRM-937,Improvement,2008-09-08T21:50:15.016Z,2008-09-08T21:50:15.016Z,2009-03-21T21:01:04.583Z,2009-03-21T21:01:04.583Z,2008-11-20T00:15:42.426Z,2008-11-20T00:15:42.426Z,Rename audit.log to archiva-audit.log to avoid conflicts,"Archiva's log file should be prefixed with archiva- to avoid naming conflicts in a shared installation.

(For example Redback also needs an audit log.)
",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-965,Improvement,2008-10-01T21:54:53.127Z,2008-10-01T21:54:53.127Z,2016-03-15T06:18:30.606Z,2016-03-15T06:18:30.606Z,2016-03-15T06:18:30.582Z,2016-03-15T06:18:30.582Z,Standardize pagination in reports and search results,Update pagination of reports to look and behave like the pagination in the search results,Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-901,Bug,2008-08-05T17:38:08.999Z,2008-08-05T17:38:08.999Z,2009-03-21T21:02:19.963Z,2009-03-21T21:02:19.963Z,2009-03-18T04:57:18.801Z,2009-03-18T04:57:18.801Z,Repository groups does not display groups that have the same groupId,"I have 2 repositories (approved and unapproved) combined into a group (dev). Each repository has only 1 artifact. The repositories both had the default setup for a repository in archiva.

The first artifact (in approved) used:
groupId: org.foo.firstTest
artifactId:aTest
version:1.0
package:org.foo.firstTest

The second artifact (in unapproved) used:
groupId: org.foo.secondTest
artifactId: anotherTest
version: 1.0
package:org.foo.secondTest

When I looked at http://localhost:8080/archiva/repository/approved I could see the first artifact. When I looked at http://ocalhost:8080/archiva/repository/unapproved I could see the second artifact. However when I looked at the repository group (http://localhost:8080/archiva/repository/dev) I could only see the first artifact and not the second artifact.  If I removed the approved from the group I could then see the second artifact, but obviously not the first artifact. It appears that if there are common groupIds in different repositores that are grouped together, then they aren't displayed in the group.

I have seen this effect on other servers with different named repositories in addition to the sample test.
",Major,Closed,Fixed,Maria Odea Ching,oching,Christian Rigdon,oakie3cr
MRM-918,New Feature,2008-08-21T04:44:34.302Z,2008-08-21T04:44:34.302Z,2012-09-14T04:27:56.804Z,2012-09-14T04:27:56.804Z,2012-09-14T04:27:56.584Z,2012-09-14T04:27:56.584Z,Switch for disabling user registration,"It would be nice to have a single switch to disable the registration of arbitrary users, so new users can only be registered by the administrator.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Rocko,rocko
MRM-953,Bug,2008-09-22T23:06:59.838Z,2008-09-22T23:06:59.838Z,2010-02-23T05:24:48.78Z,2010-02-23T05:24:48.78Z,2010-02-23T05:24:48.723Z,2010-02-23T05:24:48.723Z,maven-jetty-plugin server side relocation fails,"maven-jetty-plugin server side relocation fails.

A qucik debuging session shows that the property ${project.version} is not resolved.",Major,Closed,Duplicate,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-950,New Feature,2008-09-14T18:57:57.927Z,2008-09-14T18:57:57.927Z,2010-02-23T01:47:42.128Z,2010-02-23T01:47:42.128Z,,,advanced statistics plugin,"as a proof of concept for the event changes and the ability to properly integrate plugins without tight coupling the components, I'd like to see an advanced statistics plugin that can:
- have a timeline of artifact events
- track historical information about the number of artifacts
- present a variety of information about the artifacts such as sizes, age of snapshots, etc.",Major,Open,,,,Brett Porter,brettporter
MRM-975,Improvement,2008-10-18T20:38:34.84Z,2008-10-18T20:38:34.84Z,2009-03-21T21:01:42.597Z,2009-03-21T21:01:42.597Z,2008-12-09T20:39:07.645Z,2008-12-09T20:39:07.645Z,Refresh of Archiva templates and stylesheets to match site styles,Refresh of Archiva templates and stylesheets to match site styles. Removed orange UI elements except for roll overs.,Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-982,Bug,2008-10-22T05:17:46.796Z,2008-10-22T05:17:46.796Z,2016-03-15T06:19:13.107Z,2016-03-15T06:19:13.107Z,2016-03-15T06:19:13.083Z,2016-03-15T06:19:13.083Z,Exception when using behind firewall,"Exception when using behind firewall and setting the network proxy settings

",Major,Closed,Fixed,,,Malcolm Wong Ho,mwho
MRM-967,Bug,2008-10-07T00:35:20.75Z,2008-10-07T00:35:20.75Z,2008-10-07T00:47:08.504Z,2008-10-07T00:47:08.504Z,2008-10-07T00:39:00.906Z,2008-10-07T00:39:00.906Z,"Security Issue: If repository observer role is enabled for the 'guest' user, an invalid user is able to deploy to that repository","Steps to reproduce (using repository 'snapshots'):
1. Configure the <distributionManagement> of your project's pom to deploy your project to 'snapshots' repository, as follows:

<distributionManagement>
  <repository>
    <id>releases</id>
    <name>Releases Repository</name>
    <layout>default</layout>
    <url>dav:http://localhost:8080/archiva/repository/releases/</url>
  </repository>
  <snapshotRepository>
    <id>snapshots</id>
    <uniqueVersion>true</uniqueVersion>
    <name>Snapshots Repository</name>
    <layout>default</layout>
    <url>dav:http://localhost:8080/archiva/repository/snapshots/</url>
  </snapshotRepository>
</distributionManagement>

2. Enable the 'snapshots' repository observer role for 'guest' user
3. Add an invalid user credentials in your settings.xml for 'snapshots' repository, as shown below:

<server>
  <id>snapshots</id>
  <username>invalidusername</username>
  <password>password</password>
</server> 

4. Execute 'mvn clean deploy' in your project. 

Alternatively, you can also use the deploy-file goal to replicate the issue so you won't need to configure your pom (ex. 'mvn deploy:deploy-file -Dfile=nunit.framework.dll -DgroupId=NUnit -Dversion=2.4.8.0 -Dpackaging=dll -DartifactId=NUnit.Framework.dll -DrepositoryId=snapshots -Durl=http://localhost:8080/archiva/repository/snapshots -DgeneratePom=true')
",Critical,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-995,Improvement,2008-11-07T05:03:32.342Z,2008-11-07T05:03:32.342Z,2015-04-05T14:54:16.431Z,2015-04-05T14:54:16.431Z,2011-09-12T08:03:25.041Z,2011-09-12T08:03:25.041Z,Generated Descriptors are wrong after Eclipse Project Clean,"I'm trying to run archiva from within RAD.
For this I checkout the whole archiva sources from the repository and run mvn install. After running the eclipse goal (wtpversion=1.5), everything is setup fine for development with RAD/Eclipse
I got problems regarding the merge of components-fragment.xml and the derived resource components.xml (happing in e.g. archiva-policies).
After a project clean or a change in the generated components xml, the automatic eclipse build overwrites the merged file, which only exists in the target/classes folder. This results in error messages like: url-failures-cache bean cannot be found.
I wonder why the descriptor goals do not run in the generate-resources phase and generate their output first to target/generated-resources, making later phases take care of the processing and packaging.
The suggested patch:
- changes the phases for the descriptor and merge-descriptors goals
- outputs the merged result to generated-resources/plexus/META-INF/plexus/components.xml
",Minor,Closed,Fixed,james.w.dumay,james.w.dumay,Steffen Grunwald,sgrunwald
MRM-902,Bug,2008-08-06T02:56:31.448Z,2008-08-06T02:56:31.448Z,2008-11-17T23:45:40.963Z,2008-11-17T23:45:40.963Z,2008-09-03T21:35:24.352Z,2008-09-03T21:35:24.352Z,If path has leading slash when being checked againts whitelists and blacklists causes matching failure,"If path has leading slash when being checked againts whitelists and blacklists causes matching failure in DefaultRepositoryProxyConnectors::matchesPattern

eg /log4j/log4j/maven-metadata.xml and pattern ""**/*"" will not match.

The leading slash should be removed before a comparison is made.",Major,Closed,Cannot Reproduce,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-963,Bug,2008-09-30T11:05:41.736Z,2008-09-30T11:05:41.736Z,2011-09-12T11:48:23.77Z,2011-09-12T11:48:23.77Z,2011-09-12T11:48:23.74Z,2011-09-12T11:48:23.74Z,'Admin: Edit Proxy Connector': parameters are not correctly restituted from configuration file,"When changing values of fields from 'Admin: Edit Proxy Connector' form, configuration is correctly written to $ARCHIVA_BASE/conf/archiva.xml. Logout/login via the GUI then browsing back to the form seems to show the correct values (it was not working one time, but I do not reproduced the issue).

But if stopping then restarting the server, and via the GUI (after a logout/login before shutting down the server), browsing back to the form, the values are no more restituted correctly.
{quote}
Uncorrect parameters: 'return error when', 'on remote error'.
Parameter 'cache failures' is correctly restituted.
Parameters 'releases', 'snapshots', 'checksum' are untested.
{quote}

Question behind this is: is it just a GUI issue, or are the parameters not taken into account by the server? No test performed on my side.",Major,Closed,Cannot Reproduce,,,Vincent Thévenin,vthevenin
MRM-992,New Feature,2008-10-29T11:51:51.968Z,2008-10-29T11:51:51.968Z,2015-04-05T23:00:39.7Z,2015-04-05T23:00:39.7Z,2008-10-30T10:32:25.761Z,2008-10-30T10:32:25.761Z,Managed Repository: allow to block deployment of existing release-artifacts ,"Overwriting existing release-artifacts potentially leads to a great mess, since the previous artifact may already have been downloaded and existing in the local-repos of developer-machines.
By offering a checkbox ""Prevent upload of existing release-artifacts"", Archiva should prevent the upload and return an error. As a result, the Maven build-process will fail, which is correct behaviour.

IMO, the best-practise is, that even a minor bug-fix-version, should NOT have the same major version-number - rather it should result in a completely new (minor) version-number.",Major,Closed,Duplicate,Wendy Smoak,wsmoak,Marc Lustig,axismundi
MRM-906,Improvement,2008-08-10T23:27:33.291Z,2008-08-10T23:27:33.291Z,2008-11-07T07:58:31.171Z,2008-11-07T07:58:31.171Z,2008-10-23T18:49:01.503Z,2008-10-23T18:49:01.503Z,Proxy repository operations should not be done in place ,"Currently, Archiva will download files directly to the managed repository before any policies are executed. This leaves the repository in various invalid states causing race conditions.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-900,Bug,2008-08-01T04:52:23.378Z,2008-08-01T04:52:23.378Z,2008-08-01T10:04:00.178Z,2008-08-01T10:04:00.178Z,2008-08-01T10:04:00.184Z,2008-08-01T10:04:00.184Z,Strange bug with axis dependency,"When accessing to our internal maven repository for axis dependency, archiva seems to have a problem with the path layout it considers too short.

Pointing my browser to : http://fornax:8090/archiva/repository/internal/axis, gives me the following exception :
{panel}
Error 404 Not Found

The following resource does not exist: http://fornax:8090/repository//axis

org.apache.maven.archiva.repository.layout.LayoutException: Not a valid request path layout, too short.
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:100)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePath(RepositoryRequest.java:242)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:192)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
	at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
{panel}

Maven seems to have the same problem because it can't get a copy of these dependencies to my local repository.

{panel}
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Failed to resolve artifact.

Missing:
----------
1) axis:axis-ant:jar:1.4

  Try downloading the file manually from the project website.

  Then, install it using the command:
      mvn install:install-file -DgroupId=axis -DartifactId=axis-ant -Dversion=1.4 -Dpackaging=jar -Dfile=/path/to/file

  Alternatively, if you host your own repository you can deploy the file there:
      mvn deploy:deploy-file -DgroupId=axis -DartifactId=axis-ant -Dversion=1.4 -Dpackaging=jar -Dfile=/path/to/file -Durl=[url] -Drepositor
yId=[id]

  Path to dependency:
        1) com.sofinco.capi.samples.esb.hello:hello-proxies:jbi-service-unit:1.0-SNAPSHOT
        2) org.apache.servicemix:servicemix-soap2:jar:3.2.2
        3) org.apache.ws.security:wss4j:jar:1.5.4
        4) axis:axis-ant:jar:1.4

----------
1 required artifact is missing.

for artifact:
  com.sofinco.capi.samples.esb.hello:hello-proxies:jbi-service-unit:1.0-SNAPSHOT

from the specified remote repositories:
  external (http://fornax:8090/archiva/repository/external)
{panel}
",Major,Closed,Not A Problem,Brett Porter,brettporter,Manuel EVENO,mektoub
MRM-922,Bug,2008-08-21T05:09:12.849Z,2008-08-21T05:09:12.849Z,2009-03-21T21:01:44.214Z,2009-03-21T21:01:44.214Z,2009-03-11T12:33:31.125Z,2009-03-11T12:33:31.125Z,access to upload page with managed repository role,"1- A user with the managed repo role on a repository shoud have access to the uploadartifact menu item.

2- in the upload artifact page, the combo box should only contains repositories for which the user have the managed repo role 
",Major,Closed,Fixed,Brett Porter,brettporter,leahpar,leahpar
MRM-931,Improvement,2008-09-01T08:02:11.529Z,2008-09-01T08:02:11.529Z,2008-09-04T22:35:14.847Z,2008-09-04T22:35:14.847Z,,,"Provide relocation informations in artifact-view, if the pom contains relocation information.","If an artifact contains relocation-information the artifact-view should provide/display this information.
If i have an artifact which was only a pom I can't recognize if 
a) there was only requested a pom (and there will be a jar available)
b) there exist only a pom (because this is some kind of superpom)
c) this artifact as relocated.

It would be helpfull if I can detect an relocation on the artifact-view without downloading the pom and open this with an editor.",Major,Open,,,,Denis Schettl,dschettl
MRM-572,Sub-task,2007-10-26T19:26:00.114Z,2007-10-26T19:26:00.114Z,2007-10-31T19:05:54.022Z,2007-10-31T19:05:54.022Z,2007-10-31T19:05:54.029Z,2007-10-31T19:05:54.029Z,Migrate continuum builds of archiva-security to new svn url,,Critical,Closed,Won't Fix,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-506,Sub-task,2007-09-18T01:43:58.27Z,2007-09-18T01:43:58.27Z,2008-02-15T01:05:14.251Z,2008-02-15T01:05:14.251Z,2008-02-15T01:05:14.309Z,2008-02-15T01:05:14.309Z,[REPORT] Repository Statistics,"The repository statistics screen should contain the following ....

|Type|In Corporate Repo|In Snapshots Repo|Total|
|File Count|#|#|#|
|File Size Totals|#|#|#|
|Project Count|#|#|#|
|Group Id Count|#|#|#|
|Artifact Count|#|#|#|
|Plugin Count|#|#|#|
|Archetype Count|#|#|#|
|Jar Count|#|#|#|
|War Count|#|#|#|",Major,Closed,Duplicate,Brett Porter,brettporter,Teodoro Cue Jr.,tcue
MRM-585,Bug,2007-11-09T04:35:32.312Z,2007-11-09T04:35:32.312Z,2011-03-29T09:59:34.267Z,2011-03-29T09:59:34.267Z,2010-02-23T05:17:43.733Z,2010-02-23T05:17:43.733Z,Project models for Maven 1 artifacts cannot be found in repo browse,"This error occurs when browsing for a Maven 1 artifact (ex. acegisecurity):

Unable to find project model for [acegisecurity:acegi-security:0.7.0].",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-591,Improvement,2007-11-12T02:18:35.536Z,2007-11-12T02:18:35.536Z,2008-03-25T20:31:03.103Z,2008-03-25T20:31:03.103Z,2008-03-25T20:31:03.107Z,2008-03-25T20:31:03.107Z,Reports should show from which repository the defective artifact was found.,"In the report showing the defective/problematic artifacts from All Repositories, it would be nice to see from which repository each defective artifact was found. The artifacts could be grouped by repository. ",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-558,Bug,2007-10-22T04:08:57.56Z,2007-10-22T04:08:57.56Z,2007-10-22T08:50:17.035Z,2007-10-22T08:50:17.035Z,2007-10-22T08:50:17.042Z,2007-10-22T08:50:17.042Z,html problem on repositories admin page causes footer to not be left aligned,,Minor,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-525,Improvement,2007-09-26T16:26:21.688Z,2007-09-26T16:26:21.688Z,2007-10-10T18:35:33.034Z,2007-10-10T18:35:33.034Z,2007-10-10T18:35:33.038Z,2007-10-10T18:35:33.038Z,Typos on the hacking page,"Julien Graglia reported the following typos on the [mailing list | http://www.nabble.com/forum/ViewPost.jtp?post=12896988]
{quote}
Hi,

I'am not sure it's the correct place but there are 2 little mistakes in
http://maven.apache.org/archiva/hacking/index.html

in section ""Building Archiva""
1/the links to dl the connector and jta are broken : they include the
corrects url but with a ""download from..."" prefix
2/the install command of jta is broken : a '-' is missing before
Dversion=1.0.1B
mvn install:install-file -DgroupId=javax.transaction -DartifactId=jta
!!!!-!!!!Dversion=1.0.1B -Dpackaging=jar -Dfile=jta-1_0_1B-classes.zip

thats no real pbs, because if you start building archiva, you surely
found (and correct) easyly those problems!

-- 
Julien Graglia 
{quote}",Trivial,Closed,Fixed,Joakim Erdfelt,joakime,Alex Mayorga Adame,alex_mayorga
MRM-583,Task,2007-11-08T16:58:45.15Z,2007-11-08T16:58:45.15Z,2007-11-23T04:08:22.902Z,2007-11-23T04:08:22.902Z,2007-11-23T04:08:22.919Z,2007-11-23T04:08:22.919Z,Finalise and publish updated web site,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-518,Bug,2007-09-25T09:56:51.37Z,2007-09-25T09:56:51.37Z,2007-10-10T18:36:35.568Z,2007-10-10T18:36:35.568Z,2007-10-10T18:36:35.572Z,2007-10-10T18:36:35.572Z,Changing the internal repository directory has no effect,"I changed the directory for the internal archiva repository from the default setting

${ARCHIVA_HOME}/data/repositories/internal

to a different location. But new dependencies were still downloaded to the default/old directory. 

But after I restarted archiva everything is fine. ",Major,Closed,Duplicate,Joakim Erdfelt,joakime,Mathias Arens,mathiasarens
MRM-519,Bug,2007-09-25T10:44:35.853Z,2007-09-25T10:44:35.853Z,2015-04-05T14:54:13.412Z,2015-04-05T14:54:13.412Z,2007-10-10T18:13:43.692Z,2007-10-10T18:13:43.692Z,"fail to resolve artifactId for libs that contain versionKeyword in artifactId, like ""maven-test-plugin""","Trying to get maven-test-plugin (using maven1) fails in 404. Archiva is searching for
""\maven\maven\test-plugin-1.8.2\maven-test-plugin-1.8.2.jar""

RepositoryLayoutUtils tries to detect the artifact Id by searching for some version keyword in the request string. As ""test[09]*"" is a version keyword, it resolves to ""maven"".

The attached path add the feature of checking that all tokens in the version part - all after artifactId expect the latest (classifier) - are valid version keywords.",Major,Closed,Fixed,Joakim Erdfelt,joakime,nicolas de loof,ndeloof
MRM-536,Bug,2007-10-10T15:49:34.311Z,2007-10-10T15:49:34.311Z,2007-10-17T02:35:33.187Z,2007-10-17T02:35:33.187Z,2007-10-17T02:35:33.193Z,2007-10-17T02:35:33.193Z,JVM Bug Triggered in archiva-metadata-reports,"{noformat}
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
There are no tests to run.

Results :
Tests run: 0, Failures: 0, Errors: 0, Skipped: 0

[INFO] [jar:jar]
[INFO] Building jar: /home/joakim/code/archiva/trunk/archiva-reporting/archiva-metadata-reports/target/
archiva-metadata-reports-1.0-beta-3-SNAPSHOT.jar
[INFO] [install:install]
[INFO] Installing /home/joakim/code/archiva/trunk/archiva-reporting/archiva-metadata-reports/target/
archiva-metadata-reports-1.0-beta-3-SNAPSHOT.jar to /home/joakim/.m2/repository-archiva/org/apache/maven/archiva/archiva-metadata-re
ports/1.0-beta-3-SNAPSHOT/archiva-metadata-reports-1.0-beta-3-SNAPSHOT.jar
[INFO] ----------------------------------------------------------------------------
[INFO] Building Archiva Reporting :: Project Reports
[INFO]    task-segment: [clean, install]
[INFO] ----------------------------------------------------------------------------
[INFO] [clean:clean]
[INFO] Deleting directory /home/joakim/code/archiva/trunk/archiva-reporting/archiva-project-reports/target
[INFO] Deleting directory /home/joakim/code/archiva/trunk/archiva-reporting/archiva-project-reports/target/classes
[INFO] Deleting directory /home/joakim/code/archiva/trunk/archiva-reporting/archiva-project-reports/target/test-classes
[INFO] Deleting directory /home/joakim/code/archiva/trunk/archiva-reporting/archiva-project-reports/target/site
[INFO] [plexus:descriptor {execution: generate}]
[INFO] [remote-resources:process {execution: default}]
[INFO] [resources:resources]
[INFO] Using default encoding to copy filtered resources.
#
# An unexpected error has been detected by HotSpot Virtual Machine:
#
#  SIGSEGV (0xb) at pc=0xb79a4afd, pid=30832, tid=3085063872
#
# Java VM: Java HotSpot(TM) Client VM (1.5.0_11-b03 mixed mode, sharing)
# Problematic frame:
# V  [libjvm.so+0x324afd]
#
# An error report file with more information is saved as hs_err_pid30832.log
#
# If you would like to submit a bug report, please visit:
#   http://java.sun.com/webapps/bugreport/crash.jsp
#
Aborted (core dumped)
{noformat}",Major,Closed,Won't Fix,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-599,Bug,2007-11-20T05:03:24.091Z,2007-11-20T05:03:24.091Z,2007-11-21T23:27:45.418Z,2007-11-21T23:27:45.418Z,2007-11-21T23:27:45.439Z,2007-11-21T23:27:45.439Z,maven-metadata.xml is not part of defined whitelist (skipping transfer).,"Starting with a clean archiva internal repository and a clean local maven repository the download of maven plugins fails.

The error message is: 

Path [org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml] is not part of defined whitelist (skipping transfer).

See the full logs below. But I didn't modified the white list for the central repository. It is still '**/*'.

Steps to reproduce the problem:

1. Clean the archiva managed internal repository.
2. Scan the internal repository
3. Clean the local maven repository
4. run 'mvn clean install' on a maven project

Here is the log:

INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,105 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [no]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,105 [SocketListener0-5] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures policy set to NO.
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,105 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [once]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,105 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [never]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,105 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - No authentication for remote repository needed
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,105 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml from Central Repository
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,338 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Downloaded successfully.
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,339 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml.sha1 from Central Repository
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,573 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Downloaded successfully.
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,573 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Checksum.sha1 Downloaded: /p/cred/sp5e/factory/rmsc/archivarepos/internal/org/apache/maven/plugins/maven-clean-plugin/maven-metadata-central.xml.sha1
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,573 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml.md5 from Central Repository
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,817 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Downloaded successfully.
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,817 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Checksum.md5 Downloaded: /p/cred/sp5e/factory/rmsc/archivarepos/internal/org/apache/maven/plugins/maven-clean-plugin/maven-metadata-central.xml.md5
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,817 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [checksum] policy with [fix]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,818 [SocketListener0-5] DEBUG org.apache.maven.archiva.common.utils.Checksums:default  - Valid checksum: /p/cred/sp5e/factory/rmsc/archivarepos/internal/org/apache/maven/plugins/maven-clean-plugin/maven-metadata-central.xml.sha1
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,819 [SocketListener0-5] DEBUG org.apache.maven.archiva.common.utils.Checksums:default  - Valid checksum: /p/cred/sp5e/factory/rmsc/archivarepos/internal/org/apache/maven/plugins/maven-clean-plugin/maven-metadata-central.xml.md5
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,819 [SocketListener0-5] DEBUG org.apache.maven.archiva.policies.PostDownloadPolicy:checksum  - Checksum policy set to FIX, checksum files have been updated.
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,819 [SocketListener0-5] DEBUG org.apache.maven.archiva.repository.scanner.RepositoryContentConsumers:default  - Sending to consumer: index-content
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Path [org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml] is not part of defined whitelist (skipping transfer).
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [once]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [never]
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - No authentication for remote repository needed
INFO   | jvm 1    | 2007/11/20 11:33:04 | 2007-11-20 11:33:04,943 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml from EJB3Unit Maven2 Repository
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,339 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Project Metadata org.apache.maven.plugins:maven-clean-plugin not found on remote repository ""ejb3unit"".
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,339 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,339 [SocketListener0-5] INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer not attempted on http://repository.codehaus.orgorg/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml : NO to fetch, check-failures detected previous failure on url: http://repository.codehaus.orgorg/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer not attempted on http://commons.ucalgary.ca/pub/m2org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml : NO to fetch, check-failures detected previous failure on url: http://commons.ucalgary.ca/pub/m2org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [once]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [never]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - No authentication for remote repository needed
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,340 [SocketListener0-5] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml from Netbeans Maven2 Repository
INFO   | jvm 1    | 2007/11/20 11:33:05 | Nov 20, 2007 11:33:05 AM org.mortbay.jetty.servlet.ServletHandler handle
INFO   | jvm 1    | 2007/11/20 11:33:05 | WARNING: /archiva/repository/internal/org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml:
INFO   | jvm 1    | 2007/11/20 11:33:05 | org.apache.maven.archiva.proxy.ProxyException: Download failure on resource [http://deadlock.netbeans.org/maven2/org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml]:Error transferring file
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:694)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:519)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:319)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchMetadataFromProxies(ProxiedDavServer.java:390)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxies(ProxiedDavServer.java:329)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:197)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.HttpServer.service(HttpServer.java:909)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
INFO   | jvm 1    | 2007/11/20 11:33:05 | Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring file
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:104)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:68)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:656)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       ... 28 more
INFO   | jvm 1    | 2007/11/20 11:33:05 | Caused by: java.net.ProtocolException: Server redirected too many  times (20)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1251)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:83)
INFO   | jvm 1    | 2007/11/20 11:33:05 |       ... 30 more
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,539 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [no]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,539 [SocketListener0-1] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures policy set to NO.
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,539 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [once]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,540 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [never]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,540 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - No authentication for remote repository needed
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,540 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml from Central Repository if updated
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,770 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Project Metadata org.apache.maven.plugins:maven-clean-plugin not updated on remote repository ""central"".
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,770 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Path [org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml] is not part of defined whitelist (skipping transfer).
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,771 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,771 [SocketListener0-1] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,771 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [once]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,771 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [never]
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,771 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - No authentication for remote repository needed
INFO   | jvm 1    | 2007/11/20 11:33:05 | 2007-11-20 11:33:05,771 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml from EJB3Unit Maven2 Repository
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,139 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Project Metadata org.apache.maven.plugins:maven-clean-plugin not found on remote repository ""ejb3unit"".
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,139 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer not attempted on http://repository.codehaus.orgorg/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml : NO to fetch, check-failures detected previous failure on url: http://repository.codehaus.orgorg/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer not attempted on http://commons.ucalgary.ca/pub/m2org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml : NO to fetch, check-failures detected previous failure on url: http://commons.ucalgary.ca/pub/m2org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] INFO  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer not attempted on http://deadlock.netbeans.org/maven2org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml : NO to fetch, check-failures detected previous failure on url: http://deadlock.netbeans.org/maven2org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [yes]
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures detected no issues.
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [once]
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [never]
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,140 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - No authentication for remote repository needed
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,141 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/plugins/maven-clean-plugin/maven-metadata.xml from JBoss Maven2 Repository
INFO   | jvm 1    | 2007/11/20 11:33:06 | 2007-11-20 11:33:06,481 [SocketListener0-1] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Project Metadata org.apache.maven.plugins:maven-clean-plugin not found on remote repository ""jboss"".
",Major,Closed,Duplicate,Brett Porter,brettporter,Mathias Arens,mathiasarens
MRM-560,Bug,2007-10-22T07:24:23.923Z,2007-10-22T07:24:23.923Z,2008-06-19T04:54:42.853Z,2008-06-19T04:54:42.853Z,2007-11-08T16:25:11.9Z,2007-11-08T16:25:11.9Z,Dependency Tree causes an Exception,"Using the Dependency Tree link generates the following stack trace :
{noformat} 
HTTP Status 500 -

type Exception report

message

description The server encountered an internal error () that prevented it from fulfilling this request.

exception

javax.servlet.ServletException: org.apache.jasper.JasperException: An exception occurred processing JSP page /WEB-INF/jsp/artifact/dependencyTree.jsp at line 24

21: <%@ taglib prefix=""my"" tagdir=""/WEB-INF/tags"" %>
22: <%@ taglib prefix=""archiva"" uri=""http://maven.apache.org/archiva"" %>
23: 
24: <archiva:dependency-tree groupId=""${groupId}"" artifactId=""${artifactId}"" version=""${version}""
25:                          modelVersion=""${model.version}"">
26:   <my:showArtifactLink groupId=""${node.groupId}"" artifactId=""${node.artifactId}""
27:                        version=""${node.version}""/>  


Stacktrace:
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:284)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)

root cause

org.apache.jasper.JasperException: An exception occurred processing JSP page /WEB-INF/jsp/artifact/dependencyTree.jsp at line 24

21: <%@ taglib prefix=""my"" tagdir=""/WEB-INF/tags"" %>
22: <%@ taglib prefix=""archiva"" uri=""http://maven.apache.org/archiva"" %>
23: 
24: <archiva:dependency-tree groupId=""${groupId}"" artifactId=""${artifactId}"" version=""${version}""
25:                          modelVersion=""${model.version}"">
26:   <my:showArtifactLink groupId=""${node.groupId}"" artifactId=""${node.artifactId}""
27:                        version=""${node.version}""/>  


Stacktrace:
	org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:524)
	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:417)
	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)
	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	com.opensymphony.webwork.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:114)
	com.opensymphony.webwork.dispatcher.WebWorkResultSupport.execute(WebWorkResultSupport.java:143)
	com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:313)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:208)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:53)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:118)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)

root cause

javax.servlet.ServletException: javax.servlet.jsp.JspException: Graph is null.
	org.apache.jasper.runtime.PageContextImpl.doHandlePageException(PageContextImpl.java:850)
	org.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:779)
	org.apache.jsp.WEB_002dINF.jsp.artifact.dependencyTree_jsp._jspService(dependencyTree_jsp.java:77)
	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393)
	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)
	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	com.opensymphony.webwork.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:114)
	com.opensymphony.webwork.dispatcher.WebWorkResultSupport.execute(WebWorkResultSupport.java:143)
	com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:313)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:208)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:53)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:118)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)

root cause

javax.servlet.jsp.JspException: Graph is null.
	org.apache.maven.archiva.web.tags.DependencyTree.gatherTreeList(DependencyTree.java:131)
	org.apache.maven.archiva.web.tags.DependencyTreeTag.doStartTag(DependencyTreeTag.java:128)
	org.apache.jsp.WEB_002dINF.jsp.artifact.dependencyTree_jsp._jspx_meth_archiva_005fdependency_002dtree_005f0(dependencyTree_jsp.java:102)
	org.apache.jsp.WEB_002dINF.jsp.artifact.dependencyTree_jsp._jspService(dependencyTree_jsp.java:69)
	org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:393)
	org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:320)
	org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
	com.opensymphony.webwork.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:114)
	com.opensymphony.webwork.dispatcher.WebWorkResultSupport.execute(WebWorkResultSupport.java:143)
	com.opensymphony.xwork.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:313)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:208)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:53)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:118)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:178)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:175)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:76)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)

note The full stack trace of the root cause is available in the Apache Tomcat/6.0.14 logs.
Apache Tomcat/6.0.14
{noformat} ",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Olivier Lamy (*$^¨%`£),olamy
MRM-541,Improvement,2007-10-13T22:21:35.817Z,2007-10-13T22:21:35.817Z,2008-11-07T07:58:29.99Z,2008-11-07T07:58:29.99Z,2008-09-08T20:48:27.119Z,2008-09-08T20:48:27.119Z,"convenient way to take Archiva proxies ""offline""","I'm on a bad connection and proxying is very slow, making every archiva request a multiple of that slowness. I don't want to temporarily modify the configuration to disable the connectors (or even to turn on failure caching which would help a little) - but I would like to have an admin feature to temporarily turn off the proxy functionality altogether, considering Archiva ""offline"" (but still serving requests, not that kind of offline :).
",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Brett Porter,brettporter
MRM-526,Improvement,2007-09-26T17:56:45.484Z,2007-09-26T17:56:45.484Z,2012-12-29T18:01:07.267Z,2012-12-29T18:01:07.267Z,2012-12-29T18:01:07.057Z,2012-12-29T18:01:07.057Z,cache-failure policy timeout should be easily configurable,set in a plexus.xml deep in archiva-policy.jar,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,JR Boyens,jboyens
MRM-524,Task,2007-09-26T13:26:56.865Z,2007-09-26T13:26:56.865Z,2016-03-15T06:06:23.52Z,2016-03-15T06:06:23.52Z,2016-03-15T06:06:23.496Z,2016-03-15T06:06:23.496Z,Determine HTTP Cache-Control rules for all repository content.,"With the recently added Cache-Control on maven-metadata.xml files from MRM-503, it becomes apparent that we need to investigate the Cache-Control rules for other repository content such as ...

* Release Artifacts
* Snapshot Artifacts
* Hashcodes (sha1, md5)

",Major,Closed,Won't Fix,james.w.dumay,james.w.dumay,Joakim Erdfelt,joakime
MRM-568,Bug,2007-10-24T06:04:23.584Z,2007-10-24T06:04:23.584Z,2010-02-23T02:25:07.734Z,2010-02-23T02:25:07.734Z,2010-02-23T02:25:07.625Z,2010-02-23T02:25:07.625Z,Error in 'update-db-project' consumer during database scanning when a repo that has been removed was re-added again,"This was the error from the console
jvm 1    | 2007-10-24 10:44:46,186 [pool-1-thread-1] INFO  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Adding project model to database - org.jruby.plugins:jruby-rake-plugin:1.0RC1-20070506.090132-4
jvm 1    | 2007-10-24 10:44:46,187 [pool-1-thread-1] ERROR org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Unable to process model /home/deng/TestFiles/sample-local-repo/org/jruby/plugins/jruby-rake-plugin/1.0RC1-SNAPSHOT/jruby-rake-plugin-1.0RC1-20070506.090132-4.pom due to : javax.jdo.JDOUserException : Field org.apache.maven.archiva.model.ArchivaProjectModel.origin is null, but is mandatory as its described in the jdo metadata
jvm 1    | javax.jdo.JDOUserException: Field org.apache.maven.archiva.model.ArchivaProjectModel.origin is null, but is mandatory as its described in the jdo metadata
jvm 1    |      at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:120)
jvm 1    |      at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
jvm 1    |      at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideField(ArchivaProjectModel.java)
...

Steps to reproduce:
1. Added a new m2 repository 'sample-local-repo' (which already exists in my local file system and has artifacts in it)
2. Scanned the repository
3. Updated the database
4. Removed the repository
5. Added it back again, with the same name, identifier and location.
6. Scanned the repository
7. Updated the database (this is where the error occurred)
",Major,Closed,Won't Fix,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-571,Sub-task,2007-10-26T19:25:05.707Z,2007-10-26T19:25:05.707Z,2007-10-31T19:06:29.764Z,2007-10-31T19:06:29.764Z,2007-10-31T19:06:29.769Z,2007-10-31T19:06:29.769Z,Create UserRepositories object in archiva-security,"Create a component to aide in filtering of ManagedRepositories based on user permissions.

The two methods definitely needed (could be more)

* List<ManagedRepositoryConfiguration> getAllowedObservingRepositories( String principal );
* List<ManagedRepositoryConfiguration> getAllowedManagingRepositories( String principal );

Care will be needed to ensure that these lookups performs well (possible caching needed).",Critical,Closed,Won't Fix,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-501,Bug,2007-09-14T10:35:48.927Z,2007-09-14T10:35:48.927Z,2007-10-11T20:26:15.723Z,2007-10-11T20:26:15.723Z,2007-10-11T20:26:15.727Z,2007-10-11T20:26:15.727Z,Saving configuration fails through the webapp.,"When modifying Proxy Connector through the web UI the following error occured:
{code}
Unable to save configuration: Unable to create configuration file: /dev/null/.m2/archiva.xml (Not a directory)
{code}

Geronimo runs as a user without login and with home dir set to /dev/null.",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Aleksandr Tarutin,atarutin
MRM-504,Improvement,2007-09-18T01:24:14.94Z,2007-09-18T01:24:14.94Z,2008-03-19T18:34:38.37Z,2008-03-19T18:34:38.37Z,2008-03-19T18:34:38.451Z,2008-03-19T18:34:38.451Z,Find Artifact page needs more onscreen information/instructions,"Find Artifact

Search for:
Checksum:

Select the file you would like to locate in the remote repository. The entire file will not be uploaded to the server. See the progress bar below for progress of locally creating a checksum that is uploaded to the server after you hit ""Go!"".

This page and text and the 'Go' button do not help the user understand what they can/need to do.

If they should do only one or the other, only one option should be available at a time.

Recommend changing 'Go' to 'Submit', for consistency w/ Search page.",Major,Closed,Fixed,Brett Porter,brettporter,Teodoro Cue Jr.,tcue
MRM-553,Bug,2007-10-18T06:20:46.485Z,2007-10-18T06:20:46.485Z,2008-02-15T01:13:03.38Z,2008-02-15T01:13:03.38Z,2008-02-15T01:09:50.28Z,2008-02-15T01:09:50.28Z,removing conf/shared.xml from plexus runtime causes save appearance to fail,,Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-593,Improvement,2007-11-13T08:30:54.692Z,2007-11-13T08:30:54.692Z,2010-02-28T21:39:05.561Z,2010-02-28T21:39:05.561Z,2010-02-28T21:39:05.479Z,2010-02-28T21:39:05.479Z,m1 request with classifier in version is not parsed as expected,"I have a lib that is built by maven2. It also has a retrotranslator version, with classifier ""-backport"", as part of the build process.

When I try to get this lib from archiva, I get a 404, as the m1 path
    ""org.jmonit/jars/jmonit-1.0-alpha-1-SNAPSHOT-backport.jar""
gets converted to
    ""org/jmonit/jmonit/1.0-alpha-1-SNAPSHOT-backport/jmonit-1.0-alpha-1-SNAPSHOT-backport.jar""
and not
    ""org/jmonit/jmonit/1.0-alpha-1-SNAPSHOT/jmonit-1.0-alpha-1-SNAPSHOT-backport.jar""


I've no other example in mind of an artifact with a classifier in central to test with a non-SNAPSHOT.  ",Minor,Closed,Won't Fix,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-570,Task,2007-10-26T19:20:00.208Z,2007-10-26T19:20:00.208Z,2007-10-31T19:05:40.327Z,2007-10-31T19:05:40.327Z,2007-10-31T19:05:40.335Z,2007-10-31T19:05:40.335Z,archiva-security/ needs to move from archiva-webapp/ to archiva-base/,"Since we need to implement backend security around the browse (MRM-569) and search (MRM-516) facilities, the archiva-security module needs to be decoupled from archiva-webapp and brought into archiva-base for the general use of all archiva-base modules.

Leaving archiva-security like it is now will result in pulling in many webapp specific libraries and concepts that are not needed in the archiva-base heirarchy.
",Critical,Closed,Won't Fix,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-595,Bug,2007-11-14T10:46:23.44Z,2007-11-14T10:46:23.44Z,2015-04-05T14:54:04.712Z,2015-04-05T14:54:04.712Z,2007-11-22T22:50:02.81Z,2007-11-22T22:50:02.81Z,regression : server-side relocation fails,"1.0-beta-4 introduces a regression in maven1 request handling :

simply try to get :
http://localhost:8080/archiva/repository/internal/servletapi/jars/servletapi-2.4.jar


two causes : 

1. as fetchContentFromProxies MAY change the request pathInfo when relocation occurs, it MUST be called before resource file is build based on request.getLogicalResource().

2. getLogicalResource() is used to get the resource path. The value returned is not affected when the request PathInfo has been changed.

point 2 may require some changes in plexus DavServerRequest : compute the logical resource on-demand, or add a new public method to set it.


",Major,Closed,Fixed,Maria Odea Ching,oching,nicolas de loof,ndeloof
MRM-569,Bug,2007-10-26T19:16:31.306Z,2007-10-26T19:16:31.306Z,2007-11-08T16:43:20.788Z,2007-11-08T16:43:20.788Z,2007-11-06T12:48:33.977Z,2007-11-06T12:48:33.977Z,"Browse shows results for all repositories, regardless of security.","When browsing archiva (using the browse link on the left hand navigation bar), the results are for all repositories, regardless of security.

This needs to be filtered based on access rights of the user.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-594,Improvement,2007-11-14T10:35:40.823Z,2007-11-14T10:35:40.823Z,2007-12-13T05:37:53.979Z,2007-12-13T05:37:53.979Z,2007-12-13T05:37:53.984Z,2007-12-13T05:37:53.984Z,add some minimal hook in LegacyPathParser to allow exception management in artifact resolution,"Some existing artifacts are not available to maven1. jaxen-1.0-FCS-full for example (use by some core maven1 plugins) can only be obtained by specifying a classifier ""full"". 

The maven1 request ""/jaxen/jars/jaxen-1.0-FCS-full.jar"" is converted as artifact [ jaxen : jaxen : 1.0-FCS-full ], that doesn't exist.

The LegacyPathParser is allready very complex and works for many artifact, but cannot handle classifiers as they can be any string.

A solution to help archiva managers should be to use an resolution exception list :

if ( exceptions.contains( path ) )
        {
            String exception = exceptions.getProperty( path );
            String[] ref = exception.split( "":"" );
            artifact.setGroupId( ref[0] );
            artifact.setArtifactId( ref[1] );
            artifact.setVersion( ref[2] );
            if ( ref.length > 3 )
            {
                artifact.setClassifier( ref[3] );
            }
            return artifact;
        }

based on a simple properties file :

jaxen/jars/jaxen-1.0-FCS-full.jar = jaxen:jaxen:1.0-FCS:full

This would allow admins to quickly fix such issues and not require archiva to find a way to make legacy path deterministic.
",Major,Closed,Fixed,nicolas de loof,ndeloof,nicolas de loof,ndeloof
MRM-522,Bug,2007-09-26T10:06:55.602Z,2007-09-26T10:06:55.602Z,2007-09-26T11:02:00.317Z,2007-09-26T11:02:00.317Z,2007-09-26T11:02:00.374Z,2007-09-26T11:02:00.374Z,https remote repository is added as managed repository,"Tried to add https://maven-repository.dev.java.net/nonav/repository/ as Maven 1.x repository...result is a managed repository:
Directory  	/maven/archiva/apache-archiva-1.0-beta-1/bin/solaris-sparc-32/https:/maven-repository.dev.java.net/nonav/repository/

It works if I use http instead of https. Copied it from: http://repo1.maven.org/maven2/log4j/log4j/1.2.15/log4j-1.2.15.pom",Major,Closed,Duplicate,Joakim Erdfelt,joakime,Dennis Kieselhorst,deki
MRM-573,Bug,2007-10-29T04:58:39.41Z,2007-10-29T04:58:39.41Z,2010-02-28T21:47:52.595Z,2010-02-28T21:47:52.595Z,2010-02-28T21:47:52.516Z,2010-02-28T21:47:52.516Z,purge does not delete the directory of a snapshot that is entirely removed,"this would be for the ""delete released snapshots"" purge most likely - I had 1.0-SNAPSHOT not removed - but only the metadata and it's checksums remained.
",Minor,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-548,Bug,2007-10-18T06:12:18.257Z,2007-10-18T06:12:18.257Z,2007-11-01T01:31:18.587Z,2007-11-01T01:31:18.587Z,2007-11-01T01:31:18.591Z,2007-11-01T01:31:18.591Z,proxy connectors: default policies for added repositories may not be optimal,"the default for snapshots and releases is ""ignored"" for updates. This is inconsistent with Maven default behaviour - should it be daily?",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-513,Wish,2007-09-24T01:38:49.073Z,2007-09-24T01:38:49.073Z,2007-10-02T13:01:10.23Z,2007-10-02T13:01:10.23Z,2007-10-02T13:01:10.234Z,2007-10-02T13:01:10.234Z,Support remote repositories with passwords,"Support remote repositories with passwords.

Currently archiva cannot authenticate to other http auth protected repositories.",Major,Closed,Fixed,Joakim Erdfelt,joakime,James William Dumay,jameswdumay
MRM-549,Bug,2007-10-18T06:13:13.823Z,2007-10-18T06:13:13.823Z,2007-11-01T01:23:13.902Z,2007-11-01T01:23:13.902Z,2007-11-01T01:23:13.905Z,2007-11-01T01:23:13.905Z,"proxy connectors: no ""always"" option for releases and snapshots policies",,Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-534,Bug,2007-10-05T05:03:54.488Z,2007-10-05T05:03:54.488Z,2007-10-10T17:23:50.025Z,2007-10-10T17:23:50.025Z,2007-10-10T17:23:50.028Z,2007-10-10T17:23:50.028Z,Test failure in RepositoryContentConsumerUtilTest,"Building from archiva/trunk, using 'mvn clean build'  from the root, JDK 1.5.0_11
1 test is failing in RepositoryContentConsumerUtilTest:

-------------------------------------------------------------------------------
Test set: org.apache.maven.archiva.repository.scanner.RepositoryContentConsumerUtilTest
-------------------------------------------------------------------------------
Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.313 sec <<< FAILURE!
testExecution(org.apache.maven.archiva.repository.scanner.RepositoryContentConsumerUtilTest)  Time elapsed: 0.031 sec  <<< FAILURE!
junit.framework.AssertionFailedError: 
  Expectation failure on verify:
    processFile(""path/to/test-file.txt""): expected: 1, actual: 0
	at org.easymock.MockControl.verify(MockControl.java:205)
	at org.apache.maven.archiva.repository.scanner.RepositoryContentConsumerUtilTest.testExecution(RepositoryContentConsumerUtilTest.java:140)

",Major,Closed,Fixed,Joakim Erdfelt,joakime,ajbanck,ajbanck
MRM-542,Improvement,2007-10-14T11:36:21.959Z,2007-10-14T11:36:21.959Z,2011-09-12T08:52:09.288Z,2011-09-12T08:52:09.288Z,2011-09-12T08:52:09.221Z,2011-09-12T08:52:09.221Z,Publish code coverage statistics on the project website,"I had to comment out the Cobertura plugin in the reporting section of the parent pom in order to get the site to build.

It was complaining about a missing cobertura.ser file in archiva-signature-consumers and archiva-applet.

Needs to be investigated and re-enabled, preferably with results aggregated at the top level.

See http://maven.apache.org/archiva/ref/1.0-beta-3-SNAPSHOT/ for the latest docs and archiva/trunk/pom.xml for configuration.",Major,Closed,Won't Fix,,,Wendy Smoak,wsmoak
MRM-598,Bug,2007-11-16T10:53:54.769Z,2007-11-16T10:53:54.769Z,2008-03-20T08:25:19.196Z,2008-03-20T08:25:19.196Z,2008-03-20T08:25:19.235Z,2008-03-20T08:25:19.235Z,Validation error on new repository creation and other fields under certain conditions,"When I try to create a new snapshot repository by web interface I obtain this validation error:

Repository Purge By Days Older Than needs to be between 0 and 1000.

even if field is correctly set to 30
It is impossible to create a new repository!",Major,Closed,Fixed,Brett Porter,brettporter,Federico Dal Maso,federico.dalmaso
MRM-508,Sub-task,2007-09-18T01:44:53.014Z,2007-09-18T01:44:53.014Z,2008-02-15T01:06:12.283Z,2008-02-15T01:06:12.283Z,2008-02-15T01:06:12.304Z,2008-02-15T01:06:12.304Z,Create LicenseTypeMapper management screens.,,Major,Closed,Incomplete,,,Teodoro Cue Jr.,tcue
MRM-576,Bug,2007-10-30T23:31:15.736Z,2007-10-30T23:31:15.736Z,2007-11-07T03:04:34.942Z,2007-11-07T03:04:34.942Z,2007-11-07T03:04:34.946Z,2007-11-07T03:04:34.946Z,"behaviour of ""delete released snapshots"" is incorrect","problem 1) - it looks at ""allVersions"" instead of ""releasedVersions"" to get the highest released version. This means the existence of 2.1-SNAPSHOT will delete 2.0.8-SNAPSHOT, even if they are in concurrent development

problem 2) - even the above change may not be correct - 2.0.8-SNAPSHOT may be developed after 2.1 is released.

The logic should instead delete 2.0.8-SNAPSHOT only if 2.0.8 exists (and so on for each snapshot).",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-555,Bug,2007-10-19T11:13:44.648Z,2007-10-19T11:13:44.648Z,2007-10-20T21:43:16.889Z,2007-10-20T21:43:16.889Z,2007-10-20T21:43:16.893Z,2007-10-20T21:43:16.893Z,"scanner checks timestamps, but some consumers will want to consume artifacts regardless","currently, the repository scanner only processes files that have changed since a given time - however some consumers (notable the repository purge) will want to consume a file every time (I was under the impression this was the case already). I believe the timestamp check should be delegated to the consumer.

Currently, the repository purge code does not work on most repositories because the artifacts have already been processed and so don't get scanned again.",Critical,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-527,Sub-task,2007-09-26T22:21:51.641Z,2007-09-26T22:21:51.641Z,2007-10-15T06:21:17.671Z,2007-10-15T06:21:17.671Z,2007-10-15T06:21:17.679Z,2007-10-15T06:21:17.679Z,Create tests for discovering deleted artifacts,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-584,Bug,2007-11-09T03:36:33.648Z,2007-11-09T03:36:33.648Z,2008-07-26T02:29:45.461Z,2008-07-26T02:29:45.461Z,2008-07-26T02:00:22.603Z,2008-07-26T02:00:22.603Z,Newly created user cannot login,"A new user which has just been created cannot login to Archiva because the user is not validated yet. No email for the new user to validate his/her account is being sent to the user after the account is created. The work around is to click 'Resend Validation' in the User Account page so a validation email is sent to the user and the user can login to Archiva after validating his/her account.

Should this be in redback?

",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-512,Bug,2007-09-23T21:33:11.505Z,2007-09-23T21:33:11.505Z,2007-10-11T01:40:15.062Z,2007-10-11T01:40:15.062Z,2007-10-10T18:32:50.999Z,2007-10-10T18:32:50.999Z,Unable to convert null repository config to archiva repository.,"Unable to convert null repository config to archiva repository.

I just deleted the default repositories and got a whole bunch of exceptions.

There also seems to be some first start schema exceptions in the logs also.",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,James William Dumay,jameswdumay
MRM-502,Bug,2007-09-14T15:11:12.552Z,2007-09-14T15:11:12.552Z,2007-11-05T05:14:41.021Z,2007-11-05T05:14:41.021Z,2007-11-05T05:14:41.067Z,2007-11-05T05:14:41.067Z,Error 500 when searching an artifact by the checksum,"Trying to search some artifacts with their checksum I receive this error :

{code}
HTTP ERROR: 500

Exception in JSP: /WEB-INF/jsp/results.jsp:95

92:                                           version=""${artifactModel.version}""/>
93:                   </h3>
94:                   <p>
95:                     <my:showArtifactLink groupId=""${artifactModel.groupId}"" artifactId=""${artifactModel.artifactId}""
96:                                          version=""${artifactModel.version}"" versions=""${artifactModel.versions}""/>
97:                   </p>
98:                 </c:when>


Stacktrace:

RequestURI=/archiva/checksumSearch.action

Powered by Jetty://

{code}

4a61c9f221ebed459999e4006f2f8fa0 *bsf-2.3.0.jar

No results found ????

8d4a9cf34eb4e374b41b6b98960028d0 *jsp-api-2.0.jar

No results found ?????

db561232e47050e15572fa0b01e08569 *jstl-2.3.jar

No results found ?????

c2ced5f8505fe9d1cae685201e9cba07 *jstl-2.4.jar

No results found ?????

f6cf3fde0b992589ed3d87fa9674015f *servletapi-2.4.jar

No results found ????",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Arnaud HERITIER,aheritier
MRM-567,Bug,2007-10-23T09:40:22.53Z,2007-10-23T09:40:22.53Z,2007-10-26T01:36:00.997Z,2007-10-26T01:36:00.997Z,2007-10-25T20:01:04.904Z,2007-10-25T20:01:04.904Z,Unable to download plugin SNAPSHOT's from proxy.,"Reported in IRC.

{noformat}
<Arnaud> Hi all
<Arnaud> is there someone who tried to test to proxy a repository with plugins snapshots
<Arnaud> like people.apache.org/maven2
<Arnaud> with the last beta
<Arnaud> I'm not sure but I think I have an issue
<brett> Arnaud: I'll try cleaning my local repo and see
<wsmoak> Arnaud:  havent had time to test yet :(
<brett> get in line :)
<Arnaud> ;-)
<Arnaud> I put archiva in debug
<Arnaud> I can get those plugins
<Arnaud> org.apache.maven.plugins:maven-war-plugin:2.0.3-20070317.140722-3
<Arnaud> org.apache.maven.plugins:maven-surefire-plugin:2.3-SNAPSHOT
<joakim> There were a host of plugin related fixed commit'd yesterday.
<joakim> not sure your issue is related tho.
<Arnaud> in proxy connectors I have : cache=ignored,releases=disabled,snapshots=hourly,checksum=fix
<joakim> Arnaud, what's the remote repo url?
<Arnaud> http://people.apache.org/repo/m2-snapshot-repository
<joakim> lemme file the ticket.
{noformat}",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-546,Bug,2007-10-17T09:23:42.541Z,2007-10-17T09:23:42.541Z,2007-10-22T08:37:50.167Z,2007-10-22T08:37:50.167Z,2007-10-22T08:37:50.171Z,2007-10-22T08:37:50.171Z,Duplicate repositories show up while editing.,"Environment: Using a pre 1.0-beta-2 archiva install that has been upgraded to 1.0-beta-2.
Situation: When editing the repositories, the repositories get duplicated.

This is likely due to the fact that the configuration ""upgrade"" technique from <repositories> to <managedRepositories> and <remoteRepositories> is not removing the <repositories> section properly..

Several efforts in the code have been made to correct this, but with no success. See revision 583903 in archiva/trunk for details.",Critical,Closed,Fixed,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-588,Task,2007-11-11T08:50:42.026Z,2007-11-11T08:50:42.026Z,2017-04-05T19:09:05.835Z,2017-04-05T19:09:05.835Z,,,proxy logging is not always effective for diagnosing issues,"I would like to open discussion for what exactly needs to be logged, and at what level, for proxy issues to be effectively diagnosed. With the current configuration, I was unable to pinpoint some problems easily.

Some thoughts:
- don't talk about policies, but state what is happening
- always include the artifact and repository requested
- log more if it results in a NotFoundException
- condense information onto fewer lines where possible (if there are concurrent requests, without an NDC these will start getting mixed up in the logs)

Here are my thoughts:

DEBUG Artifact [x/y/z.jar] will not be requested from remote repository [foo] as it didn't match whitelist items
DEBUG Artifact [x/y/z.jar] will not be requested from remote repository [foo] as it matched blacklist item x/**
INFO Artifact [x/y/z.jar] requested from managed repository [internal], checking remote repositories [central,java.net], excluding remote repositories [foo]

Then:
INFO Artifact [x/y/z.jar] retrieved from remote repository [central], skipping others
or
INFO Artifact [x/y/z.jar] not retrieved as it failed post-download policy [bar-policy] (include reason)

And so on...

Thoughts?

An open question is what level to log this at: I feel that it should be at INFO, but that might be too noisy by default. Perhaps the right thing to do here is to add a connector configuration property that says whether to log all requests (and if not, only log at debug level).
",Major,Open,,,,Brett Porter,brettporter
MRM-562,Bug,2007-10-22T13:28:02.792Z,2007-10-22T13:28:02.792Z,2007-10-22T19:21:15.433Z,2007-10-22T19:21:15.433Z,2007-10-22T15:02:40.657Z,2007-10-22T15:02:40.657Z,"Artifact type ""maven-plugin"" is not detected correctly in .toArtifactReference() methods.","When working from a path to an ArtifactReference, the 'maven-plugin' type is not detected correctly.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-587,Task,2007-11-11T08:41:44.879Z,2007-11-11T08:41:44.879Z,2007-11-21T03:01:20.563Z,2007-11-21T03:01:20.563Z,2007-11-21T03:01:20.568Z,2007-11-21T03:01:20.568Z,further changes to logging needed,"I have noticed that debug level is still enabled for some components.

Please see the following: http://mail-archives.apache.org/mod_mbox/maven-archiva-dev/200710.mbox/%3CEDA0D3DC-93F3-4A70-8F9B-00486E280481@apache.org%3E
",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-563,Bug,2007-10-22T18:25:10.785Z,2007-10-22T18:25:10.785Z,2007-10-22T19:19:55.863Z,2007-10-22T19:19:55.863Z,2007-10-22T19:19:55.867Z,2007-10-22T19:19:55.867Z,Proxy connector logic for getIfModified is backwards.,"The logic for fetching content that exists locally, and remotely, but hasn't changed remotely is backwards.

All fetches for new content results in a .getIfNewer() with a modified timestamp of 0.
And all fetches for existing content results in .get() request.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-554,Bug,2007-10-19T06:35:32.373Z,2007-10-19T06:35:32.373Z,2007-10-23T11:17:02.535Z,2007-10-23T11:17:02.535Z,2007-10-23T11:17:02.55Z,2007-10-23T11:17:02.55Z,Wrong generated links at root of repository browsing,"Browsing ""http://localhost:9000/archiva/repository/internal"" (with no trailing slash!) all the links try to lead to /archiva/repository/<stuff> missing the repo name 'internal'. It does not happen browsing ""http://localhost:9000/archiva/repository/internal/"" though (with the trailing slash).",Trivial,Closed,Duplicate,Joakim Erdfelt,joakime,dyn,dyn
MRM-586,Bug,2007-11-10T22:06:32.701Z,2007-11-10T22:06:32.701Z,2007-11-21T23:27:25.713Z,2007-11-21T23:27:25.713Z,2007-11-10T22:06:50.134Z,2007-11-10T22:06:50.134Z,entire proxy request fails if a queried remote repository throws a proxyexception,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-564,Improvement,2007-10-22T23:48:05.91Z,2007-10-22T23:48:05.91Z,2007-11-08T12:59:53.469Z,2007-11-08T12:59:53.469Z,2007-11-08T12:48:35.063Z,2007-11-08T12:48:35.063Z,Audit log is not populated when artifacts are deployed,"The audit.log file should contain an entry when any of the following events occurs: create directory, remove directory, create file, modify file, remove file.

After a release, the audit.log file only contained:

2007-09-13 19:27:55 - Logging Initialized.

There are no other audit log files. (I would have expected to see some with dates in the filename, the others are configured to roll on a daily basis.)

(Needs to be verified with 1.0-beta-3 or later.)",Major,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-509,Bug,2007-09-18T02:14:35.379Z,2007-09-18T02:14:35.379Z,2007-10-22T04:12:50.566Z,2007-10-22T04:12:50.566Z,2007-10-22T04:12:50.609Z,2007-10-22T04:12:50.609Z,Adding the same repository twice will be redirected to an Edit Repository page.,"1. Create a new repository
2. Create another repository with the same values as #1

No error will occur after creating #2 since this will be treated as an edit repository action instead of a create action.",Minor,Closed,Fixed,Brett Porter,brettporter,Maria Catherine Tan,ctan
MRM-574,Bug,2007-10-29T05:04:16.748Z,2007-10-29T05:04:16.748Z,2007-11-01T09:33:17.863Z,2007-11-01T09:33:17.863Z,2007-11-01T09:33:17.867Z,2007-11-01T09:33:17.867Z,"archiva should not delete the newest snapshot, regardless of age","if the newest snapshot for a library is older than the configured number of days, then even that only viable snapshot getes deleted. I think the days option should only be used in conjunction with the retention count parameter.",Major,Closed,Duplicate,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-557,Bug,2007-10-20T23:30:08.821Z,2007-10-20T23:30:08.821Z,2007-10-22T19:22:37.205Z,2007-10-22T19:22:37.205Z,2007-10-22T19:20:24.643Z,2007-10-22T19:20:24.643Z,repair or remove commented out test cases in proxy module ,"commit r583412 commented out two test cases:

archiva-base/archiva-proxy/src/test/java/org/apache/maven/archiva/proxy/ManagedDefaultTransferTest.java:392:    /* FIXME
archiva-base/archiva-proxy/src/test/java/org/apache/maven/archiva/proxy/ManagedLegacyTransferTest.java:129:    /* FIXME

The tests are broken if uncommented - we need to check why they were commented out, and either fix the code, fix the tests, or remove them if they are no longer valid.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-589,Task,2007-11-11T08:56:41.102Z,2007-11-11T08:56:41.102Z,2016-03-15T06:08:00.924Z,2016-03-15T06:08:00.924Z,2016-03-15T06:08:00.871Z,2016-03-15T06:08:00.871Z,investigate performance issues with initial scan on a large repository,"I've recently found scanning a copy of central to take several hours instead of <0.5hr that I'd expect.

Should be easy to pinpoint hotspots and make this more efficient - it may just be a memory consumption issue.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-578,Bug,2007-11-05T09:50:30.05Z,2007-11-05T09:50:30.05Z,2008-03-25T08:48:23.819Z,2008-03-25T08:48:23.819Z,2008-03-25T08:48:23.827Z,2008-03-25T08:48:23.827Z,unfinished scanning after NPE,"I repeatedly tried to index a mirror of central repository. In previous attempts, usually got  ""Too many files opened"" kind of errors. This time it's a NPE, see attached console output",Major,Closed,Duplicate,Brett Porter,brettporter,Milos Kleint,mkleint
MRM-566,Improvement,2007-10-23T07:52:25.57Z,2007-10-23T07:52:25.57Z,2016-03-15T06:07:16.518Z,2016-03-15T06:07:16.518Z,2016-03-15T06:07:16.498Z,2016-03-15T06:07:16.498Z,Localize all pages,Move all hardcoded text in JSPs to a properties file,Major,Closed,Won't Fix,,,Emmanuel Venisse,evenisse
MRM-552,Bug,2007-10-18T06:18:24.19Z,2007-10-18T06:18:24.19Z,2011-03-29T09:59:26.319Z,2011-03-29T09:59:26.319Z,2010-02-23T02:09:40.533Z,2010-02-23T02:09:40.533Z,"Download link should be entitled ""Plugin"", not ""Jar"" for maven plugins",,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-581,Bug,2007-11-07T08:15:05.204Z,2007-11-07T08:15:05.204Z,2007-11-07T19:51:41.624Z,2007-11-07T19:51:41.624Z,2007-11-07T19:51:41.63Z,2007-11-07T19:51:41.63Z,Proxied Repository causes Snapshot plugins to be selected,"We have proxied multiple repositories into the same local archiva repository.  This includes central, but also included the atlassian repository.

When we tried to release, we started getting problems that maven-deploy-plugin 2.4-SNAPSHOT could not be found.  This seems to be because the atlassian repository has 2.4-SNAPSHOT.

http://repository.atlassian.com/maven2/org/apache/maven/plugins/maven-deploy-plugin/maven-metadata.xml

<metadata>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-deploy-plugin</artifactId>
<version>2.4-SNAPSHOT</version>
	<versioning>
<latest>2.4-SNAPSHOT</latest>
	<versions>
<version>2.4-SNAPSHOT</version>
</versions>
<lastUpdated>20070821032257</lastUpdated>
</versioning>
</metadata>",Major,Closed,Won't Fix,Brett Porter,brettporter,Yuri Schimke,yuri
MRM-531,Bug,2007-10-02T04:59:48.807Z,2007-10-02T04:59:48.807Z,2007-11-09T02:02:24.46Z,2007-11-09T02:02:24.46Z,2007-11-08T16:10:49.625Z,2007-11-08T16:10:49.625Z,Unable to download snapshots behind proxy with authentication,"I am able to download artifacts from several remote repositories into the internal repository. But I cannot download any dependencies into the snapshots repository. I always get a http-'Server redirected too many  times (20)'-error. I read that this error occurs if the proxy authentication properties are not set correctly in the http client. I am behind a proxy with basic authentication and an empty password. This configuration works fine for the internal repository, but not for the snapshot repository.

Here are the logs:

INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,987 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [ignored]
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,987 [SocketListener0-7] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures policy set to IGNORED.
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,987 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [disabled]
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,987 [SocketListener0-7] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:releases  - OK to update, release policy does not apply for snapshot versions.
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,987 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [daily]
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,987 [SocketListener0-7] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:snapshots  - OK to update snapshots, local file does not exist.
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:08,988 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/artifact/maven-artifact/3.0-SNAPSHOT/mave
n-artifact-3.0-SNAPSHOT.pom from Apache Snapshots Repository if updated
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,087 [SocketListener0-7] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Download failure:Error transferring file
INFO   | jvm 1    | 2007/10/02 11:50:09 | org.apache.maven.wagon.TransferFailedException: Error transferring file
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:104)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:94)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:566)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:434)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:143)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.applyServerSideRelocation(ProxiedDavServer.java:286)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxies(ProxiedDavServer.java:243)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:147)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpServer.service(HttpServer.java:909)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
INFO   | jvm 1    | 2007/10/02 11:50:09 | Caused by: java.net.ProtocolException: Server redirected too many  times (20)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1251)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:83)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       ... 29 more
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [cache-failures] policy with [ignored]
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:cache-failures  - OK to fetch, check-failures policy set to IGNORED.
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [releases] policy with [disabled]
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:releases  - OK to update, release policy does not apply for snapshot versions.
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Applying [snapshots] policy with [daily]
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.policies.PreDownloadPolicy:snapshots  - OK to update snapshots, local file does not exist.
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,089 [SocketListener0-7] DEBUG org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Retrieving org/apache/maven/artifact/maven-artifact/3.0-SNAPSHOT/mave
n-artifact-3.0-SNAPSHOT.jar from Apache Snapshots Repository if updated
INFO   | jvm 1    | 2007/10/02 11:50:09 | 2007-10-02 11:50:09,174 [SocketListener0-7] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Download failure:Error transferring file
INFO   | jvm 1    | 2007/10/02 11:50:09 | org.apache.maven.wagon.TransferFailedException: Error transferring file
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:104)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:94)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferSimpleFile(DefaultRepositoryProxyConnectors.java:566)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:434)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:143)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.fetchContentFromProxies(ProxiedDavServer.java:245)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:147)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpServer.service(HttpServer.java:909)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
INFO   | jvm 1    | 2007/10/02 11:50:09 | Caused by: java.net.ProtocolException: Server redirected too many  times (20)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1251)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:83)
INFO   | jvm 1    | 2007/10/02 11:50:09 |       ... 28 more
",Critical,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Mathias Arens,mathiasarens
MRM-537,Bug,2007-10-10T23:21:58.343Z,2007-10-10T23:21:58.343Z,2007-10-10T23:37:55.272Z,2007-10-10T23:37:55.272Z,2007-10-10T23:30:28.019Z,2007-10-10T23:30:28.019Z,Deletion of artifacts from Archiva Managed Repositories not being detected,"1. Manually delete a tree of artifacts from the managed repository being used for testing, e.g. delete com.* tree.
2. In administration console select Repositories.
3. Click ""Scan Repository Now"" for test repository where artifacts were deleted.
4. Database > Update Database Now.
5. Browse.

The index information has not been updated and the entire tree just deleted can still be browsed.  Similarly, if you update a single POM for an artifact and its MD5/SHA files, then refresh, the changes are not reflected in the browser information for the POM",Major,Closed,Duplicate,,,Graeme Steyn,steyng
MRM-533,Bug,2007-10-04T21:29:02.776Z,2007-10-04T21:29:02.776Z,2007-10-12T13:10:12.297Z,2007-10-12T13:10:12.297Z,2007-10-12T13:10:12.301Z,2007-10-12T13:10:12.301Z,Checksum files (sha1/md5) are not kept up to date on maven-metadata.xml files.,"When the maven-metadata.xml files are updated, the associated sha1 and md5 checksums are not updated with it.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-540,Bug,2007-10-13T21:01:05.427Z,2007-10-13T21:01:05.427Z,2007-11-05T08:05:04.608Z,2007-11-05T08:05:04.608Z,2007-11-05T08:05:04.612Z,2007-11-05T08:05:04.612Z,[regression] reports now show 0 results as a paged result that is empty,"in the past, I remember getting a good error message when the reports returned 0 results, but now I just get:

Page: 1 >>

The links do nothing.

Also, I'm not sure why the text in the menu was changed to ""pick report""? It's not like one is being selected for later use, and the other menu items under that menu are not verbs.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-544,Bug,2007-10-15T06:23:13.234Z,2007-10-15T06:23:13.234Z,2007-10-31T06:08:15.17Z,2007-10-31T06:08:15.17Z,2007-10-31T06:08:15.174Z,2007-10-31T06:08:15.174Z,Cleanup index of artifacts that are no longer in the repository,This was left out from MRM-37,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-556,Bug,2007-10-19T11:19:55.554Z,2007-10-19T11:19:55.554Z,2007-11-06T00:17:13.424Z,2007-11-06T00:17:13.424Z,2007-11-06T00:17:13.428Z,2007-11-06T00:17:13.428Z,not possible to configure purge by retention count,"currently, this is activated by a 0 value in the # days field, but the validation prevents that from happening.

I believe the behaviour should be as follows:
- the retention count is the *minimum* number to retain - this many are guaranteed. Valid values are >= 1
- the # of days is the actual filter applied. Valid values are >= 0

So, the retained snapshots is the union of the two sets of results.

However, the retention count still does not apply to something that is handled by ""delete released snapshots"", these should always be deleted in their entirety.",Critical,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-575,Bug,2007-10-29T05:48:07.871Z,2007-10-29T05:48:07.871Z,2011-09-12T09:13:39.178Z,2011-09-12T09:13:39.178Z,,,proxy should apply repository purge rules as a pre-download policy to prevent unnecessary downloads,"currently, it will download the artifact, then delete it. This would be more effective as a pre-download policy",Major,Open,,,,Brett Porter,brettporter
MRM-515,Improvement,2007-09-24T14:03:40.958Z,2007-09-24T14:03:40.958Z,2010-02-23T02:01:36.54Z,2010-02-23T02:01:36.54Z,2010-02-23T02:01:36.453Z,2010-02-23T02:01:36.453Z,Replace jasperreports with DataVision due to licensing.,"Due to the license of JasperReports, we need to remove it from the codebase.

We can use the DataVision library in place of Jasper Reports.

Available Here: http://datavision.sourceforge.net/",Major,Closed,Won't Fix,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-547,Bug,2007-10-18T06:06:34.224Z,2007-10-18T06:06:34.224Z,2007-11-01T01:23:04.55Z,2007-11-01T01:23:04.55Z,2007-11-01T01:23:04.554Z,2007-11-01T01:23:04.554Z,proxy connectors: cache failures options are confusing,"I think this should be renamed to just ""failures"" which can be ""cached"" or ""ignored"", or otherwise be changed to a yes/no value for ""cached failures"".",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-550,Bug,2007-10-18T06:14:24.076Z,2007-10-18T06:14:24.076Z,2015-04-05T14:54:01.061Z,2015-04-05T14:54:01.061Z,2008-07-13T00:16:57.279Z,2008-07-13T00:16:57.279Z,proxy connectors - move up/down should not show when it's not possible,"it seems in beta-3 that there was a change to the layout of the proxy connector pages, and it has ordering now. However, ""up"" still appears on the first one, as does ""down"" on the last, even though they aren't relevant.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-505,New Feature,2007-09-18T01:40:50.533Z,2007-09-18T01:40:50.533Z,2007-09-24T14:05:14.089Z,2007-09-24T14:05:14.089Z,,,Ability to Aggregate/Report on a variety of artifact criterium,"In addition to basic summary information on the total # of files in the Maestro Repository Manager (MRM) - we need to support the following other basic summary information:

a) number of unique/discrete projects (based on combo of GroupID and ArtifactID - or is it just ArtifactID)
b) number of unique community/company projects (based on GroupID)
c) number of wars, jars, ears, etc. (by file extension type)
d) number of source files
e) number of metadata files
f) number of artifacts w/ a certain license type (also number of artifacts with no license info)
g) number of projects RELATED to a unique community/company

there are other stats, but they are more historical, qualitative vs. quantitative - should I put them all here? or separate as another issue?",Major,Open,,,,Teodoro Cue Jr.,tcue
MRM-514,Bug,2007-09-24T13:24:02.544Z,2007-09-24T13:24:02.544Z,2008-11-07T07:58:32.847Z,2008-11-07T07:58:32.847Z,2008-09-13T21:41:06.509Z,2008-09-13T21:41:06.509Z,Archiva cannot compile and pass tests on JDK 1.6,"When using JDK 1.6, Archiva cannot compile and pass all of its unit tests.",Minor,Closed,Cannot Reproduce,Brett Porter,brettporter,Joakim Erdfelt,joakime
MRM-510,Bug,2007-09-18T21:54:29.664Z,2007-09-18T21:54:29.664Z,2007-09-26T19:31:44.365Z,2007-09-26T19:31:44.365Z,2007-09-26T19:31:44.369Z,2007-09-26T19:31:44.369Z,"In Repository Browse, the first unique snapshot version clicked is getting persisted in the request resulting to 'version does not match' error","The first unique snapshot version you clicked is getting persisted in the request that's why the DatabaseUnprocessedArtifactConsumer gets the 'version does not match' error when the actual requested artifact's pom file is compared with the version in the request.


Let's say you have the following in your repository, so from the Browse page..

[top] / org / jruby / plugins / jruby-rake-plugin
Versions

    * 1.0RC1-20070504.153317-1/
    * 1.0RC1-20070504.160758-2/
    * 1.0RC1-20070505.090015-3/
    * 1.0RC1-20070506.090132-4/
    * 1.0RC1-SNAPSHOT/


1. Click  1.0RC1-20070504.160758-2, the artifact info will be displayed.

2. Now go back to the previous page and click 1.0RC1-20070504.153317-1, this would be displayed 'Unable to find project model for [org.jruby.plugins:jruby-rake-plugin:1.0RC1-20070504.153317-1].' in the page.. and from the logs you will see the following error:

jvm 1    | 2007-09-19 10:08:29,594 [SocketListener0-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Project Model groupId = 'org.jruby.plugins'
jvm 1    | artifactId = 'jruby-rake-plugin'
jvm 1    | version = '1.0RC1-20070504.160758-2' version: 1.0RC1-20070504.160758-2 does not match the pom file's version: 1.0RC1-20070504.153317-1
jvm 1    | 2007-09-19 10:08:29,597 [SocketListener0-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Invalid or corrupt pom. Project model groupId = 'org.jruby.plugins'


3. Go back again to the previous page and click 1.0RC1-20070506.090132-4, this would be displayed 'Unable to find project model for [org.jruby.plugins:jruby-rake-plugin:1.0RC1-20070506.090132-4].' in the page.. and from the logs you will see the following error:

jvm 1    | 2007-09-19 10:08:05,957 [SocketListener0-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Project Model groupId = 'org.jruby.plugins'
jvm 1    | artifactId = 'jruby-rake-plugin'
jvm 1    | version = '1.0RC1-20070504.160758-2' version: 1.0RC1-20070504.160758-2 does not match the pom file's version: 1.0RC1-20070506.090132-4
jvm 1    | 2007-09-19 10:08:06,350 [SocketListener0-1] WARN  org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Invalid or corrupt pom. Project model groupId = 'org.jruby.plugins'


Notice that the one being added in the database is still the first unique version you clicked, which is 1.0RC1-20070504.160758-2.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-577,Bug,2007-10-31T12:06:20.181Z,2007-10-31T12:06:20.181Z,2007-10-31T17:48:22.038Z,2007-10-31T17:48:22.038Z,2007-10-31T17:48:22.043Z,2007-10-31T17:48:22.043Z,Release policy of disabled fails all metadata requests.,"Unable to successfully download maven-metadata.xml files when the release policy is set to disabled.

To reproduce it:
1) Setup a proxy connector to repo of snapshots at apache : http://people.apache.org/repo/m2-snapshot-repository
1a) Set the Release policy to ""disabled"".

2) And in your project you add this plugin declaration :
{code:xml}
<plugin>
  <groupId>org.apache.maven.plugins</groupId>
  <artifactId>maven-assembly-plugin</artifactId>
  <version>2.2-beta-2-SNAPSHOT</version>
</plugin>
{code}

3) Attempt to compile the project.
",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Arnaud HERITIER,aheritier
MRM-517,Bug,2007-09-25T01:24:33.94Z,2007-09-25T01:24:33.94Z,2007-10-04T18:04:05.392Z,2007-10-04T18:04:05.392Z,2007-10-04T18:04:05.404Z,2007-10-04T18:04:05.404Z,Some maven 2 requests are treated as maven 1 requests,"We requested the following artifact's from our public Archiva instance which resulted in the attached error.txt
fop:fop:trunk-534713-atlassian - https://maven.atlassian.com/repository/public/fop/fop/trunk-534713-atlassian/fop-trunk-534713-atlass
org.hibernate:jtidy:r8-21122004 - https://maven.atlassian.com/repository/public/org/hibernate/jtidy/r8-21122004/jtidy-r8-21122004.jar

Brett looked at this and said that Archiva is interpreting both of these urls as maven1 requests and breaking.",Major,Closed,Fixed,Joakim Erdfelt,joakime,James William Dumay,jameswdumay
MRM-592,Bug,2007-11-12T23:53:41.295Z,2007-11-12T23:53:41.295Z,2008-04-26T22:31:04.422Z,2008-04-26T22:31:04.422Z,2008-03-25T09:05:47.122Z,2008-03-25T09:05:47.122Z,"For upgrade, assume that existing users have been verified (pre-beta-4)","Hey guys,
Upgraded my Archiva instances to beta-4 from a beta-3 SNAPSHOT and noticed that none of the user accounts could be accessed because they had not been verified with the user via email.

Can we assume when archiva is upgraded that all existing users have been verified in this case?",Major,Closed,Won't Fix,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-523,Bug,2007-09-26T10:52:54.123Z,2007-09-26T10:52:54.123Z,2008-07-05T04:27:08.448Z,2008-07-05T04:27:08.448Z,2008-07-05T04:25:01.349Z,2008-07-05T04:25:01.349Z,Appearance Actions do not work when ${user.home} is invalid.,"The reliance on maven core components with regards to Appearance / Company Info / Edit Pom actions, prevents server installations without a valid user $HOME directory. ( such as /dev/null )

We should migrate away from maven core components at our earliest opportunity.",Minor,Closed,Fixed,james.w.dumay,james.w.dumay,Joakim Erdfelt,joakime
MRM-516,Bug,2007-09-24T19:18:08.776Z,2007-09-24T19:18:08.776Z,2007-11-06T12:48:40.651Z,2007-11-06T12:48:40.651Z,2007-11-06T12:48:40.655Z,2007-11-06T12:48:40.655Z,"Search results return results for all repositories, regardless of security.","The UserAllowedToSearchRepositoryPredicate needs to be finished.
It should take the current user, their RBAC roles, and filter based on the roles available to the user.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-545,Bug,2007-10-15T20:41:12.162Z,2007-10-15T20:41:12.162Z,2007-12-27T08:32:50.698Z,2007-12-27T08:32:50.698Z,2007-12-27T08:32:50.701Z,2007-12-27T08:32:50.701Z,Documentation for configuring for Tomcat is invalid,"Following http://maven.apache.org/archiva/guides/getting-started.html for Tomcat didn't get me started.
I'll go through it point by point


# Create a directory in tomcat called archiva, at the same level as bin, conf, logs and the others.
# Copy the war file from apps/archiva/lib into the new directory

There is not apps/archiva/lib in the 1.0-beta-2 distribution. 
apps contains a single file : archiva-plexus-application-1.0-beta-2.jar which does itself contain a war file, so I extracted that file and copied it to the TOMCAT_HOME/archiva folder.

NB IMHO modifying TOMCAT in this manner smells all wrong.

# Create a conf/Catalina/localhost/archiva.xml file with the following data: yadda, yadda

The docBase attribute refers to archiva-webapp-1.0-SNAPSHOT.war instead of archiva-webapp-1.0-beta-2.war

No idea why a javax.mail.Session needs to be configured here, haven't seen any documentation in Archiva that suggests it send, receives email. But this was a slight pain when configuring for Tomcat-5.5.20 as I needed to follow the extra steps for the missing classes. If the MailSession is not required it would be better to avoid this pain by simplifying the config.

Again modifying TOMCAT like this does not feel right. Surely this config could be contained within the webapp.

# Copy $HOME/.m2/org/apache/derby/derby/10.1.3.1/derby-10.1.3.1.jar (or from the remote repository) into the Tomcat common/lib

I am *really* against  this as I have now introduced Derby-10.1.3.1 into the classpath of 8all* my other applications running on that Tomcat instance. Surely this library could be packaged up into the webapp. 

# To deal with a current bug, you'll also need to add the following to your $catalina.home/conf/web.xml in the relevant section (search for jspx):

Again, surely this could be included in the config for the Archiva webapp instead of introduced into Tomcat generally. This heavy handed approach makes maintenance difficult, eg upgrading to a new version of Tomcat is now extremely onerous.


OK,  so having followed the instructions above, when I try to startup Tomcat the first thin I get is a failure with the logging sub system. see attached bad-log-filename.log. I believe this is due to the fact that ${appserver.base} in log4j.xml has never been set:
{code}
    <param name=""file"" value=""${appserver.base}/logs/archiva.log"" />
{code}

Next, it fails as it can't find javax.mail.Authenticator (this is Tomcat-5.5.17).

NB I never saw any indication that ""schema SA does not exist"" as the final note suggests. But perhaps this was because Archiva never got that far. Certainly no application is available at http://localhost:8080/archiva/

Anyway, by this stage I became discouraged enough that I gave up.

Its a shame really as I would have liked to be able to compare Archiva against Proximity and Artifactory, both of which I managed to get setup in under 10 mins including vastly restructuring the default repository config that they ship with.

Brett, hope that helps.


Further notes:
I really don't like modifying the contents of TOMCAT_HOME other than to deploy a WAR to TOMCAT_HOME/webapps.
And the infrastructure team weren't impressed either and its makes maintenance high cost.
Better to keep all config solely within the confines of the webapp or use a environment variable to declare a separate proxy_home where all the config is contained (like Artifactory does).
",Critical,Closed,Fixed,,,William Ferguson,william_ferguson_au@yahoo.com
MRM-528,Improvement,2007-09-26T22:22:36.61Z,2007-09-26T22:22:36.61Z,2007-09-27T19:11:26.616Z,2007-09-27T19:11:26.616Z,2007-09-27T19:11:26.698Z,2007-09-27T19:11:26.698Z,just-in-time consumption of repository changes ,"need to have a simple, reusable way to be able to trigger consumers for a given artifact just-in-time for things like addition via a proxy, removal via purge, etc.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-579,Wish,2007-11-06T02:07:10.147Z,2007-11-06T02:07:10.147Z,2009-03-05T22:36:18.174Z,2009-03-05T22:36:18.174Z,,,Restricted access to remote repositories,"Originally discussed on http://www.nabble.com/Rights-management-for-Proxy-Connectors-tf4752902s177.html#a13590815

It should be possible to configure Archiva in a way, that access to repo1 through a proxy connector is available only for a few super users (= repository managers).

In my scenario, normal users should only be able to access the artifacts available in the internal repository. In case they need a new artifact from repo1, they ask the repository manager to add it. The repository manager checks whether the artifact complies to e.g. company licensing rules, whether the metadata on repo1 is ok (which is mostly but not always the case), and so on. If everything is ok, he downloads the artifact including all dependencies. Afterwards the artifact should be available to everybody inside the company.


Wendy Smoak and Brett Porter noticed that a permission on the remote repository probably would make most sense.
",Major,Open,,,,Arne Degenring,arned
MRM-559,Bug,2007-10-22T04:09:54.895Z,2007-10-22T04:09:54.895Z,2007-10-22T08:41:55.36Z,2007-10-22T08:41:55.36Z,2007-10-22T08:41:55.426Z,2007-10-22T08:41:55.426Z,"archiva version is not calculated correctly - always ""Unknown""",in both the logs and the footer in beta-3 release candidate,Minor,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-535,Bug,2007-10-05T10:14:45.375Z,2007-10-05T10:14:45.375Z,2007-10-15T20:31:57.917Z,2007-10-15T20:31:57.917Z,2007-10-15T20:31:57.923Z,2007-10-15T20:31:57.923Z,metadata-updater is changing lastUpdating timestamp when it shouldn't,"This is a bit of a trivial 'bug' and the result is not harmfull, but I think the metadata-updater should not change data that is valid.

As far as I could find the lastUpdated field is the timestamp on which the metadata was last updated, so should not be touched in this case.

During scanning, some (~200) maven-metadata.xml files are updated in my repository .
The metadata being updated is:
<?xml version=""1.0"" encoding=""UTF-8""?><metadata>
  <groupId>com.informatica.profiling.services</groupId>
  <artifactId>profiling-model-persist</artifactId>
  <version>1.0-SNAPSHOT</version>
  <versioning>
    <snapshot>
      <timestamp>20070213.050129</timestamp>
      <buildNumber>79</buildNumber>
    </snapshot>
    <lastUpdated>20070213050130</lastUpdated>
  </versioning>
</metadata>

After update the lastUpdated field is changed to 20070213050129:
    <lastUpdated>20070213050129</lastUpdated>

As far as I could find the lastUpdated field is the timestamp on which the metadata was last updated, so should not be touched in this case.

Scanlog:
2007-10-05 14:38:41,043 [pool-2-thread-1] DEBUG org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Sending to consumer: metadata-updater
2007-10-05 14:38:41,090 [pool-2-thread-1] INFO  org.apache.maven.archiva.consumers.KnownRepositoryContentConsumer:metadata-updater  - Updated metadata: com/xxx/profiling/services/profiling-model-persist/1.0-SNAPSHOT/maven-metadata.xml
2007-10-05 14:38:46,356 [pool-2-thread-1] INFO  org.apache.maven.archiva.consumers.KnownRepositoryContentConsumer:metadata-updater  - Updated metadata: com/xxx/profiling/services/profiling-model-persist/maven-metadata.xml
",Minor,Closed,Fixed,Joakim Erdfelt,joakime,ajbanck,ajbanck
MRM-582,Bug,2007-11-07T11:39:27.098Z,2007-11-07T11:39:27.098Z,2007-11-08T10:19:43.922Z,2007-11-08T10:19:43.922Z,2007-11-08T10:19:43.926Z,2007-11-08T10:19:43.926Z,Remote Repositories with empty <username> and <password> fields shouldn't be created in configuration.,"It is possible for a <remoteRepository> section in the archiva configuration file to be created with an empty <username> and/or <password> fields.  

Need to prevent empty/blank username and password fields from being created in the archiva configuration.

Also need to prevent loading blank username and password fields from the archiva configuration.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-538,Bug,2007-10-11T01:11:53.929Z,2007-10-11T01:11:53.929Z,2008-04-09T01:41:18.443Z,2008-04-09T01:41:18.443Z,2008-04-09T01:40:52.399Z,2008-04-09T01:40:52.399Z,Browse > Info not synchronised with updated POM contents,"1. Take an existing POM in the repository and modify its contents (I changed the description).
2. In administration console select Repositories.
3. Click ""Scan Repository Now"" for test repository where POM was changed.
4. Database > Update Database Now.
5. Browse to POM location.

The index information has not been updated, the changes are not reflected in the browse > info section for the POM.  Step 1 can be replaced with the modification of the POM outside of the repository, followed by the redeployment of the POM ad associated jar to the repository.
",Minor,Closed,Fixed,,,Graeme Steyn,steyng
MRM-520,Bug,2007-09-25T17:59:47.081Z,2007-09-25T17:59:47.081Z,2007-10-19T17:47:57.211Z,2007-10-19T17:47:57.211Z,2007-10-19T17:47:57.214Z,2007-10-19T17:47:57.214Z,Proxy Connectors are not deleted with the deletion of a Repository.,"When you delete a repository (managed or remote) if there is a proxy connector established for that former repository, then the proxy connector itself remains.

Desired Outcome:

# When you delete a repository, associated Proxy Connectors should be deleted too.
# If a proxy connector is going to be deleted, this should also be outlined in the delete confirmation screens.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-580,Bug,2007-11-07T06:09:09.307Z,2007-11-07T06:09:09.307Z,2015-04-05T14:53:56.631Z,2015-04-05T14:53:56.631Z,2008-09-19T05:59:35.867Z,2008-09-19T05:59:35.867Z,Web app does not give error message when one defines an illegal directory for a Managed Repository,"When you create a new Managed Repository and define a Directory in which Archiva has no write permissions, the webapp doesn't give an error message. When you click 'Add Repository' it just does nothing and remains on the same 'Add Managed Repository' page. Because of the fact that Archiva did not display an error message (""Cannot create directory, no write access."" or something like that) it took me quite some time to figure out that I had made a typo in the Directory name.",Minor,Closed,Fixed,Maria Odea Ching,oching,Duncan Doyle,mccloud
MRM-597,Bug,2007-11-16T04:07:54.942Z,2007-11-16T04:07:54.942Z,2015-04-05T14:53:45.248Z,2015-04-05T14:53:45.248Z,2008-05-20T04:50:57.627Z,2008-05-20T04:50:57.627Z,"Cannot run Archiva as another user because su is run with option ""-"" (--login)","I am using the script bin/linux-x86-32/run.sh to run Archiva as another user (named archiva). That does not work until I remove the option ""-"" (--login) from the su command. After removing that option, the script works as expected.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Martin Burger,mburger
MRM-530,New Feature,2007-09-28T15:17:01.406Z,2007-09-28T15:17:01.406Z,2016-03-15T06:06:48.556Z,2016-03-15T06:06:48.556Z,2016-03-15T06:06:48.534Z,2016-03-15T06:06:48.534Z,Create zip to jar consumer for boneheaded releases.,"Create a new consumer for identifying non-standard artifacts within the repository that utilize the zip extension / type incorrectly.

This is most common with releases from proprietary vendors such as Oracle, that release new versions of libraries in the zip format, when the contents should be in the jar format instead.",Major,Closed,Won't Fix,,,Joakim Erdfelt,joakime
MRM-539,Improvement,2007-10-12T16:43:57.626Z,2007-10-12T16:43:57.626Z,2007-10-14T17:52:56.719Z,2007-10-14T17:52:56.719Z,,,Make security level of repository more obvious on admin/repositories screen.,"Make the repositories screen show the security level of the repository.
Make the repository configuration process simplify the role assignments.
Pre-configure the default-archiva.xml repositories for public, read-only security level.

Technical Details:
1) Add a field ManagedRepositoryConfiguration.security (with possible value: public-read-only, public-read-write, access-controlled)
2) Configure the default-archiva.xml with that field set true.
3) Configure the UI for repositories to show/set/change that value.
4) Integrate the guest user role assignments to that field.
",Minor,Open,,,,Joakim Erdfelt,joakime
MRM-596,Bug,2007-11-15T10:10:52.267Z,2007-11-15T10:10:52.267Z,2007-11-20T05:14:20.478Z,2007-11-20T05:14:20.478Z,2007-11-20T05:14:20.483Z,2007-11-20T05:14:20.483Z,regression : cannot get java-sources anymore from maven1,"requesting ""junit/java-sources/junit-3.8.1-sources.jar"" fails.

Path is converted internally to 
groupId = junit
artifactId = junit
version = 3.8.1-sources
type = jar



I can publish a fix for this, but my workspace contains other modified code and I can hardly create a dedicated patch.

The idea is to create a ArtifactClassifierMapping similar to existing ArtifactExtensionMapping, and to use it in LegacyPathParser :

{quote}
            // Sanity Check: does extension match pathType on path?
            String trimPathType = expectedType.substring( 0, expectedType.length() - 1 );

            String expectedExtension = ArtifactExtensionMapping.getExtension( trimPathType );
{color:red} 
            artifact.setType( expectedExtension );
            String classifier = ArtifactClassifierMapping.getClassifier( trimPathType );
            if ( classifier != null )
            {
               String version = artifact.getVersion();
                if ( ! version.endsWith( ""-"" + classifier ) )
                {
                    throw new LayoutException( INVALID_ARTIFACT_PATH + expectedType + "" artifacts must use the classifier "" + classifier );
                }
                version = version.substring( 0, version.length() - classifier.length() - 1 );
                artifact.setVersion( version );
                artifact.setClassifier( classifier );
            }
{color}
{quote}",Minor,Closed,Fixed,,,nicolas de loof,ndeloof
MRM-500,Bug,2007-09-14T08:52:45.694Z,2007-09-14T08:52:45.694Z,2007-09-24T13:48:55.058Z,2007-09-24T13:48:55.058Z,2007-09-24T13:48:55.081Z,2007-09-24T13:48:55.081Z,Failure in PathUtilTest under windows because the test uses slashes in path but test File.separator in PathUtil,"-------------------------------------------------------------------------------
Test set: org.apache.maven.archiva.common.utils.PathUtilTest
-------------------------------------------------------------------------------
Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.031 sec <<< FAILURE!
testToRelativeWithSlash(org.apache.maven.archiva.common.utils.PathUtilTest)  Time elapsed: 0.016 sec  <<< FAILURE!
junit.framework.ComparisonFailure: expected:<p...> but was:<...>
	at junit.framework.Assert.assertEquals(Assert.java:81)
	at junit.framework.Assert.assertEquals(Assert.java:87)
	at org.apache.maven.archiva.common.utils.PathUtilTest.testToRelativeWithSlash(PathUtilTest.java:45)",Major,Closed,Fixed,Joakim Erdfelt,joakime,Emmanuel Venisse,evenisse
MRM-532,Bug,2007-10-04T15:38:33.54Z,2007-10-04T15:38:33.54Z,2008-04-03T00:03:35.022Z,2008-04-03T00:03:35.022Z,2008-04-03T00:03:35.124Z,2008-04-03T00:03:35.124Z,Unable to specify the location of the index files through the web ui,"There is currently no way to configure the location of the Lucene index files through the web ui.

Workaround:  edit archiva.xml and provide <repository> ... <indexDir>/path/to/index-dir</indexDir> 

",Minor,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-511,Bug,2007-09-23T19:16:50.947Z,2007-09-23T19:16:50.947Z,2007-10-29T07:32:42.438Z,2007-10-29T07:32:42.438Z,2007-10-29T07:32:42.449Z,2007-10-29T07:32:42.449Z,Maven integration tests fail when using Archiva as a proxy,"The following ITs pass without the proxy, but fail with it turned on:

92
110

I have not investigated if this is an Archiva problem or an IT problem yet.",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-565,Bug,2007-10-23T04:46:22.827Z,2007-10-23T04:46:22.827Z,2007-10-23T19:19:55.06Z,2007-10-23T19:19:55.06Z,2007-10-23T19:19:55.064Z,2007-10-23T19:19:55.064Z,Archiva 1.0-beta-3 fails in 404 on all legacy request.,"Archiva 1.0-beta-3 fails in 404 on all legacy request.

example : 

http://localhost:8080/archiva/repository/internal/javax/servlet/servlet-api/2.3/servlet-api-2.3.jar returns the expected jar

http://localhost:8080/archiva/repository/internal/javax.servlet/jars/servlet-api-2.3.jar -> 404.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,nicolas de loof,ndeloof
MRM-561,Bug,2007-10-22T07:28:14.495Z,2007-10-22T07:28:14.495Z,2007-10-22T20:21:40.427Z,2007-10-22T20:21:40.427Z,2007-10-22T20:21:40.439Z,2007-10-22T20:21:40.439Z,Error 500 while deleting a proxy connector,"This error occurs when I try to remove the default proxy connector for maven2-repository.dev.java.net

Web :
{code}
HTTP ERROR: 500

Neither confirm() nor doConfirm() is found in action class org.apache.maven.archiva.web.action.admin.connectors.proxy.DeleteProxyConnectorAction

RequestURI=/archiva/admin/deleteProxyConnector!confirm.action
{code}

Log :
{code}
INFO   | jvm 1    | 2007/10/22 12:17:40 | WARNING: /archiva/admin/deleteProxyConnector!confirm.action?source=internal&target=maven2-repository.dev.java.net:
INFO   | jvm 1    | 2007/10/22 12:17:40 | java.lang.IllegalArgumentException: Neither confirm() nor doConfirm() is found in action class org.apache.maven.arch
iva.web.action.admin.connectors.proxy.DeleteProxyConnectorAction
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:360)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:218)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:192)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:1
75)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:5
3)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.codehaus.plexus.redback.xwork.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInter
ceptor.java:118)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.codehaus.plexus.redback.xwork.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.jav
a:159)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:124
)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:1
75)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:174)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:169
)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:1
86)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.codehaus.plexus.redback.xwork.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:156)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.codehaus.plexus.redback.xwork.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor
.java:76)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:116)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:273)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.HttpServer.service(HttpServer.java:909)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
INFO   | jvm 1    | 2007/10/22 12:17:40 |       at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
{code}",Blocker,Closed,Fixed,Joakim Erdfelt,joakime,Arnaud HERITIER,aheritier
MRM-529,Bug,2007-09-28T05:47:50.4Z,2007-09-28T05:47:50.4Z,2007-10-11T20:32:10.531Z,2007-10-11T20:32:10.531Z,2007-10-11T20:32:10.535Z,2007-10-11T20:32:10.535Z,Accessing a newly added repository via webdav results to a 404 error,Repository can be accessed via webdav after restarting the server. ,Major,Closed,Fixed,Joakim Erdfelt,joakime,Maria Odea Ching,oching
MRM-503,Bug,2007-09-17T14:48:58.671Z,2007-09-17T14:48:58.671Z,2007-09-26T13:24:37.008Z,2007-09-26T13:24:37.008Z,2007-09-26T13:24:37.011Z,2007-09-26T13:24:37.011Z,Metadata files need Pragma:no-cache response header.,"The Pragma:no-cache header on the HTTP response should be set on responses of maven-metadata.xml files.

This should be done to be friendly to network-proxies that are in the path between the client and the archiva server.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-521,Bug,2007-09-26T03:51:08.74Z,2007-09-26T03:51:08.74Z,2007-10-14T23:00:54.45Z,2007-10-14T23:00:54.45Z,2007-10-14T23:00:54.453Z,2007-10-14T23:00:54.453Z,No validation for the repository purge fields in repo config,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-551,Bug,2007-10-18T06:15:27.29Z,2007-10-18T06:15:27.29Z,2007-10-22T08:51:48.597Z,2007-10-22T08:51:48.597Z,2007-10-22T08:51:48.609Z,2007-10-22T08:51:48.609Z,"the default scan cron expression is once a day, should be hourly","0 0 0 * * -> 0 0 * * *, I think",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-590,Improvement,2007-11-11T09:09:47.21Z,2007-11-11T09:09:47.21Z,2016-03-15T06:08:13.404Z,2016-03-15T06:08:13.404Z,2016-03-15T06:08:13.384Z,2016-03-15T06:08:13.384Z,"add some caching headers to css, javascript and images to improve performance, especially if using a HTTPD reverse proxy",also document the best way to configure if httpd is in front of it,Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-543,Bug,2007-10-15T03:32:52.856Z,2007-10-15T03:32:52.856Z,2007-10-15T20:00:26.912Z,2007-10-15T20:00:26.912Z,2007-10-15T20:00:26.933Z,2007-10-15T20:00:26.933Z,Versions (latest and release) wrong after regeneration of maven-metadata.xml,"Hello,

I've setup an Archiva server (1.0-beta-2) on a Debian Linux machine (Tomcat 6.0.14, Sun JVM 1.5.0_12). I have a managed local repository (""internal-central"") which is connected via a proxy connector to the central repository. I have another managed local repository (""release"") for my own development and deployment. I've created a Maven2 plugin (to deal with our CA Harvest SCM system) which I deploy to the ""release"" repository. The generated maven-metadata.xml file looks as follows:

<?xml version=""1.0"" encoding=""UTF-8""?><metadata>
  <groupId>org.test.maven.plugins</groupId>
  <artifactId>maven-harvest-plugin</artifactId>
  <version>1.0</version>
  <versioning>
    <latest>1.0</latest>
    <release>1.0</release>
    <versions>
      <version>1.0</version>
    </versions>
    <lastUpdated>20071009112946</lastUpdated>
  </versioning>
</metadata>

When I then use a client to retrieve the pluging (by calling the 'mvn harvest:update' mojo), I get the following error:
""The plugin 'org.test.maven.plugins:maven-harvest-plugin' does not exist or no valid version could be found""

When I look at the 'maven-metadata.xml' file in the repository it contains this:

<?xml version=""1.0"" encoding=""UTF-8""?>

<metadata>
  <groupId>org.test.maven.plugins</groupId>
  <artifactId>maven-harvest-plugin</artifactId>
  <versioning>
    <versions>
      <version>1.0</version>
    </versions>
  </versioning>
</metadata>

For some reason, Archiva has regenerated the 'maven-metadata.xml ' file, removing the 'latest','release' and 'lastUpdated' version information. This, as far as I know, results in the 'no valid version could be found' error.

I've seen this behaviour also on the proxied repository (""internal-central""). For example when proxying spring jars, I notice that the 'latest' and 'release' version information, which is present in the metadata files at ' repo1.maven.org', are not present in the local central repository.

The regeneration seems to happen even when the 'metadata-updater' consumer is switched off (it doesn't update the metadata when scanning the repository when it is switched off, but the metadata is regenerated when a client tries to download the plugin).

The workaround for my problem is to specify the exact version of the plugin to be used in my pom.xml, which is something I don't want because the plugin is under heavy development. I also don't seem to understand why Archiva should even regenerate the 'maven-metadata.xml' files.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Duncan Doyle,mccloud
MRM-213,Bug,2006-10-24T02:53:40.393Z,2006-10-24T02:53:40.393Z,2015-04-05T21:12:45.832Z,2015-04-05T21:12:45.832Z,2007-09-21T18:11:15.162Z,2007-09-21T18:11:15.162Z,cannot undeploy archiva webapp,"
I'd like to undeploy without restarting Tomcat (as I don't have admin acces to the server). When I undelploy archiva webapp using tomcat manager, the webapp/archiva directory is not removed and WEB-INF/lib still contains:

jpox-1.1.1.jar
plexus-container-default-1.0-alpha-10.jar
plexus-security-authorization-rbac-store-jdo-1.0-alpha-6-20061013.204855-1.jar
plexus-security-keys-jdo-1.0-alpha-6-20061013.204855-1.jar
plexus-security-user-management-provider-jdo-1.0-alpha-6-20061013.204855-1.jar
webwork-2.2.4.jar
xwork-1.2.1.jar

I cannot remove those jars (files locked) 

Maybe some background thread is not stopped at application undeploy ?",Minor,Closed,Fixed,Joakim Erdfelt,joakime,nicolas de loof,ndeloof
MRM-204,Wish,2006-10-04T12:18:11.034Z,2006-10-04T12:18:11.034Z,2015-04-05T14:27:43.834Z,2015-04-05T14:27:43.834Z,2007-11-08T09:46:00.601Z,2007-11-08T09:46:00.601Z,Request for Documentation answers,"Could somebody explain what the following mean and are used for:


Identifiers.
Proxied Repositories.
Observers.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Jira Report User,jirareport
MRM-277,Bug,2007-02-11T11:13:26.688Z,2007-02-11T11:13:26.688Z,2007-05-25T14:10:51.517Z,2007-05-25T14:10:51.517Z,2007-05-25T14:10:51.519Z,2007-05-25T14:10:51.519Z,Proxied repositories change order when edited,"If you edit a proxied repository (to check/uncheck 'Use HTTP Proxy' for example) the order of the list changes after you update.

To reproduce, set up more than one proxied repository, then:
1. Administration -> Proxied Repositories 
2. Observe the order of the list of proxied repositories
3. Edit Repository -> (make a change) -> Update Repository
4. Compare the order of the list to (2)

They should always be in the same order.",Minor,Closed,Won't Fix,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-273,Bug,2007-01-31T02:11:16.672Z,2007-01-31T02:11:16.672Z,2007-06-02T07:11:14.394Z,2007-06-02T07:11:14.394Z,2007-02-06T03:51:00.891Z,2007-02-06T03:51:00.891Z,feedback.action gives 404 error,"click the URL on the user validation email and get the 404 error
------------------------------------------------------------------------------------------
HTTP ERROR: 404

There is no Action mapped for namespace / and action name feedback. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded.

RequestURI=/feedback.action

Powered by Jetty://
-------------------------------------------------------------------------------------------",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Teodoro Cue Jr.,tcue
MRM-244,Bug,2006-12-04T08:19:35.688Z,2006-12-04T08:19:35.688Z,2007-05-22T14:27:54.572Z,2007-05-22T14:27:54.572Z,2007-05-22T14:27:54.575Z,2007-05-22T14:27:54.575Z,Mirror/Proxy functionality is broken in Archiva,"Currently, the archiva admin has to specify which sites Archiva should proxy/mirror and in which managed repository the downloaded artefacts should end up.

This approach has several drawbacks:

- Resources with a similar name but from different sites can end up in the same managed repository. This is deadly if there is a bug in the resource which is fixed on site A but archiva downloads it from B. Since the resource exists, Archiva will not download it again even after the problem is fixed and the maven mirrors re-synchronized.

- Since every POM can define their own repositories, it's very hard to maintain the list of proxied repositories. The situation gets worse when you download a new plugin which in turn wants artefacts from other sites which are not yet in the list. Maven will not use Archiva for these which means every developer downloads those resources.

This also means I have to configure maven to be able to access the internet directly while I would prefer to be able to force it to make all connections via archiva. This way, I can fix all broken POMs inhouse, for example.

- In maven's settings, I have to specify which mirrors exist. The key for the decision is the ID of the repository. Unfortunately, the ID is just an arbitrary string. Many projects use different IDs for the same repository. Some use ""codehaus.org"", some use ""codehaus"". I've seen POMs which think ""codehaus.org"" is for snapshots while they use ""codehaus"" for the releases.

In the end, there is no way to map repository ""IDs"" to mirrors which will work for all maven projects out there.

Therefore, I suggest that you change the handling of proxied repositories. Instead of using mirror settings, I would prefer to use the proxy settings of maven to integrate Archiva.

Archiva should keep a blacklist of repositories which are to be ignored but everything else should be downloaded into a mirror directory which contains the hostnames of the sites as first level. This means artefacts from ""http://people.apache.org/maven-snapshot-repository/"" would end up in C:\archiva\mirror\people.apache.org\maven-snapshot-repository\...""

If the port number is != 80, you can add another level for the port.

This should allow us to force maven to download everything through Archiva. We would be able to control which plugins and which versions are used and we could fix broken POMs. We could even put patched versions of plugins into the mirror directory.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,Aaron Digulla,digulla
MRM-268,Improvement,2007-01-16T08:32:25.903Z,2007-01-16T08:32:25.903Z,2008-01-18T08:48:24.626Z,2008-01-18T08:48:24.626Z,2008-01-18T08:48:24.667Z,2008-01-18T08:48:24.667Z,Archivas relocation feature should be configurable,"Archiva automatically delivers the new pom and jar for a relocated artifact to a maven client.

The downside of this feature is that clients do not get a warning that the artifact is relocated anymore.

In a ""All-Maven2"" environment this warning is quite good, and gives the developer a hint and a motivation (get rid of the warning ;-) ) to use the new groupId.

So I think it would be a good idea to make this feature configurable, so the archiva admin can turn it off.

",Major,Closed,Won't Fix,nicolas de loof,ndeloof,Chris Wewerka,breadfan@gmx.de
MRM-205,Bug,2006-10-04T14:09:54.5Z,2006-10-04T14:09:54.5Z,2007-09-21T13:37:19.058Z,2007-09-21T13:37:19.058Z,2007-09-21T13:37:19.095Z,2007-09-21T13:37:19.095Z,Undesirable Tomcat configuration for .jspf files,".jspf files need to be picked up as JSP files by Tomcat. This isn't intended - they should just be static includes. See the following email thread for more info:

http://mail-archives.apache.org/mod_mbox/maven-archiva-users/200609.mbox/%3cF3DF4F47-C1A4-4349-BCAA-F12623E317CF@apache.org%3e
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Jira Report User,jirareport
MRM-285,Improvement,2007-02-17T22:56:20.95Z,2007-02-17T22:56:20.95Z,2007-07-31T08:38:46.916Z,2007-07-31T08:38:46.916Z,2007-07-31T08:38:46.931Z,2007-07-31T08:38:46.931Z,change 'main' link for artifact download,"I think the 'main' link should be the more prominent - previous design had just a download button and the source/javadoc were elsewhere in the page.

Perhaps the better solution is to keep them centralised as now, but have a large download link, then 'other downloads' below it for the source/javadoc",Trivial,Closed,Fixed,,,Brett Porter,brettporter
MRM-294,New Feature,2007-02-26T12:55:27.489Z,2007-02-26T12:55:27.489Z,2007-08-06T03:41:04.188Z,2007-08-06T03:41:04.188Z,2007-08-06T03:26:15.186Z,2007-08-06T03:26:15.186Z,Repository purge feature for snapshots,"We need a way to purge a repository of snapshots older than a certain date, (optionally retaining the most recent one) and fixing the metadata.

",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-251,Bug,2006-12-15T14:20:40.983Z,2006-12-15T14:20:40.983Z,2007-05-25T14:20:29.266Z,2007-05-25T14:20:29.266Z,2006-12-19T21:28:30.917Z,2006-12-19T21:28:30.917Z,Build failure: package org.apache.maven.archiva.reporting.executor does not exist,"Followed instructions on http://maven.apache.org/archiva/guides/getting-started/index.html to test-deploy Archiva on the embedded Jetty
Checked out HEAD revision (487615)
mvn jetty:run resulted in BUILD FAILURE, log attached
",Blocker,Closed,Fixed,Brett Porter,brettporter,Victor Okunev,realokun
MRM-267,Bug,2007-01-11T02:17:40.215Z,2007-01-11T02:17:40.215Z,2007-05-25T14:20:41.221Z,2007-05-25T14:20:41.221Z,2007-01-11T04:52:23.409Z,2007-01-11T04:52:23.409Z,Managed Repositories and Proxied Repositories buttons under Administration are not displayed when using Internet Explorer 7.,"When using Internet Explorer 7, the ""Managed Repositories"" and ""Proxied Repositories"" buttons under Administration are not displayed.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Dawn Angelito,dangelito
MRM-270,Wish,2007-01-19T03:50:18.878Z,2007-01-19T03:50:18.878Z,2011-09-12T09:40:12.07Z,2011-09-12T09:40:12.07Z,,,Enterprise-level security. Artifact-level constraints on user access. Dynamic authorisation.,"If Archiva is to be deployed in organisations like Investment Banks (I work for Lehman Brothers) then it needs to support fine-grained access to 
Apache Jackrabbit, a webdav server which can be used as a maven repository, has the AccessManager interface. This can be integrated with a central Authorisation service and users can be given permissions to add and modify artifacts for a particular groupId (directory). 
It's great that archiva allows for JAAS authentication. It also needs to support custom authorisation for artifacts.Until it does, I'll need to use Jackrabbit. This is a shame because it looks like you have some great features related to artifact management and reporting. 
I appreciate that I could put constraints in web.xml, but this doesn't work in my use case. I need to dynamically decide whether a user has access every time a request is made.",Major,Open,,,,David Boden,daveboden
MRM-207,Bug,2006-10-06T17:14:07.701Z,2006-10-06T17:14:07.701Z,2007-07-31T08:24:59.12Z,2007-07-31T08:24:59.12Z,2007-07-31T08:24:59.127Z,2007-07-31T08:24:59.127Z,POM error when indexing an m1 repository,"org.apache.maven.project.InvalidProjectModelException: Not a v4.0.0 POM.
	org.apache.maven.project.DefaultMavenProjectBuilder.readModel(DefaultMavenProjectBuilder.java:1299)
	org.apache.maven.project.DefaultMavenProjectBuilder.readModel(DefaultMavenProjectBuilder.java:1270)
	org.apache.maven.project.DefaultMavenProjectBuilder.findModelFromRepository(DefaultMavenProjectBuilder.java:471)
	org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:225)
	org.apache.maven.project.DefaultMavenProjectBuilder.buildFromRepository(DefaultMavenProjectBuilder.java:235)
	org.apache.maven.archiva.web.action.ShowArtifactAction.readProject(ShowArtifactAction.java:257)
	org.apache.maven.archiva.web.action.ShowArtifactAction.artifact(ShowArtifactAction.java:127)

So seems pretty simple - Archiva is looking for m2 poms in the m1 repository.",Major,Closed,Won't Fix,Brett Porter,brettporter,Jira Report User,jirareport
MRM-210,Bug,2006-10-11T16:49:31.849Z,2006-10-11T16:49:31.849Z,2007-07-31T08:23:36.908Z,2007-07-31T08:23:36.908Z,2007-07-31T08:23:36.917Z,2007-07-31T08:23:36.917Z,Error while indexing m1 plugin,"trying to index my local m1 repository I encounter the following stacktrace :

{code}
java.lang.IllegalStateException: Couldn't find artifact E:\Data\maven-1\repository\cargo\plugins\cargo-maven-plugin-0.6.plugin
	org.apache.maven.archiva.reporting.LocationArtifactReportProcessor.processArtifact(LocationArtifactReportProcessor.java:143)
	org.apache.maven.archiva.reporting.AbstractReportGroup.processArtifact(AbstractReportGroup.java:53)
	org.apache.maven.archiva.reporting.DefaultReportExecutor.runArtifactReports(DefaultReportExecutor.java:126)
	org.apache.maven.archiva.scheduler.task.IndexerTask.execute(IndexerTask.java:201)
	org.apache.maven.archiva.scheduler.task.IndexerTask.execute(IndexerTask.java:122)
	org.apache.maven.archiva.scheduler.DefaultRepositoryTaskScheduler.runIndexer(DefaultRepositoryTaskScheduler.java:175)
	org.apache.maven.archiva.web.action.admin.RunRepositoryTaskAction.runIndexer(RunRepositoryTaskAction.java:45)
	sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	java.lang.reflect.Method.invoke(Method.java:585)
	com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:364)
	com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:216)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:67)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	org.codehaus.plexus.security.ui.web.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:141)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	org.codehaus.plexus.security.ui.web.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:89)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	org.codehaus.plexus.security.ui.web.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:59)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:123)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:168)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:115)
	com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:171)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:147)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:113)
	com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:225)
	com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
{code}

I have a plugin for maven 1 cargo-maven-plugin-0.6.jar in E:\Data\maven-1\repository\cargo\plugins

It's a problem to handle ""non-standards"" type when the type given in the directory name is different to the type given in the artifact extension.
We'll certainly have the same problem for ejb, ejb-clients ...",Major,Closed,Won't Fix,,,Arnaud HERITIER,aheritier
MRM-278,Bug,2007-02-11T11:21:18.131Z,2007-02-11T11:21:18.131Z,2007-06-02T07:11:12.087Z,2007-06-02T07:11:12.087Z,2007-02-12T00:12:11.556Z,2007-02-12T00:12:11.556Z,Unable to un-check checkboxes,"When editing repositories, I am unable to un-check any of the checkboxes, such as 'Include Snapshots' or 'Use HTTP Proxy'.

The only way I can make changes is to edit ~/.m2/archiva.xml and re-start.


",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-243,Bug,2006-11-30T03:22:20.062Z,2006-11-30T03:22:20.062Z,2008-04-08T06:12:26.384Z,2008-04-08T06:12:26.384Z,2007-09-21T17:29:55.886Z,2007-09-21T17:29:55.886Z,507 Insufficient Storage when deploying artifact with webdav,"Sometimes when deploying with dav I get a ""507 Insufficient Storage"" error.

The artifact (.../group/artifact/version/artifact-version.jar) gets deployed (with checksums).
The metadata (.../group/artifact/version/maven-metatdata.xml) gets deployed (with checksums).

It seems to happen when maven tries to upload the updated parent metadata (.../group/artifact/maven-metadata.xml). The checksums for this metadata deploys OK.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Magne Rasmussen,magne.rasmussen
MRM-282,Bug,2007-02-15T21:26:41.422Z,2007-02-15T21:26:41.422Z,2007-05-25T14:09:59.269Z,2007-05-25T14:09:59.269Z,2007-05-25T14:09:59.272Z,2007-05-25T14:09:59.272Z,download artifact null pointer exception on artifacts with classifiers,"browse to org.testng:testng:4.7: the page throws a null pointer exception because the artifact is not found.

I expect this is because it looks for testng-4.7.jar, when all that is present is testng-4.7-jdk14.jar and testng-4.7-jdk15.jar",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-292,Bug,2007-02-25T13:12:55.728Z,2007-02-25T13:12:55.728Z,2007-05-25T14:20:39.647Z,2007-05-25T14:20:39.647Z,2007-03-01T00:44:00.144Z,2007-03-01T00:44:00.144Z,"[archiva-common] Fix BaseFileTest, so it will run on Windows","The test org.apache.maven.archiva.common.utils.BaseFileTest won't pass on Windows platform, because it doesn't compensate for drive letters being adding to the absolute paths. I've added some simple utility methods and tweaked the expected values to compensate for this. I don't have a Linux box to test on, so I haven't validated that they still work there, so the committer should verify the tests on a Linux or Unix box.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Nathan Beyer,nbeyer
MRM-232,Bug,2006-11-21T13:02:17.942Z,2006-11-21T13:02:17.942Z,2007-06-02T07:11:12.479Z,2007-06-02T07:11:12.479Z,2006-11-23T01:40:25.177Z,2006-11-23T01:40:25.177Z,Archiva trunk does not build,"Since the Archiva website ""Getting Started"" page tells people to build from trunk, it is bad for trunk to not build. Trunk is currently broken because the MRM-231 changes have already been committed, but they are dependent on very recent changes to plexus-security-rbac-profile which have not yet been deployed to the codehaus snapshot repository.",Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Max Bowsher,maxb
MRM-261,Bug,2006-12-21T16:32:49.077Z,2006-12-21T16:32:49.077Z,2007-05-25T14:20:27.874Z,2007-05-25T14:20:27.874Z,2006-12-22T10:01:25.022Z,2006-12-22T10:01:25.022Z,Repository conversion is not working in central repo,"Several synced projects are not being converted:

All org.apache.ant
http://repo1.maven.org/maven/org.apache.ant/
http://repo1.maven.org/maven2-converted-from-maven1/org/apache/ant/

groovy-1.0-RC-01
http://repo1.maven.org/maven/groovy/jars/
http://repo1.maven.org/maven2-converted-from-maven1/groovy/groovy
",Critical,Closed,Fixed,Carlos Sanchez,carlos,Carlos Sanchez,carlos
MRM-265,Bug,2007-01-05T18:30:25.088Z,2007-01-05T18:30:25.088Z,2007-10-21T12:32:24.359Z,2007-10-21T12:32:24.359Z,2007-10-21T12:32:24.363Z,2007-10-21T12:32:24.363Z,After removing a managed repository - Browse/Search still see it,"I had a repository with lots of stuff in. I removed that (but didn't delete contents), then I added a tiny repository with a couple of jars in. When I goto browse and search, I still see the original, now removed, repository.

Re-indexing didn't help [JIRA uses indexes for lists a lot, so I figured this might be the case here too].",Major,Closed,Fixed,Maria Odea Ching,oching,Jira Report User,jirareport
MRM-284,Improvement,2007-02-16T11:02:56.162Z,2007-02-16T11:02:56.162Z,2007-05-10T19:02:11.007Z,2007-05-10T19:02:11.007Z,,,Need support for private key authorization.,Authentication with the password is fine for some but the private key authorization supported by maven shoul be supported by archiva. This would allow organizations to have true security when installing artifacts or fetching them from servers.,Major,Open,,,,Robert Simmons,kraythe
MRM-224,Bug,2006-11-16T02:20:39.199Z,2006-11-16T02:20:39.199Z,2015-04-07T18:29:50.233Z,2015-04-07T18:29:50.233Z,2006-11-16T09:27:20.116Z,2006-11-16T09:27:20.116Z,"M1 to M2 repo conversion creates "".plugin"" for M1 plugins","On maven2 public repository, maven (m1) plugins are packaged with "".plugin"" extension :
-> http://repo1.maven.org/maven2/maven/maven-changelog-plugin/1.9.1 

AFAIK the expected extension is .jar (as maven-one-plugin created artifacts)

This issue may be related to MRM-211, as requesting Archiva for M1 plugins has the same issue and can be solved by configuring a global artifactHandler for m1 plugins. ",Major,Closed,Fixed,Jason van Zyl,jvanzyl,nicolas de loof,ndeloof
MRM-262,Bug,2006-12-22T09:55:56.042Z,2006-12-22T09:55:56.042Z,2007-05-25T14:20:26.226Z,2007-05-25T14:20:26.226Z,2006-12-22T09:57:36.462Z,2006-12-22T09:57:36.462Z,Reporting adds duplicated entries on each run,"The health report adds new entries every time it runs, although they already exist

      <warnings>
        <warning reason=""The artifact had no POM in the source repository."" />
        <warning reason=""The artifact had no POM in the source repository."" />
      </warnings>
",Major,Closed,Fixed,Carlos Sanchez,carlos,Carlos Sanchez,carlos
MRM-201,Improvement,2006-10-03T16:49:27.597Z,2006-10-03T16:49:27.597Z,2007-05-25T14:20:30.253Z,2007-05-25T14:20:30.253Z,2006-10-05T15:20:24.563Z,2006-10-05T15:20:24.563Z,Improve the search results page to look like and share code with the dependency pages,"Attached is a patch to improve the results.jsp page. I've extracted the code that handles version merging into a utility class, and the jsp that handles the artifact title linking into a tagfil, so now the search results look the same as the dependency results with multiple versions per line.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Jira Report User,jirareport
MRM-279,Bug,2007-02-14T16:57:40.345Z,2007-02-14T16:57:40.345Z,2007-05-10T19:03:22.456Z,2007-05-10T19:03:22.456Z,2007-05-10T19:03:22.46Z,2007-05-10T19:03:22.46Z,"""Proxied through"" List does not update until Archiva Restart","If you create a repository and then delete it and create another then the other repositories do not show properly as ""proxied through"" repositories. In the drop down list when creating a new repository. You must restart the server for the new managed repository to be seen. ",Minor,Closed,Fixed,,,Robert Simmons,kraythe
MRM-274,Bug,2007-02-05T11:41:30.551Z,2007-02-05T11:41:30.551Z,2007-05-25T14:20:44.263Z,2007-05-25T14:20:44.263Z,2007-02-05T17:13:28.873Z,2007-02-05T17:13:28.873Z,OS-specific scripts missing from archiva/bin,"The Archiva plexus-runtime built from source at r503520 has only bin/plexus.sh and bin/plexus.bat.

The usual bin/linux, bin/win32, etc., directories, with the 'wrapper' and scripts, are not present.

",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-272,Bug,2007-01-22T06:26:53.391Z,2007-01-22T06:26:53.391Z,2007-05-25T14:20:32.156Z,2007-05-25T14:20:32.156Z,2007-01-22T15:25:53.841Z,2007-01-22T15:25:53.841Z,Server startup on jetty broken due to bug in plexus-xwork-integration (PLX-321),"Due to a bug in plexus-xwork-integration (see http://jira.codehaus.org/browse/PLX-321), web application is not available because a VerifierError occurs, complaining about final method being overridden.",Major,Closed,Fixed,Andrew Williams,handyande,Dirk Jablonski,jablon
MRM-227,Bug,2006-11-17T08:00:21.097Z,2006-11-17T08:00:21.097Z,2015-04-05T21:12:45.854Z,2015-04-05T21:12:45.854Z,2007-06-18T16:23:24.965Z,2007-06-18T16:23:24.965Z,Archiva doesn't suppost UTF-8 databases in Mysql,"If the mysql database is created with Collation utf8_unicode_ci I receive this error when tables are created :
{code}
2006-11-17 14:29:13,782 [http-8080-Processor25] ERROR RDBMS                          - Error thrown executing CREATE TABLE `OPERATIONS`
(
    `NAME` VARCHAR(256) BINARY NOT NULL,
    `DESCRIPTION` VARCHAR(256) BINARY NULL,
    `PERMANENT` BIT NOT NULL,
    `RESOURCE_REQUIRED` BIT NOT NULL,
    PRIMARY KEY (`NAME`)
) ENGINE=INNODB : Specified key was too long; max key length is 765 bytes
java.sql.SQLException: Specified key was too long; max key length is 765 bytes
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2975)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1600)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1695)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:2998)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:2927)
	at com.mysql.jdbc.Statement.execute(Statement.java:535)
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:261)
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:561)
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:516)
	at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:244)
	at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:287)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3006)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2540)
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2397)
	at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:603)
	at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:617)
	at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1016)
	at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1134)
	at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2216)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjects(JdoTool.java:199)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjects(JdoTool.java:182)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.triggerInit(JdoTool.java:131)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getPersistenceManager(JdoTool.java:118)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getObjectById(JdoTool.java:236)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.objectExistsById(JdoTool.java:283)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoRbacManager.roleExists(JdoRbacManager.java:124)
	at org.codehaus.plexus.rbac.profile.AbstractRoleProfile.getRole(AbstractRoleProfile.java:236)
	at org.codehaus.plexus.rbac.profile.DefaultRoleProfileManager.getRole(DefaultRoleProfileManager.java:72)
	at org.codehaus.plexus.security.ui.web.checks.security.RequiredRolesEnvironmentCheck.validateEnvironment(RequiredRolesEnvironmentCheck.java:64)
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.init(EnvironmentCheckInterceptor.java:78)
	at org.codehaus.plexus.xwork.PlexusObjectFactory.buildInterceptor(PlexusObjectFactory.java:101)
	at com.opensymphony.xwork.config.providers.InterceptorBuilder.constructInterceptorReference(InterceptorBuilder.java:48)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.lookupInterceptorReference(XmlConfigurationProvider.java:702)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStack(XmlConfigurationProvider.java:569)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStacks(XmlConfigurationProvider.java:582)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptors(XmlConfigurationProvider.java:603)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:204)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadConfigurationFile(XmlConfigurationProvider.java:676)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:91)
	at com.opensymphony.xwork.config.impl.DefaultConfiguration.reload(DefaultConfiguration.java:85)
	at com.opensymphony.xwork.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:54)
	at com.opensymphony.xwork.DefaultActionProxy.<init>(DefaultActionProxy.java:57)
	at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:46)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:216)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:595)

2006-11-17 14:29:13,783 [http-8080-Processor25] ERROR SCHEMA                         - An exception was thrown while adding/validating class(es) : Specified key was too long; max key length is 765 bytes
java.sql.SQLException: Specified key was too long; max key length is 765 bytes
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2975)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1600)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1695)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:2998)
	at com.mysql.jdbc.Connection.execSQL(Connection.java:2927)
	at com.mysql.jdbc.Statement.execute(Statement.java:535)
	at org.apache.tomcat.dbcp.dbcp.DelegatingStatement.execute(DelegatingStatement.java:261)
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:561)
	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:516)
	at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:244)
	at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:287)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3006)
	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2540)
	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2397)
	at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:603)
	at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:617)
	at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1016)
	at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1134)
	at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2216)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjects(JdoTool.java:199)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getAllObjects(JdoTool.java:182)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.triggerInit(JdoTool.java:131)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getPersistenceManager(JdoTool.java:118)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.getObjectById(JdoTool.java:236)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoTool.objectExistsById(JdoTool.java:283)
	at org.codehaus.plexus.security.authorization.rbac.store.jdo.JdoRbacManager.roleExists(JdoRbacManager.java:124)
	at org.codehaus.plexus.rbac.profile.AbstractRoleProfile.getRole(AbstractRoleProfile.java:236)
	at org.codehaus.plexus.rbac.profile.DefaultRoleProfileManager.getRole(DefaultRoleProfileManager.java:72)
	at org.codehaus.plexus.security.ui.web.checks.security.RequiredRolesEnvironmentCheck.validateEnvironment(RequiredRolesEnvironmentCheck.java:64)
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.init(EnvironmentCheckInterceptor.java:78)
	at org.codehaus.plexus.xwork.PlexusObjectFactory.buildInterceptor(PlexusObjectFactory.java:101)
	at com.opensymphony.xwork.config.providers.InterceptorBuilder.constructInterceptorReference(InterceptorBuilder.java:48)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.lookupInterceptorReference(XmlConfigurationProvider.java:702)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStack(XmlConfigurationProvider.java:569)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptorStacks(XmlConfigurationProvider.java:582)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadInterceptors(XmlConfigurationProvider.java:603)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.addPackage(XmlConfigurationProvider.java:204)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.loadConfigurationFile(XmlConfigurationProvider.java:676)
	at com.opensymphony.xwork.config.providers.XmlConfigurationProvider.init(XmlConfigurationProvider.java:91)
	at com.opensymphony.xwork.config.impl.DefaultConfiguration.reload(DefaultConfiguration.java:85)
	at com.opensymphony.xwork.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:54)
	at com.opensymphony.xwork.DefaultActionProxy.<init>(DefaultActionProxy.java:57)
	at com.opensymphony.xwork.DefaultActionProxyFactory.createActionProxy(DefaultActionProxyFactory.java:46)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:216)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)
	at java.lang.Thread.run(Thread.java:595)

2006-11-17 14:29:13,783 [http-8080-Processor25] ERROR SCHEMA                         - java.sql.SQLException: Specified key was too long; max key length is 765 bytes
...
{code}
Even if I configure the driver with :
{code}
<Context path=""/archiva"" docBase=""/projets/JTB/jtbdev02/base_archiva/archiva-webapp-1.0-SNAPSHOT.war"" debug=""0"">
    <Resource name=""jdbc/users"" auth=""Container"" type=""javax.sql.DataSource""
            username=""archiva""
            password=""?????????""
            driverClassName=""com.mysql.jdbc.Driver""
            url=""jdbc:mysql://jtbox01.fr.world.socgen:13306/archiva?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=UTF8""/>
</Context>
{code}
If I don't use a multibytes encoding, it's working well (with latin1_general_ci)",Major,Closed,Duplicate,Joakim Erdfelt,joakime,Arnaud HERITIER,aheritier
MRM-208,Bug,2006-10-06T17:15:40.773Z,2006-10-06T17:15:40.773Z,2007-07-31T04:12:21.643Z,2007-07-31T04:12:21.643Z,2007-07-31T04:12:21.653Z,2007-07-31T04:12:21.653Z,Javadoc error while indexing m1 repository,"java.lang.IllegalStateException: Couldn't find artifact /Users/hen/osjava/dist/archiva-test/charlotte/javadoc.jars/charlotte-1.0-rc5-javadoc.javadoc.jar
    at org.apache.maven.archiva.reporting.LocationArtifactReportProcessor.processArtifact(LocationArtifactReportProcessor.java:143)
    at org.apache.maven.archiva.reporting.AbstractReportGroup.processArtifact(AbstractReportGroup.java:53) 
    at org.apache.maven.archiva.reporting.DefaultReportExecutor.runArtifactReports(DefaultReportExecutor.java:126) 
    at org.apache.maven.archiva.scheduler.task.IndexerTask.execute(IndexerTask.java:201)
    at org.apache.maven.archiva.scheduler.task.IndexerTask.execute(IndexerTask.java:122)
    at org.apache.maven.archiva.scheduler.DefaultRepositoryTaskScheduler.runIndexer(DefaultRepositoryTaskScheduler.java:175)
    at org.apache.maven.archiva.web.action.admin.RunRepositoryTaskAction.runIndexer(RunRepositoryTaskAction.java:45)

This seems to be caused by the existence of:

/Users/hen/osjava/dist/archiva-test/charlotte/javadocs/charlotte-1.0-rc5-javadoc.jar",Major,Closed,Fixed,Henri Yandell,bayard,Jira Report User,jirareport
MRM-287,Bug,2007-02-22T02:39:15.761Z,2007-02-22T02:39:15.761Z,2007-05-25T14:20:33.325Z,2007-05-25T14:20:33.325Z,2007-02-22T03:12:02.051Z,2007-02-22T03:12:02.051Z,The context is not included in repository links when browsing artifacts.,"When browsing, searching and finding an artifact, the resulting page displays links to navigate to the various levels of the artifact's group as well as to the top of the tree. These links have urls which do not include the context of the web application so if archiva is deployed in a different context, these links will generate 404s.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Henry S. Isidro,hisidro
MRM-258,Bug,2006-12-19T21:33:21.537Z,2006-12-19T21:33:21.537Z,2007-05-25T14:20:37.441Z,2007-05-25T14:20:37.441Z,2006-12-19T23:08:43.212Z,2006-12-19T23:08:43.212Z,archiva-plexus-runtime is reportedly broken,"this is listed as broken on the web site. Either fix it, or fix the web site.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-206,New Feature,2006-10-05T16:54:54.642Z,2006-10-05T16:54:54.642Z,2009-03-21T21:01:03.577Z,2009-03-21T21:01:03.577Z,2009-01-19T04:01:39.698Z,2009-01-19T04:01:39.698Z,Add xml-rpc search,,Major,Closed,Fixed,Maria Odea Ching,oching,Emmanuel Venisse,evenisse
MRM-233,Improvement,2006-11-21T20:17:11.344Z,2006-11-21T20:17:11.344Z,2007-06-02T07:11:15.064Z,2007-06-02T07:11:15.064Z,2006-11-23T01:20:35.933Z,2006-11-23T01:20:35.933Z,Add 'Edit user info' link in the side navigation,Add 'Edit user info' link similar to that of continuum.,Minor,Closed,Fixed,Edwin Punzalan,elpunzalan,Nap Ramirez,nramirez
MRM-253,Bug,2006-12-19T00:08:18.691Z,2006-12-19T00:08:18.691Z,2007-05-25T14:20:32.387Z,2007-05-25T14:20:32.387Z,2006-12-19T02:54:11.346Z,2006-12-19T02:54:11.346Z,Add repository allows empty url name,"If the field in url name is not filled the submition works
it should have also a star as mandatory field",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Allan Ramirez,aramirez
MRM-248,Improvement,2006-12-11T07:30:51.196Z,2006-12-11T07:30:51.196Z,2007-05-25T14:20:26.775Z,2007-05-25T14:20:26.775Z,2006-12-11T07:36:46.626Z,2006-12-11T07:36:46.626Z,Increase the default frequency to run the indexer,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-221,Bug,2006-11-14T18:45:19.325Z,2006-11-14T18:45:19.325Z,2007-06-21T13:27:43.757Z,2007-06-21T13:27:43.757Z,2007-06-19T19:47:02.934Z,2007-06-19T19:47:02.934Z,Webdav upload is not working,"MRM-172 added webdav support. This is not working.

I have everything working scping to the repository. webdav via Archiva does not work.

When I use 

<artifact:install-provider artifactId=""wagon-ssh"" version=""1.0-beta-1""/>

        <artifact:install file=""${dist.dir}/${name}-${version}.jar"">
            <pom refid=""maven.project""/>
        </artifact:install>

         <artifact:deploy file=""${dist.dir}/${name}-${version}.jar"">
            <remoteRepository url=""dav://localhost:9091/repository/maven_repository"">
                <authentication username=""gluck"" passphrase=""###"" password=""###""/>
            </remoteRepository>
            <pom refid=""maven.project""/>
        </artifact:deploy>

I get 

upload-to-repository:
[artifact:install-provider] Installing provider: org.apache.maven.wagon:wagon-webdav:jar:1.0-beta-1
[artifact:install-provider] Installing provider: org.apache.maven.wagon:wagon-ssh:jar:1.0-beta-1
[artifact:install] [INFO] Installing /Users/gluck/work/ehcache/trunk/target/dist/ehcache-1.2.4.jar to /m2repository/net/sf/ehcache/ehcache/1.2.4/ehcache-1.2.4.jar
[artifact:deploy] Deploying to dav://localhost:9091/repository/maven_repository
[artifact:deploy] WAGON_VERSION: 1.0-beta-1

BUILD FAILED
/Users/gluck/work/ehcache/trunk/build.xml:364: java.lang.IllegalArgumentException: id is null

If I click on the webdav link from archiva I get:

Error 404 Not Found

Resource in error: http://localhost:9091/repository/LOCAL/maven_repository

Exception details:

it.could.webdav.DAVException: Not found
	at it.could.webdav.methods.HEAD.process(HEAD.java:52)
	at it.could.webdav.methods.GET.process(GET.java:58)
	at it.could.webdav.DAVProcessor.process(DAVProcessor.java:79)
	at org.apache.maven.archiva.web.servlet.repository.RepositoryAccess.servletRequest(RepositoryAccess.java:223)
	at org.apache.maven.archiva.web.servlet.PlexusComponentServlet.service(PlexusComponentServlet.java:126)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:445)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1049)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1040)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1040)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1040)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:352)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:230)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:627)
	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:149)
	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:123)
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:141)
	at org.mortbay.jetty.Server.handle(Server.java:286)
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:444)
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:701)
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:500)
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:203)
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:340)
	at org.mortbay.jetty.nio.HttpChannelEndPoint.run(HttpChannelEndPoint.java:270)
	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:475)
",Major,Closed,Fixed,Wendy Smoak,wsmoak,Greg Luck,gregrluck
MRM-281,Bug,2007-02-14T17:02:03.955Z,2007-02-14T17:02:03.955Z,2007-05-11T09:12:22.652Z,2007-05-11T09:12:22.652Z,2007-05-11T09:12:22.658Z,2007-05-11T09:12:22.658Z,"NullPointerException when clicking on ""Browse""","When clicking on the Browse link in the trunk I get an NPE with the following trace:

6511583 [Thread-5] ERROR org.codehaus.plexus.taskqueue.execution.TaskQueueExecutor:indexer  - Error executing task
edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.lang.NullPointerException
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResult(FutureTask.java:299)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.get(FutureTask.java:118)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTask(ThreadedTaskQueueExecutor.java:159)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:127)
Caused by: java.lang.NullPointerException
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllFieldValues(LuceneRepositoryArtifactIndex.java:293)
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllRecordKeys(LuceneRepositoryArtifactIndex.java:276)
	at org.apache.maven.archiva.scheduler.executors.IndexerTaskExecutor.execute(IndexerTaskExecutor.java:171)
	at org.apache.maven.archiva.scheduler.executors.IndexerTaskExecutor.execute(IndexerTaskExecutor.java:134)
	at org.apache.maven.archiva.scheduler.executors.IndexerTaskExecutor.executeTask(IndexerTaskExecutor.java:124)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)
	at java.lang.Thread.run(Thread.java:534)
6513818 [SocketListener0-7] ERROR com.opensymphony.webwork.dispatcher.DispatcherUtils  - Could not execute action
java.lang.NullPointerException
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllFieldValues(LuceneRepositoryArtifactIndex.java:293)
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllGroupIds(LuceneRepositoryArtifactIndex.java:358)
	at org.apache.maven.archiva.web.action.BrowseAction.buildGroupTree(BrowseAction.java:188)
	at org.apache.maven.archiva.web.action.BrowseAction.browse(BrowseAction.java:93)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:364)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:216)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:69)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:160)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:102)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:152)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:62)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:121)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:88)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:88)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:171)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:147)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:113)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:225)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
6544538 [SocketListener0-7] ERROR com.opensymphony.webwork.dispatcher.DispatcherUtils  - Could not execute action
java.lang.NullPointerException
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllFieldValues(LuceneRepositoryArtifactIndex.java:293)
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryArtifactIndex.getAllGroupIds(LuceneRepositoryArtifactIndex.java:358)
	at org.apache.maven.archiva.web.action.BrowseAction.buildGroupTree(BrowseAction.java:188)
	at org.apache.maven.archiva.web.action.BrowseAction.browse(BrowseAction.java:93)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:324)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:364)
	at com.opensymphony.xwork.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:216)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:190)
	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:69)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:160)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:102)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:152)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:62)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at org.codehaus.plexus.security.ui.web.interceptor.EnvironmentCheckInterceptor.intercept(EnvironmentCheckInterceptor.java:121)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:88)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:88)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:171)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.webwork.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:147)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:151)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.AroundInterceptor.intercept(AroundInterceptor.java:31)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:186)
	at com.opensymphony.xwork.DefaultActionInvocation.invoke(DefaultActionInvocation.java:188)
	at com.opensymphony.xwork.DefaultActionProxy.execute(DefaultActionProxy.java:113)
	at com.opensymphony.webwork.dispatcher.DispatcherUtils.serviceAction(DispatcherUtils.java:225)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:202)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)",Major,Closed,Fixed,,,Robert Simmons,kraythe
MRM-295,Improvement,2007-02-26T14:43:37.659Z,2007-02-26T14:43:37.659Z,2007-05-11T23:56:51.857Z,2007-05-11T23:56:51.857Z,2007-05-11T23:56:51.86Z,2007-05-11T23:56:51.86Z,Application should unpack to archiva-${version},The Plexus app currently unpacks to 'archiva'. It should have the version number in the top level directory.,Minor,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-234,Bug,2006-11-21T20:28:22.689Z,2006-11-21T20:28:22.689Z,2008-07-04T23:12:49.932Z,2008-07-04T23:12:49.932Z,2008-07-04T23:12:49.937Z,2008-07-04T23:12:49.937Z,Moving files between repos through webdav doesn't work,"The goal is to move files from one repo to another through the webdav interface, using a webdav client, like Windows My Network Places or BitKinex

Two repos where created and accessed with username/password 
http://localhost:8092/repository/repo1
http://localhost:8092/repository/repo2

Copying from one to another fails.
Copying from any other webdav server to them works
Copying from them to any other webdav server works
Copying from local to them and from them to local of course works

I tried with latest svn code from could.it which includes this MOVE improvement http://issues.apache.org/jira/browse/HADOOP-505 that makes a real move and not a copy+delete",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Carlos Sanchez,carlos
MRM-297,Bug,2007-03-02T04:42:31.985Z,2007-03-02T04:42:31.985Z,2007-06-02T07:11:18.275Z,2007-06-02T07:11:18.275Z,2007-03-02T08:25:38.989Z,2007-03-02T08:25:38.989Z,Result.processor can't be null,"javax.jdo.JDOUserException: Field org.apache.maven.archiva.reporting.model.Result.processor is null, but is mandatory as its described in the jdo metadata
        at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:120)
        at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2737)
        at org.apache.maven.archiva.reporting.model.Result.jdoProvideField(Result.java)
        at org.apache.maven.archiva.reporting.model.Result.jdoProvideFields(Result.java)
        at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3095)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:252)
        at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
        at org.jpox.store.StoreManager.insert(StoreManager.java:920)
        at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3647)
        at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3626)
        at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1198)
        at org.jpox.AbstractPersistenceManager.makePersistentInternal(AbstractPersistenceManager.java:1243)
        at org.jpox.store.rdbms.scostore.ElementContainerStore.validateElementForWriting(ElementContainerStore.java:393)
        at org.jpox.store.rdbms.scostore.AbstractListStore.internalAdd(AbstractListStore.java:1151)
        at org.jpox.store.rdbms.scostore.AbstractListStore.addAll(AbstractListStore.java:386)
        at org.jpox.store.mapping.CollectionMapping.postInsert(CollectionMapping.java:209)
        at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:464)
        at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
        at org.jpox.store.StoreManager.insert(StoreManager.java:920)
        at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3647)
        at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3626)
        at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1198)
        at org.jpox.AbstractPersistenceManager.makePersistent(AbstractPersistenceManager.java:1261)
        at org.apache.maven.archiva.reporting.database.AbstractJdoDatabase.saveObject(AbstractJdoDatabase.java:186)
        at org.apache.maven.archiva.reporting.database.AbstractJdoDatabase.saveObject(AbstractJdoDatabase.java:160)
        at org.apache.maven.archiva.reporting.database.ArtifactResultsDatabase.addWarning(ArtifactResultsDatabase.java:90)
        at org.apache.maven.archiva.consumers.ArtifactHealthConsumer.processArtifact(ArtifactHealthConsumer.java:81)
        at org.apache.maven.archiva.common.consumers.GenericArtifactConsumer.processFile(GenericArtifactConsumer.java:111)
        at org.apache.maven.archiva.discoverer.RepositoryScanner.directoryWalkStep(RepositoryScanner.java:124)
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
        at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
        at org.apache.maven.archiva.discoverer.DefaultDiscoverer.walkRepository(DefaultDiscoverer.java:161)
        at org.apache.maven.archiva.scheduler.executors.DataRefreshExecutor.execute(DataRefreshExecutor.java:145)
        at org.apache.maven.archiva.scheduler.executors.DataRefreshExecutor.executeTask(DataRefreshExecutor.java:91)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
        at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
        at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
        at java.lang.Thread.run(Thread.java:595)",Major,Closed,Fixed,Joakim Erdfelt,joakime,Emmanuel Venisse,evenisse
MRM-228,Improvement,2006-11-17T08:07:37.673Z,2006-11-17T08:07:37.673Z,2015-04-05T14:27:43.382Z,2015-04-05T14:27:43.382Z,2006-11-24T15:49:12.102Z,2006-11-24T15:49:12.102Z,Archiva Client Configuration Howto,I created a Client Configuration Page where I discribe how the Client should be configured to use archiva as maven proxy,Trivial,Closed,Fixed,,,Daniel Mohni,daniel@mohni.net
MRM-255,Improvement,2006-12-19T17:01:32.952Z,2006-12-19T17:01:32.952Z,2008-01-17T21:25:28.882Z,2008-01-17T21:25:28.882Z,,,Reports shouldn't show missing optional dependencies as an error.,"The Reports page (under 'Manage' on the menu at the left of the screen) seems to show _any_ missing dependency using the error icon.
On my computer this results in lots of errors showing up, because optional dependencies have not been downloaded.
I would suggest that the code generating the report should check if a dependency is optional, and if so tag it as a warning or an info, and not as an error.

For example, ant:ant:1.6.2 has optional dependencies on xerces:xerces-impl:2.6.2 and xml-apis:xml-apis:2.6.2.
In ant's pom file, these dependencies are tagged using: ""<optional>true</optional>""
",Minor,Open,,,,Nicholas Daley,ntdaley
MRM-219,Bug,2006-11-04T20:42:22.477Z,2006-11-04T20:42:22.477Z,2015-04-07T18:29:46.771Z,2015-04-07T18:29:46.771Z,2006-11-04T20:43:13.225Z,2006-11-04T20:43:13.225Z,Convert a Maven 1.x POM even if the checksum for that POM is invalid,,Major,Closed,Fixed,Jason van Zyl,jvanzyl,Jason van Zyl,jvanzyl
MRM-252,Bug,2006-12-18T11:59:31.392Z,2006-12-18T11:59:31.392Z,2007-05-25T14:20:35.45Z,2007-05-25T14:20:35.45Z,2006-12-23T04:16:03.596Z,2006-12-23T04:16:03.596Z,archiva does not build with JDK 6,"...
[INFO] ----------------------------------------------------------------------------
[INFO] Building Archiva Runtime Generator
[INFO]    task-segment: [install]
[INFO] ----------------------------------------------------------------------------
[INFO] [plexus:descriptor {execution: default}]
[WARNING] Specified source directory isn't a directory: '/home/minto/rommel/test/maven/archiva/archiva-plexus-runtime/src/main/java'.
[INFO] [resources:resources]
[INFO] Using default encoding to copy filtered resources.
[INFO] [plexus:merge-descriptors {execution: default}]
[INFO] [compiler:compile]
[INFO] No sources to compile
[INFO] [resources:testResources]
[INFO] Using default encoding to copy filtered resources.
[INFO] [compiler:testCompile]
[INFO] No sources to compile
[INFO] [surefire:test]
[INFO] No tests to run.
[INFO] [jar:jar]
[WARNING] JAR will be empty - no content was marked for inclusion!
[INFO] Building jar: /home/minto/rommel/test/maven/archiva/archiva-plexus-runtime/target/archiva-plexus-runtime-1.0-SNAPSHOT.jar
[WARNING] DEPRECATED [descriptor]: Please use descriptors instead
[INFO] [assembly:single {execution: default}]
[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error creating assembly: You must set at least one file.

[INFO] ------------------------------------------------------------------------
[INFO] Trace
org.apache.maven.lifecycle.LifecycleExecutionException: Error creating assembly:
 You must set at least one file.
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(Defa
ultLifecycleExecutor.java:559)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalWithLi
fecycle(DefaultLifecycleExecutor.java:475)
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(Defau
ltLifecycleExecutor.java:454)
...


The warning can easily be fixed, but this has no effect on the error.",Minor,Closed,Fixed,Brett Porter,brettporter,Minto van der Sluis,misl
MRM-209,Bug,2006-10-10T20:54:11.631Z,2006-10-10T20:54:11.631Z,2007-05-25T14:20:40.593Z,2007-05-25T14:20:40.593Z,2006-11-24T07:33:50.586Z,2006-11-24T07:33:50.586Z,plexus.sh must include tools.jar on the classpath,"The plexush.sh that's generated in the archiva-plexus-runtime model does not include tools.jar to the classpath of the JVM that is started. This causes error messages when first accessing the web application about being unable to compile JSPs.

The last line of plexus.sh currently looks like this:

{code}
exec ""$JAVACMD"" \
  $PLEXUS_OPTS \
  -classpath ""${PLEXUS_HOME}""/core/boot/classworlds-*.jar \
{code}
....

but should have $TOOLS_JAR included in the -classpath argument's parameter.",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Dirk Olmes,dirk@xanthippe.ping.de
MRM-214,Improvement,2006-10-27T17:39:57.911Z,2006-10-27T17:39:57.911Z,2007-05-25T14:20:25.46Z,2007-05-25T14:20:25.46Z,2006-12-15T20:13:47.787Z,2006-12-15T20:13:47.787Z,Managed repository configuration UI should be moved,"Need to move the managed repo bit out of the Administration page and onto its own page, with a link under the Admin link.",Major,Closed,Fixed,,,Jira Report User,jirareport
MRM-269,Improvement,2007-01-19T03:27:20.129Z,2007-01-19T03:27:20.129Z,2007-05-25T14:20:33.678Z,2007-05-25T14:20:33.678Z,2007-01-19T03:30:35.274Z,2007-01-19T03:30:35.274Z,"Create an ""Administration"" group menu","Currently, there are three menu in the left navigation bar which can be grouped into an administration group:
  * Administration _(which is really index administration so it should be named Index instead)_
  * Managed Repositories
  * Proxied Repositories

",Minor,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-211,Bug,2006-10-18T09:33:24.617Z,2006-10-18T09:33:24.617Z,2015-04-05T14:27:44.246Z,2015-04-05T14:27:44.246Z,2007-09-15T22:31:12.763Z,2007-09-15T22:31:12.763Z,Cannot use Archiva to get Maven1 Plugins,"I request maven PMD plugin 1.9 using maven1

Archiva looks into http://repo1.maven.org/maven2/maven/maven-pmd-plugin/1.9/ and get the POM -> OK
It then searchs the Artifact as ""maven/maven-pmd-plugin/1.9/maven-pmd-plugin-1.9.plugin"" -> NOK

Even looking at maven/maven-pmd-plugin/1.9/maven-pmd-plugin-1.9.jar fails : the artifact doesn't exist ! It has a POM and a sources-jar but no binary artifact. Maybe a m1-to-m2 repo-converter error ?

",Major,Closed,Fixed,Brett Porter,brettporter,nicolas de loof,ndeloof
MRM-237,Bug,2006-11-26T06:42:25.239Z,2006-11-26T06:42:25.239Z,2007-06-02T07:11:14.964Z,2007-06-02T07:11:14.964Z,2006-12-15T19:52:50.616Z,2006-12-15T19:52:50.616Z,"""Getting Started"" webpage says you need to manually install javax.activation and javax.mail","The ""Getting Started"" webpage contains the following text:

# Download the 1.0.2 activation zip from: http://java.sun.com/products/archive/javabeans/jaf102.html
# Unpack the zip to get the jar
# Run: mvn install:install-file -DgroupId=javax.activation -DartifactId=activation -Dversion=1.0.2 -Dpackaging=jar -Dfile=activation.jar
# Download the 1.3.2 javamail zip from: http://java.sun.com/products/javamail/downloads/index.html
# Unpack the zip to get the jar
# Run: mvn install:install-file -DgroupId=javax.mail -DartifactId=mail -Dversion=1.3.2 -Dpackaging=jar -Dfile=javamail-1.3.2/mail.jar 

However, it appears to no longer be true - I suppose that whatever dependencies required those versions of the artifacts have upgraded to newer, less-license-encumbered versions. (Though, manual download of javax.resource.connector 1.0 is still required).

I noticed this whilst building archiva starting with a completely empty local repository. No errors were generated regarding these artifacts, and after the build completed, the local repository contained javax.mail 1.4 and javax.activation 1.1.

Therefore, I think the 6 lines quoted above can simply be deleted.",Minor,Closed,Fixed,,,Max Bowsher,maxb
MRM-289,Bug,2007-02-24T15:43:55.318Z,2007-02-24T15:43:55.318Z,2007-06-02T07:11:17.765Z,2007-06-02T07:11:17.765Z,2007-03-08T02:21:28.953Z,2007-03-08T02:21:28.953Z,configuration NPE failed to start application trunk rev 511355,"Due to a NPE in plexus-registry-commons PLXCOMP-60.
The app failed to start.
Then a change must be apply to prevent NPE in  archiva-configuration.
in plexus.xml in archiva-plexus-runtime, a dataSource is missing.",Major,Closed,Duplicate,Brett Porter,brettporter,Olivier Lamy (*$^¨%`£),olamy
MRM-240,Bug,2006-11-27T01:33:23.04Z,2006-11-27T01:33:23.04Z,2007-05-22T13:59:25.519Z,2007-05-22T13:59:25.519Z,2007-05-22T13:59:25.525Z,2007-05-22T13:59:25.525Z,File Serving does not work unless you create a proxied repository,"I created a repository but could not get Archiva to serve the files.

When I created a proxy repository pointing to central it started working.

I then changed the url to a nonsense URL and it kept working.

In other words, Archiva will not serve files for its local repository unless at least one proxy is set up, even if the proxy is rubbish.",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Greg Luck,gregrluck
MRM-291,Improvement,2007-02-24T22:47:38.636Z,2007-02-24T22:47:38.636Z,2015-04-05T14:27:44.136Z,2015-04-05T14:27:44.136Z,2007-06-18T20:16:24.97Z,2007-06-18T20:16:24.97Z,[archiva-common] Add serialVersionUID fields to Serializable classes,This is a small patch to add explicit serialVersionUID fields to some classes that are Serializable in archiva-common.,Minor,Closed,Fixed,Joakim Erdfelt,joakime,Nathan Beyer,nbeyer
MRM-203,Wish,2006-10-04T12:16:57.66Z,2006-10-04T12:16:57.66Z,2007-10-02T13:56:15.431Z,2007-10-02T13:56:15.431Z,2007-10-02T13:56:15.434Z,2007-10-02T13:56:15.434Z,"Reports should be public, not an administration feature","Unless I'm missing something, reports are only seen by people with special permissions. This seems pretty lame.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Jira Report User,jirareport
MRM-275,Sub-task,2007-02-07T07:15:35.273Z,2007-02-07T07:15:35.273Z,2007-08-06T00:48:19.621Z,2007-08-06T00:48:19.621Z,2007-08-06T00:48:19.625Z,2007-08-06T00:48:19.625Z,"add ""remove old snapshots"" Sheduler","It would be helpfull in order to limit repository size to automaticaly remove old builds snapshots.
Like the indexer, the sheduler should be parameter from the admin web page.
This could either be time based (e.g. any builds older than a month) or count based (e.g. keep only the newest 5 builds).
In addition to the artifact itself, md5 and sha1 files should also be cleaned out.
",Major,Closed,Fixed,Maria Odea Ching,oching,Antoine Véret,averet
MRM-238,Bug,2006-11-24T13:48:22.426Z,2006-11-24T13:48:22.426Z,2007-05-25T14:05:29.577Z,2007-05-25T14:05:29.577Z,2007-05-25T14:05:29.583Z,2007-05-25T14:05:29.583Z,Bad checksum pattern for archetype plugin?,"Archiva as a proxy for central is complaining about this checksum:

2006-11-24 12:34:32,218 [btpool0-15] WARN  ProxyRequestHandler            - The
checksum was invalid: org/apache/maven/archetype/maven-archetype/1.0-alpha-4/mav
en-archetype-1.0-alpha-4.pom.md5: Supplied checksum does not match checksum patt
ern
2006-11-24 12:34:32,218 [btpool0-15] WARN  ProxyRequestHandler            - Skip
ping repository Maven Central: Checksum failures occurred while downloading org/
apache/maven/archetype/maven-archetype/1.0-alpha-4/maven-archetype-1.0-alpha-4.p
om
",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-293,Bug,2007-02-25T13:26:49.445Z,2007-02-25T13:26:49.445Z,2015-04-05T14:27:43.755Z,2015-04-05T14:27:43.755Z,2007-05-11T13:13:45.798Z,2007-05-11T13:13:45.798Z,"[archiva-common] Fix GenericArtifactConsumerTest, so it will run on Windows","The test org.apache.maven.archiva.common.utils.BaseFileTest won't pass on Windows platform, because it doesn't compensate for drive letters being adding to the absolute paths. I've added some simple utility methods and tweaked the expected values to compensate for this. I don't have a Linux box to test on, so I haven't validated that they still work there, so the committer should verify the tests on a Linux or Unix box.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Nathan Beyer,nbeyer
MRM-257,Task,2006-12-19T21:32:13.001Z,2006-12-19T21:32:13.001Z,2007-05-22T13:57:12.913Z,2007-05-22T13:57:12.913Z,2007-05-22T13:57:12.919Z,2007-05-22T13:57:12.919Z,revise /repository and /proxy handling,"as highlighted on dev@ list, we need to review the duality of /repsitory and /proxy and come up with solid usage patterns",Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-216,New Feature,2006-11-02T09:10:30.242Z,2006-11-02T09:10:30.242Z,2008-03-13T21:59:14.289Z,2008-03-13T21:59:14.289Z,2008-03-13T21:59:14.298Z,2008-03-13T21:59:14.298Z,Upload (deploy) artifacts to a repository - via a web form (not using wagon),The web interface should allow to upload artifacts to the repository. For M1 one could just ftp the artifacts as neededm but with M2 having to go through the file:deploy plugin is a pain. Archiva could help a lot here,Major,Closed,Fixed,Maria Odea Ching,oching,Oliver Fink,olifink
MRM-299,Bug,2007-03-06T04:22:39.356Z,2007-03-06T04:22:39.356Z,2007-06-02T07:11:13.36Z,2007-06-02T07:11:13.36Z,2007-03-09T08:40:34.003Z,2007-03-09T08:40:34.003Z,IndexArtifactConsumer is never run during wlking through repository,"Running archiva on plexus log shows that during walking through repository index-artifact is never executed. 
Instead of it ""Artifact Health Consumer"" is initiated 3 times.

2007-03-06 11:08:39,000 [pool-1-thread-1] INFO  ConsumerFactory                - Attempting to create consumer [index-artifact]
2007-03-06 11:08:39,000 [pool-1-thread-1] INFO  ConsumerFactory                - Created consumer [index-artifact|Artifact Health Consumer]
2007-03-06 11:08:39,000 [pool-1-thread-1] INFO  ConsumerFactory                - Attempting to create consumer [artifact-health]
2007-03-06 11:08:39,015 [pool-1-thread-1] INFO  ConsumerFactory                - Created consumer [artifact-health|Artifact Health Consumer]
2007-03-06 11:08:39,015 [pool-1-thread-1] INFO  ConsumerFactory                - Attempting to create consumer [metadata-health]
2007-03-06 11:08:39,015 [pool-1-thread-1] INFO  ConsumerFactory                - Created consumer [metadata-health|Artifact Health Consumer]
2007-03-06 11:08:39,093 [pool-1-thread-1] INFO  Discoverer                     - Walk Started: [test] /C:/tmp/maven-2.x-repository/
2007-03-06 11:08:39,125 [pool-1-thread-1] WARN  SQL                            - Object with id ""javax.xml:jsr173:1.0:pom:"" not found !
2007-03-06 11:08:39,312 [pool-1-thread-1] WARN  SQL                            - Object with id ""javax.xml:jsr173:1.0:pom:"" not found !
2007-03-06 11:08:39,328 [pool-1-thread-1] WARN  SQL                            - Object with id ""javax.xml:jsr173:1.0:pom:"" not found !
2007-03-06 11:08:39,343 [pool-1-thread-1] WARN  SQL                            - Object with id ""jboss:jbpm:3.1.1:jar:"" not found !
2007-03-06 11:08:39,359 [pool-1-thread-1] WARN  SQL                            - Object with id ""jboss:jbpm:3.1.1:jar:"" not found !
2007-03-06 11:08:39,375 [pool-1-thread-1] WARN  SQL                            - Object with id ""jboss:jbpm:3.1.1:jar:"" not found !
2007-03-06 11:08:39,390 [pool-1-thread-1] INFO  Discoverer                     - Walk Finished: [test] /C:/tmp/maven-2.x-repository/",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Milosz Witkowski,witkow
MRM-231,Bug,2006-11-21T05:36:33.121Z,2006-11-21T05:36:33.121Z,2007-06-02T07:11:13.54Z,2007-06-02T07:11:13.54Z,2006-11-23T01:53:44.687Z,2006-11-23T01:53:44.687Z,Repository roles are not removed when a repository is removed,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-226,Bug,2006-11-16T15:09:16.931Z,2006-11-16T15:09:16.931Z,2007-05-25T14:20:32.942Z,2007-05-25T14:20:32.942Z,2006-11-16T17:02:45.663Z,2006-11-16T17:02:45.663Z,indexer throws exception on test-sources jar,"While indexing a repo for the first time, Archiva throws this exception and indexing stops.

The exception refers to a -test.jar. The repository contains many artifacts in this directory, but not with classifier test. The closest things are -tests and -test-sources.

edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.lang.IllegalStateException: Couldn't find artifact  C:\maven-repo\group\artifact\1.0.0.v20060823\artifact-1.0.0.v20060823-test.jar
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResult(FutureTask.java:299)
        at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.get(FutureTask.java:118)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTask(ThreadedTaskQueueExecutor.java:159)
        at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:127)
Caused by: java.lang.IllegalStateException: Couldn't find artifact C:\maven-repo\group\artifact\1.0.0.v20060823\artifact-1.0.0.v20060823-test.jar
        at org.apache.maven.archiva.reporting.LocationArtifactReportProcessor.processArtifact(LocationArtifactReportProcessor.java:143)
        at org.apache.maven.archiva.reporting.AbstractReportGroup.processArtifact(AbstractReportGroup.java:53)
        at org.apache.maven.archiva.reporting.DefaultReportExecutor.runArtifactR...",Major,Closed,Fixed,,,Tom Huybrechts,huybrechts
MRM-286,New Feature,2007-02-19T09:45:06.639Z,2007-02-19T09:45:06.639Z,2007-11-08T16:43:20.797Z,2007-11-08T16:43:20.797Z,2007-11-08T16:42:48.845Z,2007-11-08T16:42:48.845Z,The possibility to restrict browsing through web interface to registered users only,"We have an internal repository that is placed on a server available from the net, and would like to restrict all kinds of access, including browsing through web interface, to registered users only.",Major,Closed,Duplicate,Brett Porter,brettporter,Lars Ivar Igesund,larsivi
MRM-202,Wish,2006-10-04T12:15:27.432Z,2006-10-04T12:15:27.432Z,2007-10-02T13:12:29.477Z,2007-10-02T13:12:29.477Z,2007-10-02T13:12:29.48Z,2007-10-02T13:12:29.48Z,Change the top-left logo to be an Archiva logo that goes to the front page of the instance,"It's very jarring to click on the Maven link in the top left and be taken to the Maven website. In other apps this would take me to the front page for the app. 

I'd also wish for it to be customisable, rather than having to show an Archiva logo.",Minor,Closed,Fixed,Joakim Erdfelt,joakime,Jira Report User,jirareport
MRM-247,New Feature,2006-12-11T01:57:23.093Z,2006-12-11T01:57:23.093Z,2007-06-02T07:11:18.176Z,2007-06-02T07:11:18.176Z,2006-12-11T02:24:36.64Z,2006-12-11T02:24:36.64Z,Add last indexing timestamp on administration page.,Put data as to when the indexing was last run.,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Teodoro Cue Jr.,tcue
MRM-225,Improvement,2006-11-16T13:56:17.381Z,2006-11-16T13:56:17.381Z,2007-06-17T20:27:00.644Z,2007-06-17T20:27:00.644Z,2007-06-17T20:27:00.646Z,2007-06-17T20:27:00.646Z,Forced password complexity,"Archiva should not enforce complexity when setting passwords.
If the feature is kept it should be an option turned off be default.

The problem is that it conflicts with other complexity policies external to Archiva.",Major,Closed,Won't Fix,,,Brill Pappin,brill
MRM-290,Improvement,2007-02-24T15:58:47.752Z,2007-02-24T15:58:47.752Z,2007-07-27T18:13:27.634Z,2007-07-27T18:13:27.634Z,2007-07-27T18:13:27.643Z,2007-07-27T18:13:27.643Z,Ability to pre-configure the Jetty port in conf/plexus.xml,"When using the plexus runtime, in order to change the http port : the application must be started (in order to be extracted), stopped.
Then configuration file can be changed.  With this patch the jetty port can be set before the first start.

Same as CONTINUUM-1184.",Major,Closed,Fixed,Brett Porter,brettporter,Olivier Lamy (*$^¨%`£),olamy
MRM-242,Improvement,2006-11-28T02:14:34.886Z,2006-11-28T02:14:34.886Z,2015-04-05T14:27:44.361Z,2015-04-05T14:27:44.361Z,2007-05-22T10:51:24.589Z,2007-05-22T10:51:24.589Z,Replace the proxy url of the Download link into the absolute url,"When browsing for artifacts in archiva, the Download link uses the proxy url.  Since the artifacts are cached into archiva's managed repositories, the absolute url must be used at all times.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Nap Ramirez,nramirez
MRM-256,Task,2006-12-19T21:31:13.782Z,2006-12-19T21:31:13.782Z,2007-05-22T13:57:51.117Z,2007-05-22T13:57:51.117Z,2007-05-22T13:57:51.123Z,2007-05-22T13:57:51.123Z,revision of configuration,"revise how ~/.m2/archiva.xml interoperates with any other configuration in the system, particularly security settings.

review how repositories are configured.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Brett Porter,brettporter
MRM-200,Bug,2006-10-03T15:33:20.046Z,2006-10-03T15:33:20.046Z,2007-05-25T14:20:31.696Z,2007-05-25T14:20:31.696Z,2006-10-05T16:28:09.445Z,2006-10-05T16:28:09.445Z,Dependencies/depended-on-by links are broken for multiple versions,There is a missing type attribute on the jsp tagfile attribute declaration to set the variable to a type of java.util.List. Patch attached.,Major,Closed,Fixed,Emmanuel Venisse,evenisse,Jira Report User,jirareport
MRM-212,Improvement,2006-10-23T04:10:51.383Z,2006-10-23T04:10:51.383Z,2015-04-05T14:27:43.247Z,2015-04-05T14:27:43.247Z,2007-05-25T14:06:02.57Z,2007-05-25T14:06:02.57Z,configure checksum policy for proxied repository,"Some artifact on repo1.maven.org have bad checksum. This need fix, but this also make archiva not usable as a replacement for maven-proxy.

As maven itself allow to configure a checksum policy, a new configuration parameter on proxied repo would be nice.",Critical,Closed,Fixed,Joakim Erdfelt,joakime,nicolas de loof,ndeloof
MRM-223,Bug,2006-11-16T00:46:54.926Z,2006-11-16T00:46:54.926Z,2007-05-22T14:00:30.342Z,2007-05-22T14:00:30.342Z,2007-05-22T14:00:30.348Z,2007-05-22T14:00:30.348Z,Download Artefact Button is not working,"I have setup more than one proxied repository and a few non proxied repositories

When I use the 'Browse' function I can see all artefacts in the different repositories, but when I want to download the artefact is not found.

When I change the url generated from 

http://archiva/proxy/net.sf.ehcache/ehcache/1.2/ehcache-1.2.jar

to (adding the repository_id)

http://archiva/proxy/maven_release/net.sf.ehcache/ehcache/1.2/ehcache-1.2.jar

the download works, for artefacts in non proxied repositories you also have to change from /proxy/<repo-id>/ to /repository/<repo-id>/


",Minor,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Daniel Mohni,daniel@mohni.net
MRM-236,Bug,2006-11-24T11:05:30.351Z,2006-11-24T11:05:30.351Z,2007-05-25T14:20:28.63Z,2007-05-25T14:20:28.63Z,2007-05-22T13:58:39.183Z,2007-05-22T13:58:39.183Z,Unable to 'proxy through' more than one managed repo,"On Proxied Repositories -> Add or Edit, only the 'first' managed repository added to the system is listed in the 'Proxied through' select list.

It should allow you to choose any of the managed repositories. 

",Major,Closed,Fixed,Joakim Erdfelt,joakime,Wendy Smoak,wsmoak
MRM-220,Bug,2006-11-04T22:19:41.726Z,2006-11-04T22:19:41.726Z,2016-03-15T06:02:33.254Z,2016-03-15T06:02:33.254Z,2016-03-15T06:02:33.234Z,2016-03-15T06:02:33.234Z,Guard against null groupIds in metadata during conversion of legacy repositories,,Major,Closed,Won't Fix,,,Jason van Zyl,jvanzyl
MRM-239,Bug,2006-11-27T01:30:40.757Z,2006-11-27T01:30:40.757Z,2007-05-25T14:02:57.236Z,2007-05-25T14:02:57.236Z,2007-05-25T14:02:57.238Z,2007-05-25T14:02:57.238Z,OutOfMemory error when running Arhiva for days at a time,"I have been running Archiva as it existed in snapshot 20 November 2006.

When running in Tomcat with the standard memory setting it fails after a few days.

Increasing -Xmx=128m increases the time but it still gets and OutOfMemory error after a few days. 

This is with no activity. I came back today after the weekend and hit refresh on a Pom page and it gave the OOM. It seems to be time dependent. At home I have been running it on Mac OS X. I saw an OutOfMemory error after a week. I did even go to a page to check it. The running console had it.

To reproduce simply run up archiva and leave it running.

We are working around with a nightly restart.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Greg Luck,gregrluck
MRM-288,Bug,2007-02-23T04:53:29.153Z,2007-02-23T04:53:29.153Z,2015-04-05T21:12:45.847Z,2015-04-05T21:12:45.847Z,2007-05-25T14:02:04.422Z,2007-05-25T14:02:04.422Z,"Error on startup: NPE, configuration can not be null","2007-02-23 18:11:34.480::WARN:  Failed startup of context org.mortbay.jetty.webapp.WebAppContext@92af24{/,/home/lecarma/workspace/mergere/OSS/apache/archiva/trunk/archiva-webapp/src/main/webapp}
java.lang.NullPointerException: configuration can not be null
        at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.<init>(CommonsConfigurationRegistry.java:89)
        at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.getSection(CommonsConfigurationRegistry.java:422)
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.addChangeListener(DefaultArchivaConfiguration.java:86)
        at org.apache.maven.archiva.scheduler.DefaultRepositoryTaskScheduler.start(DefaultRepositoryTaskScheduler.java:91)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.StartPhase.execute(StartPhase.java:33)
        at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:130)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:143)
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:133)
        at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:87)
        at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:101)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:313)
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:291)
        at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.execute(StartLoadOnStartComponentsPhase.java:54)
        at org.codehaus.plexus.DefaultPlexusContainer.initializePhases(DefaultPlexusContainer.java:928)
        at org.codehaus.plexus.DefaultPlexusContainer.initialize(DefaultPlexusContainer.java:876)
        at org.codehaus.plexus.DefaultPlexusContainer.construct(DefaultPlexusContainer.java:853)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:222)
        at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:236)
        at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitialized(PlexusLifecycleListener.java:76)
        at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:511)
        at org.mortbay.jetty.servlet.Context.startContext(Context.java:135)
        at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1191)
        at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:481)
        at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:434)
        at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)
        at org.mortbay.jetty.plugin.Jetty6PluginWebApplication.start(Jetty6PluginWebApplication.java:147)
        at org.mortbay.jetty.plugin.AbstractJettyRunMojo$1.changesDetected(AbstractJettyRunMojo.java:372)
        at org.mortbay.jetty.plugin.util.Scanner.run(Scanner.java:159)


This causes a 404",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Lester T. Ecarma,lecarma
MRM-235,Improvement,2006-11-23T10:24:29.707Z,2006-11-23T10:24:29.707Z,2015-04-05T14:27:42.737Z,2015-04-05T14:27:42.737Z,2006-12-26T20:25:05.066Z,2006-12-26T20:25:05.066Z,"Change button text to ""Update Repository"" on the edit repository page","On Administration -> Edit Repository, the submit button text is ""Change Repository"".

It should be ""Update Repository"" for consistency with ""Update User"" in user management, and to avoid confusion.

",Major,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-215,Bug,2006-11-01T13:41:02.379Z,2006-11-01T13:41:02.379Z,2007-06-02T07:11:14.582Z,2007-06-02T07:11:14.582Z,2006-11-02T05:09:31.79Z,2006-11-02T05:09:31.79Z,Fails to build from clean checkout,"$ svn co $ra/maven/archiva/trunk archiva-trunk
$ cd archiva-trunk/
$ mvn install
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Error building POM (may not be this project's POM).


Project ID: org.apache.maven.archiva:archiva-plexus-application
POM Location: /home/maxb/work/proving/archiva-trunk/archiva-plexus-application/pom.xml
Validation Messages:

    [0]  'dependencies.dependency.version' is missing for org.apache.maven.archiva:archiva-webapp


Reason: Failed to validate POM
......



This patch made the build work for me:
--- archiva-plexus-application/pom.xml  (revision 470042)
+++ archiva-plexus-application/pom.xml  (working copy)
@@ -49,6 +49,7 @@
     <dependency>
       <groupId>org.apache.maven.archiva</groupId>
       <artifactId>archiva-webapp</artifactId>
+      <type>war</type>
     </dependency>
   </dependencies>
   <!-- For filtering -->
",Major,Closed,Fixed,,,Max Bowsher,maxb
MRM-296,Bug,2007-03-02T03:28:00.112Z,2007-03-02T03:28:00.112Z,2007-05-25T14:20:28.752Z,2007-05-25T14:20:28.752Z,2007-03-02T06:40:45.63Z,2007-03-02T06:40:45.63Z,Error 404 after logging in from archiva when prompted,"I've gotten a 404 after being unexpectedly prompted to log in while doing something in Archiva.

After logging in, the url is: http://localhost:8080/archiva/security/index!input.action?externalResult=security-login-success

And the the result is:
HTTP ERROR: 404
There is no Action mapped for namespace /security and action name index. Check if there is such an action name with such namespace defined in the xwork.xml and also if such an action class exists. Check also the log to see if the action class is successfully loaded.
RequestURI=/archiva/security/index!input.action

At this point I am logged in, if I use the browser back button and choose another link, everything is fine.
",Major,Closed,Fixed,Emmanuel Venisse,evenisse,Henry S. Isidro,hisidro
MRM-259,New Feature,2006-12-19T21:47:51.846Z,2006-12-19T21:47:51.846Z,2010-11-26T01:13:16.441Z,2010-11-26T01:13:16.441Z,,,add system monitoring functionality,"some ideas for things we'd like to know
- uptime (possibly persisted so as to calculate average uptime)
- duration of each discovery run to calculate the average time (possibly trending over time)
- duration of each indexing run (as above)
- duration of each reporting run (as above)
- frequency of certain requests
- analysis of any other services",Major,Open,,,,Brett Porter,brettporter
MRM-222,Bug,2006-11-16T00:35:34.49Z,2006-11-16T00:35:34.49Z,2007-05-22T14:05:33.618Z,2007-05-22T14:05:33.618Z,2007-05-22T14:05:33.624Z,2007-05-22T14:05:33.624Z,dav:http repository access  with dot in url is not working,"tests done on daily build of 20061115

If I try to access an artifact in the archiva repository and have a 'dot' in the url the artefact is not found 

-> ../repository/3p_release/net.sf.ehcache/ehcache/1.2/ehcache-1.2.jar

this works with the proxy access

-> ../proxy/maven_release/net.sf.ehcache/ehcache/1.2/ehcache-1.2.jar

this can have an impact on the download button in the webapp",Major,Closed,Cannot Reproduce,Joakim Erdfelt,joakime,Daniel Mohni,daniel@mohni.net
MRM-254,Improvement,2006-12-19T12:56:14.469Z,2006-12-19T12:56:14.469Z,2008-07-31T07:27:52.834Z,2008-07-31T07:27:52.834Z,2007-06-21T09:50:23.56Z,2007-06-21T09:50:23.56Z,connecting proxied repositories without http-proxy fails,"If one configures Archiva to proxy another inhouse repository, Archiva struggles to connect to the proxied repository. The log file contains 503 HTTP Error Codes for any attempt to connect to the second repo. This is because Archiva tries to connect to the second server via http-proxy-connection (even though the proxied repository is configured not to connect through http-proxy).

First thing, the ""Use HTTP Proxy"" option doesn't work properly since Archiva *does* open proxy-connections even with that option inactive.

Second: I figured out, that there's a hidden option for HTTP-Proxy, only configurable in Archiva's archiva.xml file. If the proxy-element contains a ""nonProxyHosts""-element (same as in maven settings.xml) and that element lists the second server, all 503 return codes vanish.


Conclusion: either the ""Use HTTP proxy""-option is screwed or serves a different purpose. If first, please fix that issue. If second, please make ""nonProxyHosts"" configurable via UI.


Cheers,
Stefan",Critical,Closed,Cannot Reproduce,Fabrice Bellingard,fabemn,Stefan Hübner,stefanhuebner
MRM-266,Improvement,2007-01-09T23:59:52.993Z,2007-01-09T23:59:52.993Z,2007-05-25T14:20:44.464Z,2007-05-25T14:20:44.464Z,2007-01-11T04:50:55.259Z,2007-01-11T04:50:55.259Z,"Changed the location of the ""Run Now"" link in the Configuration page.","If your window is not wide, you have to scroll right and may not even notice that Run Now is there. Link is now under ""Last Indexing Time"".",Minor,Closed,Fixed,Emmanuel Venisse,evenisse,Dawn Angelito,dangelito
MRM-283,Improvement,2007-02-16T11:01:02.083Z,2007-02-16T11:01:02.083Z,2007-05-25T14:20:35.602Z,2007-05-25T14:20:35.602Z,2007-02-17T23:20:11.784Z,2007-02-17T23:20:11.784Z,Document Plexus Security configuration of Archiva,An 8 character password is far too short for good security. Can we improve this to a 16 character password?,Major,Closed,Fixed,Wendy Smoak,wsmoak,Robert Simmons,kraythe
MRM-250,Bug,2006-12-15T01:39:37.177Z,2006-12-15T01:39:37.177Z,2007-06-02T07:11:15.806Z,2007-06-02T07:11:15.806Z,2006-12-15T03:49:29.18Z,2006-12-15T03:49:29.18Z,The log files are saved in ./WEB-INF/logs instead of ./logs,,Major,Closed,Fixed,Edwin Punzalan,elpunzalan,Edwin Punzalan,elpunzalan
MRM-280,Bug,2007-02-14T17:00:23.915Z,2007-02-14T17:00:23.915Z,2007-05-25T14:20:25.222Z,2007-05-25T14:20:25.222Z,2007-02-27T05:17:41.467Z,2007-02-27T05:17:41.467Z,Spaces after hostname in Repository browsing and POM snippets,The web app is adding two spaces after the host name in the POM snippets and in the browsing of the repository configurations. This seems to be an issue in the JSPs themselves. The repositories still work but anyone copying the snippet would be massively confused.,Minor,Closed,Fixed,Emmanuel Venisse,evenisse,Robert Simmons,kraythe
MRM-264,Improvement,2007-01-01T13:04:55.799Z,2007-01-01T13:04:55.799Z,2007-05-25T14:20:25.905Z,2007-05-25T14:20:25.905Z,2007-01-18T15:02:54.005Z,2007-01-18T15:02:54.005Z,Update archiva to latest plexus appserver ( + container etc),"The attached patch updates plexus-appserver  and all related dependencies. Tested and working here through the archiva-plexus-runtime.
I also altered the context path in archiva-plexus-application from '/' to '/archiva' to be in-line with continuum.",Major,Closed,Fixed,Joakim Erdfelt,joakime,Andrew Williams,handyande
MRM-246,Bug,2006-12-06T21:57:34.626Z,2006-12-06T21:57:34.626Z,2007-06-02T07:11:17.449Z,2007-06-02T07:11:17.449Z,2006-12-07T00:01:26.271Z,2006-12-07T00:01:26.271Z,No message displayed for unsuccessful Archiva login attempts (intermittent),"Steps to re-produce the problem:
1. Opened Archiva main page 
2. Clicked 'Login' link
3. Entered User Name & INCORRECT Password & clicked 'Login' button

It displays message 'You have entered an incorrect username and/or password' for the first few invalid attemps. After 3 invalid attempts, there is no authentication error message displayed. It just displays back the main Archiva page.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-276,Bug,2007-02-09T05:53:25.664Z,2007-02-09T05:53:25.664Z,2007-06-02T07:11:18.068Z,2007-06-02T07:11:18.068Z,2007-02-26T11:06:32.694Z,2007-02-26T11:06:32.694Z,HTTP error 500 when artifact is not found,"HTTP 500 error cause unexpected behaviour with Maven, for exemple it doesnt search dependencies in all managed repositories.
Archiva should return HTTP 404 error intead of HTTP 500 error.
The patch catch all ResourceDoesNotExistException in the ProxiedDavServer class.
",Major,Closed,Fixed,Joakim Erdfelt,joakime,Antoine Véret,averet
MRM-230,Task,2006-11-20T01:38:58.194Z,2006-11-20T01:38:58.194Z,2007-05-25T14:20:37.99Z,2007-05-25T14:20:37.99Z,2006-11-24T07:37:02.742Z,2006-11-24T07:37:02.742Z,A standard error message should display anytime an incorrect User ID or password is entered,"The error message should be:
""You have entered an incorrect username and/or password""",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-241,Bug,2006-11-27T17:42:46.924Z,2006-11-27T17:42:46.924Z,2007-05-25T14:20:42.245Z,2007-05-25T14:20:42.245Z,2006-12-15T19:33:26.597Z,2006-12-15T19:33:26.597Z,"Unable to edit or delete users, links are missing the username","On the User Management page, all of the 'edit' and 'delete' links are missing the username param value, for example:

   http://localhost:9091/security/useredit.action?username=

",Major,Closed,Fixed,,,Wendy Smoak,wsmoak
MRM-218,New Feature,2006-11-04T04:17:07.511Z,2006-11-04T04:17:07.511Z,2016-03-15T06:01:26.746Z,2016-03-15T06:01:26.746Z,2016-03-15T06:01:26.724Z,2016-03-15T06:01:26.724Z,When converting legacy repositories create the checksums for for metadata files,,Major,Closed,Won't Fix,,,Jason van Zyl,jvanzyl
MRM-260,Bug,2006-12-21T02:38:33.234Z,2006-12-21T02:38:33.234Z,2007-06-02T07:11:17.959Z,2007-06-02T07:11:17.959Z,2006-12-22T01:29:32.229Z,2006-12-22T01:29:32.229Z,User with Repository Manager role in a repo can see all repos,"A user with ""Repository Manager"" role in one of the repositories can see all repos in the ""Manage repositories"" page

Also it's able to change global index schedule configuration",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-245,Bug,2006-12-05T02:44:33.889Z,2006-12-05T02:44:33.889Z,2007-05-25T14:20:38.527Z,2007-05-25T14:20:38.527Z,2006-12-05T10:40:39.212Z,2006-12-05T10:40:39.212Z,"If a user only has ""repository manager"" role, without System Administrator role, that user cannot see the repository in the Artifact Repository window",,Major,Closed,Fixed,Jesse McConnell,jesse,Maria Odea Ching,oching
MRM-263,Bug,2006-12-23T08:04:20.254Z,2006-12-23T08:04:20.254Z,2007-05-25T14:20:41.966Z,2007-05-25T14:20:41.966Z,2007-01-04T06:44:47.395Z,2007-01-04T06:44:47.395Z,Converter doesn't generate checksums,"For instance
http://repo1.maven.org/maven2/commons-scxml/commons-scxml/0.6/
is missing md5 and sha1 for pom and jar",Major,Closed,Fixed,Carlos Sanchez,carlos,Carlos Sanchez,carlos
MRM-217,Bug,2006-11-02T17:41:03.839Z,2006-11-02T17:41:03.839Z,2007-06-02T07:11:13.029Z,2007-06-02T07:11:13.029Z,2006-11-23T03:08:48.296Z,2006-11-23T03:08:48.296Z,"""Request a password reset"" is secured","It's impossible to ask to reset a user password.
We have to be logged to ask it (and if we ask it, it's probably that we can't logon ;-) )

Security Alert - Action Requires Authentication

The action you attempted requires that you authenticate yourself.

   1. Go Ahead Login.

",Major,Closed,Fixed,Teodoro Cue Jr.,tcue,Arnaud HERITIER,aheritier
MRM-758,Bug,2008-03-30T21:34:35.435Z,2008-03-30T21:34:35.435Z,2008-03-31T00:52:13.454Z,2008-03-31T00:52:13.454Z,2008-03-31T00:52:13.487Z,2008-03-31T00:52:13.487Z,unable to schedule cron expressions that contain a comma,"while the save/load of the these expressions was fixed, it is now being scheduled incorrectly, resulting in the following error:

Cron expression [0 0\,30 * * * ?] for repository [snapshots] is invalid.  Defaulting to hourly.


",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-702,Bug,2008-02-18T14:57:06.517Z,2008-02-18T14:57:06.517Z,2008-03-28T04:12:45.957Z,2008-03-28T04:12:45.957Z,2008-03-28T04:12:45.965Z,2008-03-28T04:12:45.965Z,"in the standalone bundle, the pid file is written into the installation directory alongside the wrapper, but should be in a temporary location","it is written to: ./apache-archiva-1.0.1/bin/macosx-universal-32/archiva.pid

but this directory should be able to be read-only.

Preferably it would be written to: $PLEXUS_BASE/temp/archiva.pid (or appropriate replacement for PLEXUS_BASE in MRM-688)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-700,Improvement,2008-02-18T09:37:46.486Z,2008-02-18T09:37:46.486Z,2008-03-20T09:21:46.184Z,2008-03-20T09:21:46.184Z,2008-02-18T09:59:33.433Z,2008-02-18T09:59:33.433Z,Review the documentation on deploying to Archiva for inconsistent repository ids,"Review/fix documentation on deploying to Archiva, specifically make sure the repository ids match.

On users@maven, Martin Höller | martin.hoeller@xss.co.at wrote:

> I have followed all the steps specified at
> http://maven.apache.org/archiva/docs/1.0/userguide/deploy.html but it is not
> working.

Unfortunately this documentation is somewhat inconsistent regarding the
id's in the settings.xml and pom.xml file.

",Major,Closed,Fixed,Wendy Smoak,wsmoak,Wendy Smoak,wsmoak
MRM-717,Bug,2008-02-26T04:41:15.512Z,2008-02-26T04:41:15.512Z,2008-11-07T07:58:32.988Z,2008-11-07T07:58:32.988Z,2008-10-23T19:05:00.767Z,2008-10-23T19:05:00.767Z,Performance affected using Archiva Repository,"Hello,

I have downloaded and installed the Maven Archiva StandAlone 1.0.1. At the configuration of the Maven Archiva I have deleted the internal defined repository and created a new one called ""EXT"". At the proxy configuration I have set the central as the proxy connector from EXT. I have also created a networkProxy and defined to be used in the Proxy Connector for Central.

My settings.xml is the following:

...
 <servers>
    <server>
      <!-- http://acasto.dimension.es:8012/archiva/repository/EXT -->
      <id>EXT</id>
      <username>myUsername</username>
      <password>myPassword</password>
      <configuration></configuration>
    </server>
  </servers>
<proxies>
   <proxy>
      <active>true</active>
      <protocol>http</protocol>
      <host>X.X.X.X</host>
      <port>8080</port>
      <username>myUsername</username>
      <password>myPassword</password>
      <nonProxyHosts>SomeHosts separeted from | character</nonProxyHosts>
    </proxy>
 </proxies>
....

My pom.xml contains the following in the repositories section

<repositories>
       <repository>
             <id>EXT</id>
             <name>COTS-EXT</name>
             <url>http://acasto.dimension.es:8012/archiva/repository/EXT</url>
              <releases>
                      <enabled>true</enabled>
              </releases>
              <snapshots>
                      <enabled>true</enabled>
              </snapshots>
       </repository>
</repositories>
<pluginRepositories>
       <pluginRepository>
              <id>EXT</id>
              <name>COTS-EXT</name>
              <url>http://acasto.dimension.es:8012/archiva/repository/EXT</url>
              <releases>
                      <enabled>true</enabled>
              </releases>
              <snapshots>
                      <enabled>true</enabled>
              </snapshots>
       </pluginRepository>
</pluginRepositories>

I remove any file from my local repository to check that the files are being downloaded from my Repository and not from Central. And I execute the clean goal.

C:\IS\ISEC\DyC\Klinic>mvn clean
[INFO] Scanning for projects...
Downloading: http://acasto.dimension.es:8012/archiva/repository/EXT/org/apache/maven/wagon/wagon-ftp/1.0-alpha-6/wagon-ftp-1.0-alpha-6.pom
806b downloaded
Downloading: http://acasto.dimension.es:8012/archiva/repository/EXT/org/apache/maven/wagon/wagon-providers/1.0-alpha-6/wagon-providers-1.0-alpha-6.pom
1K downloaded
Downloading: http://acasto.dimension.es:8012/archiva/repository/EXT/org/apache/maven/wagon/wagon/1.0-alpha-6/wagon-1.0-alpha-6.pom
6K downloaded
Downloading: http://acasto.dimension.es:8012/archiva/repository/EXT/org/apache/maven/wagon/wagon-provider-api/1.0-alpha-6/wagon-provider-api-1.0-alpha-6.pom


The problem comes that for downloading those files it lasts more than 3 minutes. That's unnacceptable time for such a tiny files being in my network. 
If I access those files through the web browser I get the same time to download the files.

On the other hand, I have still configured a web server in my EXT repository  (ACASTO) that listens to the following URL for using without Archiva (http://acasto/maven/EXT ) and it works fine if I try to download those files.

I do not know  why is this happenning.

Here I show you the archiva.log for further information

422282 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon-provider-api:1.0-alpha-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-provider-api/1.0-alpha-6/wagon-provider-api-1.0-alpha-6.pom]:Error transferring file
443652 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.codehaus.plexus:plexus-utils:1.0.4::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.pom]:Error transferring file
465147 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact commons-net:commons-net:1.4.1::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/commons-net/commons-net/1.4.1/commons-net-1.4.1.pom]:Error transferring file
486299 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact oro:oro:2.0.8::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/oro/oro/2.0.8/oro-2.0.8.pom]:Error transferring file
507622 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.codehaus.plexus:plexus-utils:1.1::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.pom]:Error transferring file
528929 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.codehaus.plexus:plexus:1.0.4::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.4/plexus-1.0.4.pom]:Error transferring file
549925 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon-ftp:1.0-alpha-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ftp/1.0-alpha-6/wagon-ftp-1.0-alpha-6.pom]:Error transferring file
570999 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon-ftp:1.0-alpha-6::jar, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ftp/1.0-alpha-6/wagon-ftp-1.0-alpha-6.jar]:Error transferring file
2001131 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon-ftp:1.0-alpha-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-ftp/1.0-alpha-6/wagon-ftp-1.0-alpha-6.pom]:Error transferring file
2022314 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon-providers:1.0-alpha-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-providers/1.0-alpha-6/wagon-providers-1.0-alpha-6.pom]:Error transferring file
2043481 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon:1.0-alpha-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon/1.0-alpha-6/wagon-1.0-alpha-6.pom]:Error transferring file
2064680 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.apache.maven.wagon:wagon-provider-api:1.0-alpha-6::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/apache/maven/wagon/wagon-provider-api/1.0-alpha-6/wagon-provider-api-1.0-alpha-6.pom]:Error transferring file
2086174 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.codehaus.plexus:plexus-utils:1.0.4::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.0.4/plexus-utils-1.0.4.pom]:Error transferring file
2107404 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact commons-net:commons-net:1.4.1::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/commons-net/commons-net/1.4.1/commons-net-1.4.1.pom]:Error transferring file
2128899 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact oro:oro:2.0.8::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/oro/oro/2.0.8/oro-2.0.8.pom]:Error transferring file
2150175 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.codehaus.plexus:plexus-utils:1.1::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/1.1/plexus-utils-1.1.pom]:Error transferring file
2171451 [SocketListener0-0] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository ""central"" for artifact org.codehaus.plexus:plexus:1.0.4::pom, continuing to next repository. Error message: Download failure on resource [http://repo1.maven.org/maven2/org/codehaus/plexus/plexus/1.0.4/plexus-1.0.4.pom]:Error transferring file",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Ausiàs Armesto,aarmesto
MRM-757,Bug,2008-03-30T20:17:20.734Z,2008-03-30T20:17:20.734Z,2016-03-15T06:12:57.555Z,2016-03-15T06:12:57.555Z,2016-03-15T06:12:57.525Z,2016-03-15T06:12:57.525Z,Need to default mime-type / content-type for unknown types.,"As seen in MRM-755, when working with Websphere, the content-type header is required.
Currently, the codebase will only provide mime-type / content-type based on extensions found in the mime-types.txt file.

We should default the mime-type for those types not found.
The suggestion to use octet-stream as the default was raised in the #archiva irc channel.",Minor,Closed,Won't Fix,,,Joakim Erdfelt,joakime
MRM-792,Bug,2008-05-06T05:23:09.981Z,2008-05-06T05:23:09.981Z,2008-07-03T01:02:20.045Z,2008-07-03T01:02:20.045Z,2008-07-03T01:02:20.051Z,2008-07-03T01:02:20.051Z,remove references to maven in code,"one notable reference is the URL rot13'd into the banner :)

However we should look at adjusting the packages and any other references that maybe in the webapp. I think I've already finished with the site.",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-749,New Feature,2008-03-25T14:11:19.609Z,2008-03-25T14:11:19.609Z,2009-09-08T19:04:37.958Z,2009-09-08T19:04:37.958Z,2009-02-03T19:10:51.385Z,2009-02-03T19:10:51.385Z,Support m2eclipse index format creation,Archiva should provide an option to generate the indices for the nexus indexer which is used by m2eclipse.,Major,Closed,Fixed,Maria Odea Ching,oching,Wolfgang Roessler,roesslerwolfgang
MRM-735,Bug,2008-03-10T11:34:38.581Z,2008-03-10T11:34:38.581Z,2010-02-23T02:23:24.62Z,2010-02-23T02:23:24.62Z,2010-02-23T02:23:24.587Z,2010-02-23T02:23:24.587Z,Database on MS SQL 2000/2005 fail to be created due to too column length,"Some column lengths in the datamodel exceed the restrictions of MS SQL Server using the default String jdbc-mapping of jpox (varchar)

These are according to package.jdo:
- Table: ARCHIVA_PROJECT
-> Columns: description
- Table: ARCHIVA_LICENSES
-> Columns: comments
- Table: ARCHIVA_REPOSITORY_PROBLEMS
-> Columns: message

The 2005 Jdbc driver uses the nvarchar datatype in case of varchar jdbc types. The maximum length here would be 4000 bytes.

Some other db systems should have the same problem, as I could see from their specs, but I'm not an expert (Oracle: 4000 bytes, DB2: 4-32k depending on page size).

A possible fix for MS SQL is, not to provide any length. Instead we could use the jdo jdbc-type. I tested it with using the jdbc-type=""LONGVARCHAR"". Then jpox uses ntext column types for those fields.

Unfortunatly, there is no way to define this parameter within modello.

",Major,Closed,Won't Fix,Brett Porter,brettporter,Thomas Winkler,twdev
MRM-746,Bug,2008-03-19T23:44:13.216Z,2008-03-19T23:44:13.216Z,2008-03-25T08:01:07.191Z,2008-03-25T08:01:07.191Z,2008-03-25T08:01:07.195Z,2008-03-25T08:01:07.195Z,unable to include *.xml in artifacts list as it picks up maven-metadata.xml,metadata should be explicitly removed from the artifact consumers list,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-738,Bug,2008-03-13T11:10:48.19Z,2008-03-13T11:10:48.19Z,2008-03-19T23:23:07.126Z,2008-03-19T23:23:07.126Z,2008-03-19T23:23:07.146Z,2008-03-19T23:23:07.146Z,DaysOld Repository Purge Consumer throws Invalid Path to Artifact,"I have the repository purge consumer enabled and configured as {{Repository Purge By Days Older Than}} to 0 and {{Repository Purge By Retention Count}} set to 3.

This is with a clean database.

I have more than 3 versions of org.irene:irene:2.0-SNAPSHOT already uploaded into the repository.

When the repository is scanned:

{noformat}
290870 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Consumer [repository-purge] had an error when processing file [D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar]: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
org.apache.maven.archiva.consumers.ConsumerException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:189)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:120)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:64)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:106)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.consumers.core.repository.RetentionCountRepositoryPurge.process(RetentionCountRepositoryPurge.java:102)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:185)
	... 20 more
290885 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Consumer [metadata-updater] had an error when processing file [D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar]: Unable to convert to artifact reference: org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar
org.apache.maven.archiva.consumers.ConsumerException: Unable to convert to artifact reference: org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-test-sources.jar
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:167)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:120)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:64)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:106)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:134)
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:49)
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:330)
	at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:161)
	... 20 more
{noformat}

There are similar exceptions that follow right behind it with the only difference being that they are for:
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-sources.jar
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1-tests.jar
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1.jar
 - D:\archiva-web\data\repositories\snapshots\org\irene\irene\2.0-SNAPSHOT\irene-2.0-20071214.204316-1.pom

Nothing is deleted however.",Major,Closed,Duplicate,Brett Porter,brettporter,Geert Pante,greyfairer
MRM-796,Bug,2008-05-06T06:47:22.238Z,2008-05-06T06:47:22.238Z,2015-04-05T14:54:03.99Z,2015-04-05T14:54:03.99Z,2008-05-23T02:09:48.384Z,2008-05-23T02:09:48.384Z,releases always activated in repositories,"When we edit and save a repository configuration, releases are always enabled even if we uncheck the releases entry. In the configuration file the <releases>false</releases> isn't stored.",Major,Closed,Fixed,Maria Odea Ching,oching,Arnaud HERITIER,aheritier
MRM-742,Improvement,2008-03-19T03:35:31.606Z,2008-03-19T03:35:31.606Z,2008-03-19T03:43:27.999Z,2008-03-19T03:43:27.999Z,2008-03-19T03:43:28.05Z,2008-03-19T03:43:28.05Z,Add date column in the,"When manually browsing the repositories, a date column should be added. 
I guess this should be a good idea to get closer to the interface provided by http://repo1.maven.org/maven2/ for example.

At the moment, there's only a list of the available artifacts.

Thanks a lot.
",Major,Closed,Duplicate,,,Baptiste MATHUS,mathus.b@mipih.fr
MRM-743,Improvement,2008-03-19T03:35:41.662Z,2008-03-19T03:35:41.662Z,2014-03-02T16:44:45.156Z,2014-03-02T16:44:45.156Z,2014-03-02T16:44:45.092Z,2014-03-02T16:44:45.092Z,Add date column in the repository interface,"When manually browsing the repositories, a date column should be added. 
I guess this should be a good idea to get closer to the interface provided by http://repo1.maven.org/maven2/ for example.

At the moment, there's only a list of the available artifacts.

Thanks a lot.
",Major,Closed,Fixed,Eric Barboni,skygolanur,Baptiste MATHUS,mathus.b@mipih.fr
MRM-799,Improvement,2008-05-10T17:14:13.282Z,2008-05-10T17:14:13.282Z,2009-03-21T21:01:02.602Z,2009-03-21T21:01:02.602Z,2009-02-10T17:30:47.161Z,2009-02-10T17:30:47.161Z,Better handling of artifacts with missing poms,"When there is an artifact with no pom in the repository, Archiva displays the artifact and version in 'Browse Repository' but if you
click on the version, you get: 

Error Occurred
 * Unable to find project model for [groupId:artifactId:version]

For example, if I delete the pom and checksums for asm:asm:3.0, [and scan and update] then I get:

http://localhost:8080/archiva/browse/asm/asm
Browse Repository
[top] / asm / asm
Versions
3.0/

http://localhost:8080/archiva/browse/asm/asm/3.0
Error Occurred
Unable to find project model for [asm:asm:3.0].

",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Wendy Smoak,wsmoak
MRM-765,Bug,2008-04-03T03:50:52.796Z,2008-04-03T03:50:52.796Z,2008-09-10T03:48:24.717Z,2008-09-10T03:48:24.717Z,2008-09-10T03:48:24.728Z,2008-09-10T03:48:24.728Z,should not be possible to create a proxy connector if there are no remote repositories,"1) start a new archiva instance
2) delete all remote repositories
3) create a proxy connector (the remote repo list is empty)
4) add the connector

steps 3 and 4 should not be possible",Minor,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-789,Bug,2008-05-05T21:54:12.55Z,2008-05-05T21:54:12.55Z,2008-06-20T20:27:43.472Z,2008-06-20T20:27:43.472Z,2008-06-20T20:27:43.477Z,2008-06-20T20:27:43.477Z,Archiva may delete you app server installation,"I installed the WAR version of Archiva into my tomcat instance... no problem so far.
I then attempted to delete the default ""internal"" repository. I hit the delete config and contents button.

At that moment I noticed that the repository directory was the tomcat home directory.

Archiva managed to completely delete my Tomcat installation.

To reproduce this, install it as a war, point a repo dir at your app server home, and hit the delete button (make sure you have a backup).",Critical,Closed,Fixed,Maria Odea Ching,oching,Brill Pappin,brill
MRM-741,Improvement,2008-03-18T05:11:36.59Z,2008-03-18T05:11:36.59Z,2008-03-19T13:32:38.784Z,2008-03-19T13:32:38.784Z,,,Offer a way to monitor artifacts that will not be downloaded because of some policy,"After having had some problems with corrupted jars, we recently purged our proxying directory on the archiva server, then switched from ""ignore"" to ""fail"" policy (when bad hash is found on the remote server).

After some times, for example, we discovered we weren't able to download the maven pom-2.0.6 from the client side of Archiva. The thing is: Archiva only issues a 404 when the remote hash is bad. I guess it should issue a 500 (or some 50x) instead.

To sum up, what I think would be the best solution(s):
* issue something else than an 404 when the remote artifact won't be downloaded because of a non matching hash
* offer a way to notify some admin (by mail, for example) about corrupted artifacts that won't be downloaded. In fact, in this kind of case, there's a big chance people using archiva are going to complain about some artifacts that can't be downloaded (maven pom-2.0.6 e.g. :-/). 
* Offer a dedicated page inside archiva admin summarizing all those problematic artifacts. Particularly giving those that couldn't be downloaded because of bash hash associated to ""fail"" policy.

Thanks a lot.
Cheers.",Major,Open,,,,Baptiste MATHUS,mathus.b@mipih.fr
MRM-786,Bug,2008-05-05T01:58:31.21Z,2008-05-05T01:58:31.21Z,2011-03-29T09:59:22.432Z,2011-03-29T09:59:22.432Z,2010-02-23T04:06:44.429Z,2010-02-23T04:06:44.429Z,"Endless loop in ""Dependency Tree"" in cyclic dependencies?","When i look the the view ""dependencies"" for an artifact, all runs well. But when I select the view ""Dependency Tree"" nothings happends (a new page will be loaded, but never displayed). Look at OS-Level (Linux) with top, I see an java-process with 102% cpu-Usage - endless. 
When I go back with the browser and select the save view again, then I will have 163% cpu-usage for the java-process .... 
This will happends with archiva 1.0.1 and 1.0.2, but not with 1.0 (there will be an error message). 
I think that there will be an cyclic dependency in my artifact and archiva is not able to detect an endless loop while building the dependency-tree .... 
",Critical,Closed,Fixed,Brett Porter,brettporter,Denis Schettl,dschettl
MRM-732,Improvement,2008-03-06T10:38:09.097Z,2008-03-06T10:38:09.097Z,2009-03-21T21:01:02.782Z,2009-03-21T21:01:02.782Z,2008-12-15T20:32:40.38Z,2008-12-15T20:32:40.38Z,search should tokenize on a hypthen,"I was searching for ""j2ee"" in my Archiva instance and it turned up nothing, even though there was a ""jboss-j2ee"".",Major,Closed,Fixed,james.w.dumay,james.w.dumay,David Smiley,dsmiley
MRM-793,Bug,2008-05-06T05:50:48.776Z,2008-05-06T05:50:48.776Z,2008-06-04T20:48:24.2Z,2008-06-04T20:48:24.2Z,2008-06-04T03:08:11.554Z,2008-06-04T03:08:11.554Z,500 error when saving company details (in Appearance) with only the artifactId specified and groupId is left blank,,Major,Closed,Won't Fix,james.w.dumay,james.w.dumay,Maria Odea Ching,oching
MRM-763,Bug,2008-04-03T00:52:27.963Z,2008-04-03T00:52:27.963Z,2008-04-03T08:29:44.186Z,2008-04-03T08:29:44.186Z,2008-04-03T07:30:27.994Z,2008-04-03T07:30:27.994Z,Default cron expression for database update is invalid,"The default cron expression on the Database page is ""0 0 * * ?"" which is invalid.

When adding a managed repository, the log shows:
2008-04-02 22:48:29,346 [btpool0-2] WARN  org.apache.maven.archiva.scheduled.ArchivaTaskScheduler:default  - Cron expression [0 0 * * ?] for database update is invalid.  Defaulting to hourly.

If you click 'Update cron' on the Databases page, there is no validation error (but the same log message appears.)

I think it should be [0 0 * * * ?] instead.",Minor,Closed,Fixed,Brett Porter,brettporter,Wendy Smoak,wsmoak
MRM-727,Bug,2008-03-03T21:19:20.346Z,2008-03-03T21:19:20.346Z,2008-04-02T08:13:45.785Z,2008-04-02T08:13:45.785Z,2008-04-01T04:07:34.615Z,2008-04-01T04:07:34.615Z,Archiva does not download plugin artifacts in Geronimo,"When i have an initially blank local maven repo and for example start maven with ""mvn clean"", no artifacts get downloaded. Maven is configured via the attached settings.xml. When i monitor the tcp traffic, i see that the GET (in this case for the maven-metadata.xml for maven-clean-plugin) request issued to archiva is the correct one. Archiva responses with a 404.

When I browse the repository file system on the server where archiva stores its files, i see that a maven-metadata-central.xml was stored. the contents of this file are not correct, though.

From trial and error I found out, that any request to a plugin related maven-metadata.xml file will fail. If I try the same for a ""normal"" artifact maven-metadata.xml (like the one for commons-lang) then archiva downloads the correct file.",Major,Closed,Fixed,Maria Odea Ching,oching,Christian Domsch,landrus
MRM-733,Bug,2008-03-06T22:25:53.666Z,2008-03-06T22:25:53.666Z,2008-03-14T17:07:15.52Z,2008-03-14T17:07:15.52Z,2008-03-14T17:07:15.543Z,2008-03-14T17:07:15.543Z,Error ending component lifecycle,"2008-03-04 12:54:04.401864500 2008-03-04 12:54:04,401 [Thread-9] INFO  org.codehaus.plexus.ehcache.EhcacheComponent:userAssignments  - Disposing cache: [ name = userAssignmentsCache status = STATUS_ALIVE eternal = false overflowToDisk = false maxElementsInMemory = 10000 maxElementsOnDisk = 0 memoryStoreEvictionPolicy = LRU timeToLiveSeconds = 600 timeToIdleSeconds = 300 diskPersistent = false diskExpiryThreadIntervalSeconds = 100 cacheEventListeners:  hitCount = 1 memoryStoreHitCount = 1 diskStoreHitCount = 0 missCountNotFound = 2 missCountExpired = 0 ]
2008-03-04 12:54:04.402427500 There was no such logger 'org.codehaus.plexus.redback.xwork.filter.authentication.HttpAuthenticator:basic' 11511434.
2008-03-04 12:54:04.402603500 2008-03-04 12:54:04,402 [Thread-9] INFO  org.codehaus.plexus.cache.Cache:effective-project-cache  - Disposing cache: [ name = effective-project-cache status = STATUS_ALIVE eternal = true overflowToDisk = false maxElementsInMemory = 1000 maxElementsOnDisk = 0 memoryStoreEvictionPolicy = LRU timeToLiveSeconds = 1800 timeToIdleSeconds = 2700 diskPersistent = true diskExpiryThreadIntervalSeconds = 600 cacheEventListeners:  hitCount = 0 memoryStoreHitCount = 0 diskStoreHitCount = 0 missCountNotFound = 0 missCountExpired = 0 ]
2008-03-04 12:54:04.408962500 2008-03-04 12:54:04,406 [Thread-9] ERROR org.codehaus.plexus.PlexusContainer  - Error while disposing component manager. Continuing with the rest
2008-03-04 12:54:04.408968500 org.codehaus.plexus.component.repository.exception.ComponentLifecycleException: Error ending component lifecycle
2008-03-04 12:54:04.408971500 	at org.codehaus.plexus.component.manager.AbstractComponentManager.endComponentLifecycle(AbstractComponentManager.java:191)
2008-03-04 12:54:04.408975500 	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.dispose(ClassicSingletonComponentManager.java:76)
2008-03-04 12:54:04.409008500 	at org.codehaus.plexus.DefaultPlexusContainer.disposeAllComponents(DefaultPlexusContainer.java:961)
2008-03-04 12:54:04.409011500 	at org.codehaus.plexus.DefaultPlexusContainer.dispose(DefaultPlexusContainer.java:922)
2008-03-04 12:54:04.409014500 	at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextDestroyed(PlexusLifecycleListener.java:199)
2008-03-04 12:54:04.409027500 	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:3869)
2008-03-04 12:54:04.409031500 	at org.apache.catalina.core.StandardContext.stop(StandardContext.java:4503)
2008-03-04 12:54:04.409034500 	at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:924)
2008-03-04 12:54:04.409054500 	at org.apache.catalina.startup.HostConfig.undeployApps(HostConfig.java:1180)
2008-03-04 12:54:04.409057500 	at org.apache.catalina.startup.HostConfig.stop(HostConfig.java:1151)
2008-03-04 12:54:04.409060500 	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313)
2008-03-04 12:54:04.409063500 	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)
2008-03-04 12:54:04.409074500 	at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1086)
2008-03-04 12:54:04.409077500 	at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1098)
2008-03-04 12:54:04.409080500 	at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:448)
2008-03-04 12:54:04.409083500 	at org.apache.catalina.core.StandardService.stop(StandardService.java:584)
2008-03-04 12:54:04.409094500 	at org.apache.catalina.core.StandardServer.stop(StandardServer.java:744)
2008-03-04 12:54:04.409097500 	at org.apache.catalina.startup.Catalina.stop(Catalina.java:616)
2008-03-04 12:54:04.409100500 	at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:659)
2008-03-04 12:54:04.409103500 Caused by: org.codehaus.plexus.personality.plexus.lifecycle.phase.PhaseExecutionException: Error stopping component
2008-03-04 12:54:04.409114500 	at org.codehaus.plexus.personality.plexus.lifecycle.phase.StopPhase.execute(StopPhase.java:37)
2008-03-04 12:54:04.409132500 	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.end(AbstractLifecycleHandler.java:190)
2008-03-04 12:54:04.409136500 	at org.codehaus.plexus.component.manager.AbstractComponentManager.endComponentLifecycle(AbstractComponentManager.java:187)
2008-03-04 12:54:04.409139500 	... 18 more
2008-03-04 12:54:04.409141500 Caused by: org.codehaus.plexus.personality.plexus.lifecycle.phase.StoppingException: Unable to unschedule tasks
2008-03-04 12:54:04.409153500 	at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.stop(DefaultArchivaTaskScheduler.java:236)
2008-03-04 12:54:04.409156500 	at org.codehaus.plexus.personality.plexus.lifecycle.phase.StopPhase.execute(StopPhase.java:33)
2008-03-04 12:54:04.409160500 	... 20 more
2008-03-04 12:54:04.409162500 Caused by: org.quartz.SchedulerException: Error unscheduling job. [See nested exception: org.quartz.SchedulerException: Error getting job. [See nested exception: org.quartz.SchedulerException: The Scheduler has been shutdown.]]
2008-03-04 12:54:04.409204500 	at org.codehaus.plexus.scheduler.DefaultScheduler.unscheduleJob(DefaultScheduler.java:119)
2008-03-04 12:54:04.409208500 	at org.apache.maven.archiva.scheduled.DefaultArchivaTaskScheduler.stop(DefaultArchivaTaskScheduler.java:226)
2008-03-04 12:54:04.409226500 	... 21 more",Major,Closed,Fixed,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-778,Bug,2008-04-11T11:36:17.343Z,2008-04-11T11:36:17.343Z,2008-04-18T13:48:52.449Z,2008-04-18T13:48:52.449Z,2008-04-18T13:48:52.457Z,2008-04-18T13:48:52.457Z,DefaultDavServerManager.createServer doesn't create server,"In DefaultDavServerManager, the createServer method instead of creating a new server each time it's called is reusing the same server for all paths.

The ""DavServerComponent server"" needs to be created each time createServer is called instead of being injected by plexus when the DavServerManager is created.

This bug makes multiple repositories with different settings not work. 

For example ""internal"" has snapshots disabled, while ""snapshots"" has snapshots enabled. When a request comes for the snapshots repository, webdav is using the metadata for the ""internal"" server which has snapshots disabled and refuses to download snapshots. 

It's possible that if it downloaded snapshots they would be put on the wrong repository (""internal""), but I haven't verified this.

",Blocker,Closed,Fixed,,,Carlos Costa e Silva,carloscs
MRM-744,Task,2008-03-19T17:59:08.101Z,2008-03-19T17:59:08.101Z,2016-03-15T06:12:13.333Z,2016-03-15T06:12:13.333Z,2016-03-15T06:12:13.312Z,2016-03-15T06:12:13.312Z,archiva tests rely on relative paths,"it would be good to make these path independent by using getResource* or similar

this was fixed for archiva-common [MRM-642], and a similar solution could likely be employed",Minor,Closed,Fixed,,,Brett Porter,brettporter
MRM-728,Bug,2008-03-05T05:33:10.107Z,2008-03-05T05:33:10.107Z,2014-02-25T19:29:46.345Z,2014-02-25T19:29:46.345Z,2014-02-25T19:29:45.998Z,2014-02-25T19:29:45.998Z,After successful admin login archiva reacts as if user is guest,"I ran Archiva on my windows box and, after configuring the admin user, I was able to login.  The header of the web page identified me as Administrator (admin) and I could see all the expected functions on the left hand frame.  So far so good.

I had Archiva installed on a linux box and started.  I surfed to the box from Windows and configured the admin user.  But when I logged in as admin I got a page with only Search/FindArtifact/Browse functions.  The header page reads ""Login - Register"".  It is as if I am not logged in and am seeing the guest functions.  Note that if I log in with a deliberately incorrect password then I get an error message as expected.  But logging in with the right credentials appears to fail silently.

As a result I cannot deploy any artifacts into Archiva, I cannot roll out the maven/subversion/archiva based edition of our in-house project, and I fear my time is limited!
",Critical,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Robin Roos,robinroos2
MRM-748,Bug,2008-03-25T03:49:09.075Z,2008-03-25T03:49:09.075Z,2008-03-28T10:29:23.691Z,2008-03-28T10:29:23.691Z,2008-03-28T10:29:23.701Z,2008-03-28T10:29:23.701Z,Archiva fails to serve Maven 1 repository artifacts,"Because Maven 1 repositories have artifacts without POMs, the following occurs on browse:

2008-03-25 19:35:22,409 [btpool0-3] ERROR org.apache.maven.archiva.consumers.DatabaseUnprocessedArtifactConsumer:update-db-project  - Unable to process model /Users/brett/scm/maven/archiva-1.0.x/archiva-web/archiva-webapp/target/appserver-base/data/repositories/m1/app/poms/app-1.0.pom due to : javax.jdo.JDOUserException : Field org.apache.maven.archiva.model.ArchivaProjectModel.packaging is null, but is mandatory as its described in the jdo metadata
javax.jdo.JDOUserException: Field org.apache.maven.archiva.model.ArchivaProjectModel.packaging is null, but is mandatory as its described in the jdo metadata
	at org.jpox.store.rdbms.fieldmanager.ParameterSetter.storeStringField(ParameterSetter.java:120)
	at org.jpox.state.StateManagerImpl.providedStringField(StateManagerImpl.java:2757)
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideField(ArchivaProjectModel.java)
	at org.apache.maven.archiva.model.ArchivaProjectModel.jdoProvideFields(ArchivaProjectModel.java)
	at org.jpox.state.StateManagerImpl.provideFields(StateManagerImpl.java:3115)
	at org.jpox.store.rdbms.request.InsertRequest.execute(InsertRequest.java:252)
	at org.jpox.store.rdbms.table.ClassTable.insert(ClassTable.java:2519)
	at org.jpox.store.StoreManager.insert(StoreManager.java:938)
	at org.jpox.state.StateManagerImpl.internalMakePersistent(StateManagerImpl.java:3667)
	at org.jpox.state.StateManagerImpl.makePersistent(StateManagerImpl.java:3646)
	at org.jpox.AbstractPersistenceManager.internalMakePersistent(AbstractPersistenceManager.java:1206)
	at org.jpox.AbstractPersistenceManager.makePersistent(AbstractPersistenceManager.java:1277)
	at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:192)
	at org.apache.maven.archiva.database.jdo.JdoAccess.saveObject(JdoAccess.java:165)
	at org.apache.maven.archiva.database.jdo.JdoProjectModelDAO.saveProjectModel(JdoProjectModelDAO.java:86)
	at org.apache.maven.archiva.consumers.database.ProjectModelToDatabaseConsumer.processArchivaArtifact(ProjectModelToDatabaseConsumer.java:170)
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:52)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateUnprocessed(JdoDatabaseUpdater.java:154)
	at org.apache.maven.archiva.database.browsing.DefaultRepositoryBrowsing.selectVersion(DefaultRepositoryBrowsing.java:124)
	at org.apache.maven.archiva.web.action.ShowArtifactAction.artifact(ShowArtifactAction.java:105)

A placeholder should be used instead",Major,Closed,Duplicate,Brett Porter,brettporter,Brett Porter,brettporter
MRM-752,Improvement,2008-03-27T03:18:56.677Z,2008-03-27T03:18:56.677Z,2008-05-20T07:33:33.859Z,2008-05-20T07:33:33.859Z,2008-05-20T07:33:33.863Z,2008-05-20T07:33:33.863Z,Trim URL in Remote Repositories,"I made a wrong cut'n paste and declared a remote repository with ""    http://foo.com/...""
Archiva doesn't access to it with the error : 
{code}
jvm 1    | 2008-03-27 09:13:35,510 [SocketListener0-2] WARN  org.apache.maven.archiva.proxy.RepositoryProxyConnectors:default  - Transfer error from repository
""local-generali-releases"" for artifact AAA:BBB:CCC::pom, continuing to next repository. Error message: Unsupported target repositor
y protocol:     http
{code}
A simple trim on the URL when we save the remote repository configuration could help",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Arnaud HERITIER,aheritier
MRM-704,Improvement,2008-02-19T05:00:06.581Z,2008-02-19T05:00:06.581Z,2008-02-19T06:28:31.142Z,2008-02-19T06:28:31.142Z,2008-02-19T06:28:31.284Z,2008-02-19T06:28:31.284Z,"Should be able to set the ""sender"" address on registration emails","Registration emails are sent as from archiva@localhost on this server. The local Exim mail server rejects this as unroutable and refuses to deliver. I'd prefer not to work around this by altering the Exim configs.

Is there a way to add this to the javamail configs in plexus.xml?

I'll check the source code to find out more but please let me know if this is already covered off.",Major,Closed,Won't Fix,,,Andrew Heald,drewpuppy
MRM-725,Bug,2008-03-03T08:37:23.613Z,2008-03-03T08:37:23.613Z,2008-03-30T17:25:51.269Z,2008-03-30T17:25:51.269Z,2008-03-30T17:25:51.283Z,2008-03-30T17:25:51.283Z,/archiva/browse URL does not work on WebSphere,"The browse URL is not recognized, since the RepositoryActionMapper uses the ServletPath to determine the ""browse"" prefix in the path.
The JEE 5 spec specifies [1]:
""This method will return an empty string ("""") if the servlet used to process this request was matched using the ""/*"" pattern.""
If your appserver works as described the ""browse"" in the URL can only be determined by using getPathInfo().

[1] http://java.sun.com/javaee/5/docs/api/javax/servlet/http/HttpServletRequest.html#getServletPath()",Major,Closed,Fixed,Brett Porter,brettporter,Steffen Grunwald,sgrunwald
MRM-708,Task,2008-02-20T21:27:00.707Z,2008-02-20T21:27:00.707Z,2008-02-21T01:44:39.291Z,2008-02-21T01:44:39.291Z,2008-02-21T01:44:39.331Z,2008-02-21T01:44:39.331Z,Migrate from Plexus Logging to Slf4J,"Per the discussion on Archiva-Dev.

We should migrate our use of Plexus Logging to Slf4J.

org.codehaus.plexus.logging.AbstractLogEnabled;
org.codehaus.plexus.logging.Logger;

 Used:
   archiva-repository-layer
   archiva-webapp
 Plan:
   Use slf4j directly

",Trivial,Closed,Fixed,Joakim Erdfelt,joakime,Joakim Erdfelt,joakime
MRM-779,Improvement,2008-04-12T18:02:59.65Z,2008-04-12T18:02:59.65Z,2009-03-05T22:35:46.651Z,2009-03-05T22:35:46.651Z,,,Display account name of the user who uploaded the artifact in the artifact information (if the artifact was deployed/uploaded in the Archiva repo),"When I search for an artifact (or browse for one), I'd like archiva to inform me which repository it is stored in.  In addition, if someone uploaded it, I'd like to know the account for who uploaded it if I have a problem with the file.",Major,Open,,,,David Smiley,dsmiley
MRM-755,Bug,2008-03-30T09:45:49.299Z,2008-03-30T09:45:49.299Z,2008-03-30T21:37:20.792Z,2008-03-30T21:37:20.792Z,2008-03-30T17:04:27.162Z,2008-03-30T17:04:27.162Z,"No content type for .pom files denoted in file ""archiva-mime-types.txt"" - workaround included","On Websphere 6,1, *.pom files can't be downloaded from Archiva via respository requests.
For instance, the URL 
  http://localhost:9081/archiva/repository/internal/commons-lang/commons-lang/2.1/commons-lang-2.1.pom
leads to an exception like this:

[30.03.08 14:55:15:671 CEST] 00000032 WebApp        E   [Servlet Error]-[RepositoryServlet]: java.lang.NullPointerException
	at com.ibm.ws.webcontainer.srt.SRTServletResponse.setContentType(SRTServletResponse.java:1076)
	at it.could.webdav.DAVTransaction.setContentType(DAVTransaction.java:193)
	at org.codehaus.plexus.webdav.simple.ReplacementGetMethod.process(ReplacementGetMethod.java:157)
	at it.could.webdav.DAVProcessor.process(DAVProcessor.java:79)
	at org.codehaus.plexus.webdav.simple.SimpleDavServerComponent.process(SimpleDavServerComponent.java:154)
        ...

The most likely cause seems to be that there is no mimetype for *.pom files listed in Archiva's resource file ""archiva-mime-types.txt"".

I added this mimetype by changing line 69 of ""archiva-mime-types.txt"" from
  application/xml                          xml xsl
to
  application/xml                          xml xsl pom

This way, .pom file are treated as xml files.

After that change the exception mentioned above did'nt occur anymore.

HTH, Stefan
",Major,Closed,Fixed,Brett Porter,brettporter,Atle Prange,prange
MRM-795,Bug,2008-05-06T06:15:00.253Z,2008-05-06T06:15:00.253Z,2008-09-13T22:34:02.606Z,2008-09-13T22:34:02.606Z,2008-09-13T22:33:40.832Z,2008-09-13T22:33:40.832Z,Company Pom page accepts null and blank values,,Minor,Closed,Cannot Reproduce,,,Maria Odea Ching,oching
MRM-714,New Feature,2008-02-24T14:56:31.541Z,2008-02-24T14:56:31.541Z,2011-09-12T09:37:12.965Z,2011-09-12T09:37:12.965Z,2011-09-12T09:37:12.915Z,2011-09-12T09:37:12.915Z,implement MevenIDE provider for Archiva,"Archiva should provide an implementation to be the repository manager used by MevenIDE.

SPI: http://fisheye.codehaus.org/browse/mevenide/trunk/mevenide2/netbeans/libs/indexer/src/main/java/org/codehaus/mevenide/indexer/spi

(if you are a MevenIDE user that would like this support, please vote).",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-722,Improvement,2008-02-28T23:24:28.907Z,2008-02-28T23:24:28.907Z,2012-09-06T07:38:06.905Z,2012-09-06T07:38:06.905Z,2012-03-23T10:07:24.716Z,2012-03-23T10:07:24.716Z,Scan Repository Now should display a confirmation message,"When you click the 'Scan Repository Now' button, there is no indication that anything happened.

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Wendy Smoak,wsmoak
MRM-775,New Feature,2008-04-09T21:33:32.818Z,2008-04-09T21:33:32.818Z,2011-09-12T09:39:15.524Z,2011-09-12T09:39:15.524Z,2011-09-12T09:39:15.489Z,2011-09-12T09:39:15.489Z,Support generation of pom for legacy artifacts in web upload form,,Major,Closed,Won't Fix,,,Maria Odea Ching,oching
MRM-766,Bug,2008-04-03T10:06:12.697Z,2008-04-03T10:06:12.697Z,2008-04-03T10:15:08.205Z,2008-04-03T10:15:08.205Z,2008-04-03T10:15:08.211Z,2008-04-03T10:15:08.211Z,InstallService.bat requires PLEXUS_BASE to point to PLEXUS_HOME ,"The script requires bin\plexus.bat to be present in both PLEXUS_BASE and PLEXUS_HOME. This is not the case if one wants to separate the repository from the intallation. The workaround that worked for me was to replace 
if exist ""%PLEXUS_BASE%\bin\plexus.bat"" goto startup
with just
goto startup",Major,Closed,Won't Fix,Brett Porter,brettporter,Igor Orlanov,iorlanov
MRM-785,Bug,2008-05-04T17:11:07.768Z,2008-05-04T17:11:07.768Z,2008-05-30T02:46:07.574Z,2008-05-30T02:46:07.574Z,2008-05-30T02:46:07.579Z,2008-05-30T02:46:07.579Z,No message is displayed after a successful artifact upload,"After a successful artifact upload (MRM-216, MRM-774,) no ""success"" message is displayed.

The user is sent back to the blank upload form with no indication that anything happened.",Minor,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-723,Bug,2008-02-29T10:56:47.827Z,2008-02-29T10:56:47.827Z,2008-03-01T17:23:04.416Z,2008-03-01T17:23:04.416Z,2008-03-01T17:23:04.467Z,2008-03-01T17:23:04.467Z,Failures of checksum or cached remote failures do not return useful errors,"Archiva returns a 404 error for mismatched checksums.   This misrepresents the root cause of the problem.

It should return some useful feedback in the http response indicating what is going on.   A generic 500 error would be some improvement, but ideally there would be some error that describes exactly what occurred.",Major,Closed,Duplicate,Brett Porter,brettporter,Carlton Brown,cbrown
MRM-731,Bug,2008-03-06T02:36:46.38Z,2008-03-06T02:36:46.38Z,2015-04-05T14:54:09.903Z,2015-04-05T14:54:09.903Z,2009-03-19T01:15:57.955Z,2009-03-19T01:15:57.955Z,variable in url pom are not replaced.,"In my pom, the url of the project is :
  <url>http://<server>/docs/${project.groupId}/${project.artifactId}/${project.version}</url>

So I expect that archiva replace the ${} variables of this URL, but it
doesn't  :( .
",Major,Closed,Fixed,Maria Odea Ching,oching,Benoit Decherf,bdecherf
MRM-710,Task,2008-02-20T21:36:35.99Z,2008-02-20T21:36:35.99Z,2012-04-03T11:38:38.886Z,2012-04-03T11:38:38.886Z,2012-04-03T11:38:38.721Z,2012-04-03T11:38:38.721Z,Use commons-lang instead of Plexus Utils,"Per conversation in Archiva-Dev.

Migrate away from Plexus Utils to commons-lang (where appropriate)
This is the other half of MRM-709

In our effort to migrate away from plexus towards Spring, we need to eliminate our usage of plexus-utils.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Joakim Erdfelt,joakime
MRM-787,New Feature,2008-05-05T20:03:03.248Z,2008-05-05T20:03:03.248Z,2016-03-15T06:02:48.616Z,2016-03-15T06:02:48.616Z,2016-03-15T06:02:48.585Z,2016-03-15T06:02:48.585Z,Don't allow partial artifacts to be accessed by maven.,"If an artifact's packaging is not pom, then the repository should not mark it the latest if only a pom is available.
ie if an upload to the repository partly fails and for some reason the actual artifact is not available, do not let maven try to download that version/",Major,Closed,Won't Fix,,,Nick Pellow,npellow
MRM-711,Bug,2008-02-21T06:01:04.478Z,2008-02-21T06:01:04.478Z,2008-04-13T22:09:24.906Z,2008-04-13T22:09:24.906Z,2008-04-13T22:09:24.91Z,2008-04-13T22:09:24.91Z,Security using ldap throws NullPointerException,"I configured ~/.m2/security.properties with ldap information.
In DefaultArchivaConfiguration the Registry load all informations of security.properties.

When i was loggin throws this Exception:

java.lang.NullPointerException
	org.codehaus.plexus.redback.common.ldap.connection.LdapConnection.<init>(LdapConnection.java:58)
	org.codehaus.plexus.redback.common.ldap.connection.ConfigurableLdapConnectionFactory.getConnection(ConfigurableLdapConnectionFactory.java:123)
	org.codehaus.plexus.redback.authentication.ldap.LdapBindAuthenticator.authenticate(LdapBindAuthenticator.java:92)

I got redback source code, and i see that any information of ldap was there in LdapConnection!

",Critical,Closed,Fixed,Maria Odea Ching,oching,Lucas Vilela de Souza Gonçalves,goncalvesl
MRM-734,Bug,2008-03-07T00:04:51.803Z,2008-03-07T00:04:51.803Z,2008-03-25T09:07:13.983Z,2008-03-25T09:07:13.983Z,2008-03-20T07:21:03.636Z,2008-03-20T07:21:03.636Z,Unable to update metadata - No versions found for reference ,"This occurs when requesting /org/apache/maven/plugins/maven-metadata.xml.

The IOException is thrown updateMetadata because no artifact versions could be found in the maven-metadata.xml on merge.

http://repo1.maven.org/maven2/activemq/activemq-gbean/maven-metadata.xml
http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-metadata.xml

The first file listed above is a plugin metadata file (it lists plugin prefix mappings) while the second lists the available artifact versions.

MetadataTools.updateMetadata should be updated to handle plugin metadata files

Exception report is attached.
",Major,Closed,Fixed,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-719,Bug,2008-02-27T09:03:02.436Z,2008-02-27T09:03:02.436Z,2008-02-27T16:07:58.996Z,2008-02-27T16:07:58.996Z,2008-02-27T14:28:03.126Z,2008-02-27T14:28:03.126Z,NPE during repository scan,"i'm running version 631389 from the 1.0.2 branch, and i'm encountering the exception below during repository scanning.  it seems to happen once, and scanning seems to continue successfully, so i'm not sure what exactly is affected by it.

edu.emory.mathcs.backport.java.util.concurrent.ExecutionException: java.lang.NullPointerException
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.getResult(FutureTask.java:299)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.get(FutureTask.java:118)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.waitForTask(ThreadedTaskQueueExecutor.java:159)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable.run(ThreadedTaskQueueExecutor.java:127)
Caused by: java.lang.NullPointerException
	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:56)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateProcessed(JdoDatabaseUpdater.java:170)
	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllProcessed(JdoDatabaseUpdater.java:111)
	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:78)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)
	at java.lang.Thread.run(Thread.java:595)
",Major,Closed,Fixed,Brett Porter,brettporter,james,jahlborn
MRM-713,Bug,2008-02-22T12:30:32.611Z,2008-02-22T12:30:32.611Z,2015-04-05T14:54:03.668Z,2015-04-05T14:54:03.668Z,2008-02-25T05:23:19.496Z,2008-02-25T05:23:19.496Z,extensionPattern in FilenameParser is incorrect,"in FileNameParser.java:

    * extensionPattern is bogus. I assume that the '.' chars are supposed to be literal chars, should be:

""([.]tar[.]gz$)|([.]tar[.]bz2$)|([.][a-z0-9]*$)""

TestCase:

  public void testNoExtension()
  {
    FilenameParser parser = new FilenameParser(""foo_bar"");
    assertNull(parser.getExtension());
  }
",Minor,Closed,Fixed,Brett Porter,brettporter,james,jahlborn
MRM-791,Bug,2008-05-06T05:15:39.033Z,2008-05-06T05:15:39.033Z,2011-09-12T11:55:54.132Z,2011-09-12T11:55:54.132Z,2011-09-12T11:55:54.053Z,2011-09-12T11:55:54.053Z,File Types in Repository Scanning page accepts any string ,"- artifacts
- auto-remove
- ignored
- indexable-content",Minor,Closed,Incomplete,,,Maria Odea Ching,oching
MRM-701,Bug,2008-02-18T14:19:34.088Z,2008-02-18T14:19:34.088Z,2008-04-14T07:19:05.622Z,2008-04-14T07:19:05.622Z,2008-03-19T22:09:19.432Z,2008-03-19T22:09:19.432Z,"Buggy documentation on ""separating the base from the installation""","The documentation on http://maven.apache.org/archiva/docs/1.0.1/adminguide/standalone.html says in ""Separating the base from the installation""
""2. Move the conf and data directories from the Archiva installation to the new location.""

But there is no ""data"" directory in a fresh installation.",Minor,Closed,Fixed,Brett Porter,brettporter,Martin Höller,matinh
MRM-724,Bug,2008-03-03T03:05:55.461Z,2008-03-03T03:05:55.461Z,2012-09-26T08:31:50.878Z,2012-09-26T08:31:50.878Z,2012-09-26T08:31:50.754Z,2012-09-26T08:31:50.754Z,"Unable to restart Archiva after restarting Tomcat : ""SQL Exception: Failed to start database""","After restarting Tomcat, I get the following exception in the log file :

3282 [Main Thread] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[localhost].[/archiva]  - Exception lors de l'envoi de l'évènement contexte initialisé (context initialized) à l'instance de classe d'écoute (listener) org.codehaus.plexus.xwork.PlexusLifecycleListener
javax.jdo.JDODataStoreException: Failed initialising database. Please check that your database JDBC driver is accessible, and the database URL and username/password are correct. Exception : Cannot create PoolableConnectionFactory (Failed to start database '/exec/products/jonas/integration/archiva/database/users', see the next exception for details.)
org.apache.tomcat.dbcp.dbcp.SQLNestedException: Cannot create PoolableConnectionFactory (Failed to start database '/exec/products/jonas/integration/archiva/database/users', see the next exception for details.)
	at org.apache.tomcat.dbcp.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1225)
	at org.apache.tomcat.dbcp.dbcp.BasicDataSource.getConnection(BasicDataSource.java:880)
	at org.jpox.util.FailoverUtils.getConnection(FailoverUtils.java:51)
	at org.jpox.store.rdbms.RDBMSManager.<init>(RDBMSManager.java:244)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:494)
	at org.jpox.util.ClassUtils.newInstance(ClassUtils.java:73)
	at org.jpox.store.StoreManagerFactory.getStoreManager(StoreManagerFactory.java:73)
	at org.jpox.AbstractPersistenceManager.getStoreManager(AbstractPersistenceManager.java:295)
	at org.jpox.AbstractPersistenceManager.<init>(AbstractPersistenceManager.java:217)
	at org.jpox.PersistenceManagerImpl.<init>(PersistenceManagerImpl.java:42)
	at org.jpox.PersistenceManagerFactoryImpl.getPersistenceManager(PersistenceManagerFactoryImpl.java:178)
	at org.jpox.PersistenceManagerFactoryImpl.getPersistenceManager(PersistenceManagerFactoryImpl.java:153)
	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManager(JdoTool.java:114)
	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:292)
	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsById(JdoTool.java:340)
	at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExists(JdoRbacManager.java:467)
	at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExists(CachedRbacManager.java:622)
	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResources(DefaultRoleModelProcessor.java:77)
	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.process(DefaultRoleModelProcessor.java:63)
	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:210)
	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:132)
	at org.codehaus.plexus.redback.role.DefaultRoleManager.initialize(DefaultRoleManager.java:457)
	at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.execute(InitializePhase.java:33)
	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
	at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
	at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
	at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
	at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:333)
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirement(AbstractComponentComposer.java:241)
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:66)
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:57)
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:143)
	at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:72)
	at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:46)
	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
	at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
	at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
	at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
	at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:333)
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.findRequirement(AbstractComponentComposer.java:241)
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirementToField(FieldComponentComposer.java:66)
	at org.codehaus.plexus.component.composition.FieldComponentComposer.assignRequirement(FieldComponentComposer.java:57)
	at org.codehaus.plexus.component.composition.AbstractComponentComposer.assembleComponent(AbstractComponentComposer.java:143)
	at org.codehaus.plexus.component.composition.DefaultComponentComposerManager.assembleComponent(DefaultComponentComposerManager.java:72)
	at org.codehaus.plexus.personality.plexus.lifecycle.phase.CompositionPhase.execute(CompositionPhase.java:46)
	at org.codehaus.plexus.lifecycle.AbstractLifecycleHandler.start(AbstractLifecycleHandler.java:128)
	at org.codehaus.plexus.component.manager.AbstractComponentManager.startComponentLifecycle(AbstractComponentManager.java:142)
	at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:132)
	at org.codehaus.plexus.component.manager.ClassicSingletonComponentManager.getComponent(ClassicSingletonComponentManager.java:90)
	at org.codehaus.plexus.DefaultComponentLookupManager.lookup(DefaultComponentLookupManager.java:147)
	at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:327)
	at org.codehaus.plexus.container.initialization.StartLoadOnStartComponentsPhase.execute(StartLoadOnStartComponentsPhase.java:68)
	at org.codehaus.plexus.DefaultPlexusContainer.initializePhases(DefaultPlexusContainer.java:886)
	at org.codehaus.plexus.DefaultPlexusContainer.initialize(DefaultPlexusContainer.java:834)
	at org.codehaus.plexus.DefaultPlexusContainer.construct(DefaultPlexusContainer.java:811)
	at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:222)
	at org.codehaus.plexus.DefaultPlexusContainer.<init>(DefaultPlexusContainer.java:260)
	at org.codehaus.plexus.xwork.PlexusLifecycleListener.contextInitialized(PlexusLifecycleListener.java:76)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3764)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)
	at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:626)
	at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:553)
	at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:488)
	at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1149)
	at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)
	at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)
	at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
	at org.apache.catalina.core.StandardService.start(StandardService.java:448)
	at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
	at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)

And Archiva does'nt work anymore!!!!!
Please help!

Fanx.",Blocker,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,TOTTEREAU Benoît,bentot
MRM-770,Bug,2008-04-08T05:42:58.239Z,2008-04-08T05:42:58.239Z,2014-11-27T04:42:59.03Z,2014-11-27T04:42:59.03Z,2014-10-02T19:45:15.522Z,2014-10-02T19:45:15.522Z,Archiva web client does not recognize classifier,"I've started using classifiers with some of my native libraries.  The Web application does not represent the classifier, and the artifact is not downloadable from the web application.  My builds are occurring correctly, so Maven has no difficulty retrieving the artifacts.

As an example, I have put the following into my local Archiva repository:

reutersRFA:libFDacsLIB:5.1:solaris
reutersRFA:libFDacsLIB:5.1:linux_2x
reutersRFA:libFDacsLIB:5.1:linux_3x

The deploy command I use to achieve this was:

mvn deploy:deploy-file -Dfile=libFDacsLib.so -DgroupId=reutersRFA -DartifactId=libFDacsLib -Dversion=5.1 -Dpackaging=so -Dclassifier=solaris -DgeneratePom=true -DrepositoryId=archiva.default -Durl=http://invldnlspare1:9100/archiva/repository/internal/

et. sim for -Dclassifier=linux_2x and -Dclassifier=linux_3x

In the archiva repository filesystem I see:

$ find /appdata/archiva -name ""*libFDacsLib*""
./data/repositories/internal/reutersRFA/libFDacsLib
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1.pom
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-linux_3x.so.md5
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-solaris.so.sha1
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-linux_2x.so
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1.pom.sha1
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-linux_2x.so.sha1
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-linux_3x.so.sha1
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-linux_3x.so
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-solaris.so
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-linux_2x.so.md5
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1.pom.md5
./data/repositories/internal/reutersRFA/libFDacsLib/5.1/libFDacsLib-5.1-solaris.so.md5
$

Note that there is only one *.pom, and there is no "".so"" without a classifier extension.

In the web gui I can browse as far as 

[top] / reutersRFA / libFDacsLib / 5.1

Inside this I see a POM Dependency Snippet which does not mention the classifier:

<dependency>
      <groupId>reutersRFA</groupId>
      <artifactId>libFDacsLib</artifactId>     
      <version>5.1</version>
      <type>so</type>
</dependency>

I have a link to download the POM, but I have no link to download any actual artifact.  No mention is made of ""solaris"", ""linux_2x"" or ""linux_3x"" anywhere on the web page.

I suspect the POM has been stripped of the classifier by archiva when maven deployed the artifact.  As far as Archiva is concerned, there is only one POM which references an artifact that does not exist on the filesystem (no libFDacsLib.so file) since it's looking without the classifier extension.

Naturally I'd like to see a fix in a future version of Archiva if indeed Archiva is causing the problem.  In the mean-time I would appreciate guidence as to whether I should create three separate POMs that specify the three classifier values to replace the existing POM in the archva repository filesystem.





",Minor,Closed,Fixed,Eric Barboni,skygolanur,Robin Roos,robinroos2
MRM-730,New Feature,2008-03-06T00:51:47.712Z,2008-03-06T00:51:47.712Z,2008-07-12T03:29:59.034Z,2008-07-12T03:29:59.034Z,2008-07-08T06:20:51.63Z,2008-07-08T06:20:51.63Z,"Index/Search by class, method or package name",,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-747,Bug,2008-03-21T15:53:16.829Z,2008-03-21T15:53:16.829Z,2015-04-05T23:00:39.694Z,2015-04-05T23:00:39.694Z,2009-11-22T05:44:21.678Z,2009-11-22T05:44:21.678Z,Archiva should prevent re-deployment of released or non-snapshot versioned artifacts,"It is possible de redeploy a versionned jar with webdav eventhough it must be impossible.
It is possible de redeploy a versionned jar eventhough the file is readonly.

It is very problematic.",Major,Closed,Fixed,Maria Odea Ching,oching,Alexandre Navarro,schumnana
MRM-764,Bug,2008-04-03T02:23:55.485Z,2008-04-03T02:23:55.485Z,2008-04-03T02:24:12.996Z,2008-04-03T02:24:12.996Z,2008-04-03T02:24:13.014Z,2008-04-03T02:24:13.014Z,default policies are not selected in the add proxy connector page,it just uses the first one in the list each time,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-772,Improvement,2008-04-08T17:53:33.157Z,2008-04-08T17:53:33.157Z,2009-03-08T16:45:20.666Z,2009-03-08T16:45:20.666Z,2009-03-08T16:45:06.34Z,2009-03-08T16:45:06.34Z,metatadata-updater does not recognise deleted files when updating snapshot version metadata,"According to the documentation the metadata-updater will do the
following: 

metadata-updater - Updates artifact metadata files depending on the content of the repository. 

I have been testing this by deploying several artifacts to the repository and getting a specific timestamp and build number in the maven-metatadata.xml file.  Next, I delete the latest (snapshot) build from the repo, including checksums.  I run the repository scanner and the database-updater and this file is never fixed based on the actual contents of the file system.  Archive updates it internal metadata, but not maven's metadata and thus maven fails to download the artifact. 


From Brett:

I think at present the updater corrects the <versions> flag, but not the snapshot information (it also doesn't correct the plugin group metadata).",Critical,Closed,Duplicate,Brett Porter,brettporter,Jason Chaffee,jchaffee
MRM-740,Bug,2008-03-17T18:55:32.406Z,2008-03-17T18:55:32.406Z,2016-03-15T06:11:44.294Z,2016-03-15T06:11:44.294Z,2016-03-15T06:11:44.267Z,2016-03-15T06:11:44.267Z,Archiva documentation needs a page that explains why you should use a repository manager,"This can be more general about repository managers, but why choose Archiva may be a part of it.",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-769,Bug,2008-04-08T05:25:58.828Z,2008-04-08T05:25:58.828Z,2008-07-01T19:30:46.845Z,2008-07-01T19:30:46.845Z,2008-07-01T19:30:46.849Z,2008-07-01T19:30:46.849Z,CLONE - 507 Insufficient Storage when deploying artifact with webdav,"Sometimes when deploying with dav I get a ""507 Insufficient Storage"" error.

The artifact (.../group/artifact/version/artifact-version.jar) gets deployed (with checksums).
The metadata (.../group/artifact/version/maven-metatdata.xml) gets deployed (with checksums).

It seems to happen when maven tries to upload the updated parent metadata (.../group/artifact/maven-metadata.xml). The checksums for this metadata deploys OK.",Major,Closed,Fixed,james.w.dumay,james.w.dumay,Andrew Heald,drewpuppy
MRM-773,Improvement,2008-04-09T21:26:35.28Z,2008-04-09T21:26:35.28Z,2008-05-15T20:58:49.265Z,2008-05-15T20:58:49.265Z,2008-05-15T20:58:49.275Z,2008-05-15T20:58:49.275Z,Improve RSS feed generation,"- add check to control file size of generated RSS feeds
- make sure that the when the client requests the RSS, it gets the right headers to not try and update it if it  hasn't changed for performance
- get the urls of the feeds from the rss feed request

More info in: http://www.nabble.com/Re%3A-svn-commit%3A-r645833---in--archiva-trunk%3A-archiva-jetty-src-main-conf-jetty.xml-archiva-modules-archiva-web-archiva-rss-src-main-java-org-apache-archiva-rss-processor-NewArtifactsRssFeedProcessor.java-td16562163.html",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-707,Improvement,2008-02-20T02:18:24.608Z,2008-02-20T02:18:24.608Z,2011-09-12T09:37:58.533Z,2011-09-12T09:37:58.533Z,2011-09-12T09:37:58.51Z,2011-09-12T09:37:58.51Z,create a guideline on how to set up enterprise grade security,"archiva looks really great. it would be even more appealing for starters in corporate environments to have a few guidelines which answer the following questions:

 * how do you configure one user base, or connect one user base?
 * how do you build up a tree like the ibiblio repository, and assign security to some (sub)-paths or repositories?
 * how could you map (parts of) a remote repository into the local repository tree?
 * does one central maven deployment pom pointing to the ""global corporate repository"" make sense
",Major,Closed,Not A Problem,,,THURNER rupert,thurnerrupert
MRM-726,Bug,2008-03-03T14:52:38.685Z,2008-03-03T14:52:38.685Z,2016-03-15T06:11:04.133Z,2016-03-15T06:11:04.133Z,2016-03-15T06:11:04.109Z,2016-03-15T06:11:04.109Z,snapshot artifacts in maven1 repo with legacy timestamps not being cleaned,"we have artifacts in our maven1 repository which are fairly old (one of the reasons we wanted to use archiva, to clean up the crud!).  however, it appears that some of the snapshots are not being cleaned up.  my guess is that it is due to an unrecognized timestamp format:

For an artifact with artifactId ""hmsCommon-jwrap"", we have snapshots which look like:

hmsCommon-jwrap-20070308.050344.jar


// unit test
public void testLegacyVersion() {
  assertTrue(VersionUtil.isSnapshot(""20070308.050344""));
}
",Minor,Closed,Won't Fix,,,james,jahlborn
MRM-751,New Feature,2008-03-26T22:16:10.819Z,2008-03-26T22:16:10.819Z,2015-04-05T21:12:45.812Z,2015-04-05T21:12:45.812Z,2008-06-19T22:53:55.694Z,2008-06-19T22:53:55.694Z,Support database connection pooling,,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-709,Task,2008-02-20T21:33:00.939Z,2008-02-20T21:33:00.939Z,2012-07-30T09:43:06.016Z,2012-07-30T09:43:06.016Z,2012-07-30T09:43:05.915Z,2012-07-30T09:43:05.915Z,Use commons-io instead of Plexus Utils,"Per conversation in Archiva-Dev.

Migrate away from Plexus Utils to commons-io (where appropriate)

In our effort to migrate away from plexus towards Spring, we need to eliminate our usage of plexus-utils.
",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Joakim Erdfelt,joakime
MRM-760,Improvement,2008-04-01T23:44:17.346Z,2008-04-01T23:44:17.346Z,2008-06-10T06:58:04.089Z,2008-06-10T06:58:04.089Z,2008-06-10T06:58:04.094Z,2008-06-10T06:58:04.094Z,set JSW to auto-restart if it crashes or hangs,"wrapper.on_exit.default=RESTART
wrapper.on_exit.0=SHUTDOWN

putting these in wrapper.conf will cause Continuum to restart if it hangs or crashes, (ie, only shutdown on exit code 0).

Hang will be the default of 5 seconds unresponsive - we may want to consider increasing that too with wrapper.restart.delay.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-729,Bug,2008-03-05T09:39:59.354Z,2008-03-05T09:39:59.354Z,2010-02-23T02:47:54.927Z,2010-02-23T02:47:54.927Z,2010-02-23T02:47:54.912Z,2010-02-23T02:47:54.912Z,[MySQL] Specified key was too long; max key length is 765 bytes - in redback,"When starting up archiva on a MySQL Database. the following error is seen.

{code}
Caused by: javax.jdo.JDODataStoreException: An exception was thrown while adding/validating class(es) : Specified key was too long; max key length is 765 bytes
com.mysql.jdbc.exceptions.MySQLSyntaxErrorException: Specified key was too long; max key length is 765 bytes
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:936)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2870)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1573)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1665)
        at com.mysql.jdbc.Connection.execSQL(Connection.java:3170)
        at com.mysql.jdbc.Connection.execSQL(Connection.java:3099)
        at com.mysql.jdbc.Statement.execute(Statement.java:695)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
        at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
        at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
        at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3052)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3313)
        at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2554)
        at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2406)
        at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:821)
        at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:835)
        at org.jpox.AbstractPersistenceManager.newObjectIdInstance(AbstractPersistenceManager.java:2377)
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:428)
        at org.apache.maven.archiva.database.jdo.JdoAccess.getObjectById(JdoAccess.java:466)
        at org.apache.maven.archiva.database.jdo.JdoRepositoryDAO.getRepository(JdoRepositoryDAO.java:76)
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.synchConfiguration(ConfigurationSynchronization.java:94)
        at org.apache.maven.archiva.web.startup.ConfigurationSynchronization.initialize(ConfigurationSynchronization.java:147)
        at org.codehaus.plexus.personality.plexus.lifecycle.phase.InitializePhase.execute(InitializePhase.java:33)
{code}",Major,Closed,Duplicate,Brett Porter,brettporter,Arnaud HERITIER,aheritier
MRM-706,Wish,2008-02-19T19:39:31.233Z,2008-02-19T19:39:31.233Z,2010-02-23T02:46:32.646Z,2010-02-23T02:46:32.646Z,2010-02-23T02:46:32.603Z,2010-02-23T02:46:32.603Z,Add a search box on all Archiva web pages,"It would be nice to be able to search from any page within Archiva rather than having to go back to the main page.

Something like the 'quick search' box at the top right of this page in JIRA would work.",Minor,Closed,Duplicate,,,Wendy Smoak,wsmoak
MRM-739,Bug,2008-03-14T08:22:51.128Z,2008-03-14T08:22:51.128Z,2017-06-22T13:56:04.343Z,2017-06-22T13:56:04.343Z,,,Archiva does not expose certain artifacts for download,"I have a module that publishes an artifact of type tar, but when I browse to it in Archiva, the tar file is not available for download 

For a given artifact:
  <groupId>rhinestone</groupId>
  <artifactId>rhinestone-package</artifactId>
  <packaging>tar</packaging>
  <version>1.0</version>

In the directory there does exist a file of compatible layout, rhinestone-package-1.0.tar",Minor,Open,,,,Carlton Brown,cbrown
MRM-777,Bug,2008-04-11T11:21:49.462Z,2008-04-11T11:21:49.462Z,2008-04-13T22:06:22.923Z,2008-04-13T22:06:22.923Z,2008-04-13T22:05:22.737Z,2008-04-13T22:05:22.737Z,"assignments.jsp: missing <tr></tr> group under ""Resource Roles"":  ","/archiva-webapp/src/main/webapp/WEB-INF/jsp/redback/admin/assignments.jsp

missing <tr></tr> group under ""Resource Roles"":

<h5>Resource Roles:</h5>
...
            <c:forEach var=""row"" items=""${table}"">
-->           <tr>
                    <c:forEach var=""column"" items=""${row}"">
...
                    </c:forEach>
-->           </tr>
            </c:forEach>
",Minor,Closed,Fixed,,,Carlos Costa e Silva,carloscs
MRM-715,Bug,2008-02-24T21:05:08.832Z,2008-02-24T21:05:08.832Z,2008-03-25T08:48:08.521Z,2008-03-25T08:48:08.521Z,2008-03-25T08:08:09.362Z,2008-03-25T08:08:09.362Z,error adding artifacts to Lucene under some circumstances,"Observed in newly built Archiva 1.0.2.

ava.lang.NullPointerException
	at org.apache.lucene.index.IndexModifier.close(IndexModifier.java:486)
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndex.closeQuietly(LuceneRepositoryContentIndex.java:416)
	at org.apache.maven.archiva.indexer.lucene.LuceneRepositoryContentIndex.modifyRecord(LuceneRepositoryContentIndex.java:152)
	at org.apache.maven.archiva.consumers.lucene.IndexContentConsumer.processFile(IndexContentConsumer.java:169)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:344)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:120)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:64)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:106)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)
	at java.lang.Thread.run(Thread.java:613)

Once this happens, it happens for every scanned artifact, but there is no indicator of why it started.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-797,Bug,2008-05-06T06:53:53.764Z,2008-05-06T06:53:53.764Z,2008-05-26T03:44:25.575Z,2008-05-26T03:44:25.575Z,2008-05-26T03:44:25.579Z,2008-05-26T03:44:25.579Z,Delete Released Snapshots doesn't work,"I have 2 repositories. One for releases and the other for snapshots.
I activated the option to remove snapshots for already released artifacts.
(I also setup the repository with purge by retention = 2 and purge by days older than = 15D)
In my snapshots repository I have always some old snapshots",Major,Closed,Fixed,Maria Odea Ching,oching,Arnaud HERITIER,aheritier
MRM-754,Task,2008-03-28T23:40:29.388Z,2008-03-28T23:40:29.388Z,2008-05-26T22:05:50.177Z,2008-05-26T22:05:50.177Z,2008-05-26T22:05:50.188Z,2008-05-26T22:05:50.188Z,Update the screenshots in the docs,"Update the following to reflect the changes in the UI (new sections like Legacy Support and Upload Artifact):
- Feature Tour
- Reports
- Search
- Identifying An Artifact",Minor,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-798,Improvement,2008-05-09T05:15:32.499Z,2008-05-09T05:15:32.499Z,2017-04-05T19:10:12.757Z,2017-04-05T19:10:12.757Z,,,blacklisting unavailable remote reps,"once one of the repos configured as a proxy-connector is down, the mvn build-process slows down extremely as the connect time-out is about 1 minute (for each repo and each artifact).
There should be a configuration available to adjust blacklisting repos that have been identified as non-reachable.
Such repos should be able to get re-avtivated manually.
",Major,Open,,,,Marc Lustig,axismundi
MRM-750,Bug,2008-03-26T07:47:05.582Z,2008-03-26T07:47:05.582Z,2015-04-05T14:53:59.972Z,2015-04-05T14:53:59.972Z,2008-03-26T18:02:14.055Z,2008-03-26T18:02:14.055Z,Adding a network proxy doesn't require an identifier,"Steps:
1. Click on Network Proxies on the menu to the left of the screen
2. Click on Add Network Proxy
3. Enter valid values except for Identifier which would contain no value or just spaces.
4. Click on Save Network Proxy

No error is displayed and network proxy will be added even without an identifier.",Major,Closed,Fixed,Brett Porter,brettporter,John Michael Luy,jmluy
MRM-780,Bug,2008-04-14T03:35:21.201Z,2008-04-14T03:35:21.201Z,2008-04-20T06:13:17.814Z,2008-04-20T06:13:17.814Z,2008-04-20T06:13:17.838Z,2008-04-20T06:13:17.838Z,Access to indexes files with a browser is not possible,"http://tl-em-1.mycompany.local:8082/archiva/repository/internal/.index/filecontent/segments.gen

Is translated by archiva into :

http://tl-em-1.mycompany.local:8082/repository//.index/filecontent/segments.gen

and display in my browser (firefox or IE)

org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: legacy paths should have an expected type ending in [s] in the second part of the path.
	at org.apache.maven.archiva.repository.content.LegacyPathParser.toArtifactReference(LegacyPathParser.java:105)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:96)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePath(RepositoryRequest.java:242)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:192)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
	at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)

So the .index folder seems to create some problems during the translation of url.

It is a blocking bug for users who want use the search fonctionnality of m2eclipse because it uses the .index folder to download indexes datas.


",Critical,Closed,Fixed,Brett Porter,brettporter,Fabrice Scoyer,fabrice
MRM-767,Bug,2008-04-07T01:59:02.569Z,2008-04-07T01:59:02.569Z,2008-07-04T05:04:31.601Z,2008-07-04T05:04:31.601Z,2008-07-04T05:04:31.613Z,2008-07-04T05:04:31.613Z,generated LICENSE and NOTICE files need improvement,"the NOTICE file includes incorrect information under the ""unknown"" section, as well as listing many components that are not necessary since they all come from Apache.

the LICENSE file currently omits the BSD license from the Java Service Wrapper 3.2.3",Blocker,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-716,Bug,2008-02-25T00:32:20.291Z,2008-02-25T00:32:20.291Z,2008-07-05T06:24:01.305Z,2008-07-05T06:24:01.305Z,,,Post download checksum policy should validate against remote filename not the local filename,"Post download checksum policy should validate against remote filename not the local filename

",Major,Open,,,,James William Dumay,jameswdumay
MRM-774,New Feature,2008-04-09T21:30:51.971Z,2008-04-09T21:30:51.971Z,2008-05-06T21:07:09.553Z,2008-05-06T21:07:09.553Z,2008-05-06T21:07:09.557Z,2008-05-06T21:07:09.557Z,Support inclusion of pom file when deploying an artifact via the web upload form,Currently the web upload form only supports pom generation when uploading M2 artifacts.,Major,Closed,Fixed,Wendy Smoak,wsmoak,Maria Odea Ching,oching
MRM-705,Improvement,2008-02-19T12:23:33.783Z,2008-02-19T12:23:33.783Z,2010-02-23T02:22:05.505Z,2010-02-23T02:22:05.505Z,2010-02-23T02:22:05.452Z,2010-02-23T02:22:05.452Z,database scanning should be able to be run after repository scanning,"since after the initial processing both scans are quite fast, being able to put them together sequentially makes sense so that changes are reflected as quickly as possible",Major,Closed,Won't Fix,Brett Porter,brettporter,Brett Porter,brettporter
MRM-721,Bug,2008-02-28T12:05:11.842Z,2008-02-28T12:05:11.842Z,2010-02-23T01:57:00.083Z,2010-02-23T01:57:00.083Z,2010-02-23T01:56:48.538Z,2010-02-23T01:56:48.538Z,ConsumerException when scanning database,"I'm running the 1.0.2 branch, version 632005.  I got a bunch of similar consumerexceptions when i tried to scan the database.  however, i only got them the first time (after upgrading from a previous version of the code on the 1.0.2 branch), now scans seem to be proceeding without problem.  an example exception is included below.

 org.apache.maven.archiva.consumers.ConsumerException: Unable to find Database Object [org.apache.maven:maven-profile:2.0.7] of type org.apache.maven.archiva.model.ArchivaProjectModel using no fetch-group
 	at org.apache.maven.archiva.consumers.database.DatabaseCleanupRemoveProjectConsumer.processArchivaArtifact(DatabaseCleanupRemoveProjectConsumer.java:119)
 	at org.apache.maven.archiva.database.updater.ProcessArchivaArtifactClosure.execute(ProcessArchivaArtifactClosure.java:52)
 	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
 	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateProcessed(JdoDatabaseUpdater.java:172)
 	at org.apache.maven.archiva.database.updater.JdoDatabaseUpdater.updateAllProcessed(JdoDatabaseUpdater.java:113)
 	at org.apache.maven.archiva.scheduled.executors.ArchivaDatabaseUpdateTaskExecutor.executeTask(ArchivaDatabaseUpdateTaskExecutor.java:78)
 	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
 	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
 	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
 	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:665)
 	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:690)
 	at java.lang.Thread.run(Thread.java:595)
",Major,Closed,Won't Fix,Brett Porter,brettporter,james,jahlborn
MRM-784,Bug,2008-05-02T01:51:05.012Z,2008-05-02T01:51:05.012Z,2008-05-26T23:01:20.012Z,2008-05-26T23:01:20.012Z,2008-05-26T23:01:20.017Z,2008-05-26T23:01:20.017Z,mailing-info on the website points to 'old' maven.apache.org addresses,"On http://archiva.apache.org/mail-lists.html the links for the various mailing-list about achiva still point to the @maven.apache.org addresses.

Please update with the correct addresses @archiva.apache.org",Major,Closed,Fixed,,,Marco Beelen,mcbeelen
MRM-720,Improvement,2008-02-27T19:24:24.856Z,2008-02-27T19:24:24.856Z,2015-04-05T14:53:56.558Z,2015-04-05T14:53:56.558Z,2008-02-27T22:12:10.632Z,2008-02-27T22:12:10.632Z,Upgrade Lucene from 2.0 to 2.3.1,There have been lots of improvements between 2.0 and the latest release (2.3.1). This would be a worth while upgrade.,Major,Closed,Fixed,Brett Porter,brettporter,James William Dumay,jameswdumay
MRM-788,Bug,2008-05-05T21:48:05.762Z,2008-05-05T21:48:05.762Z,2015-04-05T21:12:45.86Z,2015-04-05T21:12:45.86Z,2011-10-27T15:14:10.039Z,2011-10-27T15:14:10.039Z,Database Issue: java.sql.SQLException: Already closed.,"I'm getting an java.sql.SQLException: Already closed. when doing certain things in Archiva.
I've attached a stack trace f the exception from the browser.",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brill Pappin,brill
MRM-759,Improvement,2008-04-01T22:43:38.046Z,2008-04-01T22:43:38.046Z,2016-03-15T06:13:26.07Z,2016-03-15T06:13:26.07Z,2016-03-15T06:13:26.045Z,2016-03-15T06:13:26.045Z,add a generic script for platforms that don't support the wrapper,"using the new generated Jetty bundle, there is no way to start the server (equivalent to plexus.sh) when the platform is not supported by the bundled scripts",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-703,Bug,2008-02-18T21:16:10.523Z,2008-02-18T21:16:10.523Z,2015-04-05T14:54:10.716Z,2015-04-05T14:54:10.716Z,2008-02-19T02:33:24.921Z,2008-02-19T02:33:24.921Z,Artifacts with extensions longer than fours characters breaks repository scanning.,"We store Mac OS X jnilib artifacts in our unmanaged maven repository.  During our transition to a standalone archiva 1.0.1 instance running on linux (RHEL5), I was able to deploy our jnilib artifacts, but I was not able to download them as a dependency in a different project.  I received the dependency not found in any repository error.  When running the repository scan, the log file showed this:

3076623 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.RepositoryScanner:default  - Consumer [metadata-updater] had an error when processing file [/var/www/html/managed-maven2/fobs4jmf/macosx/i386/libfobs4jmf/0.4.1.4-SNAPSHOT/libfobs4jmf-0.4.1.4-20080217.211715-4.jnilib]: Unable to convert to artifact reference: fobs4jmf/macosx/i386/libfobs4jmf/0.4.1.4-SNAPSHOT/libfobs4jmf-0.4.1.4-20080217.211715-4.jnilib
org.apache.maven.archiva.consumers.ConsumerException: Unable to convert to artifact reference: fobs4jmf/macosx/i386/libfobs4jmf/0.4.1.4-SNAPSHOT/libfobs4jmf-0.4.1.4-20080217.211715-4.jnilib
        at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:167)
        at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:57)
        at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
        at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:138)
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:173)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:391)
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:385)
...

Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: filename format is invalid,expected timestamp format in filename.
        at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:131)
        at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:54)
        at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:330)
        at org.apache.maven.archiva.consumers.core.MetadataUpdaterConsumer.processFile(MetadataUpdaterConsumer.java:161)

I narrowed down the issue to a regex in org.apache.maven.archiva.repository.content.FilenameParser.  The artifact filename extension is limited to four characters and the version was coming back with '0.4.1.4-20080217.211715-4.j'.  By changing the extension length to six characters, the issue was resolved.

The attached patch sets no length on an artifact extension enabling support for .dylib and .jnilib files for mac os x.

org.apache.maven.archiva.repository.content.FilenameParser
43c43
<     private static final Pattern extensionPattern = Pattern.compile( ""(.tar.gz$)|(.tar.bz2$)|(.[a-z0-9]{1,4}$)"",
---
>     private static final Pattern extensionPattern = Pattern.compile( ""(.tar.gz$)|(.tar.bz2$)|(.[a-z0-9]*$)"",

Jim Jackson
",Minor,Closed,Fixed,Brett Porter,brettporter,Jim Jackson,jjackson
MRM-783,Improvement,2008-04-28T02:09:46.999Z,2008-04-28T02:09:46.999Z,2013-11-22T05:07:22.96Z,2013-11-22T05:07:22.96Z,,,Proxy Connector access in Managed Repository Page,"It would be great if Archiva had a link to Proxy Connector Settings of a specific Managed Repository from within the Manage Repository Page. A simple link within the bounding box of managed repo like ""configure proxy connector for this managed repo,"" or something more concise perhaps would do. 

Also, I think it would be very informative if the repos being proxied by a managed repo be also listed in this same box. something like:

Proxied Repos: central, java.net",Major,Open,,Maria Odea Ching,oching,Michael Mallete,mykol
MRM-712,Bug,2008-02-21T20:36:15.777Z,2008-02-21T20:36:15.777Z,2008-05-30T21:29:01.111Z,2008-05-30T21:29:01.111Z,,,path and filename parsing is unnecessarily complicated,"The path, filename and version parsing uses a complicated structure to be able to appropriately guess which part of a filename is a version, artifactId, and classifier.

This is needed to be able to effectively proxy and serve maven1 requests where the information is unclear.

However, this code is also used for m2 requests where the format of the filename can be clearly derived from the rest of the path.

I suggest the code be separated into different handlers based on the layout so that the m2 requests can be simplified.",Major,Open,,,,Brett Porter,brettporter
MRM-794,Bug,2008-05-06T05:54:22.452Z,2008-05-06T05:54:22.452Z,2008-07-01T18:43:11.353Z,2008-07-01T18:43:11.353Z,2008-07-01T18:42:42.134Z,2008-07-01T18:42:42.134Z,Have to create .profile file for user archiva,"I want to run Archiva as another user named archiva (RUN_AS_USER=archiva). I have to create the file $HOME/.profile for user archiva in order to set some environment variables:

export PLEXUS_BASE=/var/archiva
export JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun
export TOOLS_JAR=""${JAVA_HOME}/lib/tools.jar""

Otherwise, Archiva won't start. I think the file bin/linux-x86-32/run.sh should do the job. If RUN_AS_USER is set, a new login shell is created and within that one the wrapper is run.",Major,Closed,Duplicate,Brett Porter,brettporter,Martin Burger,mburger
MRM-768,Bug,2008-04-08T02:54:17.533Z,2008-04-08T02:54:17.533Z,2008-04-26T22:32:50.863Z,2008-04-26T22:32:50.863Z,2008-04-08T12:38:12.202Z,2008-04-08T12:38:12.202Z,Cannot proxy maven2 plugin (jaxb) from a maven1 repository (http://download.java.net/maven/1),"Legacy Artifact Path Resolution returns error message when configuring a Maven plugin in a Maven 1 repo if direcotry is not under ""plugins.""

Example:

Artifact location: http://download.java.net/maven/1/com.sun.tools.xjc.maven2/maven-plugins/maven-jaxb-plugin-1.1.jar

Configuration:

Path: com.sun.tools.xjc.maven2/maven-plugins/maven-jaxb-plugin-1.1.jar
GroupId: com.sun.tools.xjc.maven2
ArtifactId: maven-jaxb-plugin
Version: 1.1
Classifier:
Type: maven-plugin

Error message:

artifact reference does not match the initial path : com.sun.tools.xjc.maven2/plugins/maven-jaxb-plugin-1.1.jar


Also, the auto complete feature does not correctly slice the input initially:

ArtifactId: maven
Version: jaxb-plugin-1.1",Minor,Closed,Fixed,nicolas de loof,ndeloof,Michael Mallete,mykol
MRM-753,Bug,2008-03-28T05:27:13.157Z,2008-03-28T05:27:13.157Z,2008-07-02T01:18:29.371Z,2008-07-02T01:18:29.371Z,2008-07-02T01:18:29.375Z,2008-07-02T01:18:29.375Z,Error while deploying an artifact to archiva,"Our integration server (bamboo) more and more often fails to upload artifacts on archiva.
On the integration server side we receive an error like :
{code}
[INFO] Error deploying artifact: Failed to transfer file: http://host/&#8203;archiva/&#8203;repository/snapshots/&#8203;groupId/artifactId/0.18.0-SNAPSHOT/&#8203;artifactId-0.18.0-20080328.093110-37-tests.jar. Return code is: 500 Internal Server Error
{code}
On the archiva side we have this error :
{code}
2008/03/28 10:31:30 | Mar 28, 2008 10:31:30 AM org.mortbay.jetty.servlet.ServletHandler handle
INFO   | jvm 1    | 2008/03/28 10:31:30 | WARNING: /archiva/repository/generali-snapshots/fr/generali/gael/commun/gael-common-domain/0.18.0-SNAPSHOT/gael-common-domain-0.18.0-20080328.093110-37-tests.jar:
INFO   | jvm 1    | 2008/03/28 10:31:30 | org.codehaus.plexus.redback.users.UserManagerException: Unable to update the 'org.codehaus.plexus.redback.users.jdo.JdoUser' object in the jdo database.
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateObject(JdoUserManager.java:458)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:366)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.users.cached.CachedUserManager.updateUser(CachedUserManager.java:207)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.users.configurable.ConfigurableUserManager.updateUser(ConfigurableUserManager.java:161)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.authentication.users.UserManagerAuthenticator.authenticate(UserManagerAuthenticator.java:111)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.authentication.DefaultAuthenticationManager.authenticate(DefaultAuthenticationManager.java:74)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.system.DefaultSecuritySystem.authenticate(DefaultSecuritySystem.java:98)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.xwork.filter.authentication.HttpAuthenticator.authenticate(HttpAuthenticator.java:67)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.xwork.filter.authentication.basic.HttpBasicAuthentication.getAuthenticationResult(HttpBasicAuthentication.java:83)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.apache.maven.archiva.web.repository.RepositoryServlet.isAuthenticated(RepositoryServlet.java:186)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:107)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.HttpServer.service(HttpServer.java:909)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)
INFO   | jvm 1    | 2008/03/28 10:31:30 | Caused by: org.codehaus.plexus.jdo.PlexusStoreException: Unable to update object due to unexpected null value.
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.jdo.PlexusJdoUtils.updateObject(PlexusJdoUtils.java:154)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       at org.codehaus.plexus.redback.users.jdo.JdoUserManager.updateObject(JdoUserManager.java:454)
INFO   | jvm 1    | 2008/03/28 10:31:30 |       ... 32 more
INFO   | jvm 1    | 2008/03/28 10:31:30 | Caused by: java.lang.NullPointerException
{code}
I can't test to reproduce it with 1.0.2-SNAPSHOT because it occurs only on production with the integration server.",Blocker,Closed,Fixed,james.w.dumay,james.w.dumay,Arnaud HERITIER,aheritier
MRM-718,Improvement,2008-02-27T08:57:00.265Z,2008-02-27T08:57:00.265Z,2012-04-03T10:48:43.428Z,2012-04-03T10:48:43.428Z,2012-04-03T10:48:42.248Z,2012-04-03T10:48:42.248Z,repository admin page should indicate scan in progress,"it would be nice if the repository admin page showed a little more status info for in progress scans.  at the very least it would be nice to show a ""scan in progress"" or ""scan request queued"" as appropriate for a repository.  even better would be to show some partial stats for in progress scans.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,james,jahlborn
MRM-781,Improvement,2008-04-14T22:45:46.17Z,2008-04-14T22:45:46.17Z,2015-04-05T14:53:56.022Z,2015-04-05T14:53:56.022Z,2008-07-01T22:47:13.365Z,2008-07-01T22:47:13.365Z,Removal of Archiva-Webdav implementation in favor of Jackrabbit-webdav,"This patch removes plexus-webdav in favor of Jackrabbit's webdav servlet implementation. It is not yet 100% completed and tested. HTTP GET and PUT should work correctly.

The following needs to happen before integration:

1) New Jackrabbit classes need to be correctly unit tested.
2) Webdav properties need to be implemented
3) Testing of common webdav clients - Mac OS X, Windows, Wagon-Dav, etc",Major,Closed,Fixed,james.w.dumay,james.w.dumay,James William Dumay,jameswdumay
MRM-782,Bug,2008-04-25T05:34:07.698Z,2008-04-25T05:34:07.698Z,2014-04-16T23:04:25.132Z,2014-04-16T23:04:25.132Z,2014-04-16T23:04:24.932Z,2014-04-16T23:04:24.932Z,"archiva attempts to get remote version metadata for snapshots, even if policy disables it","I noticed this error in the logs:
008-04-25 18:21:00,327 [btpool0-30] WARN  org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors  - Transfer error from repository ""central""
 for versioned Metadata org.apache.archiva:archiva-reporting:1.1-SNAPSHOT, continuing to next repository. Error message: Download failure on resource 
[http://repo1.maven.org/maven2/org/apache/archiva/archiva-reporting/1.1-SNAPSHOT/maven-metadata.xml]:Read timed out

However, central has a ""never"" policy for snapshots, so this should not occur",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-761,Bug,2008-04-02T05:20:03.228Z,2008-04-02T05:20:03.228Z,2008-04-04T06:55:13.64Z,2008-04-04T06:55:13.64Z,2008-04-04T06:55:13.654Z,2008-04-04T06:55:13.654Z,Exception when trying to retrieve a Maven 1 artifact of type zip,"Through my browser, I try to access my artifact :

the url is 
http://localhost:8080/archiva/repository/maven1/jdk/zips/jre-1.0.zip

and the exception is
Error 404 Not Found

The following resource does not exist: http://localhost:8080/repository/jdk/distributions/jre-1.0.zip

org.apache.maven.archiva.repository.layout.LayoutException: Invalid path to Artifact: mismatch on extension [zip] and layout specified type [distributions] (which maps to extension: [distribution]) on path [jdk/distributions/jre-1.0.zip]
	at org.apache.maven.archiva.repository.content.LegacyPathParser.toArtifactReference(LegacyPathParser.java:190)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toArtifactReference(RepositoryRequest.java:135)
	at org.apache.maven.archiva.repository.content.RepositoryRequest.toNativePath(RepositoryRequest.java:281)
	at org.apache.maven.archiva.web.repository.ProxiedDavServer.process(ProxiedDavServer.java:193)
	at org.codehaus.plexus.webdav.servlet.multiplexed.MultiplexedWebDavServlet.service(MultiplexedWebDavServlet.java:119)
	at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:155)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:830)
	at com.opensymphony.webwork.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:189)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at com.opensymphony.webwork.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:88)
	at org.mortbay.jetty.servlet.WebApplicationHandler$CachedChain.doFilter(WebApplicationHandler.java:821)
	at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.java:471)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1530)
	at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.java:633)
	at org.mortbay.http.HttpContext.handle(HttpContext.java:1482)
	at org.mortbay.http.HttpServer.service(HttpServer.java:909)
	at org.mortbay.http.HttpConnection.service(HttpConnection.java:816)
	at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:982)
	at org.mortbay.http.HttpConnection.handle(HttpConnection.java:833)
	at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:244)
	at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)
	at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)

The artifact has been correctly deployed on archiva and what is strange is that it tries to access
jdk/distributions/jre-1.0.zip instead of  jdk/zips/jre-1.0.zip

If I install my artifact under le directory jdk/distributions, this don't solve the problem and 
if I try to retrieve the artifact with maven it fails too.",Major,Closed,Fixed,Brett Porter,brettporter,Ivan Popov,ivanpopov
MRM-776,Improvement,2008-04-11T01:14:56.68Z,2008-04-11T01:14:56.68Z,2010-03-01T03:05:36.522Z,2010-03-01T03:05:36.522Z,2010-03-01T03:05:36.415Z,2010-03-01T03:05:36.415Z,Clean up report data,"The problem was, after an upgrade there were outdated data in the db and this leads to errorneous report.

Suggestions
a) synchronize the db with the filesystem. could be long running task and not trivial to implement.
b) just delete the report data and collect them again. could be long running task, but functionality is already there",Minor,Closed,Duplicate,Brett Porter,brettporter,Roland Klein,rolandklein
MRM-771,Bug,2008-04-08T08:50:02.646Z,2008-04-08T08:50:02.646Z,2010-02-23T05:22:43.153Z,2010-02-23T05:22:43.153Z,2010-02-23T05:22:43.077Z,2010-02-23T05:22:43.077Z,versions in metadata not merged correctly for cargo-maven2-plugin,"1) remove local repository (for at least affected plugin artifact)

2) remove maven-metadata* files from managed repository for affected plugin artifact

3) try to build: http://svn.apache.org/repos/asf/struts/struts2/trunk/apps (or wget /repository/internal/org/codehaus/cargo/cargo-maven2-plugin/maven-metadata.xml)

The resulting metadata is:
<metadata>
  <groupId>org.codehaus</groupId>
  <artifactId>cargo</artifactId>
  <version>cargo-maven2-plugin</version>
</metadata>

where it should be equivalent to the one on central. Note the group, artifact and version are parsed incorrectly.

",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-790,Bug,2008-05-06T04:15:26.655Z,2008-05-06T04:15:26.655Z,2008-05-29T04:50:38.849Z,2008-05-29T04:50:38.849Z,2008-05-29T04:50:38.854Z,2008-05-29T04:50:38.854Z,[regression] proxying metadata causes an IO exception in new checksum code,"Steps to reproduce:
1) remove /activemq/activemq-gbean-management/*.xml and associated checksums on the filesystem
2) request /activemq/activemq-gbean-management/maven-metadata.xml via Archiva

Exception:

2008-05-06 19:02:39,097 [btpool0-7] WARN  org.apache.archiva.checksum.ChecksummedFile  - Supplied checksum does not match checksum pattern
java.io.IOException: Supplied checksum does not match checksum pattern
        at org.apache.archiva.checksum.ChecksummedFile.parseChecksum(ChecksummedFile.java:336)
        at org.apache.archiva.checksum.ChecksummedFile.fixChecksums(ChecksummedFile.java:269)
        at org.apache.maven.archiva.policies.ChecksumPolicy.applyPolicy(ChecksumPolicy.java:129)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.validatePolicies(DefaultRepositoryProxyConnectors.java:774)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.transferFile(DefaultRepositoryProxyConnectors.java:602)
        at org.apache.maven.archiva.proxy.DefaultRepositoryProxyConnectors.fetchFromProxies(DefaultRepositoryProxyConnectors.java:351)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchMetadataFromProxies(ArchivaDavResourceFactory.java:283)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.fetchContentFromProxies(ArchivaDavResourceFactory.java:225)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.doGet(ArchivaDavResourceFactory.java:151)
        at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:111)
        at org.apache.maven.archiva.web.repository.RepositoryServlet.service(RepositoryServlet.java:107)

",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-762,Bug,2008-04-02T11:22:52.453Z,2008-04-02T11:22:52.453Z,2015-04-05T14:54:06.946Z,2015-04-05T14:54:06.946Z,2008-04-03T07:59:17.886Z,2008-04-03T07:59:17.886Z,Footer doesn't stretch across repositoryScanning and database pages,"The footer doesn't stretch all the way across the page for the repositoryScanning and database pages.  This is because the footer DIV is being generated inside the contentBox DIV instead of outside of it.  Upon inspecting the pages repositoryScanning.jsp and database.jsp (in WEB-INF/jsp/admin) I found that the DIV tag <div id=""contentArea""> is never closed at the end of the file, causing the observed behaviour.

This can easily be fixed by simply adding a second </div> before the closing body and html tags in both files.",Trivial,Closed,Fixed,Brett Porter,brettporter,Doron Solomon,freeky_d
MRM-756,Improvement,2008-03-30T17:06:27.583Z,2008-03-30T17:06:27.583Z,2008-03-30T21:37:20.788Z,2008-03-30T21:37:20.788Z,,,make content-disposition header customisable for some mime-types,"I would like to be able to set all textual formats (text/*, application/xml in particular) in archiva-mime-types to have a content-disposition of inline so that they are shown in the browser rather than downloaded as an attachment.",Minor,Open,,,,Brett Porter,brettporter
MRM-737,Improvement,2008-03-11T19:39:23.669Z,2008-03-11T19:39:23.669Z,2010-02-28T23:05:50.253Z,2010-02-28T23:05:50.253Z,2009-02-18T00:52:49.802Z,2009-02-18T00:52:49.802Z,Don't list metadata files in the search results,"We currently list maven-metadata.xml files in the search results.  IMO they don't add value and should not be displayed.

(This is somewhat related to MRM-650, deleted maven-metadata.xml files are not removed from search results.)",Major,Closed,Fixed,Maria Odea Ching,oching,Wendy Smoak,wsmoak
MRM-745,Bug,2008-03-19T21:48:46.103Z,2008-03-19T21:48:46.103Z,2008-03-19T21:54:42.32Z,2008-03-19T21:54:42.32Z,,,remove use of appserver.base system property and interpolation,we should be able to configure this via a context variable in the web application (and alternate configuration source for any non-webapp deployments that come later) and simplify basic webapp installation,Major,Open,,,,Brett Porter,brettporter
MRM-1750,New Feature,2013-04-22T06:42:49.891Z,2013-04-22T06:42:49.891Z,2013-12-22T06:25:56.316Z,2013-12-22T06:25:56.316Z,2013-12-22T06:25:56.16Z,2013-12-22T06:25:56.16Z,Add remote repository health check,"A cron based check of remote repositories (cron value per remote).
Option:
* disable the repository until the next check ?
* send an email to users with admin role ?",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1781,Bug,2013-10-02T15:12:57.969Z,2013-10-02T15:12:57.969Z,2013-10-03T07:39:21.516Z,2013-10-03T07:39:21.516Z,2013-10-03T07:39:21.409Z,2013-10-03T07:39:21.409Z,Error viewing artifact information,"Searched on jasypt, paged down until reached version 1.3.1, clicked on the version number and received and error message (image attached).  I then also attached the logs.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Josh Toepfer,jatoepfer
MRM-1755,Bug,2013-04-24T11:43:07.12Z,2013-04-24T11:43:07.12Z,2015-04-05T14:53:47.727Z,2015-04-05T14:53:47.727Z,2013-04-25T05:24:40.986Z,2013-04-25T05:24:40.986Z,[Patch] Activating the dependency tree tab on snapshot artifact fails with NotSuchMethodException,"Hello,

You will find attached a patch that fixes an exception (NoSuchMethodException)  thrown when the user browses into snapshot artifact dependencies. I just updated version of maven-repository-metadata dependency. All tests are succeeding.

Best regards,
Antoine Rouaze",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Antoine ROUAZE,erouan
MRM-1704,Bug,2012-10-23T07:29:27.945Z,2012-10-23T07:29:27.945Z,2017-04-05T19:31:42.556Z,2017-04-05T19:31:42.556Z,,,Refactor to remove maven specific part from various repository/metadata apis,"The goal is to able to create new repostories type.
The specific part will be moved to org.apache.archiva.metadata.repository.storage.RepositoryStorage
Some part contains maven specific which need to be moved on maven2 modules.",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1718,New Feature,2012-11-23T03:34:08.547Z,2012-11-23T03:34:08.547Z,2012-12-08T09:42:02.883Z,2012-12-08T09:42:02.883Z,2012-12-08T09:42:02.037Z,2012-12-08T09:42:02.037Z,ldap configuration editable with the ui.,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1789,Bug,2013-10-31T10:38:22.628Z,2013-10-31T10:38:22.628Z,2013-12-17T23:28:00.212Z,2013-12-17T23:28:00.212Z,2013-12-17T23:27:59.879Z,2013-12-17T23:27:59.879Z,"Register link appears after logging in and back out even ""Disable registration Link"" is checked","I have the ""Disable registration Link"" checkbox checked and initially hitting the Archiva homepage the register button is not shown.

But after I have logged in and then log out, the link appears and is clickable",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1740,Bug,2013-01-12T16:19:00.652Z,2013-01-12T16:19:00.652Z,2013-01-15T18:17:54.022Z,2013-01-15T18:17:54.022Z,2013-01-15T18:17:53.836Z,2013-01-15T18:17:53.836Z,implements LDAP user/roles creation ,"add a flag writableLdap (per default false).
users and roles will be created if true.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1752,Improvement,2013-04-22T06:59:14.833Z,2013-04-22T06:59:14.833Z,2015-04-05T14:53:55.494Z,2015-04-05T14:53:55.494Z,2013-04-22T08:29:18.058Z,2013-04-22T08:29:18.058Z,Graph visualization for dependencies,"Hello,

You will find attached a patch that adds a tab to the Browse view and makes it visually easier to view the dependency tree as a graph. See attached screenshot. It uses d3.js.

Best regards,
Antoine Rouaze",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Antoine ROUAZE,erouan
MRM-1769,Bug,2013-06-05T15:30:16.515Z,2013-06-05T15:30:16.515Z,2013-11-28T17:15:44.743Z,2013-11-28T17:15:44.743Z,2013-11-28T17:15:44.653Z,2013-11-28T17:15:44.653Z,Can't uploads multiple artifacts of different types,"I am using Archiva 1.4M4.

I noticed that Maven can upload multiple artifacts with different packaging (like a jar, a xml and a pom) for one version/snapshot.

I can't achieve that with the Archiva UI / REST API.
I managed to upload multiple files, but as I can only specify ONE packaging,
all files get changed to the same suffix.

e.g. if I upload a pdf and a xml and pick 'xml' as packaging, then I end up with 2 files that have a .xml file extension.

IMHO the packaging should be a per file parameter, just like the classifier.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Lothar Werzinger,lwerzinger
MRM-1753,Bug,2013-04-23T07:20:21.057Z,2013-04-23T07:20:21.057Z,2015-04-05T14:53:58.026Z,2015-04-05T14:53:58.026Z,2013-04-24T04:50:01.979Z,2013-04-24T04:50:01.979Z,Number of artifacts type is not displayed in the statistics view,"Hello,

You will find attached a patch that fixes the display of the number of artifacts type in the repository statistics table.

Regards,
Antoine Rouaze",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Antoine ROUAZE,erouan
MRM-1766,Bug,2013-06-04T11:18:12.489Z,2013-06-04T11:18:12.489Z,2013-12-01T22:46:26.033Z,2013-12-01T22:46:26.033Z,2013-12-01T22:46:25.819Z,2013-12-01T22:46:25.819Z,"Clicking the "".."" when browsing should take you up one level in the group chain and not ""Home""","Even though this is a MINOR Bug, it is a MAJOR pain in the butt because I can't seem to remember to not click it when attempting to navigate up one level :)

If I'm browsing in the folder for org.apache.archiva and want to click the little folder icon to go up one level, instead of taking me to org.apache, it takes me all the way to the root/home folder.

So for example if the starting url is:

     http://archiva/#browse/org.apache.commons

when I click the link to up to the parent folder, I want it to go to:

     http://archiva/#browse/org.apache

But instead it goes to:

     http://archiva/#browse

If it is working as designed, it is not intuitive since up one level to me means up to the parent group folder, not all the way to the top/home folder.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jeff Vincent,predatorvi
MRM-1762,Bug,2013-05-30T11:27:12.305Z,2013-05-30T11:27:12.305Z,2013-11-14T19:38:36.226Z,2013-11-14T19:38:36.226Z,2013-11-14T19:38:35.988Z,2013-11-14T19:38:35.988Z,Upload Artifact page allows to uploading SNAPSHOT versions to non snapshot repositories,"Uploading a SNAPSHOT version artifact to a repository that is not configured for snapshots (like the default internal repository) does not lead to an error.
The message indicates that the artifact has been successfully uploaded.

bq. Artifacts uploaded and saved on Server side.


However the repository is now in a non recoverable bad state and when one tries to browse to the uploaded artifact an error message is displayed:

bq. managed repo is configured for release only

At that point it is not even possible to delete the erroneous artifact. 


Found with Archiva 1.4-M4 (2100)
dist - Revision 2100: /dev/archiva/1.4-M4/binaries
",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Lothar Werzinger,lwerzinger
MRM-1743,Bug,2013-01-31T14:49:18.477Z,2013-01-31T14:49:18.477Z,2013-01-31T14:49:18.477Z,2013-01-31T14:49:18.477Z,,,maven metadata not complete (after snapshots purge ?),"Currently we have :
{code}
<metadata>
  <groupId>org.apache.archiva</groupId>
  <artifactId>archiva-parent</artifactId>
  <version>10-SNAPSHOT</version>
  <versioning>
    <snapshot>
      <buildNumber>26</buildNumber>
      <timestamp>20130129.134911</timestamp>
    </snapshot>
    <lastUpdated>20130129134911</lastUpdated>
  </versioning>
</metadata>
{code}
For maven3 we could have
{code}
<?xml version=""1.0"" encoding=""UTF-8""?>
<metadata modelVersion=""1.1.0"">
  <groupId>org.apache.tomcat.maven</groupId>
  <artifactId>tomcat-maven-plugin</artifactId>
  <version>2.1-SNAPSHOT</version>
  <versioning>
    <snapshot>
      <timestamp>20130131.132800</timestamp>
      <buildNumber>32</buildNumber>
    </snapshot>
    <lastUpdated>20130131132800</lastUpdated>
    <snapshotVersions>
      <snapshotVersion>
        <extension>pom</extension>
        <value>2.1-20130131.132800-32</value>
        <updated>20130131132800</updated>
      </snapshotVersion>
      <snapshotVersion>
        <classifier>site</classifier>
        <extension>xml</extension>
        <value>2.1-20130131.132800-32</value>
        <updated>20130131132800</updated>
      </snapshotVersion>
    </snapshotVersions>
  </versioning>
</metadata>
{code}",Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1710,Bug,2012-11-14T14:01:47.837Z,2012-11-14T14:01:47.837Z,2012-11-14T14:04:48.021Z,2012-11-14T14:04:48.021Z,2012-11-14T14:04:47.884Z,2012-11-14T14:04:47.884Z,errors are not displayed in modal box when reseting password,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1716,New Feature,2012-11-21T16:59:26.34Z,2012-11-21T16:59:26.34Z,2012-11-21T16:59:26.34Z,2012-11-21T16:59:26.34Z,,,add filter/search for users list,"users list can be very long.
We must provide a filter(autocomplete?) on name,full name and email.",Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1749,Bug,2013-02-20T14:41:57.086Z,2013-02-20T14:41:57.086Z,2013-02-27T12:54:23.625Z,2013-02-27T12:54:23.625Z,,,Delete Released Snapshots Not Working / Expectations?,"We have two managed repos (internal & snapshots).  Both have been marked with ""Delete released snapshots"".  As you would expect, we do not allow snapshots in in ""internal"" and no releases in ""snapshots"".  We also use proxy connectors.  I have tried both 1.3.5 & 1.4-M3 without luck.
I'm wondering if logic requires pre-M3 version conventions (i.e. 1.3-SNAPSHOT & 1.3-RELEASE).  We use a variation which I thought was supported in Maven 3.  For example, 1.0.0.BUILD-SNAPSHOT & 1.0.0.RELEASE.  Could this be the issue?  Can someone provide any detail on the logic used for this feature? A little more about the M3 version changes http://docs.codehaus.org/display/MAVEN/Versioning.  This particular convention was modeled after the Spring Framework (and related Spring projects).
Thanks.",Major,Open,,,,Alex Franken,afranken
MRM-1791,Bug,2013-11-07T17:45:30.132Z,2013-11-07T17:45:30.132Z,2013-11-07T19:21:39.679Z,2013-11-07T19:21:39.679Z,2013-11-07T19:21:39.366Z,2013-11-07T19:21:39.366Z,ldap group mapping support for active directory,"see https://github.com/apache/redback-core/pull/1
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1737,Bug,2013-01-02T17:16:45.746Z,2013-01-02T17:16:45.746Z,2013-01-02T18:03:34.758Z,2013-01-02T18:03:34.758Z,2013-01-02T18:03:34.684Z,2013-01-02T18:03:34.684Z,Improve welcome page,"currently there is no welcome page.
We could improve that with various links to web site and documentation.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1788,Wish,2013-10-31T04:24:52.053Z,2013-10-31T04:24:52.053Z,2013-10-31T04:24:52.053Z,2013-10-31T04:24:52.053Z,,,Support of Single Sign On for user authentication,"I wish Archiva can make use of SSO tools like Jasig CAS to authenticate users, so users won't have to retype their username and password if they're already authenticated on the SSO system, and also if they want to logout from Archiva, they will be logged out from the other applications using the SSO in their authentication process.",Minor,Open,,,,MATTHIAS BERNIER,linux78
MRM-1764,Improvement,2013-06-02T20:28:04.417Z,2013-06-02T20:28:04.417Z,2013-11-27T21:03:43.245Z,2013-11-27T21:03:43.245Z,2013-11-27T21:03:43.106Z,2013-11-27T21:03:43.106Z,#users > edit roles -- please sort repository list for ease of use,Please sort the list of repositories under the #users panel > edit roles. This will make usability better. Thank you.,Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1734,Improvement,2012-12-22T08:50:13.187Z,2012-12-22T08:50:13.187Z,2013-01-02T04:51:02.265Z,2013-01-02T04:51:02.265Z,2013-01-02T04:51:01.482Z,2013-01-02T04:51:01.482Z,add some filtering for searching in users table,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1797,Improvement,2013-12-05T20:10:22.104Z,2013-12-05T20:10:22.104Z,2017-04-05T19:33:03.125Z,2017-04-05T19:33:03.125Z,,,Remove the old taskqueue component to Disruptor,,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1785,Bug,2013-10-18T09:17:01.766Z,2013-10-18T09:17:01.766Z,2015-06-22T13:24:59.516Z,2015-06-22T13:24:59.516Z,2014-09-01T21:05:47.576Z,2014-09-01T21:05:47.576Z,Little memory leak detected,"Perhaps some duplicate of MRM-1741 (but no activity since 6 months => openend a new)

----

We are using Archiva 1.4-M4 for our company, and we found some memory problem usage on this version.

It seems not to be a ""big problem"", because there is _not directly_ a OutOfMemory, the Jetty server becomes very slow before. Symptom from CI platorm (for exemple) : 

{quote}
Server returned HTTP response code: 502 for URL: http://[url]/repository/[repoName]/[grouId]/[artifactId]/[version]/maven-metadata.xml
{quote}

----

+Informations about volumetry+ : 

Requests by day (wc -l request-XXX.log) : *430000* (average)

Company repositories (_Total File Count_ from Stats in  Repositories menu) : 
* company-releases  : 574771
* company-snapshots : 118905
* proxied-releases  : 232626
* proxied-snapshots : 2136
* extra-libs : 9232
* commercial-libs : 4587
* *Total : 950000*

+Note+ : Option  ""Skip Packed Index creation"" activated on each repositories.
----
+Analysis+ : 

The GC grow up during the week : 
!GC-HeapUsage-OneWeek.png!

The invocation to GC grow up when memory is short :
!GC-InvocationCountOneWeek.png!

Before the problem, we can see the impact (difficulty to garbage memory) :
!GC-HeapUsage-BeforeProblem.png!

After a application restart, the common usage is less than 2Go :
!GC-HeapUsage-AfterProblem.png!

=> So the supposition is a little memory leak.

----

A solution could be some cache time reduction or SoftReference/WeakReference usage.

Today I have not more information about problem, restart was urgent, and analysis a 4Go HeapDump a little difficult.
I will take HeapDumps the next week to give some detail about memory usage.",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Alix Lourme,axel3rd
MRM-1783,Bug,2013-10-04T02:07:41.025Z,2013-10-04T02:07:41.025Z,2013-10-09T17:17:40.536Z,2013-10-09T17:17:40.536Z,2013-10-09T17:17:40.468Z,2013-10-09T17:17:40.468Z,"The words ""choosen"" and ""availables"" used within the Users Runtime Configuration","The Users Runtime Configuration section contains the word ""choosen"" and ""availables"" under the General tab.

""choosen"" should be changed to ""chosen"" or something like:
""Selected User Managers""
""Configured User Managers""
""Selected Rbac Managers""
""Configured Rbac Managers""

""availables"" should be changed to ""available"", however its use within that header should be something like:
""Available User Managers""
""Available Rbac Managers""",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1717,Improvement,2012-11-22T08:02:30.18Z,2012-11-22T08:02:30.18Z,2012-11-22T14:29:18.827Z,2012-11-22T14:29:18.827Z,2012-11-22T14:28:32.519Z,2012-11-22T14:28:32.519Z,open loginbox when url need authz,"currently when going to an url with authz needed the login is not opened automatically.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1706,Bug,2012-10-30T05:18:40.478Z,2012-10-30T05:18:40.478Z,2012-10-30T05:19:06.246Z,2012-10-30T05:19:06.246Z,2012-10-30T05:19:06.042Z,2012-10-30T05:19:06.042Z,upgrade bootstrap to 2.2.0,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1705,Bug,2012-10-24T08:39:48.092Z,2012-10-24T08:39:48.092Z,2012-10-26T08:59:34.066Z,2012-10-26T08:59:34.066Z,2012-10-26T08:59:33.892Z,2012-10-26T08:59:33.892Z,Feature to add custom parameters and/or headers when requesting an external repositories,"Admin must be able to configure:
* add extra parameters when get datas from remote repositories
* add http headers",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1759,Bug,2013-05-01T05:48:22.058Z,2013-05-01T05:48:22.058Z,2016-10-04T23:06:56.561Z,2016-10-04T23:06:56.561Z,2016-10-04T23:06:17.032Z,2016-10-04T23:06:17.032Z,issue connecting to secured ldap,I noticed some issues connect to secured ldap. (asf instance and local secured instance),Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1774,Bug,2013-08-09T12:50:08.652Z,2013-08-09T12:50:08.652Z,2013-12-01T22:47:39.769Z,2013-12-01T22:47:39.769Z,,,RepositoryAdminException when configuring a custom JCR repository path,"This is a standard debian tomcat install where the tomcat user does not have write access to the tomcat folder itself. All archiva data is placed on a separate partition at /mnt/datastore1/archiva.

When I try to configure an alternative jackrabbit repository location as described [here|http://archiva.apache.org/docs/1.4-M4/adminguide/repositories-content-storage.html] by setting the jcr-config's constructor-arg to my custom path, the jackrabbit repository is created but the following exception shows up in the archiva.log:

{code}org.apache.archiva.admin.model.RepositoryAdminException: Cannot create directory: /var/lib/tomcat6/data/remotes/central/.index{code}

I tried to grep for '/data' in the war folder but haven't found anything except the jcr repository part. Where does this path come from?

I currently have created a symlink that points to the archiva data location which works fine but I don't like this solution because now I have to maintain configuration at multiple locations (symlink+config files).",Major,Open,,,,Mario Steinhoff,msteinhoff
MRM-1760,Improvement,2013-05-02T06:18:27.118Z,2013-05-02T06:18:27.118Z,2013-05-02T08:20:25.101Z,2013-05-02T08:20:25.101Z,2013-05-02T08:20:24.909Z,2013-05-02T08:20:24.909Z,"Multiple, incompatible, log name formats","Without any customization of Archiva logging system, today I find: 2013_05_02.request.log, archiva-05-02-2013.log, and wrapper.20130502.log files. These are using three separate date formats, and it is a pain to script clean up of them.

I request that we use a common and consistent scheme for naming these log files.",Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1771,New Feature,2013-06-11T07:02:50.302Z,2013-06-11T07:02:50.302Z,2017-04-05T20:11:59.617Z,2017-04-05T20:11:59.617Z,,,RepositorySessionFactory must be configurable (with jcr as default),"Currently RepositorySessionFactory is the only one available in the classpath using injection
    @Inject
    private RepositorySessionFactory repositorySessionFactory;

As we now have 3 implementations we must give the opportunity to the user to define it via configuration.",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1733,New Feature,2012-12-21T10:58:22.406Z,2012-12-21T10:58:22.406Z,2012-12-21T11:02:58.87Z,2012-12-21T11:02:58.87Z,,,Add replication and fault tolerance using Helix,"As of today, Archiva does not support replication and does not support automatic fail over. Archiva has two main storage types, the files uploaded to the repository which uses file system for storage and metadata storage for which Jack Rabbit is used. Archiva also supports notification mechanism where a consumer can be notified of the changes in the repository.

In order to have fault tolerance and replication, we can have multiple archiva instances running for redundancy. One of them will be elected as the master and will accept writes/reads. And the remaining will be slaves and only serve reads. The slaves can get notified from the master of every change and it will apply the changes. When the master dies, one of the slaves will become the master and serve writes. 

Apache Helix is a newly incubated project and provides the basic building blocks to add partition management, recovery from failure and cluster expansion with ease. I have built a sample prototype how one can build such a replicated file store using Helix.  More information can be found here. http://helix.incubator.apache.org/recipes/rsync_replicated_file_store.html

I have used rsync for replication and  apache jci module to detect file system changes to show case the recipe as a generic use case. However in case of Archiva, one can use the notification mechanism provided by archiva consumer for detecting changes and using archiva api's to fetch the changed files. ",Major,Open,,,,kishore gopalakrishna,k4j
MRM-1714,New Feature,2012-11-21T11:38:47.335Z,2012-11-21T11:38:47.335Z,2012-11-23T16:44:17.446Z,2012-11-23T16:44:17.446Z,2012-11-23T16:44:17.11Z,2012-11-23T16:44:17.11Z,using LDAP can be configurable with the ui,"currently to use ldap users/admin must edit a configuration file and restart their instance.
This must be configurable with the ui.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1765,Improvement,2013-06-02T20:30:15.091Z,2013-06-02T20:30:15.091Z,2013-11-27T04:31:50.174Z,2013-11-27T04:31:50.174Z,2013-11-27T04:31:50.119Z,2013-11-27T04:31:50.119Z,#users > edit -- please sort effective roles,Please sort the Roles listed when an administrator enters the #users panel and clicks edit button for a specific user. This will help with user interface effectiveness.,Trivial,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1712,Improvement,2012-11-19T06:55:40.93Z,2012-11-19T06:55:40.93Z,2012-11-19T09:23:19.587Z,2012-11-19T09:23:19.587Z,2012-11-19T09:23:19.332Z,2012-11-19T09:23:19.332Z,Add buttons for managing proxy connectors rules as can be a pain with long list of repositories,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1722,Improvement,2012-12-07T03:05:11.391Z,2012-12-07T03:05:11.391Z,2012-12-20T05:03:45.919Z,2012-12-20T05:03:45.919Z,2012-12-20T05:03:45.773Z,2012-12-20T05:03:45.773Z,Use cookie settings from redback for rememberme feature,"rememberme feature has been restored in 1.4-M4.
But doesn't take care about cookie settings from redback.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1770,Improvement,2013-06-05T15:45:24.621Z,2013-06-05T15:45:24.621Z,2017-04-05T20:12:18.627Z,2017-04-05T20:12:18.627Z,,,Allow subtree searches for LDAP authentication,"The nature of LDAP is an object hierarchy allowing for structured organization of users, groups, computers, and other objects (similar to a file system).

The object structure can be organized by geographic region, business unit or organizational structure (just to name a few).

In our company, not all users or groups are in a single container/location in the LDAP directory structure and we need to be able to specify the root-most container to start the search and need subtree searches or users will be missed.
",Minor,Open,,,,Jeff Vincent,predatorvi
MRM-1792,Improvement,2013-11-10T21:29:08.141Z,2013-11-10T21:29:08.141Z,2017-04-05T23:49:23.853Z,2017-04-05T23:49:23.853Z,2017-04-05T23:49:23.812Z,2017-04-05T23:49:23.812Z,Integrate Apache Sirona Monitoring,,Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1780,Bug,2013-10-02T14:59:04.367Z,2013-10-02T14:59:04.367Z,2013-11-24T23:12:20.227Z,2013-11-24T23:12:20.227Z,2013-11-24T23:12:18.46Z,2013-11-24T23:12:18.46Z,Filtering on Artifact Id,"When ever I use the GUI interface to filter on the artifact id after a search has been performed, it does not perform this secondary filter.

e.g.
Search on: org.springframework.ldap
Artifact ID (filter): spring-ldap
Result: Does not filter out all other artifacts, but ignores the filter selected and the filter box stays blank.",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Josh Toepfer,jatoepfer
MRM-1746,Improvement,2013-02-07T03:27:31.12Z,2013-02-07T03:27:31.12Z,2013-12-17T01:30:23.652Z,2013-12-17T01:30:23.652Z,2013-12-17T01:30:23.167Z,2013-12-17T01:30:23.167Z,build merged index for groups with a cron schedule,"the current merged index for groups is generated ""on the fly"" (with some caching to avoid generation on each request).
We can add a cron schedule to generate it.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1728,Bug,2012-12-18T18:00:12.263Z,2012-12-18T18:00:12.263Z,2012-12-19T08:44:36.595Z,2012-12-19T08:44:36.595Z,,,RepositoryStatisticsManager#getLastStatistics takes a lot of time,"especially with jcr and old repo.
All entries are loaded.
MetadataRepository#getLastMetadataFacet is very long as it load all entries",Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1796,Bug,2013-12-04T11:04:21.751Z,2013-12-04T11:04:21.751Z,2013-12-05T04:42:39.996Z,2013-12-05T04:42:39.996Z,2013-12-04T17:50:12.955Z,2013-12-04T17:50:12.955Z,Can't download large archive file due to java.lang.NumberFormatException,"I tried to download a large archive(3GB,3,275,052,860 bytes to be precise) that I uploaded to Apache Archiva 1.3.6 using Eclispe Aether API and attempt to download it failed.
Note: I was able to upload and download 1GB file fine.
So it may seems that there is probably an attempt to convert a Long value (3,275,052,860) to an Integer value in the code below that results in
java.lang.NumberFormatException: For input string: ""3275052860""

Detail of archiva trace log:
============================================================================

jvm 1    | 2013-12-04 11:36:03.712::WARN:  /archiva/repository/internal/com/datasynapse/fabric/HelloWorldXXL/6.0
.0/HelloWorldXXL-6.0.0.war
jvm 1    | java.lang.NumberFormatException: For input string: ""3275052860""
jvm 1    |      at java.lang.NumberFormatException.forInputString(Unknown Source)
jvm 1    |      at java.lang.Integer.parseInt(Unknown Source)
jvm 1    |      at java.lang.Integer.parseInt(Unknown Source)
jvm 1    |      at org.apache.jackrabbit.webdav.io.OutputContextImpl.setContentLength(OutputContextImpl.java:60)

jvm 1    |      at org.apache.maven.archiva.webdav.ArchivaDavResource.spool(ArchivaDavResource.java:202)
jvm 1    |      at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.spoolResource(AbstractWebdavServlet
.java:422)
jvm 1    |      at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.doGet(AbstractWebdavServlet.java:38
8)
jvm 1    |      at org.apache.jackrabbit.webdav.server.AbstractWebdavServlet.execute(AbstractWebdavServlet.java:
229)
jvm 1    |      at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:125)
jvm 1    |      at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
jvm 1    |      at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:416)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilt
er.java:96)
jvm 1    |      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
jvm 1    |      at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
jvm 1    |      at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
jvm 1    |      at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
jvm 1    |      at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
jvm 1    |      at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
jvm 1    |      at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
jvm 1    |      at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
jvm 1    |      at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
jvm 1    |      at org.mortbay.jetty.Server.handle(Server.java:326)
jvm 1    |      at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
jvm 1    |      at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
jvm 1    |      at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
jvm 1    |      at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
jvm 1    |      at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
jvm 1    |      at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
jvm 1    |      at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
",Blocker,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,BK Lau,bklau2006
MRM-1763,Improvement,2013-05-30T11:32:46.537Z,2013-05-30T11:32:46.537Z,2017-04-05T20:12:44.514Z,2017-04-05T20:12:44.514Z,,,Provide custom roles for repository access,"The currently available roles are very coarse granular being a mere observer or a full manager of a repository.

It would be helpful to be able to create new roles that have limited access to the repository.

An example role could grant the right to upload new artifacts without the right to fully manage the repository (including deletion of artifacts).

Another example role could grant the right to merge without the right to fully manage the repository.
",Minor,Open,,,,Lothar Werzinger,lwerzinger
MRM-1795,Bug,2013-12-03T02:07:17.459Z,2013-12-03T02:07:17.459Z,2013-12-04T17:16:53.765Z,2013-12-04T17:16:53.765Z,2013-12-04T17:16:53.694Z,2013-12-04T17:16:53.694Z,window.archivaRuntimeInfo.version is null in archiva/archiva.js,"window.archivaRuntimeInfo.version is null in my environment and this implies not to open the web interface (only loading image is visible).

I fixed that by checking if window.archivaRuntimeInfo.version is not null (line 25).",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,markus innerebner,markusin
MRM-1720,Bug,2012-11-29T08:21:48.448Z,2012-11-29T08:21:48.448Z,2012-12-18T11:51:43.63Z,2012-12-18T11:51:43.63Z,2012-12-18T11:51:42.943Z,2012-12-18T11:51:42.943Z,hard coded limitation of 30 for pageSize in SearchResultLimits,"currently pageSize in SearchResultLimits is hardcoded to 30 and limited to 200.
REST services call doesn't allow to change the value.
So some rest call doesn't return all the values.",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1786,Bug,2013-10-29T06:53:18.737Z,2013-10-29T06:53:18.737Z,2014-09-03T18:47:02.426Z,2014-09-03T18:47:02.426Z,2014-09-03T18:47:02.388Z,2014-09-03T18:47:02.388Z,Apache Archiva 1.4-M4 - Deployment Issue,"However, when I try to deploy the artifact through eclipse (Kepler) Im getting the below error.

Error code 405, HTTP method PUT is not supported by this URL

For more details pls refer http://stackoverflow.com/questions/19313521/apache-archiva-1-4-m4-deployment-issue",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Kosala De Silva,kosalads
MRM-1754,Bug,2013-04-24T11:31:19.373Z,2013-04-24T11:31:19.373Z,2015-04-05T14:53:58.67Z,2015-04-05T14:53:58.67Z,2013-04-25T02:52:47.706Z,2013-04-25T02:52:47.706Z,DownloadMergedIndexNonDefaultPathTest test fail,"Hello,

You will find attached a patch that fixes bug in archiva-modules/archiva-web/archiva-web-common/src/test/java/org/apache/archiva/DownloadMergedIndexNonDefaultPathTest.java test.

Best regards,
Antoine Rouaze",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Antoine ROUAZE,erouan
MRM-1782,Bug,2013-10-04T01:55:19.417Z,2013-10-04T01:55:19.417Z,2013-11-24T23:15:00.634Z,2013-11-24T23:15:00.634Z,2013-11-24T23:15:00.619Z,2013-11-24T23:15:00.619Z,SNAPSHOTS not getting purged,"I've configured Jenkins to deploy snapshots to an internal snapshot repo that houses in-house artifacts upon successful builds.  Jenkins is doing its job and deploying successful builds to Archiva.  However, the artifacts keep accumulating!

Repository scanning is set to:
Enabled 	repository-purge 	Purge repository of old snapshots

The snapshot repo's relevant settings are:
Cron Expression: 0 0 * * * ?
Days Older: 2
Retention Count: 2
Snapshots, Scanned, and Delete Released Snapshots are the only check boxes that are checked.

I've included a screen shot of just one of the artifacts that I'm manually having to purge.",Critical,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1700,Bug,2012-10-19T11:14:32.488Z,2012-10-19T11:14:32.488Z,2012-10-19T12:18:08.371Z,2012-10-19T12:18:08.371Z,2012-10-19T12:18:08.123Z,2012-10-19T12:18:08.123Z,Authentication for remote repositories doesn't work,"I try to access a remote repository (configured as remote repository + proxy) which requires authentication.

Although I have username and password specified in the remote repository config the request is unauthorized.

I checked with a tcp tracer, the request is indeed unauthorized",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1773,Bug,2013-08-06T14:57:37.883Z,2013-08-06T14:57:37.883Z,2013-09-25T02:46:25.873Z,2013-09-25T02:46:25.873Z,2013-09-25T01:32:00.107Z,2013-09-25T01:32:00.107Z,log4j2 beta8 cause out of heap space with java-1.7.0_25,"Trying to build Archiva I get ""Out of Heap space"" when running tests for archiva-repository-admin-default.

Running org.apache.archiva.admin.repository.ValidatorTest
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 88.139 sec <<< FAILURE! - in org.apache.archiva.admin.repository.ValidatorTest
testGenericValidator(org.apache.archiva.admin.repository.ValidatorTest)  Time elapsed: 87.434 sec  <<< ERROR!
java.lang.OutOfMemoryError: Java heap space
	at java.util.Arrays.copyOf(Arrays.java:2245)
	at java.util.Arrays.copyOf(Arrays.java:2219)
	at java.util.Vector.grow(Vector.java:262)
	at java.util.Vector.ensureCapacityHelper(Vector.java:242)
	at java.util.Vector.addElement(Vector.java:616)
	at java.util.Stack.push(Stack.java:67)
	at org.apache.logging.log4j.core.impl.ThrowableProxy.getCurrentStack(ThrowableProxy.java:297)
	at org.apache.logging.log4j.core.impl.ThrowableProxy.<init>(ThrowableProxy.java:69)
	at org.apache.logging.log4j.core.impl.Log4jLogEvent.<init>(Log4jLogEvent.java:112)
	at org.apache.logging.log4j.core.impl.Log4jLogEvent.<init>(Log4jLogEvent.java:83)
	at org.apache.logging.log4j.core.impl.DefaultLogEventFactory.createEvent(DefaultLogEventFactory.java:49)
	at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:366)
	at org.apache.logging.log4j.core.Logger.log(Logger.java:110)
	at org.apache.logging.log4j.spi.AbstractLoggerWrapper.log(AbstractLoggerWrapper.java:55)
	at org.apache.logging.log4j.spi.AbstractLogger.error(AbstractLogger.java:569)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:314)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:211)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:288)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:284)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:88)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:264)",Blocker,Closed,Fixed,,,Per Arnold Blaasmo,pablaasmo
MRM-1799,Improvement,2014-01-23T02:50:10.465Z,2014-01-23T02:50:10.465Z,2017-04-05T20:11:24.444Z,2017-04-05T20:11:24.444Z,,,Adding new mimetypes to archiva should be configurable,"Sometimes it is necessary to add a new mime type for a local installation.
Doing this is currently done by:

1. edit the file WEB-INF/applicationContext.xml in the webapp folder by uncommenting:
{code}
  <!--
  <bean name=""mimeTpes"" class=""org.apache.archiva.webdav.util.MimeTypes"">
    <property name=""resource"" value=""archiva-mime-types.txt""/>
  </bean>
  -->
{code}
So you can use your own file.

2. Then Copy the original
(http://svn.apache.org/repos/asf/archiva/trunk/archiva-modules/archiva-web/archiva-webdav/src/main/resources/org/apache/archiva/webdav/util/mime.types) to WEB-INF/classes/archiva-mime-types.txt and add or change a mime type  line.



This would be much easier if this could be configurable by beeing able to set the mime-types file in the achiva config file. And preferably being able to do it via the GUI.

As a minimum we should be able to set the filename. 
As an advanced and possible future solution we could set and unset each line from that file.",Minor,Open,,,,Per Arnold Blaasmo,pablaasmo
MRM-1756,Task,2013-04-25T04:35:07.395Z,2013-04-25T04:35:07.395Z,2013-04-25T05:26:20.806Z,2013-04-25T05:26:20.806Z,,,Split js file and organize into folder to prepare ,"This is early reflection to reorganise js file into folder and smaller js to have possibility of extension.

""Rough organization for extension point artifact infos""
artifactsinfo/
    standard/  js to add (     Dependencies
                   Dependency Tree
                   Artifacts
                   Used By
                   Mailing Lists
                   Metadata )
    graphicalview / js to add (graph visualization ).

""Rough organization for extension point :repository""
repository
   maven2 / js to add (  Repository Groups / Repositories  / Proxy Connectors  /  ProxyConnector Rules)
   legacy  / js to add (  Legacy Support ) 
   
     
Basic idea: 
  if legacy folder is present legacy support is shown 
  if legacy folder is deleted legacy support is hidden. 

First step: 
Make archiva js ui compatible with this organisation.

Second step: 
Position this folder in archiva plugins. 
Propose mechanism to add / remove plugins.


I'm not very experienced in J2EE so maybe there are more standardised way to handle that.

Any comments welcome.


",Minor,Open,,,,Eric Barboni,skygolanur
MRM-1742,Wish,2013-01-13T21:57:30.031Z,2013-01-13T21:57:30.031Z,2013-01-13T21:57:30.031Z,2013-01-13T21:57:30.031Z,,,Auto download java docs in Archiva,"I wish Archiva can auto download javadocs in Archiva system. So next time when I need them, I can download very fast or I could find them in Archiva system",Minor,Open,,,,Yang Hua Jie,yhjhoo
MRM-1735,New Feature,2012-12-27T18:39:34.21Z,2012-12-27T18:39:34.21Z,2017-04-05T19:32:08.602Z,2017-04-05T19:32:08.602Z,,,add check on archiva upgrade available,simply verify if new version is available and display informations to users with admin role.,Major,Open,,,,Olivier Lamy (*$^¨%`£),olamy
MRM-1723,Improvement,2012-12-07T05:03:01.87Z,2012-12-07T05:03:01.87Z,2013-01-01T17:07:46.535Z,2013-01-01T17:07:46.535Z,2013-01-01T17:07:46.332Z,2013-01-01T17:07:46.332Z,Provide tooltips for action icons,"Example: trash/delete, home, refresh icons in Browse, icons in Manage Users",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1790,Bug,2013-11-04T17:34:23.166Z,2013-11-04T17:34:23.166Z,2015-09-14T08:40:28.812Z,2015-09-14T08:40:28.812Z,2014-02-25T19:22:06.308Z,2014-02-25T19:22:06.308Z,LDAP users roles not saved,"I have my users populated from ldap and authenticatd,however when I try to assign roles, I get this message: 

[The class ""org.apache.archiva.redback.rbac.ldap.LdapRbacManager$UserAssignmentImpl"" is not Persistence-Capable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH (or is hidden by an unenhanced version), or the Meta-Data for the class is not found.]

And the roles are assigned but are lost after a few minutes. ",Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,Moti Levy,motilevy
MRM-1724,Bug,2012-12-10T13:08:05.021Z,2012-12-10T13:08:05.021Z,2012-12-17T08:17:56.971Z,2012-12-17T08:17:56.971Z,2012-12-17T08:17:56.926Z,2012-12-17T08:17:56.926Z,Cannot manually delete artifacts via web GUI,"This bug has caused me considerable amounts of trouble.

If you upload a series of .jar's (for example a WebSphere runtime library of .jar's and a .pom that aggregates those .jar's) and make a mistake, you cannot delete the one uploaded artifact that you messed up.

I uploaded a pom file, but I accidentally left in -DgeneratePom=true.  Now, I can't delete the pom artifact when I log in as admin and delete the artifact from the default internal repo.  Archiva indicates that I successfully deleted the artifact (the green success bubble message appears at the top of the screen), but the artifact remains.  It does not go away if I refresh the page, shift + refresh the page, or log out and log back in.

This forces me to delete the entire package to which I uploaded 40-something .jar artifacts.  I have to start all over again.",Critical,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1721,Improvement,2012-12-03T10:04:45.264Z,2012-12-03T10:04:45.264Z,2012-12-10T17:24:28.215Z,2012-12-10T17:24:28.215Z,2012-12-10T17:24:27.914Z,2012-12-10T17:24:27.914Z,Chaining user manager implementations,"It would be really helpful to have a ""chain"" of authentication modules, where if the first one fails a second one is queried.

The main use-case here is if one has LDAP user auth configured (typical corporate environment), but also needs a few technical users (like a Jenkins instance) which are not in the corporate LDAP. 

A side benefit for that is, that one can hard-code a ""backup-administrator"" which can be used, if one accidentally breaks the LDAP configuration or if the LDAP isn't available at all.",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1779,Bug,2013-09-12T04:06:54.344Z,2013-09-12T04:06:54.344Z,2013-09-24T08:45:03.015Z,2013-09-24T08:45:03.015Z,2013-09-24T08:31:20.521Z,2013-09-24T08:31:20.521Z,pom artifacts cannot be searched on Archiva 1.4-M4,"When you want to search an artifact that is just a pom (a root, for instance), you can't find it when your search it, using either basic or advanced search.

I reproduced it in a clean and basic environment on windows : 
- install archiva 1.4 and create the admin user
- Upload a pom (just a pom) through the upload menu (see capture).
- Check that you can see it when you browse, and that you can open the pom (see captures). 
- Go to search menu, enter the name of the artifact in the query terms and click on the search button : no results found ! (see capture)
- Try again with advanced parameters, put the name of the artifact in the Artifact ID field and click on search (see capture) : no results found !

Searching jars or other kind of artifacts works perfectly. Only simple poms cannot be searched.

Thanks for your help !",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Guimiot Isabelle,iguimiot
MRM-1747,Bug,2013-02-15T08:51:54.009Z,2013-02-15T08:51:54.009Z,2013-02-18T06:20:00.292Z,2013-02-18T06:20:00.292Z,2013-02-18T06:20:00.167Z,2013-02-18T06:20:00.167Z,Fail to start on ibm jdk (was8),"Caused by: java.lang.IllegalStateException: The current state is not
START_DOCUMENT.
at com.ibm.xml.xlxp2.api.stax.msg.StAXMessageProvider.throwIllegalStateException(StAXMessageProvider.java:49)
at com.ibm.xml.xlxp2.api.stax.XMLStreamReaderImpl.getCharacterEncodingScheme(XMLStreamReaderImpl.java:1638)
at com.ibm.xml.xlxp2.api.stax.XMLInputFactoryImpl$XMLStreamReaderProxyImpl.getCharacterEncodingScheme(XMLInputFactoryImpl.java:457)
at com.ibm.xml.xlxp2.api.wssec.WSSXMLInputFactory$WSSStreamReaderProxy.getCharacterEncodingScheme(WSSXMLInputFactory.java:55)
at org.apache.archiva.redback.role.model.io.stax.RedbackRoleModelStaxReader.read(RedbackRoleModelStaxReader.java:1071)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1777,Bug,2013-09-04T21:10:31.239Z,2013-09-04T21:10:31.239Z,2013-12-18T00:05:22.462Z,2013-12-18T00:05:22.462Z,2013-12-15T19:27:37.141Z,2013-12-15T19:27:37.141Z,"User updating their own password doesn't gets error, but the password has not been changed.","When a user changes their own password, via Edit Details, they are presented with the following error:

[Unable to update the 'org.apache.archiva.redback.users.jdo.JdoUser' object in the jdo database.] 

But the password appears to have been changed.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Graham,ChrisGWarp
MRM-1709,Bug,2012-11-05T21:27:15.857Z,2012-11-05T21:27:15.857Z,2012-11-22T16:07:33.196Z,2012-11-22T16:07:33.196Z,2012-11-22T16:07:32.831Z,2012-11-22T16:07:32.831Z,Default redback admin does not work anymore when using LDAP in the new UI,"Previously, the config @redback.default.admin@ in security.properties file is used upon initial startup on a clean installation of Archiva with LDAP. 

In the new UI, you'd be prompted to create an admin account even if the property has been set to an existing LDAP user. But when you create an admin account, it doesn't get persisted since it is configured to use LDAP so you won't be able to do anything at all.

Workaround for this problem is to:
# Start Archiva without LDAP configured
# Create an admin account then create another account whose username exists in LDAP (ex. oching) then assign that account with the System Admin role.
# Shutdown Archiva then configure it to use LDAP
# Start Archiva
# Login as the second user you created (in our case, as oching). You should be able to do admin tasks.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1775,Bug,2013-09-04T20:15:28.226Z,2013-09-04T20:15:28.226Z,2013-11-22T05:15:45.653Z,2013-11-22T05:15:45.653Z,2013-11-22T05:15:45.59Z,2013-11-22T05:15:45.59Z,~/.m2/redback-security.properties not being used?,"I added a single line:
security.policy.password.expiration.enabled=false

to ~/.m2/redback-security.properties

I expected that I should then be able to log on using an account that had expired.

I was not able too.",Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,Chris Graham,ChrisGWarp
MRM-1715,New Feature,2012-11-21T11:41:32.126Z,2012-11-21T11:41:32.126Z,2012-11-21T16:02:14.842Z,2012-11-21T16:02:14.842Z,2012-11-21T16:02:14.671Z,2012-11-21T16:02:14.671Z,Configure LDAP pooling ,"Currently we don't use any connection pooling capability for LDAP.
JVMs have this possibility:
* http://docs.oracle.com/javase/jndi/tutorial/ldap/connect/config.html
* http://docs.oracle.com/javase/jndi/tutorial/ldap/connect/pool.html",Major,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1708,Bug,2012-11-05T21:15:26.438Z,2012-11-05T21:15:26.438Z,2012-11-23T03:33:31.583Z,2012-11-23T03:33:31.583Z,2012-11-23T03:33:31.329Z,2012-11-23T03:33:31.329Z,"When using LDAP, users can still edit their details upon login","After logging in, users can click the Edit Details and fill in their Full name, email address and change password fields. Please see attached screenshot.

In the old-UI versions, these are disabled.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1748,Bug,2013-02-20T02:06:51.806Z,2013-02-20T02:06:51.806Z,2013-04-11T10:06:56.223Z,2013-04-11T10:06:56.223Z,2013-04-11T10:06:55.95Z,2013-04-11T10:06:55.95Z,fail to upload supplied POM file,"upload artifact by these steps:
1. choose ""Repository Id"";
2. provide the GAV and Packaging(jar)
3. choose jar file from FS
4. choose pom file from FS, and check the ""pomFile""
5. click ""start Upload"" of each file chosen, or click ""start Upload"" near the ""choose files"" 
6. upload completed, then click ""Save Files""

But, these is no pom file uploaded to the target repo.",Major,Closed,Fixed,Eric Barboni,skygolanur,Ronnin Lee,ronnin
MRM-1703,Bug,2012-10-20T16:08:33.167Z,2012-10-20T16:08:33.167Z,2012-12-10T17:28:07.636Z,2012-12-10T17:28:07.636Z,2012-10-22T09:51:59.241Z,2012-10-22T09:51:59.241Z,Cannot delete project with the ui,It's possible to delete groupId but not project(i.e. groupId:artifactId),Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1778,Bug,2013-09-05T08:33:24.8Z,2013-09-05T08:33:24.8Z,2013-09-09T07:56:17.886Z,2013-09-09T07:56:17.886Z,,,100% CPU usages without any repository activities,"We are using Archiva without any problems since months. Suddenly the process started to consume 100+% of CPU time. I restarted the server this morning and since then the process uses between 98% and 106% CPU even if there is absolutely no activity.
Attached a hardcopy of the status page.",Major,Open,,,,Martin Herbst,mherbst
MRM-1702,Bug,2012-10-19T18:45:45.221Z,2012-10-19T18:45:45.221Z,2013-12-13T06:51:15.221Z,2013-12-13T06:51:15.221Z,2013-12-13T06:51:14.729Z,2013-12-13T06:51:14.729Z,Race condition caused by retrieving the same artifact from a Proxy from muliple threads,"When multiple requests are made for the same artifact where proxy is used (meaning there is no local file exists yet), there is a race condition.

A code block that moves the downloaded temp file to target location is in synchronized block which does prevent them from writing the same file, 

Before moving the temp file to the target location, it overwrites the existing file ( by first checking the file existence and removes it). 

By removing it (from the 2nd thread), the first thread that wrote the file and and tries to spool the file again throws  java.io.FileNotFoundException.

Please see attached patch.

Thanks",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,charles kim,charlesk40
MRM-1713,Bug,2012-11-20T17:44:23.872Z,2012-11-20T17:44:23.872Z,2012-11-20T17:55:11.457Z,2012-11-20T17:55:11.457Z,2012-11-20T17:55:10.332Z,2012-11-20T17:55:10.332Z,users list when using ldap doesn't work ,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1741,Improvement,2013-01-13T07:04:29.805Z,2013-01-13T07:04:29.805Z,2013-11-14T19:53:33.552Z,2013-11-14T19:53:33.552Z,2013-11-14T19:53:33.486Z,2013-11-14T19:53:33.486Z,Performance issue - Memory take quite high,"It takes quit a lot of memory when I was using it. I attached a screenshot of the memory usage.

I was running archiva in my local, and use mvn command to download some jar files. It takes quit a lot of memory.",Major,Closed,Duplicate,Olivier Lamy (*$^¨%`£),olamy,Yang Hua Jie,yhjhoo
MRM-1745,Wish,2013-02-06T17:03:38.385Z,2013-02-06T17:03:38.385Z,2013-04-21T08:25:06.891Z,2013-04-21T08:25:06.891Z,2013-04-21T08:25:06.584Z,2013-04-21T08:25:06.584Z,path of merged index for group configurable,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1736,Bug,2013-01-02T08:43:07.64Z,2013-01-02T08:43:07.64Z,2013-04-22T06:41:06.797Z,2013-04-22T06:41:06.797Z,2013-04-22T06:41:05.913Z,2013-04-22T06:41:05.913Z,map roles to ldap groups,add possibility to map archiva roles to ldap groups.,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1798,Improvement,2014-01-05T23:31:45.001Z,2014-01-05T23:31:45.001Z,2014-02-02T15:52:28.059Z,2014-02-02T15:52:28.059Z,2014-01-05T23:32:14.739Z,2014-01-05T23:32:14.739Z,upgrade to last Spring 4.0.0,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1751,Improvement,2013-04-22T06:44:58.401Z,2013-04-22T06:44:58.401Z,2013-05-20T05:30:16.901Z,2013-05-20T05:30:16.901Z,2013-05-20T05:30:16.734Z,2013-05-20T05:30:16.734Z,repogroup merged index ttl configurable per repository group,"currently this ttl is system property value.
It must be configurable per repository group.",Major,Closed,Fixed,Maria Odea Ching,oching,Olivier Lamy (*$^¨%`£),olamy
MRM-1731,Improvement,2012-12-20T14:15:14.642Z,2012-12-20T14:15:14.642Z,2012-12-20T14:32:50.844Z,2012-12-20T14:32:50.844Z,2012-12-20T14:31:49.065Z,2012-12-20T14:31:49.065Z,Using cache to search users (and must be configurable dynamically) on per default,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1784,Bug,2013-10-04T02:26:23.121Z,2013-10-04T02:26:23.121Z,2013-10-25T00:32:27.593Z,2013-10-25T00:32:27.593Z,2013-10-25T00:12:09.877Z,2013-10-25T00:12:09.877Z,Users Runtime Configuration - Unclear distinction between User Manager and Rbac Manager,"I've consulted the documentation located at:
https://archiva.apache.org/docs/1.4-M4/adminguide/redback-runtime-configuration.html#Apache_Redback_User_Manager_Implementation

However, it's a bit unclear as to what the distinction between the User Manager and the Rbac Manager.  I know that Rbac handles security for Archiva, but that implies the users as well.  So, why are both listed?

If anything, some hints should be added to the Archiva page and also better explained within the documentation.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Harris,Chris Harris
MRM-1711,Improvement,2012-11-19T06:15:02.987Z,2012-11-19T06:15:02.987Z,2012-11-19T06:55:07.651Z,2012-11-19T06:55:07.651Z,2012-11-19T06:55:07.074Z,2012-11-19T06:55:07.074Z,Add buttons for managing repository group as can be a pain with long list of repositories,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1725,Bug,2012-12-14T03:24:01.375Z,2012-12-14T03:24:01.375Z,2012-12-17T15:11:24.493Z,2012-12-17T15:11:24.493Z,2012-12-17T15:11:24.277Z,2012-12-17T15:11:24.277Z,truncated line numbers in File Content,"example: https://archiva-repository.apache.org/archiva/index.html?request_lang=en#artifact-details-files-content/org.apache.archiva/archiva-cli/1.4-M3

when viewing pom.xml, line numbers appear as ""5."", ""0."", should be ""5"", ""10"", ""15"", ...",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Hervé Boutemy,hboutemy
MRM-1707,New Feature,2012-10-30T15:57:42.706Z,2012-10-30T15:57:42.706Z,2012-10-31T16:44:46.082Z,2012-10-31T16:44:46.082Z,2012-10-31T16:44:43.79Z,2012-10-31T16:44:43.79Z,Allow different implementation of transfer mechanism in the DefaultRepositoryProxyConnectors class,"We would like to use a different implementation for transferring an artifact from the remote proxy.  This particular remote proxy we have is not Maven repository. Our transport library handles the bridging work so we would like to use it instead of the default implementation using Wagon.

Could you make a change in the DefaultRepositoryProxyConnectors so that it can be extendable?  We would just want to override the transport method which uses Wagon.

Please take a look at the submitted patch.

Thanks.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,charles kim,charlesk40
MRM-1727,Improvement,2012-12-14T03:28:38.612Z,2012-12-14T03:28:38.612Z,2012-12-17T08:28:18.231Z,2012-12-17T08:28:18.231Z,2012-12-17T08:28:18.027Z,2012-12-17T08:28:18.027Z,SCM Viewer info should provide a link,https://archiva-repository.apache.org/archiva/index.html?request_lang=en#artifact/org.apache.archiva/archiva-cli/1.4-M3,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Hervé Boutemy,hboutemy
MRM-1768,Bug,2013-06-04T12:10:13.078Z,2013-06-04T12:10:13.078Z,2013-12-09T18:03:41.935Z,2013-12-09T18:03:41.935Z,,,"When using a shortened hostname for archiva, the site sometimes won't load","In our company, we use a lot of shortened host names and rely on the DNS Search paths to find the full domain of the server.  As an example, we have the following search paths defined on both our servers (including Archiva) and all workstations:

     myfamilysouth.com
     myfamily.int

But we reference many web services using the short name such as:

     http://archiva

which really maps to:

     http://archiva.myfamilysouth.com

However, in IE and sometimes Google Chrome browsers, when we use the shortened name, the application won't load completely and just hangs on ""Loading..."".

It seems able to find the server and start loading the application.
",Minor,Open,,,,Jeff Vincent,predatorvi
MRM-1772,Bug,2013-06-27T08:58:12.715Z,2013-06-27T08:58:12.715Z,2013-12-14T09:16:10.662Z,2013-12-14T09:16:10.662Z,,,properties project.parent.xxx not supported,"Hi,

I use a maven module project, do not repeat license and organisation values i use a variable ${project.parent.xxx}. Maven build successfully, report site is ok but in archiva browser don't show value but properties variable name (show attachement).

The param project.parent it's supported by archiva?

Regards,
Vincent.",Major,Open,,,,Vincent D,dom_vinc
MRM-1758,Improvement,2013-05-01T05:26:29.969Z,2013-05-01T05:26:29.969Z,2014-08-07T23:31:17.346Z,2014-08-07T23:31:17.346Z,2014-08-07T23:31:17.299Z,2014-08-07T23:31:17.299Z,More audit logging (info & debug levels) for easier debugging & trouble shooting ,,Major,Closed,Incomplete,,,Maria Odea Ching,oching
MRM-1794,Task,2013-12-02T19:26:28.906Z,2013-12-02T19:26:28.906Z,2013-12-02T21:30:52.749Z,2013-12-02T21:30:52.749Z,2013-12-02T21:30:51.458Z,2013-12-02T21:30:51.458Z,update quartz to 2.x,"This will help with deployment to Apache TomEE.

See http://www.mail-archive.com/users@tomee.apache.org/msg04863.html",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,jieryn,jieryn
MRM-1793,Bug,2013-11-19T10:12:43.709Z,2013-11-19T10:12:43.709Z,2013-11-19T21:14:13.917Z,2013-11-19T21:14:13.917Z,2013-11-19T21:14:13.813Z,2013-11-19T21:14:13.813Z,trailing spaces not trimmed in upload form,"In the ""upload artifact"" page, when I put a group ID ending by a trailing space (after a copy/paste for instance), archiva won't trim it, and will create an ugly directory with a space at the end of its name ! Of course it's not exactly a good behaviour, but moreover, when there's such a directory in the repo, Archiva isn't able to browse it any more, and displays an error message ""Failed to resolve path repositories/proxied-releases/content/test relative to node /"".

I didn't test trailing spaces in artifact or version, but I suppose they are probably treated the same way, causing the same error...

Could you fix it for version 2.0.0 ? It's an annoying issue, but really easy to fix.

Thanks !",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Guimiot Isabelle,iguimiot
MRM-1701,Bug,2012-10-19T17:46:12.034Z,2012-10-19T17:46:12.034Z,2012-10-19T17:48:11.767Z,2012-10-19T17:48:11.767Z,2012-10-19T17:48:11.537Z,2012-10-19T17:48:11.537Z,metadatas are not removed when a snapshot is purged,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1732,New Feature,2012-12-21T08:39:34.907Z,2012-12-21T08:39:34.907Z,2012-12-21T12:01:14.04Z,2012-12-21T12:01:14.04Z,2012-12-21T12:01:13.74Z,2012-12-21T12:01:13.74Z,dynamic configuration of users cache,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1776,Bug,2013-09-04T20:17:30.046Z,2013-09-04T20:17:30.046Z,2013-11-14T19:40:37.936Z,2013-11-14T19:40:37.936Z,2013-11-14T19:40:37.852Z,2013-11-14T19:40:37.852Z,UI Upload. The generated pom.xml is the artifact!,"Using the web UI to upload an artifact, and selecting generate pom, results in the pom.xml file being a copy of the artifact itself, not a generated pom.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Chris Graham,ChrisGWarp
MRM-1738,Bug,2013-01-06T19:35:38.297Z,2013-01-06T19:35:38.297Z,2013-01-07T00:22:40.201Z,2013-01-07T00:22:40.201Z,2013-01-07T00:22:40.069Z,2013-01-07T00:22:40.069Z,defaultStack requires a stronger blacklist of parameter names in the param interceptor,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1719,New Feature,2012-11-27T03:53:38.056Z,2012-11-27T03:53:38.056Z,2012-11-27T03:56:57.253Z,2012-11-27T03:56:57.253Z,,,Create some karaf commands for archiva remote management inside karaf ,,Major,Open,,Jean-Baptiste Onofré,jbonofre,Olivier Lamy (*$^¨%`£),olamy
MRM-1730,Bug,2012-12-19T11:13:04.218Z,2012-12-19T11:13:04.218Z,2012-12-19T11:14:25.543Z,2012-12-19T11:14:25.543Z,2012-12-19T11:14:25.265Z,2012-12-19T11:14:25.265Z,upgrade to spring framework 3.2.0,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1726,Improvement,2012-12-14T03:26:29.323Z,2012-12-14T03:26:29.323Z,2012-12-18T09:55:08.288Z,2012-12-18T09:55:08.288Z,2012-12-18T09:55:07.847Z,2012-12-18T09:55:07.847Z,"merge ""Artifacts"" and ""Artifacts Content""","see https://archiva-repository.apache.org/archiva/index.html?request_lang=en#artifact-details-download-content/org.apache.archiva/archiva-cli/1.4-M3

these 2 tabs can be merged, with an icon on each artifact to either download or view content
",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Hervé Boutemy,hboutemy
MRM-1729,Bug,2012-12-19T08:42:53.465Z,2012-12-19T08:42:53.465Z,2012-12-19T11:09:20.274Z,2012-12-19T11:09:20.274Z,2012-12-19T09:21:39.873Z,2012-12-19T09:21:39.873Z,add MetadataRepository#hasMetadataFacet to prevent slow startup time,"especially with jcr and old repo.
All entries are loaded.
MetadataRepository#getLastMetadataFacet is very long as it load all entries",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1757,Bug,2013-04-30T05:00:22.413Z,2013-04-30T05:00:22.413Z,2013-05-01T05:12:37.226Z,2013-05-01T05:12:37.226Z,2013-05-01T05:12:36.997Z,2013-05-01T05:12:36.997Z,Unable to download uploaded artifact from repository,"Reported from the dev list by Piotr Szwed:

After uploading an artifact to the newly created repository, I am unable
to download it. The problem seems to be in the URL generated by Jetty.

When I click on the particular artifact's URL, I get the following link:
*//*
repository/playground/com/gerrit-architecture/1.0/gerrit-architecture-1.0.zip

which results with the following message:

*Problem accessing
//repository/playground/com/gerrit-architecture/1.0/gerrit-architecture-1.0.zip.
Reason:    Not Found*
After removing the first slash ""/"" from the URL - downloading
starts automatically. So I suspect that one of the ""/"" is redundant and
shouldn't be generated.

my default config entry seems to be fine:

./conf/archiva.xml:<location>/mnt/localdata/gerrit/archiva/apache-archiva-js-1.4-M3/repositories/playground</location>",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1787,Bug,2013-10-30T05:36:58.977Z,2013-10-30T05:36:58.977Z,2013-12-18T00:06:52.165Z,2013-12-18T00:06:52.165Z,2013-12-18T00:06:52.056Z,2013-12-18T00:06:52.056Z,"Deletion of a repository, while users have the repository manager role assigned causes errors","I've assigned myself the repository manager role for all repositories available. Then I deleted one repo and after logout / login I'm greeted with the error: 

[Unable to find RBAC Object 'Repository Manager - internal' of type org.apache.archiva.redback.rbac.jdo.JdoRole using fetch-group 'null'] 

What's worse than that is that I no longer see the user management link so I can't go in and fix my broken config (the backup admin account is affected by the same issue ;)",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Sascha Vogt,saschavogt
MRM-1744,Bug,2013-02-06T11:28:15.788Z,2013-02-06T11:28:15.788Z,2013-02-06T17:02:53.653Z,2013-02-06T17:02:53.653Z,2013-02-06T17:02:53.503Z,2013-02-06T17:02:53.503Z,updating managed repository fail to correctly update maven index directory,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1739,Bug,2013-01-10T22:55:32.229Z,2013-01-10T22:55:32.229Z,2013-01-10T22:55:44.102Z,2013-01-10T22:55:44.102Z,2013-01-10T22:55:43.633Z,2013-01-10T22:55:43.633Z,Document installing Archiva as a Mac OS X service with launchd,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1761,Bug,2013-05-30T11:19:24.931Z,2013-05-30T11:19:24.931Z,2013-12-08T20:46:51.399Z,2013-12-08T20:46:51.399Z,2013-12-08T20:46:51.224Z,2013-12-08T20:46:51.224Z,Returned URL in search result does not work for SNAPSHOTS,"The URL in the result of a call to archivaServices/searchService/searchArtifacts dies return a non working URL for a SNAPSHOTS artifacts.

Example URL I got back:
{quote}
http://localhost:8080/repository/activities-snapshot/biz/tradescape/activities/pcs_poc2/pcs_poc2.ccc/0.3-SNAPSHOT/pcs_poc2.ccc-0.3-SNAPSHOT.jar
{quote}

Error message from the web browser:
{quote}
HTTP ERROR 404

Problem accessing /repository/activities-snapshot/biz/tradescape/activities/pcs_poc2/pcs_poc2.ccc/0.3-SNAPSHOT/pcs_poc2.ccc-0.3-SNAPSHOT.jar. Reason:

    Resource does not exist
{quote}

Found with Archiva 1.4-M4 (2100)
dist - Revision 2100: /dev/archiva/1.4-M4/binaries
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Lothar Werzinger,lwerzinger
MRM-1767,Bug,2013-06-04T11:53:31.879Z,2013-06-04T11:53:31.879Z,2014-11-27T04:43:01.437Z,2014-11-27T04:43:01.437Z,2014-10-06T18:01:43.535Z,2014-10-06T18:01:43.535Z,"When selecting a specific repository to browse, I get an error  that I don't have sufficient privileges.","When browsing the repository, the ""Browse Repository"" drop down used to show ""All"" by default, but in 1.4-M4 it is initially blank (see ArchivaBrowse1.PNG)

When I click the drop down and select a repository, at first I see an error that I must be logged in or have sufficient privileges.  If I am not logged in, I get a login prompt (see ArchivaBrowser2.PNG).  

If I am logged in as the Admin user, I just see the error ""You need to be authenticated for this action or have more privileges"" (see ArchivaBrowser3.PNG)

If I simply reselect the repository from the drop-down box, it works most of the time (authenticated or not).  

After clearing my browser cache, it happens less often, but still does it.",Major,Closed,Fixed,Eric Barboni,skygolanur,Jeff Vincent,predatorvi
MRM-1919,Bug,2016-08-11T07:12:29.702Z,2016-08-11T07:12:29.702Z,2016-08-11T07:12:29.702Z,2016-08-11T07:12:29.702Z,,,Users in LDAP groups do not get added their roles,"- Login with LDAP connector works
- Groups show up as role mappings correctly in the UI
- Roles are empty when clicking on them (Sample role/ldap group: cn=archiva-ldap,ou=Archiva,ou=Groups shows up as archiva-ldap in the Role view)
- Users are added to the LDAP group (eg. member: cn=Simon Bin,ou=People)
- Tried restarting and flushing caches without effect
- Both Database and LDAP are enabled (first of all LDAP is read only to archiva, and currently LDAP role assignment does not work)
",Major,Open,,,,Simon Bin,sbin
MRM-1913,Bug,2016-03-02T22:47:47.108Z,2016-03-02T22:47:47.108Z,2016-03-02T22:47:47.108Z,2016-03-02T22:47:47.108Z,,,Can't change expiry configuration of archiva user,"Users for Apache Archiva can't have passwords that never expire.  In fact, in my tests, if I change security.policy.password.expiration.days to anything greater than 90, it ignores it.  Thus, every 90 days our developers are locked out of apache archiva until I remove and recreate the user database.   Emails warning us of this expiration never get out, even though the users in question have a valid email address attached.

Please give us either one of two fixes:

-Allow security.policy.password.expiration.days to be more than 90 days
-Allow the ability to disable password expiry

Resources:

https://archiva.apache.org/docs/1.4-M4/adminguide/customising-security.html",Major,Open,,,,John Schmidt,johnschmidt4@gmail.com
MRM-1916,Improvement,2016-03-29T06:18:18.519Z,2016-03-29T06:18:18.519Z,2016-03-29T06:18:18.519Z,2016-03-29T06:18:18.519Z,,,Code duplication,DefaultRepositoryProxyConnectors.java: lines 567 - 575,Trivial,Open,,,,Josef Karasek,JKarasek
MRM-1918,Bug,2016-08-03T18:17:36.934Z,2016-08-03T18:17:36.934Z,2016-08-03T18:18:33.137Z,2016-08-03T18:18:33.137Z,,,failed to retrieve state of intermediary node,"Some artifacts cannot be visualized anymore from the console.

I get the error ""failed to retrieve state of intermediary node"" in the browser while visualizing the artifact detail page.

On the logs, I get 

javax.jcr.ItemNotFoundException: xxxxx

and 

WARN  org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer [] - Error occurred persisting metadata for artifact:xxxxxx

I think is some kind of bug related to jackrabbit repository.

I would like to have a solution to restore the consistency of the jcr repository",Major,Open,,,,Alessandro Siletto,asiletto
MRM-1957,Improvement,2017-07-14T18:56:11.017Z,2017-07-14T18:56:11.017Z,2017-07-16T16:37:48.694Z,2017-07-16T16:37:48.694Z,,,Make Statistics API independent of metadata store implementations,"The repository-statistics module has direct references to the store implementations. I would like to decouple the statistics api from the implementation.
* Create new metadata-statistics-api module where the interfaces and statistic POJO reside.
* Add a new RepositoryStatisticsProvider interface that can be implemented by MedadataRepository and is for populating the statistic data. Can be implemented by the MetadataRepository and is statistic generation is delegated to this implementation if it exists.

With this, we can remove the dependencies to the store specific APIs like JCR.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1945,Bug,2017-05-28T20:20:05.349Z,2017-05-28T20:20:05.349Z,2017-06-11T15:01:23.41Z,2017-06-11T15:01:23.41Z,2017-06-11T15:01:23.346Z,2017-06-11T15:01:23.346Z,Test for DefaultFileLockManager fails in rare cases,There are rare cases where the file lock seems to fail.,Major,Resolved,Fixed,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1955,Bug,2017-06-15T20:08:56.845Z,2017-06-15T20:08:56.845Z,2017-06-15T20:08:56.845Z,2017-06-15T20:08:56.845Z,,,LDAP: ldap.config.mapper.attribute.user.filter not working,"On a new 2.2.3 installation, ldap.config.mapper.attribute.user.filter is not listed under Users Runtime Configuration. If added manually, it is not added to LDAP queries.",Major,Open,,,,Robert Wruck,rwruck
MRM-1961,Improvement,2017-09-20T19:41:58.99Z,2017-09-20T19:41:58.99Z,2017-09-20T19:41:58.99Z,2017-09-20T19:41:58.99Z,,,Switch to java.nio,"Get rid of the java.io.File usage and switch to java.nio.Path to provide a consistent API.

Currently both are mixed in the code and for new or modified APIs there is always the conflict which one to choose. So we switch to java.nio.Path rigorously where possible.
",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1912,Bug,2016-02-18T19:09:47.298Z,2016-02-18T19:09:47.298Z,2016-02-18T19:09:47.298Z,2016-02-18T19:09:47.298Z,,,Guest password should never be reset ,"This is an experience report from a user.

I stood up a new Archiva instance about 90 days ago.  As per default security configuration, user passwords began to expire recently.

It seems that even the guest account has expired .  As a result, guest access is now 403 Forbidden.

Since the guest account is for anonymous access, and has no password, this account probably should be exempt from password expiration.  Is this a bug?

I can reset the guest password successfully, restoring access for this account.  However, I cannot reset to the empty password using the web interface.  The edit user form complains of the password field, ""This field is required.""  Is this also a bug?",Major,Open,,,,Benjamin Heasly,benjamin.heasly@gmail.com
MRM-1914,Bug,2016-03-05T07:06:36.428Z,2016-03-05T07:06:36.428Z,2016-03-08T10:31:18.655Z,2016-03-08T10:31:18.655Z,2016-03-08T10:31:18.625Z,2016-03-08T10:31:18.625Z,Maven cannot find dependency,"In a fresh installation, the build fails for archiva-consumer-architype module, because Maven cannot find spring-context-support 4.1.4.RELEASE

Searching for the part that declares this dependency, I found that the modules defined a local-repo, and a redback-components 2.4 is requiring spring 4.1.4.RELEASE whereas the rest of Archiva required 4.2.1.RELEASE

Maven is looking for 4.1.4.RELEASE in my actual home repo instead of the locally defined one in the archiva-consumers-architype module, and this is breaking the build.

Manually changing the dependency in the target folder to 4.2.1.RELEASE or manualling having the 4.1.4.RELEASE available in the default m2 repository home makes the build pass.

I can help solving the issue if you tell me which way you prefer solving it.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Jalal Almutawa,jmutawa
MRM-1958,Bug,2017-08-16T10:10:21.694Z,2017-08-16T10:10:21.694Z,2017-09-20T19:23:07.123Z,2017-09-20T19:23:07.123Z,2017-09-20T19:23:07.031Z,2017-09-20T19:23:07.031Z,Purge by retention count deletes files but leaves history on website.,"Hi,
I'm having issue during repository purge based on retention count:
redundant versions of snapshot are deleted from hard drive, but it's history still exists in archiva portal. To be more precise there are links to version that currently don't exist physically on drive with size 0b as it's shown on attached example screen. While on hard drive with repository files there are only versions 2 and 3.
I wonder if it's a configuration issue, or a code bug during purge? :) Would appreciate any help with this. :)

Best regards,
Gregory",Minor,Resolved,Fixed,Martin Stockhammer,effrafax,Gregory Zyrek,gzyrek
MRM-1932,Bug,2016-11-22T09:39:56.26Z,2016-11-22T09:39:56.26Z,2017-11-06T21:02:17.832Z,2017-11-06T21:02:17.832Z,,,org.apache.archiva.metadata.repository.MetadataRepositoryException: failed to retrieve item state of item,"In the archiva.log file I see a lot of issues like the following, it seems that the metadata could not be retrieved by Archiva (from cassandra ?)

When I browse the snapshots repository from the UI, I see the same error message ""failed to retrieve item state of item 12a71660-652b-4d80-8732-8a91e167b727""

Could you please help ?
{noformat}
2016-11-22 10:16:22,194 [pool-6-thread-1] WARN  org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer [] - Error occurred persisting metadata for artifact:com/*********/---------/----------document-api-wso2-car-generator/0.0.1-SNAPSHOT/----------document-api-wso2-car-generator-0.0.1-20161119.053430-234.car (repository:snapshots); message: failed to retrieve item state of item 12a71660-652b-4d80-8732-8a91e167b727
org.apache.archiva.metadata.repository.MetadataRepositoryException: failed to retrieve item state of item 12a71660-652b-4d80-8732-8a91e167b727
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespace(JcrMetadataRepository.java:379) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateArtifact(JcrMetadataRepository.java:185) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFile(ArchivaMetadataCreationConsumer.java:188) [archiva-metadata-consumer-2.2.0.jar:?]
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFile(ArchivaMetadataCreationConsumer.java:222) [archiva-metadata-consumer-2.2.0.jar:?]
        at org.apache.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:60) [archiva-repository-scanner-2.2.0.jar:?]
        at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:118) [commons-collections-3.2.1.jar:3.2.1]
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:389) [commons-collections-3.2.1.jar:3.2.1]
        at org.apache.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:163) [archiva-repository-scanner-2.2.0.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345) [plexus-utils-3.0.15.jar:?]
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:141) [archiva-repository-scanner-2.2.0.jar:?]
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:69) [archiva-repository-scanner-2.2.0.jar:?]
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:150) [archiva-scheduler-repository-2.2.0.jar:?]
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:54) [archiva-scheduler-repository-2.2.0.jar:?]
        at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:117) [spring-taskqueue-2.1.jar:?]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_60]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_60]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_60]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_60]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_60]
Caused by: javax.jcr.RepositoryException: failed to retrieve item state of item 12a71660-652b-4d80-8732-8a91e167b727
        at org.apache.jackrabbit.core.ItemManager.getItemData(ItemManager.java:388) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:669) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:647) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1302) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:111) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:37) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemImpl.perform(ItemImpl.java:91) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuid(NodeImpl.java:1818) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1770) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:957) ~[jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:930) ~[jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPath(JcrMetadataRepository.java:1596) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNode(JcrMetadataRepository.java:1630) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespace(JcrMetadataRepository.java:374) ~[metadata-store-jcr-2.2.0.jar:?]
        ... 25 more
Caused by: org.apache.jackrabbit.core.state.ItemStateException: failed to read bundle: 12a71660-652b-4d80-8732-8a91e167b727: java.io.EOFException
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundle(BundleFsPersistenceManager.java:249) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:769) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:752) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.load(AbstractBundlePersistenceManager.java:490) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.loadItemState(SharedItemStateManager.java:1869) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getNonVirtualItemState(SharedItemStateManager.java:1789) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getItemState(SharedItemStateManager.java:270) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getNodeState(LocalItemStateManager.java:110) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getItemState(LocalItemStateManager.java:175) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.XAItemStateManager.getItemState(XAItemStateManager.java:260) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SessionItemStateManager.getItemState(SessionItemStateManager.java:161) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getItemData(ItemManager.java:382) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:669) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:647) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1302) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:111) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:37) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemImpl.perform(ItemImpl.java:91) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuid(NodeImpl.java:1818) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1770) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:957) ~[jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:930) ~[jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPath(JcrMetadataRepository.java:1596) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNode(JcrMetadataRepository.java:1630) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespace(JcrMetadataRepository.java:374) ~[metadata-store-jcr-2.2.0.jar:?]
        ... 25 more
Caused by: java.io.EOFException
        at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:290) ~[?:1.8.0_60]
        at org.apache.jackrabbit.core.persistence.util.BundleReader.<init>(BundleReader.java:132) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundle(BundleBinding.java:152) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundle(BundleFsPersistenceManager.java:242) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:769) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:752) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.load(AbstractBundlePersistenceManager.java:490) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.loadItemState(SharedItemStateManager.java:1869) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getNonVirtualItemState(SharedItemStateManager.java:1789) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getItemState(SharedItemStateManager.java:270) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getNodeState(LocalItemStateManager.java:110) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getItemState(LocalItemStateManager.java:175) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.XAItemStateManager.getItemState(XAItemStateManager.java:260) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SessionItemStateManager.getItemState(SessionItemStateManager.java:161) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getItemData(ItemManager.java:382) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:669) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:647) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1302) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:111) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:37) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemImpl.perform(ItemImpl.java:91) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuid(NodeImpl.java:1818) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1770) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:957) ~[jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:930) ~[jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPath(JcrMetadataRepository.java:1596) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNode(JcrMetadataRepository.java:1630) ~[metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespace(JcrMetadataRepository.java:374) ~[metadata-store-jcr-2.2.0.jar:?]
        ... 25 more
2016-11-22 10:16:22,209 [pool-6-thread-1] ERROR org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager [] - failed to read bundle: 12a71660-652b-4d80-8732-8a91e167b727: java.io.EOFException
2016-11-22 10:16:22,209 [pool-6-thread-1] ERROR org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager [] - failed to read bundle: 12a71660-652b-4d80-8732-8a91e167b727: java.io.EOFException
2016-11-22 10:16:22,209 [pool-6-thread-1] ERROR org.apache.jackrabbit.core.ItemManager [] - failed to retrieve item state of item 12a71660-652b-4d80-8732-8a91e167b727
org.apache.jackrabbit.core.state.ItemStateException: failed to read bundle: 12a71660-652b-4d80-8732-8a91e167b727: java.io.EOFException
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundle(BundleFsPersistenceManager.java:249) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundleCacheMiss(AbstractBundlePersistenceManager.java:769) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.getBundle(AbstractBundlePersistenceManager.java:752) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.AbstractBundlePersistenceManager.load(AbstractBundlePersistenceManager.java:490) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.loadItemState(SharedItemStateManager.java:1869) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getNonVirtualItemState(SharedItemStateManager.java:1789) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SharedItemStateManager.getItemState(SharedItemStateManager.java:270) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getNodeState(LocalItemStateManager.java:110) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.LocalItemStateManager.getItemState(LocalItemStateManager.java:175) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.XAItemStateManager.getItemState(XAItemStateManager.java:260) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.state.SessionItemStateManager.getItemState(SessionItemStateManager.java:161) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getItemData(ItemManager.java:382) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:669) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemManager.getNode(ItemManager.java:647) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1302) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:111) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.AddNodeOperation.perform(AddNodeOperation.java:37) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.ItemImpl.perform(ItemImpl.java:91) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNodeWithUuid(NodeImpl.java:1818) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1770) [jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:957) [jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.jackrabbit.commons.JcrUtils.getOrAddNode(JcrUtils.java:930) [jackrabbit-jcr-commons-2.8.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNodeByPath(JcrMetadataRepository.java:1596) [metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.getOrAddNamespaceNode(JcrMetadataRepository.java:1630) [metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateNamespace(JcrMetadataRepository.java:374) [metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.metadata.repository.jcr.JcrMetadataRepository.updateArtifact(JcrMetadataRepository.java:185) [metadata-store-jcr-2.2.0.jar:?]
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFile(ArchivaMetadataCreationConsumer.java:188) [archiva-metadata-consumer-2.2.0.jar:?]
        at org.apache.archiva.consumers.metadata.ArchivaMetadataCreationConsumer.processFile(ArchivaMetadataCreationConsumer.java:222) [archiva-metadata-consumer-2.2.0.jar:?]
        at org.apache.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:60) [archiva-repository-scanner-2.2.0.jar:?]
        at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:118) [commons-collections-3.2.1.jar:3.2.1]
        at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:389) [commons-collections-3.2.1.jar:3.2.1]
        at org.apache.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:163) [archiva-repository-scanner-2.2.0.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386) [plexus-utils-3.0.15.jar:?]
        at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345) [plexus-utils-3.0.15.jar:?]
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:141) [archiva-repository-scanner-2.2.0.jar:?]
        at org.apache.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:69) [archiva-repository-scanner-2.2.0.jar:?]
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:150) [archiva-scheduler-repository-2.2.0.jar:?]
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:54) [archiva-scheduler-repository-2.2.0.jar:?]
        at org.apache.archiva.redback.components.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:117) [spring-taskqueue-2.1.jar:?]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_60]
        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_60]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_60]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_60]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_60]
Caused by: java.io.EOFException
        at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:290) ~[?:1.8.0_60]
        at org.apache.jackrabbit.core.persistence.util.BundleReader.<init>(BundleReader.java:132) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.util.BundleBinding.readBundle(BundleBinding.java:152) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        at org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager.loadBundle(BundleFsPersistenceManager.java:242) ~[jackrabbit-core-2.8.0.jar:2.8.0]
        ... 50 more
{noformat}",Major,Open,,,,Mohamed ,med
MRM-1934,Bug,2017-01-03T12:09:17.689Z,2017-01-03T12:09:17.689Z,2017-01-03T12:09:17.689Z,2017-01-03T12:09:17.689Z,,,javax.naming.AuthenticationNotSupportedException,"I've configured the _Redback Runtime Configuration_ to connect a LDAP server.
Following the (rather sparse) [documentation|https://archiva.apache.org/docs/2.2.1/adminguide/redback-runtime-configuration.html], I left the field for _authenticationMethod_ empty.
The _Verify LDAP Changes_ Button indicated a successful connection the LDAP server afterwards.

Then I wondered what effect that _authenticationMethod_ could have.
Lacking any documentation, I simply tried several values and figured that it  obviously triggers the particular SASL (!) authentication methods.
Since I don't want to use SASL but bind PLAIN to the LDAP server, I emptied the field again.
Unfortunately, that didn't restore the previous functionality!
The LDAP access log showed, that Archiva is still using TYPE=SASL rather than TYPE=SIMPLE (which has been used on the initial validation).

This problem was not recoverable via the UI.
After, I manually removed the (emtpy) authenticationMethod tag from {{archiva.xml}}, TYPE=SIMPLE was used again and connection succeeded.
",Major,Open,,,,Jörg Delker,Jörg
MRM-1901,Bug,2015-09-01T17:57:12.9Z,2015-09-01T17:57:12.9Z,2017-04-05T19:59:14.867Z,2017-04-05T19:59:14.867Z,,,Change Password via Edit Details button not working,"After logging into our Archiva instance, I can click on the Edit Details button to change the password.  I enter the existing password and the new password (twice) and click the OK button.  The dialog remains on screen with no indication of what has happened.  After a while, I closed by web browser window and opened a new one - I then attempted to login with the new password, only to find that the password change had not occurred.

After an investigation, I found that the change password dialog was making a POST to ""/restServices/redbackServices/userService/updateMe"", which was failing with a 500 Internal Server Error.  The stack trace follows...

{quote}
java.lang.RuntimeException: org.apache.cxf.interceptor.Fault: fromIndex(0) &gt; toIndex(-1)
	at org.apache.cxf.interceptor.AbstractFaultChainInitiatorObserver.onMessage(AbstractFaultChainInitiatorObserver.java:116)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:371)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:251)
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149)
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:290)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:209)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:265)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
	at org.eclipse.jetty.server.Server.handle(Server.java:370)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)
	at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:982)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1043)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.apache.cxf.interceptor.Fault: fromIndex(0) &gt; toIndex(-1)
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:163)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:129)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:200)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:99)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)
	... 39 more
Caused by: java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)
	at java.util.ArrayList.subListRangeCheck(ArrayList.java:964)
	at java.util.ArrayList.subList(ArrayList.java:954)
	at org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.extensionChangePassword(DefaultUserSecurityPolicy.java:317)
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:343)
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:327)
	at org.apache.archiva.web.security.ArchivaConfigurableUsersManager.updateUser(ArchivaConfigurableUsersManager.java:392)
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateUser(DefaultUserService.java:386)
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateMe(DefaultUserService.java:367)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:181)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:97)
	... 44 more
</pre>
<h3>Caused by:</h3><pre>org.apache.cxf.interceptor.Fault: fromIndex(0) &gt; toIndex(-1)
	at org.apache.cxf.service.invoker.AbstractInvoker.createFault(AbstractInvoker.java:163)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:129)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:200)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:99)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:251)
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149)
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:290)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:209)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:265)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
	at org.eclipse.jetty.server.Server.handle(Server.java:370)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)
	at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:982)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1043)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)
	at java.util.ArrayList.subListRangeCheck(ArrayList.java:964)
	at java.util.ArrayList.subList(ArrayList.java:954)
	at org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.extensionChangePassword(DefaultUserSecurityPolicy.java:317)
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:343)
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:327)
	at org.apache.archiva.web.security.ArchivaConfigurableUsersManager.updateUser(ArchivaConfigurableUsersManager.java:392)
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateUser(DefaultUserService.java:386)
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateMe(DefaultUserService.java:367)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:181)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:97)
	... 44 more
</pre>
<h3>Caused by:</h3><pre>java.lang.IllegalArgumentException: fromIndex(0) &gt; toIndex(-1)
	at java.util.ArrayList.subListRangeCheck(ArrayList.java:964)
	at java.util.ArrayList.subList(ArrayList.java:954)
	at org.apache.archiva.redback.policy.DefaultUserSecurityPolicy.extensionChangePassword(DefaultUserSecurityPolicy.java:317)
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:343)
	at org.apache.archiva.redback.users.jdo.JdoUserManager.updateUser(JdoUserManager.java:327)
	at org.apache.archiva.web.security.ArchivaConfigurableUsersManager.updateUser(ArchivaConfigurableUsersManager.java:392)
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateUser(DefaultUserService.java:386)
	at org.apache.archiva.redback.rest.services.DefaultUserService.updateMe(DefaultUserService.java:367)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:181)
	at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:97)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:200)
	at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:99)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)
	at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307)
	at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)
	at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:251)
	at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:197)
	at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:149)
	at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:171)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:290)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:209)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
	at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:265)
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1496)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1476)
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:499)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)
	at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)
	at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)
	at org.eclipse.jetty.server.Server.handle(Server.java:370)
	at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)
	at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:982)
	at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1043)
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865)
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240)
	at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)
	at java.lang.Thread.run(Thread.java:745)
{quote}",Major,Open,,,,Jasvinder Bahra,jazz
MRM-1935,Improvement,2017-01-20T07:08:29.426Z,2017-01-20T07:08:29.426Z,2017-01-20T07:08:29.426Z,2017-01-20T07:08:29.426Z,,,make table of contents downloadable,"linux package management tools like debian apt, redhat dnf, or archlinux pacman consume binary repositories efficient since long, by first downloading a table of contents, and then calculating what to update locally.

it would be great if apache archiva could have a similar interface giving the necessary info about its contents in one go. it is stored anyway, says this documentation:
https://archiva.apache.org/docs/1.3.6/adminguide/consumers.html
this then can be used by maven, gradle, etal plugins to more efficient calculate dependency retrieval. especially in the case of version ranges, snapshots, as well as ""shrinkwrap"" as node package manager calls nailing down the effective versions used for a build. currently in the default setting maven is pushing an artifact repository really hard when resolving version ranges, while even my phone would have 4 cores and quite some bandwith to properly calculate this in advance.
",Major,Open,,,,rupert thurner,rupert.thurner
MRM-1946,Bug,2017-06-01T01:42:56.205Z,2017-06-01T01:42:56.205Z,2017-08-30T18:18:11.601Z,2017-08-30T18:18:11.601Z,2017-08-30T18:18:11.542Z,2017-08-30T18:18:11.542Z,"Archiva Issue - v2.2.1 - Not authorized , ReasonPhrase:Unauthorized.","I use Jenkins to build the artifact. And in Jenkins post build action the artifact is pushed to Archiva once the build is successful. This works but from last 2 days I am facing issues while pushing the artifact to archiva. And when the archiva is restarted the issue disappears and the artifact gets pushed to archiva successfully. I tried to Flush the cache but no luck.

 

The following is the stacktrace of the exception received

 

Caused by: org.eclipse.aether.transfer.MetadataTransferException: Could not transfer metadata RoleManagementService:RoleManagementService:0.0.1-SNAPSHOT/maven-metadata.xml from/to qa-snapshots (http://10.159.70.63:8060/archiva/repository/qa-snapshots): Not authorized , ReasonPhrase:Unauthorized.
 at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$5.wrap(WagonRepositoryConnector.java:995)
 at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$5.wrap(WagonRepositoryConnector.java:983)
 at org.eclipse.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:725)
 at org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:67)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)",Critical,Closed,Cannot Reproduce,,,Sujeet Kumar,sujeetkb2003
MRM-1917,Bug,2016-07-04T14:21:02.64Z,2016-07-04T14:21:02.64Z,2016-09-16T19:47:25.757Z,2016-09-16T19:47:25.757Z,,,REST API doesn't work the second time with v=LATEST,"Please find below the URL I use to get the latest version of artifacts. The URL is working fine the first time, and when I retry it seems broken nothing is received by the browser or by CURL script.
http://archiva.company.com/restServices/archivaServices/searchService/artifact?g=com.company&a=company-artifact&v=LATEST&p=jar&r=snapshots 

We use this API to get the latest version of artifacts it is a main part in our infrastructure for continuous delivery.

Could you please check that? There is no simple manner to handle that ?
Thnak you",Critical,Open,,,,Mohamed ,med
MRM-1940,Bug,2017-05-03T08:46:23.411Z,2017-05-03T08:46:23.411Z,2017-05-13T21:04:18.592Z,2017-05-13T21:04:18.592Z,2017-05-13T16:08:09.11Z,2017-05-13T16:08:09.11Z,Slashes appended to remote repo url,"Archiva is used with remote repositories. I added two repo urls
- http://nexus.thenewmotion.com/content/groups/public/
- http://repo.maven.apache.org/maven2/
Nexus repo is fine, maven central is not.
Logs only show this:

2017-05-02 12:51:31,265 [qtp2059174882-28] ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils [] - No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError, ContentType: text/plain


So I enabled debug logs (in log4j2.xml), and now I see this

2017-05-02 13:40:38,286 [Thread-49] DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue [] - pool
2017-05-02 13:40:38,300 [qtp725397266-25] DEBUG org.apache.archiva.proxy.common.DebugTransferListener [] - wagon debug http://nexus.thenewmotion.com/content/groups/public/// - Status code: 200
2017-05-02 13:40:38,325 [Thread-42] DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue [] - pool
2017-05-02 13:40:38,386 [Thread-49] DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue [] - pool
2017-05-02 13:40:38,425 [Thread-42] DEBUG org.apache.archiva.redback.components.taskqueue.DefaultTaskQueue [] - pool
2017-05-02 13:40:38,445 [qtp725397266-25] DEBUG org.apache.archiva.redback.rest.services.interceptors.ThreadLocalUserCleaner [] - handleMessage
2017-05-02 13:40:38,459 [qtp725397266-23] DEBUG org.apache.archiva.proxy.common.DebugTransferListener [] - wagon debug https://repo.maven.apache.org/maven2/// - Status code: 404
2017-05-02 13:40:38,460 [qtp725397266-23] DEBUG org.apache.archiva.redback.rest.services.interceptors.ThreadLocalUserCleaner [] - handleMessage
2017-05-02 13:40:38,460 [qtp725397266-23] ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils [] - No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError, ContentType: text/plain

==============
Seems that Archiva appends two slashes at the end of my urls.
Somehow nexus works, allows those extra slashes. 
Maven Central doesn't.

I get the same error if I do not add myself one trailing slash.
I still get two slashes at the end, and Maven Central query results in 404.

",Major,Resolved,Fixed,Martin Stockhammer,effrafax,Cristian Tarsoaga,kcris
MRM-1949,Improvement,2017-06-11T19:16:11.675Z,2017-06-11T19:16:11.675Z,2017-06-11T19:16:11.675Z,2017-06-11T19:16:11.675Z,,,"Upgrade JS Libraries (Bootstrap, jquery, ...) to current versions","The twitter bootstrap version and jquery are outdated. Should be migrated to newer versions.
Should be started after the selenium tests are running stable.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1954,Improvement,2017-06-13T21:55:56.867Z,2017-06-13T21:55:56.867Z,2017-08-30T18:56:49.957Z,2017-08-30T18:56:49.957Z,2017-08-30T18:56:49.887Z,2017-08-30T18:56:49.887Z,Add validatehierarchy property for JCR to avoid corruption of metadata store,"We should add the property:
{{org.apache.jackrabbit.core.state.validatehierarchy=true}}
for the JCR metadata store. 

I think some failures on the build servers are caused by corrupted JCR metadata.
And there are tickets that indicate corrupted data.",Major,Resolved,Fixed,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1943,Bug,2017-05-24T13:25:55.331Z,2017-05-24T13:25:55.331Z,2017-05-30T18:22:08.578Z,2017-05-30T18:22:08.578Z,2017-05-30T18:22:08.534Z,2017-05-30T18:22:08.534Z,LDAP Verification working - no Groups show up,"I am trying to setup Archiva (first time) In my test environment to do a proof of concept. 

This is the first time working with Archiva - so likely I am missing something.

LDAP is running on the same VM as Archiva - LDAP verification works, but no groups are displayed. 

In the Archiva log file I'm seeing this when I try to add a group mapping: 
2017-05-24 09:13:02,127 [qtp2084363060-25] ERROR org.apache.archiva.redback.rest.services.DefaultLdapGroupMappingService [] - Unprocessed Continuation Reference(s)
org.apache.archiva.redback.common.ldap.MappingException: Unprocessed Continuation Reference(s)
	at org.apache.archiva.redback.common.ldap.role.DefaultLdapRoleMapper.getAllGroups(DefaultLdapRoleMapper.java:183) ~[redback-common-ldap-2.4.jar:2.4]
	at org.apache.archiva.redback.rest.services.DefaultLdapGroupMappingService.getLdapGroups(DefaultLdapGroupMappingService.java:79) [redback-rest-services-2.4.jar:2.4]

I have attached my configuration for your review",Major,Closed,Not A Bug,,,Emilie,emilie_C
MRM-1960,Bug,2017-09-20T19:27:57.332Z,2017-09-20T19:27:57.332Z,2017-09-20T19:30:08.593Z,2017-09-20T19:30:08.593Z,,,Add configuration switch for synchronous index updates of jcr metadata,Add a configuration switch to activate the synchronous index updates in JCR Oak.,Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1937,Bug,2017-04-10T06:26:10.383Z,2017-04-10T06:26:10.383Z,2017-05-05T11:01:06.015Z,2017-05-05T11:01:06.015Z,2017-04-14T19:05:18.272Z,2017-04-14T19:05:18.272Z,Creating an admin-User named other than 'admin' fails,"When I create an admin-User which is named _alex_, Arhiva behaves strangely.

I describe the screenshot steps (sorry it's in German but I'll translate)

# I installed Archiva, went to localhost:8080 and pressed _Create Admin User_
# I entered _alex_ as username and saved
# I got redirected to [localhost:8282/#search] with the message _you have entered an invalid combination of username and password_
# When I tried to login again, I got the same message

Regards,
Alex",Major,Resolved,Fixed,,,Alex Pintilie,pintiliea
MRM-1959,Improvement,2017-08-30T18:41:06.199Z,2017-08-30T18:41:06.199Z,2017-09-20T19:30:08.609Z,2017-09-20T19:30:08.609Z,,,Switch to JCR Oak to allow upgrade of lucene version,"We are switching to JCR Oak that uses a higher lucene version.

But switching to Oak has some drawbacks:
- The repository format changed and we must provide a way to migrate (either 
migrate the existing repository or create a new one by reindexing)
- The JCR oak is asynchronous. So there may be some timing issues that are only visible at high load.
- Configuration changed significantly and not all is well documented

The incompatibility problem with the maven indexer that uses lucene in another version is solved with the maven indexer 6 snapshot version that uses now  a shadowed lucene version.

",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1953,Improvement,2017-06-13T11:58:37.399Z,2017-06-13T11:58:37.399Z,2017-08-30T18:48:41.303Z,2017-08-30T18:48:41.303Z,,,Update several maven build plugins to newer versions,"Update some some maven plugins, used for the build, to current versions.
Will not provide here a comprehensive list of plugins. The updated plugins will be listed in the comments of this ticket.
Most of them are defined in the parent pom, so redback build should be checked too after each change.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1964,Improvement,2017-11-01T14:55:42.825Z,2017-11-01T14:55:42.825Z,2017-11-01T15:37:30.737Z,2017-11-01T15:37:30.737Z,,,Refactor repository api,"Currently, the repository access managed via the repository admin api and has several specifics in it that are highly dependent on the repository implementation.
At the time there is no way to provide another repository type without changing/duplicating code on a lot of different places.
Another issue, is that many modules are dependent on maven libraries. 

Goal is to provide a central repository registry, that keeps track of repositories and delegates provider specific tasks to special repository providers. 
Maven libraries should only be used in the repository provider implementations. All other modules should use the central repository api.

",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1930,Improvement,2016-10-20T19:46:44.664Z,2016-10-20T19:46:44.664Z,2017-04-05T19:54:27.918Z,2017-04-05T19:54:27.918Z,,,Redundant code parts in RepositoryModelResolver,"There is code to download artifacts from the remote repository in RepositoryModelResolver. The same code is in the ProxyConnector and should be used from there. 
A code comment tells, that this code was added to avoid circular dependencies. Dependencies must be checked.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1902,Bug,2015-09-17T10:37:40.468Z,2015-09-17T10:37:40.468Z,2015-09-17T10:37:40.468Z,2015-09-17T10:37:40.468Z,,,Archiva 1.3.5 indexing not updating with indexer stopping,"I can't update indexing for my central repository.  When I ""Process All Artifacts"" and click ""Scan Respository Now"", the indexer stops after a maximum of 18 hrs without completing the index update.  Just clicking on ""Scan Repository Now"", the indexer only processes for 1 hour. The repo size is 306 GB with 2635087 files.  ""Scanning Cron"" is set to 0 30 7,19 * * ? which doesn't appear to be working.",Major,Open,,,,Kerry Kennedy,kerrykck
MRM-1963,Wish,2017-09-23T18:11:04.464Z,2017-09-23T18:11:04.464Z,2017-09-25T10:26:33.858Z,2017-09-25T10:26:33.858Z,,,S3 Blob OAK Support for Data Storage,"It would be really cool if I could utilize S3 as the storage backend for archiva. It looks like JCR-OAK supports S3 Blob storage through a plugin:
https://jackrabbit.apache.org/oak/docs/plugins/blobstore.html

I assume the change would be adding to the RepositoryFactory:
https://github.com/apache/archiva/blob/master/archiva-modules/plugins/metadata-store-jcr/src/main/java/org/apache/archiva/metadata/repository/jcr/RepositoryFactory.java

This would enable a nice distributed setup, and would allow multiple archiva front-ends to connect to s3 to store and pull files.",Major,Open,,,,David W Klotz,DaveKlotzer
MRM-1931,Bug,2016-10-31T00:51:33.784Z,2016-10-31T00:51:33.784Z,2016-10-31T00:53:31.252Z,2016-10-31T00:53:31.252Z,,,failing test ArchivaRepositoryScanningTaskExecutorPhase2Test,"{code}
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase1Test
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.518 sec - in org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase1Test
Running org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test
Tests run: 4, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 2.066 sec <<< FAILURE! - in org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test
testExecutorScanOnlyNewArtifacts(org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test)  Time elapsed: 0.033 sec  <<< FAILURE!
junit.framework.AssertionFailedError: expected:<2> but was:<3>
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test.testExecutorScanOnlyNewArtifacts(ArchivaRepositoryScanningTaskExecutorPhase2Test.java:102)

testExecutorScanOnlyNewArtifactsChangeTimes(org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test)  Time elapsed: 0.028 sec  <<< FAILURE!
junit.framework.AssertionFailedError: expected:<2> but was:<3>
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test.testExecutorScanOnlyNewArtifactsChangeTimes(ArchivaRepositoryScanningTaskExecutorPhase2Test.java:149)

testExecutorScanOnlyNewArtifactsMidScan(org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test)  Time elapsed: 0.033 sec  <<< FAILURE!
junit.framework.AssertionFailedError: expected:<2> but was:<3>
        at org.apache.archiva.scheduler.repository.ArchivaRepositoryScanningTaskExecutorPhase2Test.testExecutorScanOnlyNewArtifactsMidScan(ArchivaRepositoryScanningTaskExecutorPhase2Test.java:196)


Results :

Failed tests: 
  ArchivaRepositoryScanningTaskExecutorPhase2Test.testExecutorScanOnlyNewArtifacts:102 expected:<2> but was:<3>
  ArchivaRepositoryScanningTaskExecutorPhase2Test.testExecutorScanOnlyNewArtifactsChangeTimes:149 expected:<2> but was:<3>
  ArchivaRepositoryScanningTaskExecutorPhase2Test.testExecutorScanOnlyNewArtifactsMidScan:196 expected:<2> but was:<3>

Tests run: 5, Failures: 3, Errors: 0, Skipped: 0
{code}

while: 

{code}
$ find ./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0/C-1.0.war.sha1
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0/C-1.0.war
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0/C-1.0.pom.sha1
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0/C-1.0.pom.md5
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0/C-1.0.war.md5
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/C/1.0/C-1.0.pom
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/1.0
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/1.0/B-1.0.pom.sha1
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/1.0/B-1.0.pom
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/1.0/B-1.0.pom.md5
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/2.0
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/2.0/B-2.0.pom.sha1
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/2.0/B-2.0.pom
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/B/2.0/B-2.0.pom.md5
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/maven-metadata.xml
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0/A-1.0.pom.sha1
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0/A-1.0.pom
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0/A-1.0.pom.md5
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0/A-1.0.war
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0/A-1.0.war.md5
./archiva-modules/archiva-scheduler/archiva-scheduler-repository/src/test/repositories/default-repository/org/apache/maven/A/1.0/A-1.0.war.sha1
{code}",Major,Open,,,,Alex Zbarcea,alexz
MRM-1933,Bug,2017-01-02T16:08:27.219Z,2017-01-02T16:08:27.219Z,2017-05-13T16:07:49.789Z,2017-05-13T16:07:49.789Z,2017-05-13T16:07:49.722Z,2017-05-13T16:07:49.722Z,No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError,"After adding the following remote repository via UI, this error appears in UI and archive.log each time the repository page is loaded:

2017-01-02 16:57:31,927 [http-bio-8000-exec-8] ERROR org.apache.cxf.jaxrs.utils.JAXRSUtils [] - No message body writer has been found for class org.apache.archiva.rest.services.ArchivaRestError, ContentType: text/plain

Repository: http://download.oracle.com/maven

Note: The repository does obviously provide no index (results in 404).
However, fetching artifacts (e.g. http://download.oracle.com/maven/com/sleepycat/je/5.0.104/je-5.0.104.pom) is working ok.

Besides the above error, requests to Archiva are proxies without problems and artifacts are retrieved without error from that repository.",Major,Resolved,Fixed,Martin Stockhammer,effrafax,Jörg Delker,Jörg
MRM-1952,Improvement,2017-06-13T11:10:31.963Z,2017-06-13T11:10:31.963Z,2017-06-24T01:51:30.961Z,2017-06-24T01:51:30.961Z,2017-06-16T23:20:23.13Z,2017-06-16T23:20:23.13Z,Use jetty maven plugin instead of tomcat,"With the new dependency of Servlet API 3.1, tomcat 7 cannot be used anymore. We should switch to the jetty plugin and remove/replace all tomcat references in pom.xml.

The t7.sh script must be changed to jetty:run then.

archiva-webapp-test has been switched already to the jetty plugin.

",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Martin Stockhammer,effrafax
MRM-1920,Bug,2016-08-31T13:50:45.323Z,2016-08-31T13:50:45.323Z,2016-08-31T13:50:45.323Z,2016-08-31T13:50:45.323Z,,,"Info Popup ""Proxy Connector Settings"" always displays ""Network Proxy: none"" ","Precondition: a proxy connector with an assigned Network Proxy

Info Popup ""Proxy Connector Settings"" always displays ""Network Proxy: none"". This is irritating. (see: http://stackoverflow.com/q/30807232/867816 )

",Minor,Open,,,,Gernot Krost,gkrost
MRM-1950,Improvement,2017-06-12T19:35:24.356Z,2017-06-12T19:35:24.356Z,2017-08-30T18:49:46.708Z,2017-08-30T18:49:46.708Z,2017-08-30T18:49:46.665Z,2017-08-30T18:49:46.665Z,Upgrade Jackrabbit to version 2.14.1,Just upgrade to the newest stable version. There seems not to be any major changes that may lead to incompatibilities.,Major,Closed,Won't Fix,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1924,Bug,2016-09-13T01:01:09.179Z,2016-09-13T01:01:09.179Z,2017-05-05T11:01:07.748Z,2017-05-05T11:01:07.748Z,2016-09-13T01:02:36.624Z,2016-09-13T01:02:36.624Z,Increasing timeouts for repository check,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1938,Bug,2017-04-18T20:20:11.95Z,2017-04-18T20:20:11.95Z,2017-04-19T20:24:18.991Z,2017-04-19T20:24:18.991Z,,,Condition that always returns true,"Hi

In a recent snapshot mirrored from Github for archiva-redback-core, I've found following suspicious code in redback-common/redback-common-ldap/src/main/java/org/apache/archiva/redback/common/ldap/user/LdapUserMapper.java.

{code}
156         if ( !StringUtils.isEmpty( user.getFullName() ) )
157         {
158             if ( user.getFullName() == null )
159             {
160                 addAttrs.put( getUserFullNameAttribute(), user.getFullName() );
161             }
162             else if ( !user.getFullName().equals( user.getFullName() ) )
163             {
164                 modAttrs.put( getUserFullNameAttribute(), user.getFullName() );
165             }
166         }
167 
168         if ( !StringUtils.isEmpty( user.getEmail() ) )
169         {
170             if ( user.getEmail() == null )
171             {
172                 addAttrs.put( getEmailAddressAttribute(), user.getEmail() );
173             }
174             else if ( !user.getEmail().equals( user.getEmail() ) )
175             {
176                 modAttrs.put( getEmailAddressAttribute(), user.getEmail() );
177             }
178         }
{code}
In Line 162, and 174, the conditions should be 
user.getFullName().equals( fullNameAttribute )
user.getEmail().equals( emailAttribute )
respectively?

This might not be an issue, but wanted to report just in case. Thanks!",Major,Open,,Martin Stockhammer,effrafax,JC,lifove
MRM-1900,Question,2015-09-01T15:36:41.098Z,2015-09-01T15:36:41.098Z,2015-09-02T09:11:20.999Z,2015-09-02T09:11:20.999Z,2015-09-02T09:11:20.97Z,2015-09-02T09:11:20.97Z,How to upload artifact from linux?,How to upload artifact from Linux command line?,Major,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,robby bal,Robby01
MRM-1928,Bug,2016-10-04T15:11:43.345Z,2016-10-04T15:11:43.345Z,2017-05-05T11:01:08.52Z,2017-05-05T11:01:08.52Z,2016-10-05T03:32:23.455Z,2016-10-05T03:32:23.455Z,Bad redirect URL when using Archiva through HTTP reverse proxy,"I'm running Archiva behind a reverse proxy that only exposes archiva via HTTPS.

Maven works fine with it, but karaf and its karaf-maven-plugin fail, and I think also jenkins,.

After some investigation I found that the redirects from -SNAPSHOT requests towards timestamped snapshot artifacts are wrong. Archiva computes the Location header without using the Application URL setting from the GUI, which in my case wrongfully changes the URL from https:// to http://.

Below is an anonymized sample from my maven build log, which demonstrates the problem.

{noformat}
....
[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://archiva.example.org/repository/example-snapshots/
[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://archiva.example.org/repository/example-snapshots/ with username=..., password=...
[DEBUG] CookieSpec selected: compatibility
[DEBUG] Connection request: [route: {s}->https://archiva.example.org:443][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 40]
[DEBUG] Connection leased: [id: 1][route: {s}->https://archiva.example.org:443][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 40]
[DEBUG] Opening connection {s}->https://archiva.example.org:443
[DEBUG] Connecting to archiva.example.org/...:443
[DEBUG] Connection established 192.168.0.2:38974<->...:443
[DEBUG] Executing request GET /repository/example-snapshots/org/example/my-artifact/0.2.0-SNAPSHOT/my-artifact-0.2.0-SNAPSHOT.jar HTTP/1.1
.....
[DEBUG] http-outgoing-1 >> GET /repository/example-snapshots/org/example/my-artifact/0.2.0-SNAPSHOT/my-artifact-0.2.0-SNAPSHOT.jar HTTP/1.1
[DEBUG] http-outgoing-1 >> Cache-control: no-cache
[DEBUG] http-outgoing-1 >> Cache-store: no-store
[DEBUG] http-outgoing-1 >> Pragma: no-cache
[DEBUG] http-outgoing-1 >> Expires: 0
[DEBUG] http-outgoing-1 >> Accept-Encoding: gzip
[DEBUG] http-outgoing-1 >> User-Agent: Aether
[DEBUG] http-outgoing-1 >> User-Agent: Aether
[DEBUG] http-outgoing-1 >> Host: archiva.example.org
[DEBUG] http-outgoing-1 >> Connection: Keep-Alive
[DEBUG] http-outgoing-1 >> Authorization: Basic ...
....
[DEBUG] http-outgoing-1 << HTTP/1.1 302 Found
[DEBUG] http-outgoing-1 << Date: Mon, 03 Oct 2016 14:26:38 GMT
[DEBUG] http-outgoing-1 << Set-Cookie: JSESSIONID=...;Path=/
[DEBUG] http-outgoing-1 << Expires: Thu, 01 Jan 1970 00:00:00 GMT
[DEBUG] http-outgoing-1 << Location: http://archiva.example.org/repository/example-snapshots/org/example/my-artifact/0.2.0-SNAPSHOT/my-artifact-0.2.0-20161003.123319-4.jar
[DEBUG] http-outgoing-1 << Connection: close
[DEBUG] http-outgoing-1 << Server: Jetty(8.1.14.v20131031)
[DEBUG] Authentication succeeded
[DEBUG] Caching 'basic' auth scheme for https://archiva.example.org:443
[DEBUG] Cookie accepted [JSESSIONID=""..."", version:0, domain:archiva.example.org, path:/, expiry:null]
[DEBUG] Redirect requested to location 'http://archiva.example.org/repository/example-snapshots/org/example/my-artifact/0.2.0-SNAPSHOT/my-artifact-0.2.0-20161003.123319-4.jar'
[DEBUG] Resetting target auth state
[DEBUG] Redirecting to 'http://archiva.example.org/repository/example-snapshots/org/example/my-artifact/0.2.0-SNAPSHOT/my-artifact-0.2.0-20161003.123319-4.jar' via {}->http://archiva.example.org:80
[DEBUG] http-outgoing-1: Shutdown connection
[DEBUG] Connection discarded
[DEBUG] http-outgoing-1: Close connection
[DEBUG] Connection released: [id: 1][route: {s}->https://archiva.example.org:443][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 40]
[DEBUG] CookieSpec selected: compatibility
[DEBUG] Cookie [version: 0][name: JSESSIONID][value: ...][domain: archiva.example.org][path: /][expiry: null] match [archiva.example.org:80/repository/example-snapshots/org/example/my-artifact/0.2.0-SNAPSHOT/my-artifact-0.2.0-20161003.123319-4.jar]
[DEBUG] Connection request: [route: {}->http://archiva.example.org:80][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 40]
[DEBUG] Connection leased: [id: 2][route: {}->http://archiva.example.org:80][total kept alive: 0; route allocated: 1 of 20; total allocated: 1 of 40]
[DEBUG] Opening connection {}->http://archiva.example.org:80
[DEBUG] Connecting to archiva.example.org/213.239.215.151:80
[DEBUG] http-outgoing-2: Shutdown connection
[DEBUG] Connection discarded
[DEBUG] http-outgoing-2: Close connection
[DEBUG] Connection released: [id: 2][route: {}->http://archiva.example.org:80][total kept alive: 0; route allocated: 0 of 20; total allocated: 0 of 40]
[WARNING] Error resolving artifactorg.example:my-artifact:jar:0.2.0-SNAPSHOT:Could not transfer artifact org.example:my-artifact:jar:0.2.0-SNAPSHOT from/to example-snapshots (https://archiva.example.org/repository/example-snapshots/): Connect to archiva.example.org:80 [archiva.example.org/213.239.215.151] failed: Connection refused
shaded.org.eclipse.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.example:my-artifact:jar:0.2.0-SNAPSHOT from/to example-snapshots (https://archiva.example.org/repository/example-snapshots/): Connect to archiva.example.org:80 [archiva.example.org/213.239.215.151] failed: Connection refused
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:444)
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:246)
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:223)
        at shaded.org.eclipse.aether.internal.impl.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:294)
        at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve(AetherBasedResolver.java:615)
        at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve(AetherBasedResolver.java:570)
        at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve(AetherBasedResolver.java:548)
        at org.ops4j.pax.url.mvn.internal.AetherBasedResolver.resolve(AetherBasedResolver.java:523)
        at org.apache.karaf.features.internal.download.impl.MavenDownloadTask.download(MavenDownloadTask.java:34)
        at org.apache.karaf.features.internal.download.impl.AbstractRetryableDownloadTask.run(AbstractRetryableDownloadTask.java:58)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: shaded.org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact org.example:my-artifact:jar:0.2.0-SNAPSHOT from/to example-snapshots (https://archiva.example.org/repository/example-snapshots/): Connect to archiva.example.org:80 [archiva.example.org/213.239.215.151] failed: Connection refused
        at shaded.org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed(ArtifactTransportListener.java:43)
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run(BasicRepositoryConnector.java:355)
        at shaded.org.eclipse.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:67)
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$DirectExecutor.execute(BasicRepositoryConnector.java:581)
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector.get(BasicRepositoryConnector.java:249)
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.performDownloads(DefaultArtifactResolver.java:520)
        at shaded.org.eclipse.aether.internal.impl.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:421)
        ... 16 more
Caused by: shaded.org.apache.maven.wagon.TransferFailedException: Connect to archiva.example.org:80 [archiva.example.org/213.239.215.151] failed: Connection refused
        at shaded.org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:1085)
        at shaded.org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:977)
        at shaded.org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)
        at shaded.org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)
        at shaded.org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)
        at shaded.org.eclipse.aether.transport.wagon.WagonTransporter$GetTaskRunner.run(WagonTransporter.java:560)
        at shaded.org.eclipse.aether.transport.wagon.WagonTransporter.execute(WagonTransporter.java:427)
        at shaded.org.eclipse.aether.transport.wagon.WagonTransporter.get(WagonTransporter.java:404)
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$GetTaskRunner.runTask(BasicRepositoryConnector.java:447)
        at shaded.org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run(BasicRepositoryConnector.java:350)
        ... 21 more
Caused by: shaded.org.apache.http.conn.HttpHostConnectException: Connect to archiva.example.org:80 [archiva.example.org/213.239.215.151] failed: Connection refused
        at shaded.org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:140)
        at shaded.org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:318)
        at shaded.org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:363)
        at shaded.org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)
        at shaded.org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)
        at shaded.org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:86)
        at shaded.org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:108)
        at shaded.org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)
        at shaded.org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)
        at org.ops4j.pax.url.mvn.internal.wagon.ConfigurableHttpWagon.execute(ConfigurableHttpWagon.java:142)
        at shaded.org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.fillInputData(AbstractHttpClientWagon.java:1000)
        ... 30 more
Caused by: java.net.ConnectException: Connection refused
        at java.net.PlainSocketImpl.socketConnect(Native Method)
        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
        at java.net.Socket.connect(Socket.java:589)
        at shaded.org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:72)
        at shaded.org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:123)
        ... 40 more
[INFO] --------------------------------------------------------------------
.....
{noformat}

I think maven downloads maven-metadata.xml and uses it to compute the address of the latest timestamped artifact, avoiding the redirect completely.

I'm preparing a PR with a possible fix to this, which will follow soon if it tests correctly.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Ciprian Ciubotariu,cipi
MRM-1922,Bug,2016-09-07T17:13:16.153Z,2016-09-07T17:13:16.153Z,2016-09-07T17:17:49.217Z,2016-09-07T17:17:49.217Z,2016-09-07T17:14:17.282Z,2016-09-07T17:14:17.282Z,Maven: Could not find artifact com.project:artifact:jar:2.1.3-270 in repo,"When I run for example 'mvn package', there's a dependency that cannot be resolved during Maven's pom.xml evaluation faze; This is a mockup of the part of the pom that causes the problem:

		<dependency>
			<groupId>com.project</groupId>
			<artifactId>artifact</artifactId>
			<version>[2.1.3-270,)</version>
		</dependency>

This results in the following error issued by Maven:

Failed to execute goal on project MyProject: Could not resolve dependencies for project com.myproject:mymodule:jar:1.3.9-240: Could not find artifact com.project:artifact:jar:2.1.3-270 in myRepo (http://myrepo.local:7392/artifactory/repo)

If I browse the Artifactory repository http://myrepo.local:7392/artifactory/repo, there are several versions com.myproject:mymodule jars are present.  However, the owners of that artifact have set up their CI to only keep a rolling snapshot, and version 2.1.3-270 has been phased out. 

We are using Maven 3.2.5.  It seems that Maven should not require any of the named versions in a version range to actually be present before it can see whether any versions exist that do fit in the range.  We only want to have to update our minimum version when there is a breaking change that we have to address, not just when the publishers decide to remove the minimum version from availability.",Minor,Closed,Fixed,Brett Porter,brettporter,John Chesshir,jchesshir
MRM-1926,Bug,2016-09-21T14:40:55.606Z,2016-09-21T14:40:55.606Z,2017-05-05T11:01:06.971Z,2017-05-05T11:01:06.971Z,2016-10-17T20:17:11.106Z,2016-10-17T20:17:11.106Z,Invalid checksum files in Archiva repository after download from remote repository,"When downloading files from a remote repository, in numerous cases Archiva stores invalid checksum files (sha1|md5) in its local repository. Upon checking the remote repository, the checksum files are found to be valid. If that is the case, the invalid checksum files are usually identical copies of the artifact's POM file and thus can't be used for checksum validation.
The issue can be reproduced using the minimal pre-configured Archiva package (apache-archiva-2.2.1-bin.zip).

*Reproduction of the error*
Prerequisites:
* Downloaded/unpacked/started packaged (zip) Archiva 2.2.1
* Configured archiva as local maven mirror

{code}
mvn compile
    .
    .
    .
Downloading: http://localhost:8080/repository/internal/org/apache/maven/plugins/maven-plugins/28/maven-plugins-28.pom
[WARNING] Checksum validation failed, expected <?xml but is ad21477ba223c7e4360600db11d6115344065d85 for http://localhost:8080/repository/internal/org/apache/maven/plugins/maven-plugins/28/maven-plugins-28.pom
[WARNING] Could not validate integrity of download from http://localhost:8080/repository/internal/org/apache/maven/plugins/maven-plugins/28/maven-plugins-28.pom: Checksum validation failed, expected <?xml but is ad21477ba223c7e4360600db11d6115344065d85
[WARNING] Checksum validation failed, expected <?xml but is ad21477ba223c7e4360600db11d6115344065d85 for http://localhost:8080/repository/internal/org/apache/maven/plugins/maven-plugins/28/maven-plugins-28.pom
{code}

When checking the filesystem of archiva local repository upon artifact download, it is immediately obvious that the *.[md5|sha1] files are invalid:

{code}
maik@tpx1:~/Downloads/apache-archiva-2.2.1/repositories/internal/org/apache/maven/plugins/maven-plugins/28$ ll
total 68
drwxr-xr-x 2 maik maik  4096 Sep 21 15:48 ./
drwxr-xr-x 5 maik maik  4096 Sep 21 15:48 ../
-rw-r--r-- 1 maik maik 12031 Sep 21 15:48 maven-plugins-28.pom
-rw-r--r-- 1 maik maik 12031 Sep 21 15:48 maven-plugins-28.pom.md5
-rw-r--r-- 1 maik maik 12031 Sep 21 15:48 maven-plugins-28.pom.sha1
maik@tpx1:~/Downloads/apache-archiva-2.2.1/repositories/internal/org/apache/maven/plugins/maven-plugins/28$ head -n 4 maven-plugins-28.pom.sha1
<?xml version='1.0' encoding='UTF-8'?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
{code}

archiva.log shows no errors regarding the artifact in question.  Checking the source repository (maven central -> http://central.maven.org/maven2/org/apache/maven/plugins/maven-plugins/28/) shows that the original sha1/md5 files are ok. This seems to happen unpredictably for arbitrary artifacts.

This issue has been posted on StackOverflow (see external issue URL) using a more sophisticated configuration.",Major,Closed,Fixed,Martin Stockhammer,effrafax,Maik F.,mfleuter
MRM-1947,Improvement,2017-06-09T16:38:11.049Z,2017-06-09T16:38:11.049Z,2017-06-11T14:40:17.451Z,2017-06-11T14:40:17.451Z,,,Migrate Javascript-Tests to Selenium Webdriver API,"Most of the JavaScript Selenium Tests use the old Selenium RC API. Update Selenium version and migrate the Integration Tests to the WebDriver-API. 

Additionally HTMLUnit WebDriver should be integrated and tested.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1921,Bug,2016-09-07T16:59:06.682Z,2016-09-07T16:59:06.682Z,2016-09-08T06:45:04.507Z,2016-09-08T06:45:04.507Z,2016-09-08T06:45:04.292Z,2016-09-08T06:45:04.292Z,Could not find artifact com.project:artifact:jar:2.1.3-270 in repo,"When I run for example 'mvn package', there's a dependency that cannot be resolved during Maven's pom.xml evaluation faze; This is a mockup of the part of the pom that causes the problem:

		<dependency>
			<groupId>com.project</groupId>
			<artifactId>artifact</artifactId>
			<version>[2.1.3-270,)</version>
		</dependency>

This results in the following error issued by Maven:

Failed to execute goal on project MyProject: Could not resolve dependencies for project com.myproject:mymodule:jar:1.3.9-240: Could not find artifact com.project:artifact:jar:2.1.3-270 in myRepo (http://myrepo.local:7392/artifactory/repo)

If I browse the Artifactory repository http://myrepo.local:7392/artifactory/repo, there are several versions com.myproject:mymodule jars are present.  However, the owners of that artifact have set up their CI to only keep a rolling snapshot, and version 2.1.3-270 has been phased out. 

We are using Maven 3.2.5.  It seems that Maven should not require any of the named versions in a version range to actually be present before it can see whether any versions exist that do fit in the range.  We only want to have to update our minimum version when there is a breaking change that we have to address, not just when the publishers decide to remove the minimum version from availability.",Minor,Closed,Not A Problem,Olivier Lamy (*$^¨%`£),olamy,John Chesshir,jchesshir
MRM-1905,Bug,2015-10-14T11:00:39.592Z,2015-10-14T11:00:39.592Z,2015-10-14T11:02:08.12Z,2015-10-14T11:02:08.12Z,,,Premature end of Content-Length delimited message body,"Hi.

We are seeing that archiva updates the metadata before having recived the hole file.

This manifests it self as when one build process is uploading data and another simultaneously downloads data the downloading process sees the file being uploaded and tries to download it before the hole file have reached archiva. The downloading maven client then errors out with ""Premature end of Content-Length delimited message body"".

One way of solving this would be to delay the metadata update until the hole file have reached archiva.

There are no proxies involved in our case, and all the involved machines lives in the same vmware cluster so its really unlikely that this is caused by any other, external, issue.",Major,Open,,,,Anton Lundin,anton.lundin
MRM-1941,Task,2017-05-18T03:27:30.097Z,2017-05-18T03:27:30.097Z,2017-05-18T04:02:00.815Z,2017-05-18T04:02:00.815Z,,,Java 8 required,,Major,Open,,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1927,Bug,2016-09-28T10:55:42.178Z,2016-09-28T10:55:42.178Z,2016-10-16T17:49:58.374Z,2016-10-16T17:49:58.374Z,,,Deleting files from repository in filesystem confuses Archiva,"Archiva seems to have a problem when files and/or directories from its repository are deleted.

I see lots of exceptions and such messages in the archiva.log:

2016-09-22 17:08:02,435 [pool-6-thread-1] ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
[] - failed to read bundle: b9706fc7-846b-4dab-bac3-7a734136dbf8:
java.io.EOFException
2016-09-22 17:08:02,477 [pool-6-thread-1] ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
[] - failed to read bundle: b9706fc7-846b-4dab-bac3-7a734136dbf8:
java.io.EOFException
2016-09-22 17:08:02,528 [pool-6-thread-1] ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
[] - failed to read bundle: b9706fc7-846b-4dab-bac3-7a734136dbf8:
java.io.EOFException
2016-09-22 17:08:02,549 [pool-6-thread-1] ERROR
org.apache.jackrabbit.core.persistence.bundle.BundleFsPersistenceManager
[] - failed to read bundle: 27c8fb7c-b9ef-4b6c-9b59-565d71f51ce5:
java.io.EOFException

The system seems to be scanning the repository forever now and never really gets into a consistent state.",Major,Open,,Martin Stockhammer,effrafax,Marco Herrn,hupfdule
MRM-1939,Test,2017-04-24T18:17:08.814Z,2017-04-24T18:17:08.814Z,2017-04-24T18:17:08.814Z,2017-04-24T18:17:08.814Z,,,Load Test for Deployments / Uploads,"There may be situations, where archiva is not responding for a longer time during upload. 
See for example https://issues.apache.org/jira/browse/MDEPLOY-214?focusedCommentId=15634387&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15634387

Create some load tests to verify behaviour during certain actions.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1962,Bug,2017-09-23T18:03:38.244Z,2017-09-23T18:03:38.244Z,2017-09-25T10:21:34.561Z,2017-09-25T10:21:34.561Z,,,Verb Tenses in Repositories Metadata Content Storage are Confusing,"On the guide listed on: http://archiva.apache.org/docs/2.2.3/adminguide/repositories-content-storage.html

It keeps switching verb tense, which makes it very difficult to understand how a new setup works. In example: 
""Prior to version 1.4-M1, repository content is now stored in a jcr repository (based on Apache Jackrabbit implementation).""

Does this mean that it currently is stored in jackrabbit/jcr repository, or does it mean it used to be stored in jcr, but is no longer?",Minor,Open,,Martin Stockhammer,effrafax,David W Klotz,DaveKlotzer
MRM-1923,Bug,2016-09-13T00:57:00.899Z,2016-09-13T00:57:00.899Z,2017-05-05T11:01:05.3Z,2017-05-05T11:01:05.3Z,2016-09-13T00:58:30.594Z,2016-09-13T00:58:30.594Z,"Fixing bind issue with certain ldap servers, when user not found","I had a issue in certain environments where subsequent calls of NamingResult#hasMoreElements returns different values.
e.g. it occured on IBM JDK 7 with Windows Active Directory LDAP when the first value of 'hasMoreElements' was false.
The first value is cached now.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1929,Bug,2016-10-12T11:07:44.607Z,2016-10-12T11:07:44.607Z,2016-10-12T11:11:25.821Z,2016-10-12T11:11:25.821Z,,,Repository purge is not reflected in index,"I've managed to setup repository and it works just fine - files are removed from the drive, however - index is not updated which results in those artifacts being listed in the ""artifacts"" tab and 404 (""Resource does not exist"") errors while trying to download them.

Manually executing Directory or Index Scanning (and selecting ""Process All Artifacts"") doesn't do anything - artifacts are still listed.

Acessing repo through WebDav display correct list.

I know there are a couple of related issues (for example MRM-544) related but all of them are marked as fixed",Major,Open,,,,Wojtek,.wojtek
MRM-1951,Improvement,2017-06-12T19:45:18.054Z,2017-06-12T19:45:18.054Z,2017-08-30T18:46:46.868Z,2017-08-30T18:46:46.868Z,,,Upgrade Apache Lucene to new version,"The used version 3.6.2 is far behind the current lucene version. 
As far as I know the lucene API has changed with each major version, so code must be adapted.
But I'm not sure what an upgrade means for compatibility of existing repositories and indexes. Need some more investigation.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1944,Bug,2017-05-28T18:15:12.004Z,2017-05-28T18:15:12.004Z,2017-06-15T19:13:46.722Z,2017-06-15T19:13:46.722Z,,,Unable to deploy on wildfly 10,"I can't deploy archiva on wildfly 10: 

(cd /opt/wildfly-10.1.0.Final/bin/ && ./jboss-cli.sh -c -u=XXX -p='XXXX' --controller=http-remoting://172.20.12.192:9990 --command=""deploy  /opt/Installs/apache-archiva-2.2.3.war""){""WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:"" => {""Operation step-2"" => {""WFLYCTL0080: Failed services"" => {""jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".INSTALL"" => ""org.jboss.msc.service.StartException in service jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \""apache-archiva-2.2.3.war\""
    Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.pojo.\""org.jboss.netty.internal.LoggerConfigurator\"".DESCRIBED is already registered""},""WFLYCTL0412: Required services that are not installed:"" => [""jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".INSTALL"",""jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".beanmanager""],""WFLYCTL0180: Services with missing/unavailable dependencies"" => [""jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".batch.environment is missing [jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".beanmanager]"",""jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".weld.weldClassIntrospector is missing [jboss.deployment.unit.\""apache-archiva-2.2.3.war\"".beanmanager]""]}}}",Major,Open,,,,Gaétan QUENTIN,gquentin
MRM-1936,Bug,2017-03-24T19:20:54.981Z,2017-03-24T19:20:54.981Z,2017-05-19T19:07:30.039Z,2017-05-19T19:07:30.039Z,,,archiva role map to ldap user not saved,"I have user populated from active directiry and authenticated, assigning roles to ldap user is not saved, getting the following error on the web console

The class ""org.apache.archiva.redback.rbac.ldap.LdapRbacManager$UserAssignmentImpl"" is not Persistence-Capable. This means that it either hasnt been enhanced, or that the enhanced version of the file is not in the CLASSPATH (or is hidden by an unenhanced version), or the Meta-Data for the class is not found.] 

as per suggestion in MRM-1790 , I tried mapping archiva roles to ldap group, it not showing any error but when user logged in, he just getting basic login, he is not able to see assigned role options.",Minor,Open,,Martin Stockhammer,effrafax,Niranjan,nbommu
MRM-1942,Improvement,2017-05-19T19:00:59.762Z,2017-05-19T19:00:59.762Z,2017-05-19T19:07:19.971Z,2017-05-19T19:07:19.971Z,,,Change database backend to JPA,"Change the database backend from JDO to JPA.
We will use OpenJPA as implementation of the framework.",Major,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1911,Bug,2016-02-14T20:35:38.563Z,2016-02-14T20:35:38.563Z,2016-02-28T13:57:37.624Z,2016-02-28T13:57:37.624Z,,,Cannot start webapp,Cannot seem to start the Archiva webapp on TomEE plume (Tomcat 7.0). I will upload the archiva.log stack trace,Major,Open,,,,Matthew Broadhead,chongma
MRM-1903,Bug,2015-09-30T19:10:43.248Z,2015-09-30T19:10:43.248Z,2017-04-05T19:58:08.937Z,2017-04-05T19:58:08.937Z,,,Failure to publish sbt plugins,"Sbt plugins have somewhat specific structure, because they can be compiled for specific version of Scla and specific version of Sbt. 

If I try to publish git@github.com:sbt/sbt-buildinfo.git to Archiva, it gets upload successfully, directories are created, but no content. The log file shows an error:

java.lang.IllegalArgumentException: Not a valid artifact path in a Maven 2 repository, filename 'sbt-buildinfo-0.5.0-d953034cad27ff88913572d7e30d4ae524a54e5b-SNAPSHOT.pom' doesn't start with artifact ID 'sbt-buildinfo_2.10_0.13'

But if you generate pom file with sbt itself, it will have 
    <artifactId>sbt-buildinfo</artifactId>
Where from artifact ID 'sbt-buildinfo_2.10_0.13' is coming from?",Major,Open,,,,Vadim Chekan,vchekan
MRM-1956,Task,2017-06-16T06:24:49.119Z,2017-06-16T06:24:49.119Z,2017-06-24T01:51:31.806Z,2017-06-24T01:51:31.806Z,2017-06-20T11:49:55.847Z,2017-06-20T11:49:55.847Z,Replace tomcat-jdbc pool with HikariCP,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1909,Bug,2016-01-28T17:43:05.357Z,2016-01-28T17:43:05.357Z,2017-05-05T11:01:08.197Z,2017-05-05T11:01:08.197Z,2016-09-14T10:51:33.479Z,2016-09-14T10:51:33.479Z,Remote repository check fails for https://repo.maven.apache.org/maven2,"Within {{org.apache.archiva.rest.services.DefaultRemoteRepositoriesService.checkRemoteConnectivity(String)}} wagon is used to check the remote system via {{wagon.getFileList( ""/"" );}}

The URL constructed by this is {{https://repo.maven.apache.org/maven2//}} (with a double slash at the end) which is answered by the nginx with a 404 error.

The quick-fix for me was:
{code}
diff --git a/archiva-modules/archiva-web/archiva-rest/archiva-rest-services/src/main/java/org/apache/archiva/rest/services/DefaultRemoteRepositoriesService.java b/archiva-modules/archiva-web/archiva-rest/archiva-rest-services/src/main/java/org/apache/archiva/rest/services/DefaultRemoteRepositoriesService.java
index 64b8043..14f32f7 100644
--- a/archiva-modules/archiva-web/archiva-rest/archiva-rest-services/src/main/java/org/apache/archiva/rest/services/DefaultRemoteRepositoriesService.java
+++ b/archiva-modules/archiva-web/archiva-rest/archiva-rest-services/src/main/java/org/apache/archiva/rest/services/DefaultRemoteRepositoriesService.java
@@ -186,7 +187,7 @@
             wagon.connect( new Repository( remoteRepository.getId(), remoteRepository.getUrl() ) );
 
             // we only check connectivity as remote repo can be empty
-            wagon.getFileList( ""/"" );
+            wagon.getFileList( """" );
 
             return Boolean.TRUE;
         }
{code}

",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Wolfgang Jung,wolle
MRM-1915,Task,2016-03-15T05:49:50.284Z,2016-03-15T05:49:50.284Z,2017-05-05T11:01:06.311Z,2017-05-05T11:01:06.311Z,2017-04-05T23:45:51.577Z,2017-04-05T23:45:51.577Z,remove npanday plugin,npanday project has been retired so we can remove the Archiva plugin,Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1904,Improvement,2015-10-07T11:14:17.567Z,2015-10-07T11:14:17.567Z,2017-08-30T18:53:46.9Z,2017-08-30T18:53:46.9Z,,,update enunciate to version 2.0.0,It's not possible to build on jdk8 with enuncitate 1.2x because of the removal of old apt annotation tools.,Major,Open,,Eric Barboni,skygo,Eric Barboni,skygo
MRM-1907,Bug,2015-12-01T07:56:02.096Z,2015-12-01T07:56:02.096Z,2016-10-16T15:55:48.892Z,2016-10-16T15:55:48.892Z,2015-12-02T12:33:02.789Z,2015-12-02T12:33:02.789Z,Archiva won't start due to a misconfigured Redback Runtime Configuration,"I already posted this on the mailing list, but it won't show up so I will post it here.

I hope you can help since we need to upgrade Archiva to the latest version as fast as possible due to a Java Update.

Steps that I did:
* Upgrade 1.3.6 to 2.2.0
* Open Redback Runtime Configuration
* Switch to tab ""Properties""
* Set Password expiration to false

Archiva then displayed something like ""Could not save property"". Now archiva won't start anymore.

*Note:* We use our database for user management and therefore I changed nothing on the user managers.
 
Somehow Archiva now thinks I configured LDAP (at least the log indicates this).
 
How can I undo my configuration so that Archiva starts again without LDAP? As already stated, Archiva won't start therefore I have no UI to configure the system.
Maybe a side question: Where are the Redback Runtime Configurations stored? I couldn't find it.
 
Side note: The stack trace shows ""invalid name"" of my name - but I have no idea where the server could have taken this from?
 
Thanks in advance!
 
Here the output from catalina.out:
{code}
SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaServices': Cannot resolve reference to bean 'authenticationInterceptor#rest' while setting bean property 'providers' with key [1]; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationInterceptor#rest': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.integration.filter.authentication.basic.HttpBasicAuthentication org.apache.archiva.redback.rest.services.interceptors.AuthenticationInterceptor.httpAuthenticator; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'httpAuthenticator#basic': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securitySystem': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1469)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:762)
    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)
    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)
    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)
    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)
    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5528)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)
    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:677)
    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1912)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
    at java.util.concurrent.FutureTask.run(FutureTask.java:266)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationInterceptor#rest': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.integration.filter.authentication.basic.HttpBasicAuthentication org.apache.archiva.redback.rest.services.interceptors.AuthenticationInterceptor.httpAuthenticator; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'httpAuthenticator#basic': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securitySystem': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1202)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)
    ... 30 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.integration.filter.authentication.basic.HttpBasicAuthentication org.apache.archiva.redback.rest.services.interceptors.AuthenticationInterceptor.httpAuthenticator; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'httpAuthenticator#basic': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securitySystem': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:561)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)
    ... 38 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'httpAuthenticator#basic': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securitySystem': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1202)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1127)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1051)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:949)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)
    ... 40 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: protected org.apache.archiva.redback.system.SecuritySystem org.apache.archiva.redback.integration.filter.authentication.HttpAuthenticator.securitySystem; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securitySystem': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:561)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)
    ... 51 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securitySystem': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1202)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1127)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1051)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:949)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)
    ... 53 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.authentication.AuthenticationManager org.apache.archiva.redback.system.DefaultSecuritySystem.authnManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:561)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)
    ... 64 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationManager': Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1558)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1127)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1051)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:949)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)
    ... 66 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticator#ldap': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1202)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:523)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:512)
    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1052)
    at org.apache.archiva.redback.authentication.DefaultAuthenticationManager.initialize(DefaultAuthenticationManager.java:71)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:497)
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
    ... 78 more
Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.apache.archiva.redback.common.ldap.connection.LdapConnectionFactory org.apache.archiva.redback.authentication.ldap.LdapBindAuthenticator.connectionFactory; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:561)
    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)
    ... 96 more
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapConnectionFactory#archiva': Invocation of init method failed; nested exception is java.lang.RuntimeException: Error while initializing connection factory.
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:408)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1558)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)
    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)
    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)
    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)
    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1127)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1051)
    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:949)
    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:533)
    ... 98 more
Caused by: java.lang.RuntimeException: Error while initializing connection factory.
    at org.apache.archiva.web.runtime.ldap.ArchivaLdapConnectionFactory.initialize(ArchivaLdapConnectionFactory.java:69)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:497)
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:349)
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:300)
    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
    ... 110 more
Caused by: javax.naming.InvalidNameException: Invalid name: erharto
    at javax.nami",Critical,Resolved,Invalid,,,Oliver E,thunderhook
MRM-1906,Improvement,2015-10-25T10:27:29.954Z,2015-10-25T10:27:29.954Z,2015-10-25T10:30:04.414Z,2015-10-25T10:30:04.414Z,2015-10-25T10:29:37.097Z,2015-10-25T10:29:37.097Z,Allowing filtering of LDAP groups,,Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Olivier Lamy (*$^¨%`£),olamy
MRM-1908,Bug,2015-12-04T12:34:54.309Z,2015-12-04T12:34:54.309Z,2017-05-05T11:01:07.316Z,2017-05-05T11:01:07.316Z,2016-09-13T00:53:08.847Z,2016-09-13T00:53:08.847Z,Logged on users can write any repository,"Our sandbox Archiva 2.2.0 instance is connected with our corporate LDAP service. I created a repository with name common-internal. My LDAP user feketk1 doesn't have any permission on the common-internal repository. When I login through the web UI with my feketk1 user, I am able to upload artefacts to the common-internal repository.

For additional details please check attached screenshots.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Krisztian Fekete,chriss745
MRM-1948,Project,2017-06-11T14:59:32.498Z,2017-06-11T14:59:32.498Z,2017-06-11T14:59:32.498Z,2017-06-11T14:59:32.498Z,,,Test archiva 3 war deployment with wildfly,After upgrading versions of libraries and packaging is stable we should check deployment on wildfly.,Minor,Open,,Martin Stockhammer,effrafax,Martin Stockhammer,effrafax
MRM-1910,Bug,2016-02-08T08:34:52.62Z,2016-02-08T08:34:52.62Z,2016-03-25T22:31:39.685Z,2016-03-25T22:31:39.685Z,,,Repository Administration - Days Older should accept also value 0,"Repositories Administration ... Field ""Days Older"" should also accept value ""0"", otherwise ""Retention Count"" feature will not work.

Currently we have to enter a value greater/equal 1 into this field.",Minor,Open,,,,Markus Markl,marklmarkus
MRM-1925,Improvement,2016-09-13T14:37:35.134Z,2016-09-13T14:37:35.134Z,2017-05-05T11:01:04.991Z,2017-05-05T11:01:04.991Z,2016-09-14T00:54:14.083Z,2016-09-14T00:54:14.083Z,Make User-Agent header configurable for HTTP requests,"We have the requirement to send a customized User-Agent header with the HTTP-Requests for remote proxy. 
Business Case: A proxy is configured for internet access from internal network. The policy of the web proxy denies requests with certain User-Agent-Header.

Unfortunately the User-Agent string that archiva uses is hard coded and cannot be customized.

Will provide a pull request via github for further discussion.
",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Martin Stockhammer,effrafax
MRM-1307,Bug,2009-12-21T07:05:58.263Z,2009-12-21T07:05:58.263Z,2016-03-15T05:55:24.797Z,2016-03-15T05:55:24.797Z,2014-02-25T20:54:36.623Z,2014-02-25T20:54:36.623Z,delete artifact action (and xmlrpc equivalent) do not delete database / metadata associated with the artifacts if they are timestamped snapshots,"there is a check "" if ( artifact.getVersion().equals( version ) )"" which will not match for version = 1.0-SNAPSHOT and timestamped artifact versions. Comments have been added in the MRM-1025 branch where this could be fixed",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1325,New Feature,2010-02-16T04:28:22.924Z,2010-02-16T04:28:22.924Z,2012-09-29T11:41:56.795Z,2012-09-29T11:41:56.795Z,,,Add support for LDAP groups in Archiva,"Hello there,

as mentioned in REDBACK-142:
Could you please add support for LDAP-Groups in Archiva.
It is not enough to use the user-filter-atribute.
We've got several ldap-groups which must have access to several (different!) repositories in archiva.
Today I must configure every person individually. Support for LDAP-Groups will help me very much.

Thanks
",Critical,Open,,,,Thomas,thosor
MRM-1328,Task,2010-02-23T08:36:42.16Z,2010-02-23T08:36:42.16Z,2013-11-24T23:16:00.725Z,2013-11-24T23:16:00.725Z,,,revise the content model to avoid Maven specifics and other problems,"The initial content model took some shortcuts for expediency that need to be cleared up:
- the Maven specifics, particularly in the dependency model, need to be moved to extensions (eg, dependencies should only refer to a namespace / project / version / id instead of having classifiers and types which can be added as extended information on the dependency in the same way it is for the artifact itself (then adjust xmlrpc and the metadata creation consumer)
- extras like mailing lists, etc can be moved into a module so the basic model is much more basic
- remove the 0-indexed lists in favour of proper modelling (select a name that can be referred to as well as iterated instead)
- review the metadata document on the wiki for keying ideas to ensure we can always map everything to an URI and document it
- ensure the storage is properly decoupled from the format - in a maven 2 repo, asc/md5/pom need to be able to be mapped onto the metadata, and not as resources themselves, while pom/jar/dll are all resources (even if they might represent the same artifact, particularly in the case of the POM for a given JAR).",Major,Open,,,,Brett Porter,brettporter
MRM-1366,Bug,2010-03-16T22:05:08.585Z,2010-03-16T22:05:08.585Z,2010-03-17T00:36:03.94Z,2010-03-17T00:36:03.94Z,2010-03-17T00:36:03.877Z,2010-03-17T00:36:03.877Z,Error 500 when browsing an artifact,"Getting an error 500 when trying to browse an artifact.

Steps.
1. Uploaded an artifact using the web form.
2. And browse artifact.

HTTP ERROR 500

Problem accessing /archiva/browse/test/test. Reason:

    javax.el.PropertyNotFoundException: The class 'org.apache.archiva.metadata.model.ProjectVersionMetadata' does not have the property 'facets'.

Caused by:

org.apache.jasper.JasperException: javax.el.PropertyNotFoundException: The class 'org.apache.archiva.metadata.model.ProjectVersionMetadata' does not have the property 'facets'.
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:418)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:486)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:380)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:389)
	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
	at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:334)
",Major,Closed,Fixed,Brett Porter,brettporter,Gwen Harold Autencio,gautencio
MRM-1386,Bug,2010-05-04T04:40:11.424Z,2010-05-04T04:40:11.424Z,2010-05-10T08:57:30.38Z,2010-05-10T08:57:30.38Z,2010-05-10T08:57:30.293Z,2010-05-10T08:57:30.293Z,Start Date and End Date calendar pop-up in Audit Log Report page is broken,The calendar does not pop up when you click the Start Date and End Date input fields. This is only broken in 1.3.x and not in trunk.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1329,Task,2010-02-23T08:40:14.066Z,2010-02-23T08:40:14.066Z,2014-12-22T19:11:45.225Z,2014-12-22T19:11:45.225Z,,,revise Javadoc for new APIs,I didn't spend a lot of time on Javadoc because the APIs were changing. I'd like to go back and ensure that it is extremely high quality on the new code. There are some more things that can be done to refine the API as well once a couple more systems are using it and we have the metadata storage finalised.,Major,Open,,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1394,Task,2010-06-17T06:37:13.025Z,2010-06-17T06:37:13.025Z,2011-03-29T09:59:31.232Z,2011-03-29T09:59:31.232Z,2010-07-04T06:29:50.484Z,2010-07-04T06:29:50.484Z,Replace the use of clickLinkWithText() with getSelenium().open() for accessing navigation menu pages,"Replace the use of clickLinkWithText() with getSelenium().open() for accessing navigation menu pages.

clickLinkWithText() may fail if the link points to the active page.

Some tests need to re-access the page to make sure the test is executed on the correct page since the order of test executions may change.",Major,Closed,Fixed,jzurbano,jzurbano,jzurbano,jzurbano
MRM-1332,Task,2010-02-23T08:49:44.934Z,2010-02-23T08:49:44.934Z,2011-10-04T16:17:26.157Z,2011-10-04T16:17:26.157Z,2011-10-04T16:17:26.101Z,2011-10-04T16:17:26.101Z,remove database scanning configuration and handle upgrade,"the configuration file still contains the database scanning information. This isn't harmful, but it can be removed. This will require a version bump and proper migration from a previous configuration version.

We need to ensure that the metadata creation consumer is enabled by default, otherwise project models will not be correctly populated.

We need to make sure that the duplicate artifact consumer (that checks if two checksums are identical) is migrated from the database scanning section to the known content scanning section.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1361,New Feature,2010-03-10T22:39:25.179Z,2010-03-10T22:39:25.179Z,2011-09-30T21:25:45.995Z,2011-09-30T21:25:45.995Z,2011-09-30T21:25:19.449Z,2011-09-30T21:25:19.449Z,Add support for NPanday artifact types,"NPanday (http://www.npanday.org/) declares a number of new artifact handlers that Maven can use as extensions to be able to deploy .NET artifacts into a repository. There should be an Archiva plugin that can recognise these types for path conversion so that they can be uploaded through the web form, and viewed in the artifact information page correctly.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1392,Improvement,2010-06-14T21:16:21.476Z,2010-06-14T21:16:21.476Z,2014-02-25T19:33:41.564Z,2014-02-25T19:33:41.564Z,2014-02-25T19:33:41.498Z,2014-02-25T19:33:41.498Z,Separate webdav unit tests and integration tests,,Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1321,Bug,2010-01-27T01:58:51.645Z,2010-01-27T01:58:51.645Z,2015-04-05T14:53:55.327Z,2015-04-05T14:53:55.327Z,2010-04-02T06:21:14.243Z,2010-04-02T06:21:14.243Z,Snapshot is linking to oldest version in Archiva GUI,"If i upload a Snapshot to archiva it shows up as Version 0.0.1-20100127.073805-1 and the Version of the 0.0.1-SNAPSHOT Artifact is also 0.0.1-20100127.073805-1. So if i download the jar from the orange box, i get the version 0.0.1-20100127.073805-1. Now i upload a later snapshot version to archiva: 0.0.1-20100127.074443-3. The Version shows up in the list of snapshots in archiva (other versions), but the Version is still set to 0.0.1-20100127.073805-1. So if i download the jar from the orange box it is still version 0.0.1-20100127.073805-1 and not the latest version. maven-metadata.xml is correct and builds get the latest version, but archiva-gui shows up the first uploaded snapshot. In Archiva 1.2.2 this was working correct. If the oldest snapshot gets purged, archiva uses the oldest still available version to show up as xxx-SNAPSHOT. Maybe some kind of sorting was changed?",Major,Closed,Fixed,Maria Odea Ching,oching,Daniel Triphaus,dtriphaus
MRM-1333,Task,2010-02-23T08:52:38.354Z,2010-02-23T08:52:38.354Z,2011-10-10T06:07:37.076Z,2011-10-10T06:07:37.076Z,2011-10-10T06:07:35.472Z,2011-10-10T06:07:35.472Z,update documentation for database changes,"We need to remove any references to the database and database scanning in the documentation.

We need to update screenshots where applicable for the new navigation, and the changes to the appearance of the artifact page.

We also need to update the upgrade notes to point out that the database can be removed, and what will happen on first use (as well as the rewrite of the config if other issues are implemented). We should test upgrading from 1.2 and 1.3.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1335,Improvement,2010-02-23T09:03:38.096Z,2010-02-23T09:03:38.096Z,2011-06-28T03:11:00.637Z,2011-06-28T03:11:00.637Z,2011-06-28T03:11:00.56Z,2011-06-28T03:11:00.56Z,improve the message appearing when an artifact's metadata is incomplete,"Currently the error message on the artifact page points to the problem reports - but these are not necessarily present or related. It should instead log the error that occurred to put it in an incomplete state (this may need to be added to the metadata model as an additional facet of the project version).

See: http://mail-archives.apache.org/mod_mbox/archiva-dev/201002.mbox/%3C8667b1bd1002180745k10ad8c75o1de8e59a2b1c8ac6@mail.gmail.com%3E ",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1373,Bug,2010-04-19T16:09:47.199Z,2010-04-19T16:09:47.199Z,2010-06-10T00:28:46.936Z,2010-06-10T00:28:46.936Z,2010-06-09T22:31:39.072Z,2010-06-09T22:31:39.072Z,Archiva fails when default charset in database is UTF 8,"Archiva fails when default charset in database is UTF 8. When I set charset to latin2 it works 
I get following exceptions. There are very similar bugs, but these are said to be fixed in 1.0.1 and I'm using 1.3.

 2010-04-19 22:52:43.701::WARN:  Nested in org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xmlRpcUserRepositories' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean 'userRepositories' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepositories': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'roleManager' defined in URL [jar:file:/opt/apache-archiva-1.3/apps/archiva/WEB-INF/lib/redback-rbac-role-manager-1.2.3.jar!/org/codehaus/plexus/redback/role/DefaultRoleManager.class]: Initialization of bean failed; nested exception is javax.jdo.JDODataStoreException: An exception was thrown while adding/validating class(es) : Specified key was too long; max key length is 767 bytes
INFO   | jvm 1    | 2010/04/19 22:52:43 | com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Specified key was too long; max key length is 767 bytes
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.Util.getInstance(Util.java:384)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3562)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3494)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1960)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2114)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2690)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2619)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:783)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:626)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3065)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1218)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1357)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2328)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:213)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:196)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInit(JdoTool.java:133)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManager(JdoTool.java:119)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:300)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsById(JdoTool.java:348)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExists(JdoRbacManager.java:463)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExists(CachedRbacManager.java:612)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResources(DefaultRoleModelProcessor.java:77)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.process(DefaultRoleModelProcessor.java:61)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadApplication(DefaultRoleManager.java:165)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:107)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.initialize(DefaultRoleManager.java:411)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:217)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1344)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirement(PlexusComponentFactoryBean.java:246)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstance(PlexusComponentFactoryBean.java:163)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObject(PlexusComponentFactoryBean.java:108)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:121)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:269)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:104)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:495)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:162)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1239)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:466)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.Server.doStart(Server.java:224)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:985)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.lang.reflect.Method.invoke(Method.java:597)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.invokeMain(Main.java:194)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.start(Main.java:534)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.start(Main.java:441)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.main(Main.java:119)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.lang.reflect.Method.invoke(Method.java:597)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.tanukisoftware.wrapper.WrapperSimpleApp.run(WrapperSimpleApp.java:240)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.lang.Thread.run(Thread.java:619)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 
INFO   | jvm 1    | 2010/04/19 22:52:43 | NestedThrowables:
INFO   | jvm 1    | 2010/04/19 22:52:43 | com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Specified key was too long; max key length is 767 bytes
INFO   | jvm 1    | 2010/04/19 22:52:43 | Related cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repositoryMetadataBuilder': Initialization of bean failed; nested exception is org.springframework.beans.TypeMismatchException: Failed to convert property value of type [java.lang.String] to required type [java.lang.Class] for property 'role'; nested exception is java.lang.IllegalArgumentException: Cannot find class [org.apache.maven.artifact.repository.metadata.RepositoryMetadataBuilder]:
INFO   | jvm 1    | 2010/04/19 22:52:43 | com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Specified key was too long; max key length is 767 bytes
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.Util.getInstance(Util.java:384)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1054)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3562)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3494)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1960)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2114)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2690)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2619)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:783)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at com.mysql.jdbc.StatementImpl.execute(StatementImpl.java:626)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatement(AbstractTable.java:614)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.executeDdlStatementList(AbstractTable.java:570)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.create(AbstractTable.java:297)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.table.AbstractTable.exists(AbstractTable.java:341)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.performTablesValidation(RDBMSManager.java:3065)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.addClassTablesAndValidate(RDBMSManager.java:3326)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$ClassAdder.run(RDBMSManager.java:2567)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager$MgmtTransaction.execute(RDBMSManager.java:2419)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager.addClasses(RDBMSManager.java:824)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager.addClass(RDBMSManager.java:838)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.StoreManager.getDatastoreClass(StoreManager.java:1218)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.store.rdbms.RDBMSManager.getExtent(RDBMSManager.java:1357)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.jpox.AbstractPersistenceManager.getExtent(AbstractPersistenceManager.java:2328)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:213)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getAllObjects(JdoTool.java:196)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.triggerInit(JdoTool.java:133)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getPersistenceManager(JdoTool.java:119)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.getObjectById(JdoTool.java:300)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoTool.objectExistsById(JdoTool.java:348)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.jdo.JdoRbacManager.resourceExists(JdoRbacManager.java:463)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.rbac.cached.CachedRbacManager.resourceExists(CachedRbacManager.java:612)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.processResources(DefaultRoleModelProcessor.java:77)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.processor.DefaultRoleModelProcessor.process(DefaultRoleModelProcessor.java:61)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadApplication(DefaultRoleManager.java:165)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.loadRoleModel(DefaultRoleManager.java:107)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.redback.role.DefaultRoleManager.initialize(DefaultRoleManager.java:411)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:217)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1344)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirement(PlexusComponentFactoryBean.java:246)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstance(PlexusComponentFactoryBean.java:163)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObject(PlexusComponentFactoryBean.java:108)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:121)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:269)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:104)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:495)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:162)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:835)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.security.AccessController.doPrivileged(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:264)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:261)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:429)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:728)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:380)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:548)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.servlet.Context.startContext(Context.java:136)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1239)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:466)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.ContextHandlerCollection.doStart(ContextHandlerCollection.java:156)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.HandlerCollection.doStart(HandlerCollection.java:152)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.jetty.Server.doStart(Server.java:224)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.xml.XmlConfiguration.main(XmlConfiguration.java:985)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at java.lang.reflect.Method.invoke(Method.java:597)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.invokeMain(Main.java:194)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.start(Main.java:534)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.start(Main.java:441)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at org.mortbay.start.Main.main(Main.java:119)
INFO   | jvm 1    | 2010/04/19 22:52:43 | 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
INFO   | jvm 1    | 2010/04/19 22:52:43",Major,Open,,,,Brett Porter,brettporter
MRM-1379,Task,2010-05-03T23:52:54.01Z,2010-05-03T23:52:54.01Z,2016-03-15T11:25:15.133Z,2016-03-15T11:25:15.133Z,2016-03-15T11:25:15.094Z,2016-03-15T11:25:15.094Z,migrate upload artifact web forms to repository API,this should simplify the code significantly by pushing things like the maintenance of Maven 2 specifics into the backing code. This should just be processing the form (generating the POM if needed) and then executing one or more calls into the API to store the artifacts (in the same way as a webdav PUT request would),Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-1344,Bug,2010-02-23T09:52:01.652Z,2010-02-23T09:52:01.652Z,2011-06-28T02:45:32.886Z,2011-06-28T02:45:32.886Z,2011-06-28T02:45:32.353Z,2011-06-28T02:45:32.353Z,multiple versions appear in search results,"for example, search for plexus-utils and see 1.5.4 appear several times. This seems to match one instance for each artifact attached to that project aside from the POM (eg, if there are two classifiers, source and javadoc and one JAR, it'll appear 3 times).",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1370,Bug,2010-04-06T02:56:59.827Z,2010-04-06T02:56:59.827Z,2011-10-27T17:00:17.879Z,2011-10-27T17:00:17.879Z,2011-10-27T17:00:17.855Z,2011-10-27T17:00:17.855Z,"Artifacts labelled ""Distribution-zip"" in the orange frame.","Sometimes (when the classifier is unknown?), Archiva displays the Distribution-zip label in the orange frame displaying the artifacts.
In the attached screenshot, the file name of the artifacts are:
lingdata-2.8.2-dict-dut-to-dut.zip
lingdata-2.8.2-dict-dut-to-eng.zip
lingdata-2.8.2-dict-dut-to-fre.zip
lingdata-2.8.2-dict-dut-to-ger.zip
lingdata-2.8.2-dict-dut-to-ita.zip
lingdata-2.8.2-dict-dut-to-por.zip
lingdata-2.8.2-dict-dut-to-spa.zip
...
All of them are displayed as ""Distribution-zip"".",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Bruno Freudensprung,bfreuden
MRM-1385,Task,2010-05-04T00:57:58.679Z,2010-05-04T00:57:58.679Z,2010-05-04T00:58:44.134Z,2010-05-04T00:58:44.134Z,,,migrate artifact deletion forms to use new repository API,"DeleteArtifactAction still has multiple uses of the old model and repository-layer that can be migrated to the new repository API. This should also simplify the logic as it will be handled directly by the storage abstraction.

Specific uses to look at:
- ArchivaRepositoryMetadata
- VersionedReference
- Auditable / RepositoryListener (to be reviewed in the audit logging plugin handling of events)
- MetadataTools and other metadata updating
- RepositoryContentFactory / ManagedRepositoryContent

These also apply to the ASI class in xmlrpc in some cases.",Major,Open,,,,Brett Porter,brettporter
MRM-1318,Bug,2010-01-22T06:40:46.318Z,2010-01-22T06:40:46.318Z,2011-11-02T17:35:26.649Z,2011-11-02T17:35:26.649Z,2011-11-02T17:35:26.615Z,2011-11-02T17:35:26.615Z,Nexus index of a repository group is incomplete,"I have a repository group 'G' with repositories 'A', 'B' and 'C' (in this order). A is a snapshot repo,
B and C are release repos.

If I download a Nexus index from '.../G/.index' (for instance with Eclipse) I see only the artifacts
of 'A', not of 'B' nor 'C'.

I wondered how the repository group constructs the combined Nexus index..
",Minor,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Andreas Baumann,andreas_baumann
MRM-1340,Bug,2010-02-23T09:30:20.966Z,2010-02-23T09:30:20.966Z,2011-06-21T21:53:11.062Z,2011-06-21T21:53:11.062Z,2011-06-21T21:53:10.99Z,2011-06-21T21:53:10.99Z,"some artifacts are shown as ""not found""","This should no longer occur with the metadata updates, but there are some artifacts showing as not found. This occurs when they are referenced by another project but do not exist themselves (an incomplete transitive closure).

They should not be appearing in the browse page if they are incomplete.",Major,Closed,Cannot Reproduce,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1387,Task,2010-06-07T03:11:27.079Z,2010-06-07T03:11:27.079Z,2011-03-29T09:59:25.743Z,2011-03-29T09:59:25.743Z,2010-06-11T03:35:34.26Z,2010-06-11T03:35:34.26Z,Cannot build trunk of Archiva because of dependency missing in Central,"After installing archiva parent 6-SNAPSHOT I try to build archiva trunk. I get the following error message:

{noformat}
Downloading: http://********/archiva/repository/internal/com/google/code/atinject/atinject/1.0.0-rev3/atinject-1.0.0-rev3.jar
[INFO] Unable to find resource 'com.google.code.atinject:atinject:jar:1.0.0-rev3' in repository internal (http://********/archiva/repository/internal)
Downloading: http://repository.sonatype.org/content/repositories/tycho-pseudo-releases//com/google/code/atinject/atinject/1.0.0-rev3/atinject-1.0.0-rev3.jar
[INFO] Unable to find resource 'com.google.code.atinject:atinject:jar:1.0.0-rev3' in repository tycho (http://repository.sonatype.org/content/repositories/tycho-pseudo-releases/)
Downloading: http://repo1.maven.org/maven2/com/google/code/atinject/atinject/1.0.0-rev3/atinject-1.0.0-rev3.jar
[INFO] Unable to find resource 'com.google.code.atinject:atinject:jar:1.0.0-rev3' in repository central (http://repo1.maven.org/maven2)

.
.
.

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD ERROR
[INFO] ------------------------------------------------------------------------
[INFO] Failed to resolve artifact.

Missing:
----------
1) com.google.code.atinject:atinject:jar:1.0.0-rev3

  Try downloading the file manually from the project website.

  Then, install it using the command:
      mvn install:install-file -DgroupId=com.google.code.atinject -DartifactId=atinject -Dversion=1.0.0-rev3 -Dpackaging=jar -Dfile=
/path/to/file

  Alternatively, if you host your own repository you can deploy the file there:
      mvn deploy:deploy-file -DgroupId=com.google.code.atinject -DartifactId=atinject -Dversion=1.0.0-rev3 -Dpackaging=jar -Dfile=/path/to/file -Durl=[url] -DrepositoryId=[id]

  Path to dependency:
        1) org.apache.archiva:archiva-common:jar:1.4-SNAPSHOT
        2) org.sonatype.nexus:nexus-indexer:jar:2.0.5
        3) org.sonatype.plugin:plugin-host-api:jar:1.0.2
        4) com.google.code.atinject:atinject:jar:1.0.0-rev3
{noformat}

It seems that this artifact is missing from central.",Major,Closed,Fixed,Brett Porter,brettporter,Dennis Lundberg,dennisl@apache.org
MRM-1396,Bug,2010-07-20T07:13:59.233Z,2010-07-20T07:13:59.233Z,2012-02-10T11:12:31.495Z,2012-02-10T11:12:31.495Z,2010-12-14T19:20:43.417Z,2010-12-14T19:20:43.417Z,Purge task problem : Not enough parts to the path,"I keep on having these logs :
I'm using archiva 1.3.1.
I thought this was fixed in MRM-1151, but I still get this :


2010-07-20 14:00:36,868 [pool-2-thread-1] INFO  org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor  - Executing task from queue with job name: RepositoryTask [repositoryId=sofaxis-snapshot, resourceFile=null, scanAll=false, updateRelatedArtifacts=false]
2010-07-20 14:00:36,868 [pool-2-thread-1] INFO  org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance  - Walk Started: [sofaxis-snapshot] D:\maven_archiva_data\data\repositories\sofaxis-snapshot
2010-07-20 14:00:36,868 [pool-2-thread-1] ERROR org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure  - Consumer [repository-purge] had an error when processing file [D:\maven_archiva_data\data\repositories\sofaxis-snapshot\.index\nexus-maven-repository-index.zip]: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
org.apache.maven.archiva.consumers.ConsumerException: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:174)
	at org.apache.maven.archiva.repository.scanner.functors.ConsumerProcessFileClosure.execute(ConsumerProcessFileClosure.java:50)
	at org.apache.commons.collections.functors.IfClosure.execute(IfClosure.java:117)
	at org.apache.commons.collections.CollectionUtils.forAllDo(CollectionUtils.java:388)
	at org.apache.maven.archiva.repository.scanner.RepositoryScannerInstance.directoryWalkStep(RepositoryScannerInstance.java:137)
	at org.codehaus.plexus.util.DirectoryWalker.fireStep(DirectoryWalker.java:174)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:392)
	at org.codehaus.plexus.util.DirectoryWalker.scanDir(DirectoryWalker.java:386)
	at org.codehaus.plexus.util.DirectoryWalker.scan(DirectoryWalker.java:345)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:117)
	at org.apache.maven.archiva.repository.scanner.DefaultRepositoryScanner.scan(DefaultRepositoryScanner.java:61)
	at org.apache.maven.archiva.scheduled.executors.ArchivaRepositoryScanningTaskExecutor.executeTask(ArchivaRepositoryScanningTaskExecutor.java:144)
	at org.codehaus.plexus.taskqueue.execution.ThreadedTaskQueueExecutor$ExecutorRunnable$1.run(ThreadedTaskQueueExecutor.java:116)
	at edu.emory.mathcs.backport.java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
	at edu.emory.mathcs.backport.java.util.concurrent.FutureTask.run(FutureTask.java:176)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:987)
	at edu.emory.mathcs.backport.java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:528)
	at java.lang.Thread.run(Thread.java:595)
Caused by: org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeException: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.process(CleanupReleasedSnapshotsRepositoryPurge.java:194)
	at org.apache.maven.archiva.consumers.core.repository.RepositoryPurgeConsumer.processFile(RepositoryPurgeConsumer.java:167)
	... 17 more
Caused by: org.apache.maven.archiva.repository.layout.LayoutException: Not enough parts to the path [.index\nexus-maven-repository-index.zip] to construct an ArchivaArtifact from. (Requires at least 4 parts)
	at org.apache.maven.archiva.repository.content.DefaultPathParser.toArtifactReference(DefaultPathParser.java:65)
	at org.apache.maven.archiva.repository.content.AbstractDefaultRepositoryContent.toArtifactReference(AbstractDefaultRepositoryContent.java:54)
	at org.apache.maven.archiva.repository.content.ManagedDefaultRepositoryContent.toArtifactReference(ManagedDefaultRepositoryContent.java:340)
	at org.apache.maven.archiva.consumers.core.repository.CleanupReleasedSnapshotsRepositoryPurge.process(CleanupReleasedSnapshotsRepositoryPurge.java:103)
	... 18 more
",Major,Closed,Fixed,Brett Porter,brettporter,Dominique Jean-Prost,djeanprost
MRM-1300,Task,2009-12-10T01:18:18.341Z,2009-12-10T01:18:18.341Z,2016-03-15T05:55:23.965Z,2016-03-15T05:55:23.965Z,2010-02-23T01:20:11.162Z,2010-02-23T01:20:11.162Z,migrate search to the metadata repository,"currently, the search uses the database for two aspects:
# checksum search (find artifact)
# resolving the available versions for a search result

These can both be moved to the metadata repository (for both the web interface and the XMLRPC)",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1338,Bug,2010-02-23T09:24:12.832Z,2010-02-23T09:24:12.832Z,2011-06-29T01:11:54.814Z,2011-06-29T01:11:54.814Z,2011-06-29T01:11:54.786Z,2011-06-29T01:11:54.786Z,dependency tree can show exception on output pane,"for example, view /archiva/browse/org.apache.archiva/archiva-proxy/1.2.2/dependencyTree

the errors shown result in a stacktrace, but instead should show a simple set of information.",Major,Closed,Cannot Reproduce,,,Brett Porter,brettporter
MRM-1350,Improvement,2010-02-25T03:18:06.224Z,2010-02-25T03:18:06.224Z,2011-09-12T10:13:15.191Z,2011-09-12T10:13:15.191Z,2011-09-12T10:13:15.162Z,2011-09-12T10:13:15.162Z,Add uniqueVersion support (for snapshots) in upload artifact web form,,Major,Closed,Incomplete,,,Maria Odea Ching,oching
MRM-1360,Improvement,2010-03-09T19:37:26.83Z,2010-03-09T19:37:26.83Z,2017-04-05T19:22:56.196Z,2017-04-05T19:22:56.196Z,,,Separate Maven 2.x functionality into a separate plugin,"Similarly to MRM-1359, the Maven 2 repository functionality should be self contained in a plugin",Major,Open,,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1317,Bug,2010-01-19T05:18:23.506Z,2010-01-19T05:18:23.506Z,2011-08-24T08:10:16.201Z,2011-08-24T08:10:16.201Z,2011-08-24T08:10:16.154Z,2011-08-24T08:10:16.154Z,Pagination is broken in audit log report in trunk,,Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1345,Bug,2010-02-23T09:59:17.954Z,2010-02-23T09:59:17.954Z,2011-09-12T10:02:02.147Z,2011-09-12T10:02:02.147Z,2011-06-28T14:57:38.038Z,2011-06-28T14:57:38.038Z,update use of Nexus indexer to use Maven indexer,"the Nexus indexer has evolved since the version we used (and will soon be moved under the Maven project).

To ensure proper compatibility with other clients and the addition of features such as creating incremental indexes, we should upgrade and follow other recommendations provided by the indexer team. I've started a discussion with Brian on the topic and need to fold it back into here.

I will link the related issues we have that we should try to resolve at the same time.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1306,Task,2009-12-20T23:03:21.111Z,2009-12-20T23:03:21.111Z,2010-01-11T22:13:33.17Z,2010-01-11T22:13:33.17Z,2009-12-20T23:09:36.893Z,2009-12-20T23:09:36.893Z,upgrade to jQuery UI 1.7.2 and jQuery 1.3.2,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1336,Bug,2010-02-23T09:15:39.396Z,2010-02-23T09:15:39.396Z,2010-02-23T09:16:28.484Z,2010-02-23T09:16:28.484Z,,,clarify audit logs by source,"currently, you can't distinguish different WebDAV operations, nor which were created by being proxied vs uploaded vs uploaded via WebDAV",Major,Open,,,,Brett Porter,brettporter
MRM-1331,Task,2010-02-23T08:47:07.662Z,2010-02-23T08:47:07.662Z,2017-04-05T19:18:33.16Z,2017-04-05T19:18:33.16Z,2017-04-05T19:18:33.119Z,2017-04-05T19:18:33.119Z,various clean up tasks related to database removal,"- review FIXME and TODO markers in new code (to fix, or to migrate to issues instead and mark in code)
- review test coverage of new code (should be ok, but worth checking with EMMA)
- remove the duplication of mocks and test repositories across various modules to do the same thing
- review suitable places for logging
- go back over new code and remove PlexusInSpringTestCase where possible
** in favour of just creating the objects, or look into an alternative with Mockito
** remove getTestFile and look up from resources or user.dir
",Major,Resolved,Resolved,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1391,Improvement,2010-06-14T21:05:49.995Z,2010-06-14T21:05:49.995Z,2014-02-25T19:33:59.689Z,2014-02-25T19:33:59.689Z,,,Move out components specific to repo proxying in webdav module to a separate module to the point where it can be turned on and off as a module,,Major,Open,,,,Maria Odea Ching,oching
MRM-1311,Bug,2010-01-18T05:03:56.565Z,2010-01-18T05:03:56.565Z,2014-11-27T04:42:58.768Z,2014-11-27T04:42:58.768Z,2014-09-29T20:16:13.373Z,2014-09-29T20:16:13.373Z,Logging in ArtifactMissingChecksumsConsumer does not appear in the logs even if configured properly,"The logging needs to be migrated to use the Logger class, similar to the other consumers.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1303,Bug,2009-12-10T14:48:42.569Z,2009-12-10T14:48:42.569Z,2011-03-29T09:59:29.014Z,2011-03-29T09:59:29.014Z,2010-11-05T06:24:48.525Z,2010-11-05T06:24:48.525Z,NullPointerException when deleting an artifact,"INFO   | jvm 1    | 2009/12/08 21:29:54 | java.lang.NullPointerException
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.maven.archiva.web.action.DeleteArtifactAction.updateMetadata(DeleteArtifactAction.java:347)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.maven.archiva.web.action.DeleteArtifactAction.doDelete(DeleteArtifactAction.java:229)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at java.lang.reflect.Method.invoke(Unknown Source)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:267)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:229)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.maven.archiva.web.interceptor.ConfigurationInterceptor.intercept(ConfigurationInterceptor.java:50)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.codehaus.plexus.redback.struts2.interceptor.PolicyEnforcementInterceptor.intercept(PolicyEnforcementInterceptor.java:159)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.codehaus.plexus.redback.struts2.interceptor.SecureActionInterceptor.intercept(SecureActionInterceptor.java:173)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ParameterFilterInterceptor.intercept(ParameterFilterInterceptor.java:143)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:150)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:48)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:123)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:186)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:105)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:83)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:207)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:74)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:127)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.ProfilingActivationInterceptor.intercept(ProfilingActivationInterceptor.java:107)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:206)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:115)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:143)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:121)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:86)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:170)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:123)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:176)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.codehaus.plexus.redback.struts2.interceptor.AutoLoginInterceptor.intercept(AutoLoginInterceptor.java:167)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.codehaus.plexus.redback.struts2.interceptor.ForceAdminUserInterceptor.intercept(ForceAdminUserInterceptor.java:77)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:419)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.module.sitemesh.filter.PageFilter.parsePage(PageFilter.java:118)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:52)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.Server.handle(Server.java:326)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:879)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:747)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
INFO   | jvm 1    | 2009/12/08 21:29:54 | 	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
",Major,Closed,Fixed,Maria Odea Ching,oching,Philip Helger,phax
MRM-1364,Bug,2010-03-12T09:11:19.864Z,2010-03-12T09:11:19.864Z,2012-10-13T16:23:15.61Z,2012-10-13T16:23:15.61Z,2012-10-13T16:23:14.658Z,2012-10-13T16:23:14.658Z,Unable to upload file with web form when running with jetty:run,"Attempting to upload a file using the web form results in an error and stack trace:

HTTP ERROR 500

Problem accessing /upload!doUpload.action. Reason:

    INTERNAL_SERVER_ERROR
Caused by:

java.lang.ExceptionInInitializerError
	at com.opensymphony.xwork2.validator.ValidatorFileParser.addValidatorConfigs(ValidatorFileParser.java:192)
	at com.opensymphony.xwork2.validator.ValidatorFileParser.parseActionValidatorConfigs(ValidatorFileParser.java:72)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.loadFile(AnnotationActionValidatorManager.java:361)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildClassValidatorConfigs(AnnotationActionValidatorManager.java:252)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.buildValidatorConfigs(AnnotationActionValidatorManager.java:340)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.getValidators(AnnotationActionValidatorManager.java:69)
	at com.opensymphony.xwork2.validator.AnnotationActionValidatorManager.validate(AnnotationActionValidatorManager.java:138)
...
Caused by: java.lang.IllegalArgumentException: URI is not hierarchical
	at java.io.File.<init>(File.java:363)
	at com.opensymphony.xwork2.validator.ValidatorFactory.parseValidators(ValidatorFactory.java:323)
	at com.opensymphony.xwork2.validator.ValidatorFactory.<clinit>(ValidatorFactory.java:230)
...",Major,Closed,Won't Fix,,,Wendy Smoak,wsmoak
MRM-1367,Improvement,2010-03-30T00:07:54.916Z,2010-03-30T00:07:54.916Z,2011-10-27T15:53:56.97Z,2011-10-27T15:53:56.97Z,2011-10-27T15:53:56.94Z,2011-10-27T15:53:56.94Z,upgrade TestNG to a newer version for the Selenium tests,"While the Selenium tests pass with 5.9, upgrading to 5.10 or above causes the following failures:

Running TestSuite
Tests run: 115, Failures: 8, Errors: 0, Skipped: 0, Time elapsed: 261.207 sec <<< FAILURE!

Results :

Failed tests: 
  testViewAuditLogsDataFound(org.apache.archiva.web.test.AuditLogsReportTest)
  testViewAuditLogsForAllRepositories(org.apache.archiva.web.test.AuditLogsReportTest)
  testViewAuditLogsNoDataFound(org.apache.archiva.web.test.AuditLogsReportTest)
  testViewAuditLogsOnlyArtifactIdIsSpecified(org.apache.archiva.web.test.AuditLogsReportTest)
  testClickArtifactFromBrowse(org.apache.archiva.web.test.BrowseTest)
  testSearchExistingArtifact(org.apache.archiva.web.test.SearchTest)
  testSearchExistingArtifactUsingAdvancedSearchArtifactId(org.apache.archiva.web.test.SearchTest)
  testSearchExistingArtifactUsingAdvancedSearchGroupId(org.apache.archiva.web.test.SearchTest)

TestNG 5.12 is now released and it would be worth upgrading in the future (for example to attach the listeners by annotation), however these issues must first be resolved.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1302,Bug,2009-12-10T14:47:43.43Z,2009-12-10T14:47:43.43Z,2010-02-28T23:57:18.002Z,2010-02-28T23:57:18.002Z,2010-02-28T23:57:17.951Z,2010-02-28T23:57:17.951Z,java.util.ConcurrentModificationException while running Archiva 1.2.2,"INFO   | jvm 1    | 2009/12/08 20:14:04 | java.util.ConcurrentModificationException
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at java.util.AbstractList$Itr.checkForComodification(Unknown Source)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at java.util.AbstractList$Itr.next(Unknown Source)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.processRepositoryGroup(ArchivaDavResourceFactory.java:342)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.apache.maven.archiva.webdav.ArchivaDavResourceFactory.createResource(ArchivaDavResourceFactory.java:203)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.apache.maven.archiva.webdav.RepositoryServlet.service(RepositoryServlet.java:116)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:413)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at com.opensymphony.module.sitemesh.filter.PageFilter.doFilter(PageFilter.java:39)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.apache.struts2.dispatcher.ActionContextCleanUp.doFilter(ActionContextCleanUp.java:99)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.Server.handle(Server.java:326)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:864)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
INFO   | jvm 1    | 2009/12/08 20:14:04 | 	at org.mortbay.thread.BoundedThreadPool$PoolThread.run(BoundedThreadPool.java:451)
",Critical,Closed,Fixed,Brett Porter,brettporter,Philip Helger,phax
MRM-1343,Bug,2010-02-23T09:36:51.856Z,2010-02-23T09:36:51.856Z,2013-11-14T19:41:21.108Z,2013-11-14T19:41:21.108Z,,,problem reports for a given repository show errors in other repositories,"after scanning my repositories, I searched for problem reports constrained by the 'test' repository. However, while it was a limited set of reports, some from other repositories (notably internal) also appeared.",Major,Open,,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1310,Improvement,2010-01-18T00:50:49.799Z,2010-01-18T00:50:49.799Z,2010-01-28T04:42:26.749Z,2010-01-28T04:42:26.749Z,2010-01-28T04:34:21.018Z,2010-01-28T04:34:21.018Z,Include Audit Log report in feature tour,,Minor,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1362,New Feature,2010-03-11T17:34:14.947Z,2010-03-11T17:34:14.947Z,2011-03-29T09:59:35.676Z,2011-03-29T09:59:35.676Z,2010-06-11T03:51:14.437Z,2010-06-11T03:51:14.437Z,"Add simple 'CRUD' pages for project-level metadata along with a ""generic metadata"" plugin ","See for more details:
http://mail-archives.apache.org/mod_mbox/archiva-dev/201003.mbox/%3c70CA8566-051F-4CDA-A09D-622641AD8548@apache.org%3e",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1352,Bug,2010-03-02T02:31:28.152Z,2010-03-02T02:31:28.152Z,2017-04-05T19:21:35.22Z,2017-04-05T19:21:35.22Z,,,Natively support Ivy repository format,"This is just an example. I cannot get Archiva to purge the repository at all. Group id is ""atmel"", artifact id is ""avrasm2"" and version is ""2.1.39.83"". 

Consumer repository-purge had an error when processing file /storage/archiva/data/continuous/atmel/avrasm2/2.1.39.83/ivy-2.1.39.83.xml:
Invalid path to Artifact: filename format is invalid, should start with artifactId as stated in path.

",Major,Open,,,,Torkild U. Resheim,torkildr
MRM-1320,Bug,2010-01-22T20:39:20.263Z,2010-01-22T20:39:20.263Z,2010-01-28T04:11:03.995Z,2010-01-28T04:11:03.995Z,2010-01-28T04:11:03.915Z,2010-01-28T04:11:03.915Z,"Incorrect Archiva version specified for the ""Process All Artifacts"" feature in upgrade docs","http://archiva.apache.org/docs/1.3/adminguide/upgrade.html says that the feature is available starting with 1.2.3, this should be 1.3 instead.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1330,Improvement,2010-02-23T08:43:01.761Z,2010-02-23T08:43:01.761Z,2017-04-05T19:14:13.969Z,2017-04-05T19:14:13.969Z,,,revise repository API,"- avoid query methods in the repository API (things might be happier working against a specific store type) - consider getArtifactsBy* -> getArtifacts( repoId, filter ); though must take care not to build another query language
- move the resolver/storage API out of the metadata API - consolidate under the session
- make namespace use '/' instead of '.'
- unknown facets should throw an exception instead of returning null (and check for other null returns)
- consider shorter package names for maven2 plugin and more consistent structuring
- review for any new instances of bloating that can be simplified
- how are we going to translate between IDs on different projects? is ""filename"" mappable to other repo types?
- how could URN/URI for an artifact be utilised?
- consider artifactmetadata as a return type - is a reference all that's needed in some cases?
- stats manager, repository merger and audit manager should use the repository session instead of the metadata repository
- make sure code using facets has a backup if the facet is not present
",Major,Open,,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1353,Bug,2010-03-03T04:15:49.261Z,2010-03-03T04:15:49.261Z,2010-05-02T01:16:43.642Z,2010-05-02T01:16:43.642Z,2010-05-02T01:16:43.458Z,2010-05-02T01:16:43.458Z,Build number is always 1 for SNAPSHOT artifacts uploaded via web upload form,"The metadata always shows <buildNumber>1</buildNumber> even if the value of <lastUpdated> is correct.

Directory list for test SNAPSHOT artifact uploaded twice shows:

archiva-consumers-1.3.1-20100303.101055-1.jar
archiva-consumers-1.3.1-20100303.101055-1.pom
archiva-consumers-1.3.1-20100303.101055-1.pom.md5
archiva-consumers-1.3.1-20100303.101055-1.pom.sha1
archiva-consumers-1.3.1-20100303.101108-1.jar
archiva-consumers-1.3.1-20100303.101108-1.pom
archiva-consumers-1.3.1-20100303.101108-1.pom.md5
archiva-consumers-1.3.1-20100303.101108-1.pom.sha1
maven-metadata.xml
maven-metadata.xml.md5
maven-metadata.xml.sha1
",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1342,Bug,2010-02-23T09:35:32.847Z,2010-02-23T09:35:32.847Z,2011-06-28T01:48:00.419Z,2011-06-28T01:48:00.419Z,2011-06-28T01:48:00.124Z,2011-06-28T01:48:00.124Z,repository statistics report doesn't appear to be working correctly,"when I view the repository statistics report and include all repositories in the list, not all of them appear in the output (internal is missing, for example).",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1390,Improvement,2010-06-11T03:59:59.336Z,2010-06-11T03:59:59.336Z,2014-12-01T10:31:51.607Z,2014-12-01T10:31:51.607Z,2014-12-01T10:31:51.392Z,2014-12-01T10:31:51.392Z,Generic metadata should be searcheable in Archiva search,,Major,Closed,Fixed,Carlos Sanchez,carlos,Maria Odea Ching,oching
MRM-1315,Bug,2010-01-18T16:50:25.818Z,2010-01-18T16:50:25.818Z,2011-03-29T09:59:37.982Z,2011-03-29T09:59:37.982Z,2010-02-23T01:29:36.364Z,2010-02-23T01:29:36.364Z,delete artifact action logs to audit log using g:a:v format instead of resource path as others do,,Major,Closed,Fixed,,,Brett Porter,brettporter
MRM-1351,Improvement,2010-03-01T05:04:18.173Z,2010-03-01T05:04:18.173Z,2010-03-04T19:54:46.314Z,2010-03-04T19:54:46.314Z,,,Verification of a deployed artifact ,"Currently, Archiva verifies a deployed artifact only by comparing the content-length HTTP header with the actual file-size of the uploaded file.
To better prevent corrupt artifacts, it would help to verify the integrity of the artifact by comparing its local hashcode (sha1 or md5) with the one that has just been generated in Archiva.

In case the hashes differ, 
a) an HTTP 400 status should be returned
b) an error should be logged.",Critical,Open,,,,Marc Lustig,axismundi
MRM-1319,Wish,2010-01-22T06:44:22.363Z,2010-01-22T06:44:22.363Z,2017-04-05T20:13:16.366Z,2017-04-05T20:13:16.366Z,,,New role for the access to the .index directory,"Some IDEs assume they can download Nexus index files without providing credentials for authentication (for instance
Netbeans 6.8) or they ask after every restart for the credentials again (as Eclipse 3.5.1 with M2Eclipse plugin).

I wondered if it is a good idea to provide a new role like ""Nexus Index Access"" per repository, so I could configure 
an anonymous read access to the "".index"" directory and the files therein for the ""Guest"" user?
",Minor,Open,,,,Andreas Baumann,andreas_baumann
MRM-1304,Bug,2009-12-17T02:34:14.162Z,2009-12-17T02:34:14.162Z,2010-02-12T09:34:07.028Z,2010-02-12T09:34:07.028Z,2010-02-12T09:34:06.967Z,2010-02-12T09:34:06.967Z,Query using Group ID field in audit log report uses '/' as a separator instead of '.',"For groupIds with '.' (e.g. com.mycompany), you should use '/' instead (e.g. com/mycompany) as the artifact details are stored as artifact paths. ",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1337,Improvement,2010-02-23T09:19:58.435Z,2010-02-23T09:19:58.435Z,2010-02-23T09:20:06.53Z,2010-02-23T09:20:06.53Z,,,change to artifact reference in metadata for more precision of search of audit logging,"currently, the search uses the name of the audit event to search by, which is a string match. This could be more precise by requiring the full co-ordinate be stored and searchable.",Major,Open,,,,Brett Porter,brettporter
MRM-1324,Bug,2010-02-14T22:47:29.714Z,2010-02-14T22:47:29.714Z,2011-10-01T10:43:57.139Z,2011-10-01T10:43:57.139Z,2011-10-01T10:43:57.102Z,2011-10-01T10:43:57.102Z,Selenium tests fail in full multi-module build,"If you build with ""mvn clean install -PintegrationTest"" from the root of the project, the following occurs:

2010-01-18 18:32:18,321 [main] ERROR org.springframework.web.context.ContextLoader  - Context initialization failed org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'mavenSettingsBuilder' defined in null: Could not resolve placeholder 'maven.home'
   at org.springframework.beans.factory.config.PropertyPlaceholderConfigurer.processProperties(PropertyPlaceholderConfigurer.java:268)
   at org.springframework.beans.factory.config.PropertyResourceConfigurer.postProcessBeanFactory(PropertyResourceConfigurer.java:75)
   at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:553)
   at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:527)
   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:362)
   at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:255)
   at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:199)
   at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:45)
   at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3764)
   at org.apache.catalina.core.StandardContext.start(StandardContext.java:4216)
   at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:760)
   at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:740)
   at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:544)
   at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:626)
   at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:553)
   at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:488)
   at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1150)
   at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311)
   at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:120)
   at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1022)
   at org.apache.catalina.core.StandardHost.start(StandardHost.java:736)
   at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1014)
   at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)
   at org.apache.catalina.core.StandardService.start(StandardService.java:448)
   at org.apache.catalina.core.StandardServer.start(StandardServer.java:700)
   at org.apache.catalina.startup.Catalina.start(Catalina.java:552)
   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
   at java.lang.reflect.Method.invoke(Method.java:592)
   at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:295)
   at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:433)

However, if you run directly from archiva-webapp-tests, it is fine.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1309,Task,2009-12-29T19:13:57.159Z,2009-12-29T19:13:57.159Z,2010-02-23T02:42:29.041Z,2010-02-23T02:42:29.041Z,2010-01-12T02:37:07.983Z,2010-01-12T02:37:07.983Z,Upgrade to Redback 1.2.3,"This requires a new Redback release to include the fix for REDBACK-185 LDAPConnection leak: Too many open files. This was discussed in the Archiva dev list, see http://old.nabble.com/LDAP-Connection-Leaks-td26577532.html",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1383,Task,2010-05-04T00:12:00.534Z,2010-05-04T00:12:00.534Z,2010-05-04T01:07:06.216Z,2010-05-04T01:07:06.216Z,,,remove archiva-repository-layer and archiva-model module,"there are still several uses of this API, but when dependant issues are completed it should be in a position that it is no longer needed and can be removed",Major,Open,,,,Brett Porter,brettporter
MRM-1322,Task,2010-02-10T20:56:29.944Z,2010-02-10T20:56:29.944Z,2011-03-29T09:59:29.632Z,2011-03-29T09:59:29.632Z,2010-02-12T08:54:32.693Z,2010-02-12T08:54:32.693Z,Fix broken selenium tests,"The selenium tests related to artifact uploads were disabled, and if you enable them, there are failures in the tests. This is in trunk btw.",Major,Closed,Fixed,Brett Porter,brettporter,Maria Odea Ching,oching
MRM-1389,New Feature,2010-06-08T05:16:08.733Z,2010-06-08T05:16:08.733Z,2010-06-09T21:54:59.476Z,2010-06-09T21:54:59.476Z,2010-06-08T05:19:25.293Z,2010-06-08T05:19:25.293Z,CLONE - Add support for NPanday artifact types,NPanday (http://www.npanday.org/) declares a number of new artifact handlers that Maven can use as extensions to be able to deploy .NET artifacts into a repository. ,Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1369,Bug,2010-03-31T16:47:11.693Z,2010-03-31T16:47:11.693Z,2015-04-05T21:12:45.868Z,2015-04-05T21:12:45.868Z,2010-08-05T07:02:43.566Z,2010-08-05T07:02:43.566Z,Editing user roles in archiva clobbers continuum redback roles,"Due to a bug in the redback struts2 integration code, editing user roles in archiva removes all continuum redback roles when they share the user database. There is a patch that addresses the issue, but archiva and continuum both need to be updated to a new version of redback to include the fix.

For details, see: http://jira.codehaus.org/browse/REDBACK-253",Major,Closed,Fixed,Brett Porter,brettporter,Brent N Atkinson,batkinson
MRM-1357,Improvement,2010-03-05T05:41:04.705Z,2010-03-05T05:41:04.705Z,2015-04-05T23:00:39.731Z,2015-04-05T23:00:39.731Z,,,Allow deployment of attached release artifacts if POM is identical,"In the context of the build of a native application, one might have zip-artifacts containing several DLL or so files like:
  boost:boost_regex:1.34.1:zip

In order to distinguish between platforms, it seems to be recommended to use the classifier:
  boost:boost_regex:1.34.1:zip:bin-x86-windows-vc8
or:
  boost:boost_regex:1.34.1:zip:bin-x86-linux2.6-gcc3.3 

The new feature that prevents from deploying a release artifact is really great but it lacks the possibility to deploy attached artifacts when the POM is the same (modulo platform-dependent line-break concerns, and that's important!).

In the example above, it could enable to deploy the boost:boost_regex:1.34.1:zip:bin-x86-windows-vc8 artifact from a Windows machine(coming along with a boost:boost_regex:1.34.1:pom artifact), then to deploy the boost:boost_regex:1.34.1:zip:bin-x86-linux2.6-gcc3.3 artifact from a Linux machine (coming along with the same boost:boost_regex:1.34.1:pom artifact).

Maybe this could be generalized to any kind of artifact? If the artifact to deploy is the same, Archiva should not fail and simply skip the deployment of that artifact?
",Major,Open,,,,Bruno Freudensprung,bfreuden
MRM-1398,Bug,2010-07-27T00:21:35.945Z,2010-07-27T00:21:35.945Z,2011-03-29T09:59:23.533Z,2011-03-29T09:59:23.533Z,2010-08-08T00:21:52.747Z,2010-08-08T00:21:52.747Z,Repositories page is broken in MRM-980 branch,See attached screen shot.,Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1388,Test,2010-06-07T04:12:06.496Z,2010-06-07T04:12:06.496Z,2014-02-25T20:53:16.124Z,2014-02-25T20:53:16.124Z,2014-02-25T20:53:15.859Z,2014-02-25T20:53:15.859Z,Test failure in ShowArtifactActionTest for certain locales,"This test fails for me with a Swedish (sv_SE) locale:

{code:java}
assertEquals( ""12.06 K"", actual.getSize() );
{code}

The Swedish locale specifies ',' as the decimal separator, but the test above is dependant on a locale that uses '.' as a decimal separator.

Surefire report output:
{noformat}
Tests run: 15, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 17.641 sec <<< FAILURE!
testGetArtifactUniqueSnapshot(org.apache.maven.archiva.web.action.ShowArtifactActionTest)  Time elapsed: 1.109 sec  <<< FAILURE!
junit.framework.ComparisonFailure: expected:<.......> but was:<...,...>
	at junit.framework.Assert.assertEquals(Assert.java:81)
	at junit.framework.Assert.assertEquals(Assert.java:87)
	at org.apache.maven.archiva.web.action.ShowArtifactActionTest.assertArtifacts(ShowArtifactActionTest.java:415)
	at org.apache.maven.archiva.web.action.ShowArtifactActionTest.testGetArtifactUniqueSnapshot(ShowArtifactActionTest.java:119)
{noformat}",Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Dennis Lundberg,dennisl@apache.org
MRM-1341,Bug,2010-02-23T09:33:08.664Z,2010-02-23T09:33:08.664Z,2011-06-29T01:14:01.427Z,2011-06-29T01:14:01.427Z,2011-06-29T01:14:01.316Z,2011-06-29T01:14:01.316Z,unable to process POMs that have Java profiles,"The following results in an exception:/archiva/browse/org.apache.archiva/archiva-jetty/1.2.1/dependencyTree

{code}
org.apache.maven.archiva.common.ArchivaException: Unable to build dependency tree: Cannot build project dependency tree Unable to get dependency information: 1 problem was encountered while building the effective model for org.mortbay.jetty:jetty-naming:6.1.6
[ERROR] Failed to determine Java version for profile below-jdk1.6 @ org.mortbay.jetty:jetty-naming:6.1.6

  org.mortbay.jetty:jetty-naming:jar:6.1.6
{code}

It seems the appropriate execution properties need to be constructed and passed to the model builder. This might extend to others than the java version.",Major,Closed,Cannot Reproduce,,,Brett Porter,brettporter
MRM-1305,Bug,2009-12-17T05:02:50.691Z,2009-12-17T05:02:50.691Z,2010-01-11T22:13:33.528Z,2010-01-11T22:13:33.528Z,2010-01-11T21:51:15.017Z,2010-01-11T21:51:15.017Z,Documentation for setting up archiva with tomcat 6 specifies invalid archiva.xml,"The Installation guide for Archiva with Tomcat 6 contains an error. If you use the archiva.xml as specified Archiva won't work. You have to remove the first line in the provided archiva.xml (<?xml version=""1.0"" encoding=""UTF-8""?>. Then it works fine.",Major,Closed,Fixed,Maria Odea Ching,oching,Klemens Muthmann,muthmann
MRM-1359,Task,2010-03-08T09:15:42.966Z,2010-03-08T09:15:42.966Z,2015-02-13T16:41:11.604Z,2015-02-13T16:41:11.604Z,2015-02-13T16:41:11.426Z,2015-02-13T16:41:11.426Z,Remove Maven 1.x functionality,"Currently, Maven 1 support is built into the repository layer in a number of places:
- ""legacy"" alternatives for all repository classes for path handling
- artifact extension mapping for maven 1 plugins
- various other definitions and path parsing
- legacy path mapping

This would be good to extract into a single module so that it can be optional.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1382,Task,2010-05-04T00:11:10.526Z,2010-05-04T00:11:10.526Z,2016-03-15T06:02:58.862Z,2016-03-15T06:02:58.862Z,2016-03-15T06:02:58.841Z,2016-03-15T06:02:58.841Z,migrate repository converter to new repository API,"the use of repository-layer and model need to be removed.

In the process, the role of the repository converter module may need to be revisited. Currently it is only for maven 1 -> maven 2 conversion. This may be of limited utility to retain, depending on the complexity of retaining it. It may also be better stored in maven 1.x plugin (ie, it would be 1.x -> metadata repository rather than a specific 1.x -> 2.x conversion to support other formats), or there may be a desire to have a more generalised conversion utility with hooks for repository specifics.",Major,Closed,Won't Fix,,,Brett Porter,brettporter
MRM-1314,Bug,2010-01-18T13:25:14.68Z,2010-01-18T13:25:14.68Z,2010-03-04T23:21:48.632Z,2010-03-04T23:21:48.632Z,2010-03-04T23:21:48.586Z,2010-03-04T23:21:48.586Z,Logo still links to incorrect location,"The logo continues to link to /docs/ instead of / as expected, as originally reported in MRM-1002",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1312,Bug,2010-01-18T06:43:28.405Z,2010-01-18T06:43:28.405Z,2010-02-25T04:17:16.446Z,2010-02-25T04:17:16.446Z,2010-02-25T04:17:16.314Z,2010-02-25T04:17:16.314Z,mda5 and sha are not generated for snapshot jars,"I found a way to reproduce our problems that we have with uploading
SNAPSHOT versions via the web-interface. 

We tried with the following files
cocoon-chaperon-impl-1.0.0-SNAPSHOT.pom
cocoon-chaperon-impl-1.0.0-SNAPSHOT.jar

For the version we put in the web form 1.0.0-SNAPSHOT.

The result is that archiva creates the mda5 and sha for the pom but not
for the jar. 

As soon we change the name of the version to 1.0.0-SNAPSHOTS. It works
fine.

It seems that the version *-SNAPSHOT is not working. What is the best
approach to debug to find out what is going on and why archiva is not
creating the mda5 and sha file.

It sounds that the following threas may be releated to this issue:
http://archiva.markmail.org/search/?q=Strange%20deploy%20problem#query:Strange%20deploy%20problem+page:1+mid:55mubbiv5khgk4qu+state:results

On Mon, 2010-01-18 at 19:00 +0800, Deng Ching wrote:
The problem seems to be in the create-missing-checksums consumer. The
> consumer is looking for a jar with a -SNAPSHOT in the filename but the
> actual file has a unique (timestamp + build number) snapshot version so a
> ""no such file or directory"" error occurs. It works if the version is
> -SNAPSHOTS because it was not identified as a SNAPSHOT (from the extra 'S'
> at the end) and therefore the version wasn't converted to a unique version
> format.
> ",Major,Closed,Fixed,Maria Odea Ching,oching,Thorsten Scherler,thorsten
MRM-1395,Bug,2010-06-25T09:18:25.548Z,2010-06-25T09:18:25.548Z,2014-02-25T19:33:06.329Z,2014-02-25T19:33:06.329Z,2014-02-25T19:33:06.262Z,2014-02-25T19:33:06.262Z,java.lang.NullPointerException when clicking the logout link,"I get the following npe when clicking on the logout link

java.lang.NullPointerException
        at org.codehaus.plexus.redback.struts2.action.LogoutAction.logout(LogoutAction.java:69)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:404)

see attachment for the rest of the stack trace",Major,Closed,Won't Fix,Olivier Lamy (*$^¨%`£),olamy,Marius Kruger,amanica
MRM-1347,Task,2010-02-23T20:26:31.895Z,2010-02-23T20:26:31.895Z,2017-04-05T19:19:03.955Z,2017-04-05T19:19:03.955Z,,,Migrate repository proxy to the new repository API,,Major,Open,,,,Maria Odea Ching,oching
MRM-1371,Bug,2010-04-11T05:59:27.407Z,2010-04-11T05:59:27.407Z,2010-04-22T23:43:13.47Z,2010-04-22T23:43:13.47Z,2010-04-22T23:43:13.328Z,2010-04-22T23:43:13.328Z,Dead link to ApacheCon presentation,"The link to the presentation ""Managing Your Repositories With Archiva - Archiva @ ApacheCon Europe"" on archiva.apache.org is dead.

Should be updated to: http://www.us.apachecon.com/presentation/materials/0000/0206/Managing_Your_Repositories_With_Archiva_v4.pdf",Trivial,Closed,Fixed,Brett Porter,brettporter,Dennis Kieselhorst,deki
MRM-1348,Task,2010-02-23T20:27:40.635Z,2010-02-23T20:27:40.635Z,2017-04-05T19:19:31.901Z,2017-04-05T19:19:31.901Z,,,Migrate repository groups to the new repository API,,Major,Open,,,,Maria Odea Ching,oching
MRM-1323,Bug,2010-02-11T02:30:07.044Z,2010-02-11T02:30:07.044Z,2011-03-29T09:59:33.158Z,2011-03-29T09:59:33.158Z,2010-03-18T04:25:51.86Z,2010-03-18T04:25:51.86Z,archiva webapp tests failed to run in internet explorer,"noticed also that with different browsers used, they have different number of tests run.

*output (browser: firefox):*

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run: 106, Failures: 8, Errors: 0, Skipped: 98, Time elapsed: 30.64 sec <<< FAILURE!

Results :

Failed tests:
  testWithBadUsername(org.apache.archiva.web.test.LoginTest)
  testWithBadPassword(org.apache.archiva.web.test.LoginTest)
  testWithEmptyUsername(org.apache.archiva.web.test.LoginTest)
  testWithEmptyPassword(org.apache.archiva.web.test.LoginTest)
  testWithCorrectUsernamePassword(org.apache.archiva.web.test.LoginTest)
  testFindArtifactNullValues(org.apache.archiva.web.test.FindArtifactTest)
  testFindArtifactUsingChecksum(org.apache.archiva.web.test.FindArtifactTest)
  testBundledRepository(org.apache.archiva.web.test.RepositoryTest)

Tests run: 106, Failures: 8, Errors: 0, Skipped: 98

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------




*output (browser: IE):*

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run: 110, Failures: 1, Errors: 0, Skipped: 109, Time elapsed: 21.375 sec <<< FAILURE!

Results :

Failed tests:
  initializeArchiva(org.apache.archiva.web.test.ArchivaAdminTest)

Tests run: 110, Failures: 1, Errors: 0, Skipped: 109

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] There are test failures.",Major,Closed,Fixed,mbaclay,mbaclay,mbaclay,mbaclay
MRM-1355,Bug,2010-03-03T23:18:27.434Z,2010-03-03T23:18:27.434Z,2010-03-03T23:18:47.424Z,2010-03-03T23:18:47.424Z,2010-03-03T23:18:47.388Z,2010-03-03T23:18:47.388Z,Audit log reports user as 'guest' when deployed via WebDAV,,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1346,Bug,2010-02-23T10:21:24.521Z,2010-02-23T10:21:24.521Z,2011-03-29T09:51:25.843Z,2011-03-29T09:51:25.843Z,2011-03-29T09:51:25.797Z,2011-03-29T09:51:25.797Z,project models are not automatically populated,"I started archiva after removing all the metadata repository storage and with the creation consumer enabled. The repositories were scanned and the basic models filled in, however I found extended information (such as references to make usedBy work) had not been filled in. These were later added when visiting individual pages, but it needs to be done upfront.",Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1393,Bug,2010-06-16T09:38:37.305Z,2010-06-16T09:38:37.305Z,2011-09-28T04:14:29.086Z,2011-09-28T04:14:29.086Z,2011-09-28T04:14:29.042Z,2011-09-28T04:14:29.042Z,Commons configuration bug causes build to fail on Windows 7,"It appears that the environment in Windows 7 breaks some assumptions made by some versions of commons-configuration. This prevents tests from passing in the build. It breaks trying to convert the string ""x86"" to an integer.

See https://issues.apache.org/jira/browse/CONFIGURATION-404 for details.

{noformat}
-------------------------------------------------------------------------------
Test set: org.apache.maven.archiva.configuration.FileTypesTest
-------------------------------------------------------------------------------
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.873 sec <<< FAILURE!
testIsArtifact(org.apache.maven.archiva.configuration.FileTypesTest)  Time elapsed: 0.795 sec  <<< ERROR!
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileTypes': FactoryBean threw exception on object creation; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaConfiguration': Post-processing of the FactoryBean's object failed; nested exception is java.lang.NumberFormatException: For input string: ""X86""
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:127)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:880)
        at org.codehaus.plexus.spring.PlexusInSpringTestCase.lookup(PlexusInSpringTestCase.java:116)
        at org.codehaus.plexus.spring.PlexusInSpringTestCase.lookup(PlexusInSpringTestCase.java:105)
        at org.codehaus.plexus.spring.PlexusInSpringTestCase.lookup(PlexusInSpringTestCase.java:100)
        at org.apache.maven.archiva.configuration.FileTypesTest.setUp(FileTypesTest.java:34)
        at junit.framework.TestCase.runBare(TestCase.java:125)
        at junit.framework.TestResult$1.protect(TestResult.java:106)
        at junit.framework.TestResult.runProtected(TestResult.java:124)
        at junit.framework.TestResult.run(TestResult.java:109)
        at junit.framework.TestCase.run(TestCase.java:118)
        at junit.framework.TestSuite.runTest(TestSuite.java:208)
        at junit.framework.TestSuite.run(TestSuite.java:203)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:213)
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)
        at org.apache.maven.surefire.Surefire.run(Surefire.java:177)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:338)
        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:997)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'archivaConfiguration': Post-processing of the FactoryBean's object failed; nested exception is java.lang.NumberFormatException: For input string: ""X86""
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:142)
        at java.security.AccessController.doPrivileged(Native Method)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:116)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:91)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1288)
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)
        at org.codehaus.plexus.spring.PlexusComponentFactoryBean.resolveRequirement(PlexusComponentFactoryBean.java:246)
        at org.codehaus.plexus.spring.PlexusComponentFactoryBean.createInstance(PlexusComponentFactoryBean.java:163)
        at org.codehaus.plexus.spring.PlexusComponentFactoryBean.getObject(PlexusComponentFactoryBean.java:108)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:121)
        ... 33 more
Caused by: java.lang.NumberFormatException: For input string: ""X86""
        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
        at java.lang.Integer.parseInt(Integer.java:449)
        at java.lang.Integer.parseInt(Integer.java:499)
        at org.apache.commons.configuration.tree.DefaultConfigurationKey$KeyIterator.checkIndex(DefaultConfigurationKey.java:834)
        at org.apache.commons.configuration.tree.DefaultConfigurationKey$KeyIterator.nextKey(DefaultConfigurationKey.java:511)
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.findNodesForKey(DefaultExpressionEngine.java:462)
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.processSubNodes(DefaultExpressionEngine.java:541)
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.findNodesForKey(DefaultExpressionEngine.java:465)
        at org.apache.commons.configuration.tree.DefaultExpressionEngine.query(DefaultExpressionEngine.java:286)
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:694)
        at org.apache.commons.configuration.HierarchicalConfiguration.setProperty(HierarchicalConfiguration.java:527)
        at org.apache.commons.configuration.ConfigurationUtils.copy(ConfigurationUtils.java:140)
        at org.apache.commons.configuration.ConfigurationUtils.convertToHierarchical(ConfigurationUtils.java:188)
        at org.apache.commons.configuration.CombinedConfiguration$ConfigData.getTransformedRoot(CombinedConfiguration.java:561)
        at org.apache.commons.configuration.CombinedConfiguration.constructCombinedNode(CombinedConfiguration.java:461)
        at org.apache.commons.configuration.CombinedConfiguration.getRootNode(CombinedConfiguration.java:403)
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:694)
        at org.apache.commons.configuration.HierarchicalConfiguration.subset(HierarchicalConfiguration.java:387)
        at org.codehaus.plexus.registry.commons.CommonsConfigurationRegistry.getSubset(CommonsConfigurationRegistry.java:115)
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.load(DefaultArchivaConfiguration.java:167)
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.loadConfiguration(DefaultArchivaConfiguration.java:152)
        at org.apache.maven.archiva.configuration.DefaultArchivaConfiguration.initialize(DefaultArchivaConfiguration.java:652)
        at org.codehaus.plexus.spring.PlexusLifecycleBeanPostProcessor.postProcessAfterInitialization(PlexusLifecycleBeanPostProcessor.java:217)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:361)
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.postProcessObjectFromFactoryBean(AbstractAutowireCapableBeanFactory.java:1429)
        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport$1.run(FactoryBeanRegistrySupport.java:139)
        ... 44 more
{noformat}",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brent N Atkinson,batkinson
MRM-1354,Bug,2010-03-03T21:06:17.612Z,2010-03-03T21:06:17.612Z,2010-03-03T21:56:56.978Z,2010-03-03T21:56:56.978Z,2010-03-03T21:56:56.925Z,2010-03-03T21:56:56.925Z,Deployment from the commandline fails,"Manual deployment of artifacts to an archiva repository using ""mvn deploy:deploy-file"" fails.

Even if the user (not guest) is granted with an administrator or repository manager role.",Major,Closed,Not A Problem,,,jzurbano,jzurbano
MRM-1316,Bug,2010-01-19T02:15:14.986Z,2010-01-19T02:15:14.986Z,2010-02-03T05:15:29.789Z,2010-02-03T05:15:29.789Z,2010-02-03T05:15:29.714Z,2010-02-03T05:15:29.714Z,audit log report does not restrict events to repositories that you are a manager of,"though the report is not in the navigation otherwise, you can still access the report for all repositories without any permissions",Major,Closed,Fixed,Maria Odea Ching,oching,Brett Porter,brettporter
MRM-1326,Bug,2010-02-19T06:45:29.775Z,2010-02-19T06:45:29.775Z,2016-03-15T05:55:23.791Z,2016-03-15T05:55:23.791Z,2010-02-22T23:44:04.814Z,2010-02-22T23:44:04.814Z,delete artifact does not update metadata.xml,"If i remove an artifact from repository via web frontend, the artifact was sucessfully deleted, and the maven-metadata file was correct updated.

If i remove an artifact from repository via xmlrpc, the artifact was sucessfully deleted, but the maven-metadata file was not updated.
",Major,Closed,Duplicate,Brett Porter,brettporter,Mike Khristo,mk
MRM-1384,Improvement,2010-05-04T00:20:54.194Z,2010-05-04T00:20:54.194Z,2010-05-04T00:22:05.978Z,2010-05-04T00:22:05.978Z,,,"move configuration into the content repository, persisted to the external configuration file","several configuration options are repository specific, and it is likely plugins will need to contribute their own configuration options (Especially as some functionality, such as the proxy, is decoupled). It would be useful to be able to store this in the content repository and access it from the repository API. This would also give uniform access to the properties via any REST or XMLRPC APIs.

The config should still be stored on disk in an editable format so that it can be easily maintained externally or pre-configured. This might mean that it needs to either use a separate part of the API to store it, or ""mirror"" the contents in some way.",Major,Open,,,,Brett Porter,brettporter
MRM-1334,Bug,2010-02-23T09:02:03.831Z,2010-02-23T09:02:03.831Z,2012-12-20T10:11:18.644Z,2012-12-20T10:11:18.644Z,2012-12-20T10:11:18.442Z,2012-12-20T10:11:18.442Z,problem reports appear due to relative path for Archiva repository,"If the repository uses a relative path (./data/repositories/internal), then the artifact reporting will fail to find it and add a problem, even though these are known to be a valid configuration at the moment.

This is really more of a problem with the relative path - perhaps we should validate this configuration to be absolute in 1.4 and adjust if not.

See: http://mail-archives.apache.org/mod_mbox/archiva-dev/201002.mbox/%3C8667b1bd1002180745k10ad8c75o1de8e59a2b1c8ac6@mail.gmail.com%3E",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1358,Bug,2010-03-08T01:47:02.945Z,2010-03-08T01:47:02.945Z,2017-04-05T19:22:08.392Z,2017-04-05T19:22:08.392Z,,,"In delete artifact, project-level metadata.xml file & its checksums are not deleted even if the deleted artifact was the last version","For example, you have the following artifact in your repository:

com.mycompany
'-- test-artifact
    '-- 1.0
    '  '-- maven-metadata.xml
    '  '-- maven-metadata.xml.md5
    '  '-- maven-metadata.xml.sha1
    '  '-- test-artifact-1.0.jar   
    '  '-- test-artifact-1.0.jar.md5
    '  '-- test-artifact-1.0.jar.sha1
    '  '-- test-artifact-1.0.pom
    '  '-- test-artifact-1.0.pom.md5
    '  '-- test-artifact-1.0.pom.sha1
    '-- maven-metadata.xml
    '-- maven-metadata.xml.md5
    `-- maven-metadata.xml.sha1

If you delete com.mycompany:test-artifact:1.0 from the web form, the 1.0 version directory and its contents are deleted but the maven-metadata.xml + checksums under test-artifact dir are not.
",Major,Open,,,,Maria Odea Ching,oching
MRM-1374,Bug,2010-04-20T05:52:34.101Z,2010-04-20T05:52:34.101Z,2014-02-25T19:32:49.919Z,2014-02-25T19:32:49.919Z,2014-02-25T19:32:49.869Z,2014-02-25T19:32:49.869Z,Temporary directories created during remote proxy (when build was suddenly suspended in the middle of downloading artifacts) are not cleaned up,"To reproduce this issue:
# Using the default configuration with repository 'internal' proxying 'central', set repository 'internal' as your mirror. Lock Maven to use only this with <mirrorOf>*</mirrorOf>
# Clean up your local repository
* Build any project. In the middle of a download, disable your internet connection.

Notice that the temporary working directory (ex. .workingdirectory4849954836595460673.tmp) is present in repository 'internal'. Try enabling your net connection again and build your project. The temporary working directory in 'internal' created from your previous download would still be there even after your project has already been built.

This should be cleaned up after a certain time has passed during proxying or by a clean up consumer/plugin.",Major,Closed,Incomplete,Olivier Lamy (*$^¨%`£),olamy,Maria Odea Ching,oching
MRM-1380,Task,2010-05-03T23:58:17.623Z,2010-05-03T23:58:17.623Z,2010-05-04T01:18:18.04Z,2010-05-04T01:18:18.04Z,,,move repository purge consumers to the new repository API,"the purge has been updated to properly clean up metadata in the new repository (by using the deletion event listener), however it's behaviour still calls on the old archiva-model and archiva-repository-layer. This should be updated to the repository storage interfaces.",Major,Open,,,,Brett Porter,brettporter
MRM-1365,Bug,2010-03-15T22:29:45.03Z,2010-03-15T22:29:45.03Z,2010-03-15T22:37:29.763Z,2010-03-15T22:37:29.763Z,2010-03-15T22:37:29.637Z,2010-03-15T22:37:29.637Z,Archiva-webapp-test fails when run in IE7,"Here's the output of the webapp-test

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running TestSuite
Tests run: 98, Failures: 3, Errors: 0, Skipped: 26, Time elapsed: 1,129.203 sec <<< FAILURE!

Results :

Failed tests:
  testAddArtifactNoGroupId(org.apache.archiva.web.test.ArtifactManagementTest)
  testDeleteRepositoryGroup(org.apache.archiva.web.test.VirtualRepositoryTest)
  testAddManagedRepoValidValues(org.apache.archiva.web.test.RepositoryTest)

Tests run: 98, Failures: 3, Errors: 0, Skipped: 26

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] There are test failures.",Major,Closed,Duplicate,Brett Porter,brettporter,Gwen Harold Autencio,gautencio
MRM-1399,Improvement,2010-07-27T00:23:40.593Z,2010-07-27T00:23:40.593Z,2014-10-12T23:51:51.241Z,2014-10-12T23:51:51.241Z,,,"Add option to select specific artifacts to ""skip"" in the merging of conflicting artifacts page",,Major,Open,,,,Maria Odea Ching,oching
MRM-1381,Task,2010-05-04T00:05:13.921Z,2010-05-04T00:05:13.921Z,2010-05-04T01:10:43.428Z,2010-05-04T01:10:43.428Z,,,revise webdav module in light of new repository API,"currently a lot of resolution logic and other bits and pieces occurs directly in the webdav layer.

With the new repository API in place, and after the proxy and repository grouping behaviour (linked) is migrated, the webdav should become significantly simpler.

The module should be revised for any further changes needed after that to remove the dependency on repository-layer and model. It should be a simpler interface that just provides the webdav and HTTP verbs for accessing the repository content via the resolver. All the logic belongs in the repository implementation so that it can be shared by other modules such as web and xmlrpc. This wouldn't constitute a full REST API either - that will probably more closely mirror the xmlrpc api and work with the metadata repository API as well, not just retrieving the artifacts.

This may also cause some consideration to the location of the tests - these are effectively integration tests that could be streamlined and moved into a separate module.",Major,Open,,,,Brett Porter,brettporter
MRM-1308,New Feature,2009-12-23T05:00:03.545Z,2009-12-23T05:00:03.545Z,2012-10-03T15:37:01.844Z,2012-10-03T15:37:01.844Z,2012-10-03T15:37:01.669Z,2012-10-03T15:37:01.669Z,Delete more then one Artifact at once,"As suggested by Wendy http://markmail.org/message/gpkyxp5zyvpkhb5e I open this issue to keep track on the feature of bulk delete actions on artifacts. As described in http://markmail.org/message/72zp7xobdhjxbdxe: 
""Imagine I would like to remove org.apache.incubator.droids and all its children/subprojects (that are referenced as modules in the parent).""

It would be nice to have form that allow to only specific the package and then delete everything below it.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Thorsten Scherler,thorsten
MRM-1301,Task,2009-12-10T07:41:08.319Z,2009-12-10T07:41:08.319Z,2011-03-29T09:59:39.514Z,2011-03-29T09:59:39.514Z,2010-02-23T01:23:30.546Z,2010-02-23T01:23:30.546Z,migrate reports to the metadata repository,see MRM-1025,Major,Closed,Fixed,Brett Porter,brettporter,Brett Porter,brettporter
MRM-1363,Bug,2010-03-12T07:30:10.883Z,2010-03-12T07:30:10.883Z,2011-09-12T08:13:41.834Z,2011-09-12T08:13:41.834Z,2011-09-12T08:13:41.79Z,2011-09-12T08:13:41.79Z,"Behaviour of multiple proxy connectors, persistence of configuration","Situation, I configured two proxy connectors:

central
Central Repository
http://repo1.maven.org/maven2
Return error when: always 
Cache failures: no
Releases: always
On remote error: queue error
Checksum: fix
Snapshots: never

followed by:

maven2-repository.dev.java.net
Java.net Repository for Maven 2
http://download.java.net/maven/2/
Return error when: always 
Cache failures: no
Releases: always
On remote error: stop
Checksum: fix
Snapshots: never

Now I want to download the artifact 'rome/rome/1.0/jar'. The first site is
tried (I see that in the network proxy squid), the second never (though I
understand the 'queue error' should do that).

Some remarks:
- I don't see any code which actually handles the 'queue error' case (policies in
  the configuration parser)
- At least the 'On remote error' setting is not persistet in the XML configuration
  file, because it's back to default if I restart archiva.

",Critical,Closed,Not A Problem,,,Andreas Baumann,andreas_baumann
MRM-1327,Improvement,2010-02-23T08:26:16.094Z,2010-02-23T08:26:16.094Z,2011-10-06T09:15:51.746Z,2011-10-06T09:15:51.746Z,2011-10-06T09:15:51.688Z,2011-10-06T09:15:51.688Z,implement alternative or improve repository metadata storage,"The biggest thing to look at is metadata-repository-file. I threw this together with property files quickly and there's no optimisation or even exception handling. We need to look at the right way to approach this - a more robust implementation of a file system store (properties or xml) is definitely workable, but would need to be combined with something like a Lucene index (as in Archiva 0.9) to make some of the operations fast enough. What I would like to look at instead is using JCR (with file system persistence - not a database!) to see how well it reacts to a lot of operations. As you can tell from the docs, the storage is tailored to living in a hierarchical content repository in whatever form that takes, and the storage is isolated behind an API.",Major,Closed,Fixed,Olivier Lamy (*$^¨%`£),olamy,Brett Porter,brettporter
MRM-1349,Bug,2010-02-25T02:54:47.228Z,2010-02-25T02:54:47.228Z,2011-09-12T10:29:41.436Z,2011-09-12T10:29:41.436Z,2011-09-12T10:29:41.42Z,2011-09-12T10:29:41.42Z,Unable to download snapshot artifacts with -SNAPSHOT from artifact info (webapp browse),,Major,Closed,Cannot Reproduce,Maria Odea Ching,oching,Maria Odea Ching,oching
MRM-1339,Bug,2010-02-23T09:24:51.607Z,2010-02-23T09:24:51.607Z,2011-06-29T01:11:37.799Z,2011-06-29T01:11:37.799Z,2011-06-29T01:11:37.727Z,2011-06-29T01:11:37.727Z,dependency tree fails with invalid POM that otherwise succeeds in Maven,"for example, view /archiva/browse/org.apache.archiva/archiva-proxy/1.2.2/dependencyTree

this POM is parseable by Maven 2.2.1 and I believe more recent versions of Maven 3.0. It may just need a library upgrade - but there might be more to the population of the versions that is needed.

{code}
org.apache.maven.archiva.common.ArchivaException: Unable to build dependency tree: Cannot build project dependency tree Unable to get dependency information: 1 problem was encountered while building the effective model for jpox:jpox:1.1.9
[ERROR] 'dependencies.dependency.version' is missing for oracle:ojdbc:jar @ jpox:jpox:1.1.9

  jpox:jpox:jar:1.1.9
{code}",Major,Closed,Cannot Reproduce,,,Brett Porter,brettporter
MRM-1372,Bug,2010-04-12T23:14:43.691Z,2010-04-12T23:14:43.691Z,2015-04-05T14:54:03.114Z,2015-04-05T14:54:03.114Z,2010-04-13T01:56:41.959Z,2010-04-13T01:56:41.959Z,Outdated instruction for Maven and JUnit still in ReadMe.txt for selenium tests,"following line has to be removed from the read me.
Run Selenium tests in src/test/it with Maven and JUnit
  - mvn clean install -f junit-pom.xml
",Major,Closed,Fixed,Maria Odea Ching,oching,Patti Arachchige Eshan Sudharaka,eshan.sudharaka
MRM-1356,Bug,2010-03-04T07:01:25.892Z,2010-03-04T07:01:25.892Z,2010-03-12T06:22:56.186Z,2010-03-12T06:22:56.186Z,2010-03-05T00:46:09.548Z,2010-03-05T00:46:09.548Z,Content Lenght differs : Chunked request,"I'm facing some HTTP-400 errors during an artifact upload using maven 3.
Response text is : HTTP/1.1 400 Content Header length was -1 but was 0.
No log nor in archiva-audit.log nor in archiva.log

diving into code I think there is a problem with content-lenght verification.
With maven 3 the maven-deploy-plugin sent a chunked request so Content-Lenght header is empty.

addMember (ArchivaDavResource) seems comparing request's length and uploaded file's length. Can we disable this check in case of chunked request ? is there another way to do that ?

regards,
marc",Major,Closed,Fixed,Brett Porter,brettporter,Marc Pasteur,mpasteur
MRM-1368,Improvement,2010-03-31T14:26:05.763Z,2010-03-31T14:26:05.763Z,2011-09-12T10:26:08.853Z,2011-09-12T10:26:08.853Z,2011-09-12T10:26:08.833Z,2011-09-12T10:26:08.833Z,Create properties files to support i18n,"Create properties files, so that a user can view the UI in his proper language.",Minor,Closed,Duplicate,,,Shi Yusen,shiys
MRM-1378,Improvement,2010-05-03T23:26:27.154Z,2010-05-03T23:26:27.154Z,2010-05-03T23:26:38.144Z,2010-05-03T23:26:38.144Z,,,audit log front page should also be paginated,"Currently just the top number of results are shown, and ""page 1"" is listed below, but there is no option to proceed back in history from the current time. It would be good to be consistent with the search results, assuming the front page is essentially a search of all events, reverse sorted by date and paginated as such.",Major,Open,,,,Brett Porter,brettporter
MRM-1397,Bug,2010-07-27T00:19:02.628Z,2010-07-27T00:19:02.628Z,2011-03-29T09:59:34.75Z,2011-03-29T09:59:34.75Z,2010-07-31T22:06:20.414Z,2010-07-31T22:06:20.414Z,Staging repo does not capture/reflect the config changes of the managed repo it is attached to in MRM-980 branch,"Steps to reproduce:
# Create a new managed repo named *test* for releases and check Block Re-deployment of Released Artifacts and Create stage repository.
# Upload a release-versioned artifact to the staging repository *test-stage* through the web upload form
# Edit the configuration for repository *test* and uncheck Block Re-deployment of Released Artifacts, then Save the changes.
# Upload an artifact with the same artifact coordinates as the one uploaded in step 2 to the staging repository @test-stage@. You'll get an error saying the artifact is already in the repository even though you disabled blocking of re-deployment of released artifacts.",Major,Closed,Fixed,Maria Odea Ching,oching,Maria Odea Ching,oching
